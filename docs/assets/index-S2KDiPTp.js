(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var Gee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zC(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var fB={exports:{}},F0={};var i3;function s6(){if(i3)return F0;i3=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,r,s){var a=null;if(s!==void 0&&(a=""+s),r.key!==void 0&&(a=""+r.key),"key"in r){s={};for(var A in r)A!=="key"&&(s[A]=r[A])}else s=r;return r=s.ref,{$$typeof:i,type:n,key:a,ref:r!==void 0?r:null,props:s}}return F0.Fragment=e,F0.jsx=t,F0.jsxs=t,F0}var r3;function a6(){return r3||(r3=1,fB.exports=s6()),fB.exports}var Me=a6(),hB={exports:{}},ai={};var s3;function o6(){if(s3)return ai;s3=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function m(W){return W===null||typeof W!="object"?null:(W=v&&W[v]||W["@@iterator"],typeof W=="function"?W:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,_={};function b(W,Q,X){this.props=W,this.context=Q,this.refs=_,this.updater=X||x}b.prototype.isReactComponent={},b.prototype.setState=function(W,Q){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,Q,"setState")},b.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function M(){}M.prototype=b.prototype;function T(W,Q,X){this.props=W,this.context=Q,this.refs=_,this.updater=X||x}var U=T.prototype=new M;U.constructor=T,B(U,b.prototype),U.isPureReactComponent=!0;var R=Array.isArray;function O(){}var z={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function I(W,Q,X){var Y=X.ref;return{$$typeof:i,type:W,key:Q,ref:Y!==void 0?Y:null,props:X}}function P(W,Q){return I(W.type,Q,W.props)}function k(W){return typeof W=="object"&&W!==null&&W.$$typeof===i}function G(W){var Q={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(X){return Q[X]})}var q=/\/+/g;function H(W,Q){return typeof W=="object"&&W!==null&&W.key!=null?G(""+W.key):Q.toString(36)}function ae(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(O,O):(W.status="pending",W.then(function(Q){W.status==="pending"&&(W.status="fulfilled",W.value=Q)},function(Q){W.status==="pending"&&(W.status="rejected",W.reason=Q)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function Z(W,Q,X,Y,ie){var te=typeof W;(te==="undefined"||te==="boolean")&&(W=null);var se=!1;if(W===null)se=!0;else switch(te){case"bigint":case"string":case"number":se=!0;break;case"object":switch(W.$$typeof){case i:case e:se=!0;break;case h:return se=W._init,Z(se(W._payload),Q,X,Y,ie)}}if(se)return ie=ie(W),se=Y===""?"."+H(W,0):Y,R(ie)?(X="",se!=null&&(X=se.replace(q,"$&/")+"/"),Z(ie,Q,X,"",function(Fe){return Fe})):ie!=null&&(k(ie)&&(ie=P(ie,X+(ie.key==null||W&&W.key===ie.key?"":(""+ie.key).replace(q,"$&/")+"/")+se)),Q.push(ie)),1;se=0;var ye=Y===""?".":Y+":";if(R(W))for(var xe=0;xe<W.length;xe++)Y=W[xe],te=ye+H(Y,xe),se+=Z(Y,Q,X,te,ie);else if(xe=m(W),typeof xe=="function")for(W=xe.call(W),xe=0;!(Y=W.next()).done;)Y=Y.value,te=ye+H(Y,xe++),se+=Z(Y,Q,X,te,ie);else if(te==="object"){if(typeof W.then=="function")return Z(ae(W),Q,X,Y,ie);throw Q=String(W),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return se}function ne(W,Q,X){if(W==null)return W;var Y=[],ie=0;return Z(W,Y,"","",function(te){return Q.call(X,te,ie++)}),Y}function oe(W){if(W._status===-1){var Q=W._result;Q=Q(),Q.then(function(X){(W._status===0||W._status===-1)&&(W._status=1,W._result=X)},function(X){(W._status===0||W._status===-1)&&(W._status=2,W._result=X)}),W._status===-1&&(W._status=0,W._result=Q)}if(W._status===1)return W._result.default;throw W._result}var fe=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)},me={map:ne,forEach:function(W,Q,X){ne(W,function(){Q.apply(this,arguments)},X)},count:function(W){var Q=0;return ne(W,function(){Q++}),Q},toArray:function(W){return ne(W,function(Q){return Q})||[]},only:function(W){if(!k(W))throw Error("React.Children.only expected to receive a single React element child.");return W}};return ai.Activity=g,ai.Children=me,ai.Component=b,ai.Fragment=t,ai.Profiler=r,ai.PureComponent=T,ai.StrictMode=n,ai.Suspense=l,ai.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,ai.__COMPILER_RUNTIME={__proto__:null,c:function(W){return z.H.useMemoCache(W)}},ai.cache=function(W){return function(){return W.apply(null,arguments)}},ai.cacheSignal=function(){return null},ai.cloneElement=function(W,Q,X){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var Y=B({},W.props),ie=W.key;if(Q!=null)for(te in Q.key!==void 0&&(ie=""+Q.key),Q)!V.call(Q,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&Q.ref===void 0||(Y[te]=Q[te]);var te=arguments.length-2;if(te===1)Y.children=X;else if(1<te){for(var se=Array(te),ye=0;ye<te;ye++)se[ye]=arguments[ye+2];Y.children=se}return I(W.type,ie,Y)},ai.createContext=function(W){return W={$$typeof:a,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:s,_context:W},W},ai.createElement=function(W,Q,X){var Y,ie={},te=null;if(Q!=null)for(Y in Q.key!==void 0&&(te=""+Q.key),Q)V.call(Q,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(ie[Y]=Q[Y]);var se=arguments.length-2;if(se===1)ie.children=X;else if(1<se){for(var ye=Array(se),xe=0;xe<se;xe++)ye[xe]=arguments[xe+2];ie.children=ye}if(W&&W.defaultProps)for(Y in se=W.defaultProps,se)ie[Y]===void 0&&(ie[Y]=se[Y]);return I(W,te,ie)},ai.createRef=function(){return{current:null}},ai.forwardRef=function(W){return{$$typeof:A,render:W}},ai.isValidElement=k,ai.lazy=function(W){return{$$typeof:h,_payload:{_status:-1,_result:W},_init:oe}},ai.memo=function(W,Q){return{$$typeof:c,type:W,compare:Q===void 0?null:Q}},ai.startTransition=function(W){var Q=z.T,X={};z.T=X;try{var Y=W(),ie=z.S;ie!==null&&ie(X,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(O,fe)}catch(te){fe(te)}finally{Q!==null&&X.types!==null&&(Q.types=X.types),z.T=Q}},ai.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},ai.use=function(W){return z.H.use(W)},ai.useActionState=function(W,Q,X){return z.H.useActionState(W,Q,X)},ai.useCallback=function(W,Q){return z.H.useCallback(W,Q)},ai.useContext=function(W){return z.H.useContext(W)},ai.useDebugValue=function(){},ai.useDeferredValue=function(W,Q){return z.H.useDeferredValue(W,Q)},ai.useEffect=function(W,Q){return z.H.useEffect(W,Q)},ai.useEffectEvent=function(W){return z.H.useEffectEvent(W)},ai.useId=function(){return z.H.useId()},ai.useImperativeHandle=function(W,Q,X){return z.H.useImperativeHandle(W,Q,X)},ai.useInsertionEffect=function(W,Q){return z.H.useInsertionEffect(W,Q)},ai.useLayoutEffect=function(W,Q){return z.H.useLayoutEffect(W,Q)},ai.useMemo=function(W,Q){return z.H.useMemo(W,Q)},ai.useOptimistic=function(W,Q){return z.H.useOptimistic(W,Q)},ai.useReducer=function(W,Q,X){return z.H.useReducer(W,Q,X)},ai.useRef=function(W){return z.H.useRef(W)},ai.useState=function(W){return z.H.useState(W)},ai.useSyncExternalStore=function(W,Q,X){return z.H.useSyncExternalStore(W,Q,X)},ai.useTransition=function(){return z.H.useTransition()},ai.version="19.2.3",ai}var a3;function cv(){return a3||(a3=1,hB.exports=o6()),hB.exports}var ht=cv();const vc=zC(ht);var dB={exports:{}},L0={},pB={exports:{}},gB={};var o3;function A6(){return o3||(o3=1,(function(i){function e(Z,ne){var oe=Z.length;Z.push(ne);e:for(;0<oe;){var fe=oe-1>>>1,me=Z[fe];if(0<r(me,ne))Z[fe]=ne,Z[oe]=me,oe=fe;else break e}}function t(Z){return Z.length===0?null:Z[0]}function n(Z){if(Z.length===0)return null;var ne=Z[0],oe=Z.pop();if(oe!==ne){Z[0]=oe;e:for(var fe=0,me=Z.length,W=me>>>1;fe<W;){var Q=2*(fe+1)-1,X=Z[Q],Y=Q+1,ie=Z[Y];if(0>r(X,oe))Y<me&&0>r(ie,X)?(Z[fe]=ie,Z[Y]=oe,fe=Y):(Z[fe]=X,Z[Q]=oe,fe=Q);else if(Y<me&&0>r(ie,oe))Z[fe]=ie,Z[Y]=oe,fe=Y;else break e}}return ne}function r(Z,ne){var oe=Z.sortIndex-ne.sortIndex;return oe!==0?oe:Z.id-ne.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;i.unstable_now=function(){return s.now()}}else{var a=Date,A=a.now();i.unstable_now=function(){return a.now()-A}}var l=[],c=[],h=1,g=null,v=3,m=!1,x=!1,B=!1,_=!1,b=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function U(Z){for(var ne=t(c);ne!==null;){if(ne.callback===null)n(c);else if(ne.startTime<=Z)n(c),ne.sortIndex=ne.expirationTime,e(l,ne);else break;ne=t(c)}}function R(Z){if(B=!1,U(Z),!x)if(t(l)!==null)x=!0,O||(O=!0,G());else{var ne=t(c);ne!==null&&ae(R,ne.startTime-Z)}}var O=!1,z=-1,V=5,I=-1;function P(){return _?!0:!(i.unstable_now()-I<V)}function k(){if(_=!1,O){var Z=i.unstable_now();I=Z;var ne=!0;try{e:{x=!1,B&&(B=!1,M(z),z=-1),m=!0;var oe=v;try{t:{for(U(Z),g=t(l);g!==null&&!(g.expirationTime>Z&&P());){var fe=g.callback;if(typeof fe=="function"){g.callback=null,v=g.priorityLevel;var me=fe(g.expirationTime<=Z);if(Z=i.unstable_now(),typeof me=="function"){g.callback=me,U(Z),ne=!0;break t}g===t(l)&&n(l),U(Z)}else n(l);g=t(l)}if(g!==null)ne=!0;else{var W=t(c);W!==null&&ae(R,W.startTime-Z),ne=!1}}break e}finally{g=null,v=oe,m=!1}ne=void 0}}finally{ne?G():O=!1}}}var G;if(typeof T=="function")G=function(){T(k)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,H=q.port2;q.port1.onmessage=k,G=function(){H.postMessage(null)}}else G=function(){b(k,0)};function ae(Z,ne){z=b(function(){Z(i.unstable_now())},ne)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Z){Z.callback=null},i.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<Z?Math.floor(1e3/Z):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_next=function(Z){switch(v){case 1:case 2:case 3:var ne=3;break;default:ne=v}var oe=v;v=ne;try{return Z()}finally{v=oe}},i.unstable_requestPaint=function(){_=!0},i.unstable_runWithPriority=function(Z,ne){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var oe=v;v=Z;try{return ne()}finally{v=oe}},i.unstable_scheduleCallback=function(Z,ne,oe){var fe=i.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?fe+oe:fe):oe=fe,Z){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=oe+me,Z={id:h++,callback:ne,priorityLevel:Z,startTime:oe,expirationTime:me,sortIndex:-1},oe>fe?(Z.sortIndex=oe,e(c,Z),t(l)===null&&Z===t(c)&&(B?(M(z),z=-1):B=!0,ae(R,oe-fe))):(Z.sortIndex=me,e(l,Z),x||m||(x=!0,O||(O=!0,G()))),Z},i.unstable_shouldYield=P,i.unstable_wrapCallback=function(Z){var ne=v;return function(){var oe=v;v=ne;try{return Z.apply(this,arguments)}finally{v=oe}}}})(gB)),gB}var A3;function xF(){return A3||(A3=1,pB.exports=A6()),pB.exports}var mB={exports:{}},AA={};var l3;function l6(){if(l3)return AA;l3=1;var i=cv();function e(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(l,c,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:l,containerInfo:c,implementation:h}}var a=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function A(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return AA.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,AA.createPortal=function(l,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return s(l,c,null,h)},AA.flushSync=function(l){var c=a.T,h=n.p;try{if(a.T=null,n.p=2,l)return l()}finally{a.T=c,n.p=h,n.d.f()}},AA.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,n.d.C(l,c))},AA.prefetchDNS=function(l){typeof l=="string"&&n.d.D(l)},AA.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var h=c.as,g=A(h,c.crossOrigin),v=typeof c.integrity=="string"?c.integrity:void 0,m=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;h==="style"?n.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:m}):h==="script"&&n.d.X(l,{crossOrigin:g,integrity:v,fetchPriority:m,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},AA.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var h=A(c.as,c.crossOrigin);n.d.M(l,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&n.d.M(l)},AA.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var h=c.as,g=A(h,c.crossOrigin);n.d.L(l,h,{crossOrigin:g,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},AA.preloadModule=function(l,c){if(typeof l=="string")if(c){var h=A(c.as,c.crossOrigin);n.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else n.d.m(l)},AA.requestFormReset=function(l){n.d.r(l)},AA.unstable_batchedUpdates=function(l,c){return l(c)},AA.useFormState=function(l,c,h){return a.H.useFormState(l,c,h)},AA.useFormStatus=function(){return a.H.useHostTransitionStatus()},AA.version="19.2.3",AA}var u3;function u6(){if(u3)return mB.exports;u3=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),mB.exports=l6(),mB.exports}var c3;function c6(){if(c3)return L0;c3=1;var i=xF(),e=cv(),t=u6();function n(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var u=o,p=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(p=u.return),o=u.return;while(o)}return u.tag===3?p:null}function a(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function A(o){if(o.tag===31){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function l(o){if(s(o)!==o)throw Error(n(188))}function c(o){var u=o.alternate;if(!u){if(u=s(o),u===null)throw Error(n(188));return u!==o?null:o}for(var p=o,y=u;;){var E=p.return;if(E===null)break;var L=E.alternate;if(L===null){if(y=E.return,y!==null){p=y;continue}break}if(E.child===L.child){for(L=E.child;L;){if(L===p)return l(E),o;if(L===y)return l(E),u;L=L.sibling}throw Error(n(188))}if(p.return!==y.return)p=E,y=L;else{for(var ee=!1,ve=E.child;ve;){if(ve===p){ee=!0,p=E,y=L;break}if(ve===y){ee=!0,y=E,p=L;break}ve=ve.sibling}if(!ee){for(ve=L.child;ve;){if(ve===p){ee=!0,p=L,y=E;break}if(ve===y){ee=!0,y=L,p=E;break}ve=ve.sibling}if(!ee)throw Error(n(189))}}if(p.alternate!==y)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?o:u}function h(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=h(o),u!==null)return u;o=o.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),T=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function G(o){return o===null||typeof o!="object"?null:(o=k&&o[k]||o["@@iterator"],typeof o=="function"?o:null)}var q=Symbol.for("react.client.reference");function H(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===q?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case B:return"Fragment";case b:return"Profiler";case _:return"StrictMode";case R:return"Suspense";case O:return"SuspenseList";case I:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case x:return"Portal";case T:return o.displayName||"Context";case M:return(o._context.displayName||"Context")+".Consumer";case U:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case z:return u=o.displayName||null,u!==null?u:H(o.type)||"Memo";case V:u=o._payload,o=o._init;try{return H(o(u))}catch{}}return null}var ae=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},fe=[],me=-1;function W(o){return{current:o}}function Q(o){0>me||(o.current=fe[me],fe[me]=null,me--)}function X(o,u){me++,fe[me]=o.current,o.current=u}var Y=W(null),ie=W(null),te=W(null),se=W(null);function ye(o,u){switch(X(te,u),X(ie,o),X(Y,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?C5(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=C5(u),o=E5(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}Q(Y),X(Y,o)}function xe(){Q(Y),Q(ie),Q(te)}function Fe(o){o.memoizedState!==null&&X(se,o);var u=Y.current,p=E5(u,o.type);u!==p&&(X(ie,o),X(Y,p))}function Ne(o){ie.current===o&&(Q(Y),Q(ie)),se.current===o&&(Q(se),E0._currentValue=oe)}var ze,it;function De(o){if(ze===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);ze=u&&u[1]||"",it=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ze+o+it}var re=!1;function Le(o,u){if(!o||re)return"";re=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(u){var Ot=function(){throw Error()};if(Object.defineProperty(Ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ot,[])}catch(St){var bt=St}Reflect.construct(o,[],Ot)}else{try{Ot.call()}catch(St){bt=St}o.call(Ot.prototype)}}else{try{throw Error()}catch(St){bt=St}(Ot=o())&&typeof Ot.catch=="function"&&Ot.catch(function(){})}}catch(St){if(St&&bt&&typeof St.stack=="string")return[St.stack,bt.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var L=y.DetermineComponentFrameRoot(),ee=L[0],ve=L[1];if(ee&&ve){var Qe=ee.split(`
`),yt=ve.split(`
`);for(E=y=0;y<Qe.length&&!Qe[y].includes("DetermineComponentFrameRoot");)y++;for(;E<yt.length&&!yt[E].includes("DetermineComponentFrameRoot");)E++;if(y===Qe.length||E===yt.length)for(y=Qe.length-1,E=yt.length-1;1<=y&&0<=E&&Qe[y]!==yt[E];)E--;for(;1<=y&&0<=E;y--,E--)if(Qe[y]!==yt[E]){if(y!==1||E!==1)do if(y--,E--,0>E||Qe[y]!==yt[E]){var It=`
`+Qe[y].replace(" at new "," at ");return o.displayName&&It.includes("<anonymous>")&&(It=It.replace("<anonymous>",o.displayName)),It}while(1<=y&&0<=E);break}}}finally{re=!1,Error.prepareStackTrace=p}return(p=o?o.displayName||o.name:"")?De(p):""}function rt(o,u){switch(o.tag){case 26:case 27:case 5:return De(o.type);case 16:return De("Lazy");case 13:return o.child!==u&&u!==null?De("Suspense Fallback"):De("Suspense");case 19:return De("SuspenseList");case 0:case 15:return Le(o.type,!1);case 11:return Le(o.type.render,!1);case 1:return Le(o.type,!0);case 31:return De("Activity");default:return""}}function ce(o){try{var u="",p=null;do u+=rt(o,p),p=o,o=o.return;while(o);return u}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var He=Object.prototype.hasOwnProperty,Xe=i.unstable_scheduleCallback,Oe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Ae=i.unstable_requestPaint,$=i.unstable_now,Se=i.unstable_getCurrentPriorityLevel,Ge=i.unstable_ImmediatePriority,Ve=i.unstable_UserBlockingPriority,Re=i.unstable_NormalPriority,$e=i.unstable_LowPriority,At=i.unstable_IdlePriority,wt=i.log,zt=i.unstable_setDisableYieldValue,at=null,ut=null;function ct(o){if(typeof wt=="function"&&zt(o),ut&&typeof ut.setStrictMode=="function")try{ut.setStrictMode(at,o)}catch{}}var Ee=Math.clz32?Math.clz32:Be,Ie=Math.log,Ut=Math.LN2;function Be(o){return o>>>=0,o===0?32:31-(Ie(o)/Ut|0)|0}var Je=256,mt=262144,Et=4194304;function tt(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Ze(o,u,p){var y=o.pendingLanes;if(y===0)return 0;var E=0,L=o.suspendedLanes,ee=o.pingedLanes;o=o.warmLanes;var ve=y&134217727;return ve!==0?(y=ve&~L,y!==0?E=tt(y):(ee&=ve,ee!==0?E=tt(ee):p||(p=ve&~o,p!==0&&(E=tt(p))))):(ve=y&~L,ve!==0?E=tt(ve):ee!==0?E=tt(ee):p||(p=y&~o,p!==0&&(E=tt(p)))),E===0?0:u!==0&&u!==E&&(u&L)===0&&(L=E&-E,p=u&-u,L>=p||L===32&&(p&4194048)!==0)?u:E}function Lt(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function Vt(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wt(){var o=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),o}function nn(o){for(var u=[],p=0;31>p;p++)u.push(o);return u}function qt(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Wn(o,u,p,y,E,L){var ee=o.pendingLanes;o.pendingLanes=p,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=p,o.entangledLanes&=p,o.errorRecoveryDisabledLanes&=p,o.shellSuspendCounter=0;var ve=o.entanglements,Qe=o.expirationTimes,yt=o.hiddenUpdates;for(p=ee&~p;0<p;){var It=31-Ee(p),Ot=1<<It;ve[It]=0,Qe[It]=-1;var bt=yt[It];if(bt!==null)for(yt[It]=null,It=0;It<bt.length;It++){var St=bt[It];St!==null&&(St.lane&=-536870913)}p&=~Ot}y!==0&&Bi(o,y,0),L!==0&&E===0&&o.tag!==0&&(o.suspendedLanes|=L&~(ee&~u))}function Bi(o,u,p){o.pendingLanes|=u,o.suspendedLanes&=~u;var y=31-Ee(u);o.entangledLanes|=u,o.entanglements[y]=o.entanglements[y]|1073741824|p&261930}function Xi(o,u){var p=o.entangledLanes|=u;for(o=o.entanglements;p;){var y=31-Ee(p),E=1<<y;E&u|o[y]&u&&(o[y]|=u),p&=~E}}function lr(o,u){var p=u&-u;return p=(p&42)!==0?1:ci(p),(p&(o.suspendedLanes|u))!==0?0:p}function ci(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Ui(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Yi(){var o=ne.p;return o!==0?o:(o=window.event,o===void 0?32:Y5(o.type))}function ki(o,u){var p=ne.p;try{return ne.p=o,u()}finally{ne.p=p}}var Si=Math.random().toString(36).slice(2),ei="__reactFiber$"+Si,Ji="__reactProps$"+Si,ur="__reactContainer$"+Si,Fr="__reactEvents$"+Si,cr="__reactListeners$"+Si,Ns="__reactHandles$"+Si,bs="__reactResources$"+Si,Ds="__reactMarker$"+Si;function Aa(o){delete o[ei],delete o[Ji],delete o[Fr],delete o[cr],delete o[Ns]}function Os(o){var u=o[ei];if(u)return u;for(var p=o.parentNode;p;){if(u=p[ur]||p[ei]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(o=R5(o);o!==null;){if(p=o[ei])return p;o=R5(o)}return u}o=p,p=o.parentNode}return null}function Js(o){if(o=o[ei]||o[ur]){var u=o.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return o}return null}function io(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(n(33))}function ln(o){var u=o[bs];return u||(u=o[bs]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function pe(o){o[Ds]=!0}var We=new Set,dt={};function pt(o,u){nt(o,u),nt(o+"Capture",u)}function nt(o,u){for(dt[o]=u,o=0;o<u.length;o++)We.add(u[o])}var Gt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zt={},Qt={};function on(o){return He.call(Qt,o)?!0:He.call(Zt,o)?!1:Gt.test(o)?Qt[o]=!0:(Zt[o]=!0,!1)}function $t(o,u,p){if(on(u))if(p===null)o.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var y=u.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+p)}}function xn(o,u,p){if(p===null)o.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+p)}}function un(o,u,p,y){if(y===null)o.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(p);return}o.setAttributeNS(u,p,""+y)}}function An(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Zn(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function fi(o,u,p){var y=Object.getOwnPropertyDescriptor(o.constructor.prototype,u);if(!o.hasOwnProperty(u)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var E=y.get,L=y.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return E.call(this)},set:function(ee){p=""+ee,L.call(this,ee)}}),Object.defineProperty(o,u,{enumerable:y.enumerable}),{getValue:function(){return p},setValue:function(ee){p=""+ee},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function ri(o){if(!o._valueTracker){var u=Zn(o)?"checked":"value";o._valueTracker=fi(o,u,""+o[u])}}function Rn(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var p=u.getValue(),y="";return o&&(y=Zn(o)?o.checked?"true":"false":o.value),o=y,o!==p?(u.setValue(o),!0):!1}function Kt(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Cn=/[\n"\\]/g;function dn(o){return o.replace(Cn,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Lr(o,u,p,y,E,L,ee,ve){o.name="",ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"?o.type=ee:o.removeAttribute("type"),u!=null?ee==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+An(u)):o.value!==""+An(u)&&(o.value=""+An(u)):ee!=="submit"&&ee!=="reset"||o.removeAttribute("value"),u!=null?Ni(o,ee,An(u)):p!=null?Ni(o,ee,An(p)):y!=null&&o.removeAttribute("value"),E==null&&L!=null&&(o.defaultChecked=!!L),E!=null&&(o.checked=E&&typeof E!="function"&&typeof E!="symbol"),ve!=null&&typeof ve!="function"&&typeof ve!="symbol"&&typeof ve!="boolean"?o.name=""+An(ve):o.removeAttribute("name")}function Zs(o,u,p,y,E,L,ee,ve){if(L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(o.type=L),u!=null||p!=null){if(!(L!=="submit"&&L!=="reset"||u!=null)){ri(o);return}p=p!=null?""+An(p):"",u=u!=null?""+An(u):p,ve||u===o.value||(o.value=u),o.defaultValue=u}y=y??E,y=typeof y!="function"&&typeof y!="symbol"&&!!y,o.checked=ve?o.checked:!!y,o.defaultChecked=!!y,ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"&&(o.name=ee),ri(o)}function Ni(o,u,p){u==="number"&&Kt(o.ownerDocument)===o||o.defaultValue===""+p||(o.defaultValue=""+p)}function fr(o,u,p,y){if(o=o.options,u){u={};for(var E=0;E<p.length;E++)u["$"+p[E]]=!0;for(p=0;p<o.length;p++)E=u.hasOwnProperty("$"+o[p].value),o[p].selected!==E&&(o[p].selected=E),E&&y&&(o[p].defaultSelected=!0)}else{for(p=""+An(p),u=null,E=0;E<o.length;E++){if(o[E].value===p){o[E].selected=!0,y&&(o[E].defaultSelected=!0);return}u!==null||o[E].disabled||(u=o[E])}u!==null&&(u.selected=!0)}}function hi(o,u,p){if(u!=null&&(u=""+An(u),u!==o.value&&(o.value=u),p==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=p!=null?""+An(p):""}function hr(o,u,p,y){if(u==null){if(y!=null){if(p!=null)throw Error(n(92));if(ae(y)){if(1<y.length)throw Error(n(93));y=y[0]}p=y}p==null&&(p=""),u=p}p=An(u),o.defaultValue=p,y=o.textContent,y===p&&y!==""&&y!==null&&(o.value=y),ri(o)}function nr(o,u){if(u){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=u;return}}o.textContent=u}var dr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vr(o,u,p){var y=u.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?y?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":y?o.setProperty(u,p):typeof p!="number"||p===0||dr.has(u)?u==="float"?o.cssFloat=p:o[u]=(""+p).trim():o[u]=p+"px"}function xo(o,u,p){if(u!=null&&typeof u!="object")throw Error(n(62));if(o=o.style,p!=null){for(var y in p)!p.hasOwnProperty(y)||u!=null&&u.hasOwnProperty(y)||(y.indexOf("--")===0?o.setProperty(y,""):y==="float"?o.cssFloat="":o[y]="");for(var E in u)y=u[E],u.hasOwnProperty(E)&&p[E]!==y&&Vr(o,E,y)}else for(var L in u)u.hasOwnProperty(L)&&Vr(o,L,u[L])}function _s(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $r(o){return bA.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function $s(){}var La=null;function _A(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ja=null,En=null;function Fl(o){var u=Js(o);if(u&&(o=u.stateNode)){var p=o[Ji]||null;e:switch(o=u.stateNode,u.type){case"input":if(Lr(o,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),u=p.name,p.type==="radio"&&u!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+dn(""+u)+'"][type="radio"]'),u=0;u<p.length;u++){var y=p[u];if(y!==o&&y.form===o.form){var E=y[Ji]||null;if(!E)throw Error(n(90));Lr(y,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(u=0;u<p.length;u++)y=p[u],y.form===o.form&&Rn(y)}break e;case"textarea":hi(o,p.value,p.defaultValue);break e;case"select":u=p.value,u!=null&&fr(o,!!p.multiple,u,!1)}}}var Ll=!1;function YA(o,u,p){if(Ll)return o(u,p);Ll=!0;try{var y=o(u);return y}finally{if(Ll=!1,(ja!==null||En!==null)&&(eu(),ja&&(u=ja,o=En,En=ja=null,Fl(u),o)))for(u=0;u<o.length;u++)Fl(o[u])}}function ea(o,u){var p=o.stateNode;if(p===null)return null;var y=p[Ji]||null;if(y===null)return null;p=y[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(n(231,u,typeof p));return p}var us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),la=!1;if(us)try{var Wo={};Object.defineProperty(Wo,"passive",{get:function(){la=!0}}),window.addEventListener("test",Wo,Wo),window.removeEventListener("test",Wo,Wo)}catch{la=!1}var cs=null,BA=null,ua=null;function JA(){if(ua)return ua;var o,u=BA,p=u.length,y,E="value"in cs?cs.value:cs.textContent,L=E.length;for(o=0;o<p&&u[o]===E[o];o++);var ee=p-o;for(y=1;y<=ee&&u[p-y]===E[L-y];y++);return ua=E.slice(o,1<y?1-y:void 0)}function Ia(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function ro(){return!0}function qo(){return!1}function sr(o){function u(p,y,E,L,ee){this._reactName=p,this._targetInst=E,this.type=y,this.nativeEvent=L,this.target=ee,this.currentTarget=null;for(var ve in o)o.hasOwnProperty(ve)&&(p=o[ve],this[ve]=p?p(L):L[ve]);return this.isDefaultPrevented=(L.defaultPrevented!=null?L.defaultPrevented:L.returnValue===!1)?ro:qo,this.isPropagationStopped=qo,this}return g(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=ro)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=ro)},persist:function(){},isPersistent:ro}),u}var so={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ca=sr(so),ao=g({},so,{view:0,detail:0}),bo=sr(ao),Xo,Ra,oo,jr=g({},ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pn,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==oo&&(oo&&o.type==="mousemove"?(Xo=o.screenX-oo.screenX,Ra=o.screenY-oo.screenY):Ra=Xo=0,oo=o),Xo)},movementY:function(o){return"movementY"in o?o.movementY:Ra}}),cu=sr(jr),Ka=g({},jr,{dataTransfer:0}),Wa=sr(Ka),Il=g({},ao,{relatedTarget:0}),Yo=sr(Il),Bs=g({},so,{animationName:0,elapsedTime:0,pseudoElement:0}),D=sr(Bs),le=g({},so,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Ue=sr(le),Pe=g({},so,{data:0}),st=sr(Pe),Ft={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bn(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=vn[o])?!!u[o]:!1}function Pn(){return bn}var Yn=g({},ao,{key:function(o){if(o.key){var u=Ft[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=Ia(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Pt[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pn,charCode:function(o){return o.type==="keypress"?Ia(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Ia(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),di=sr(Yn),xr=g({},jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),es=sr(xr),ar=g({},ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pn}),Ss=sr(ar),fs=g({},so,{propertyName:0,elapsedTime:0,pseudoElement:0}),fa=sr(fs),Ir=g({},jr,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Jo=sr(Ir),ZA=g({},so,{newState:0,oldState:0}),Tc=sr(ZA),Wu=[9,13,27,32],Ao=us&&"CompositionEvent"in window,Zo=null;us&&"documentMode"in document&&(Zo=document.documentMode);var $A=us&&"TextEvent"in window&&!Zo,el=us&&(!Ao||Zo&&8<Zo&&11>=Zo),ta=" ",SA=!1;function tl(o,u){switch(o){case"keyup":return Wu.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qu(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var CA=!1;function Na(o,u){switch(o){case"compositionend":return qu(u);case"keypress":return u.which!==32?null:(SA=!0,ta);case"textInput":return o=u.data,o===ta&&SA?null:o;default:return null}}function EA(o,u){if(CA)return o==="compositionend"||!Ao&&tl(o,u)?(o=JA(),ua=BA=cs=null,CA=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return el&&u.locale!=="ko"?null:u.data;default:return null}}var fu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fc(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!fu[o.type]:u==="textarea"}function qa(o,u,p,y){ja?En?En.push(y):En=[y]:ja=y,u=ry(u,"onChange"),0<u.length&&(p=new ca("onChange","change",null,p,y),o.push({event:p,listeners:u}))}var lo=null,MA=null;function Lc(o){w5(o,0)}function _o(o){var u=io(o);if(Rn(u))return o}function Rl(o,u){if(o==="change")return u}var ts=!1;if(us){var ha;if(us){var nl="oninput"in document;if(!nl){var UA=document.createElement("div");UA.setAttribute("oninput","return;"),nl=typeof UA.oninput=="function"}ha=nl}else ha=!1;ts=ha&&(!document.documentMode||9<document.documentMode)}function Ps(){lo&&(lo.detachEvent("onpropertychange",Nl),MA=lo=null)}function Nl(o){if(o.propertyName==="value"&&_o(MA)){var u=[];qa(u,MA,o,_A(o)),YA(Lc,u)}}function Xu(o,u,p){o==="focusin"?(Ps(),lo=u,MA=p,lo.attachEvent("onpropertychange",Nl)):o==="focusout"&&Ps()}function Kr(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return _o(MA)}function Mf(o,u){if(o==="click")return _o(u)}function TA(o,u){if(o==="input"||o==="change")return _o(u)}function $o(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var Qs=typeof Object.is=="function"?Object.is:$o;function il(o,u){if(Qs(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var p=Object.keys(o),y=Object.keys(u);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var E=p[y];if(!He.call(u,E)||!Qs(o[E],u[E]))return!1}return!0}function Dl(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function rl(o,u){var p=Dl(o);o=0;for(var y;p;){if(p.nodeType===3){if(y=o+p.textContent.length,o<=u&&y>=u)return{node:p,offset:u-o};o=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Dl(p)}}function Di(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?Di(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function Ol(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=Kt(o.document);u instanceof o.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)o=u.contentWindow;else break;u=Kt(o.document)}return u}function sl(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var hu=us&&"documentMode"in document&&11>=document.documentMode,da=null,Da=null,pa=null,Bo=!1;function Ti(o,u,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Bo||da==null||da!==Kt(y)||(y=da,"selectionStart"in y&&sl(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),pa&&il(pa,y)||(pa=y,y=ry(Da,"onSelect"),0<y.length&&(u=new ca("onSelect","select",null,u,p),o.push({event:u,listeners:y}),u.target=da)))}function $n(o,u){var p={};return p[o.toLowerCase()]=u.toLowerCase(),p["Webkit"+o]="webkit"+u,p["Moz"+o]="moz"+u,p}var pr={animationend:$n("Animation","AnimationEnd"),animationiteration:$n("Animation","AnimationIteration"),animationstart:$n("Animation","AnimationStart"),transitionrun:$n("Transition","TransitionRun"),transitionstart:$n("Transition","TransitionStart"),transitioncancel:$n("Transition","TransitionCancel"),transitionend:$n("Transition","TransitionEnd")},Wr={},FA={};us&&(FA=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);function So(o){if(Wr[o])return Wr[o];if(!pr[o])return o;var u=pr[o],p;for(p in u)if(u.hasOwnProperty(p)&&p in FA)return Wr[o]=u[p];return o}var Pl=So("animationend"),du=So("animationiteration"),yh=So("animationstart"),Md=So("transitionrun"),$p=So("transitionstart"),Ud=So("transitioncancel"),wh=So("transitionend"),Co=new Map,Ql="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ql.push("scrollEnd");function Eo(o,u){Co.set(o,u),pt(u,[o])}var Ic=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Mo=[],al=0,Hs=0;function Rc(){for(var o=al,u=Hs=al=0;u<o;){var p=Mo[u];Mo[u++]=null;var y=Mo[u];Mo[u++]=null;var E=Mo[u];Mo[u++]=null;var L=Mo[u];if(Mo[u++]=null,y!==null&&E!==null){var ee=y.pending;ee===null?E.next=E:(E.next=ee.next,ee.next=E),y.pending=E}L!==0&&LA(p,E,L)}}function ks(o,u,p,y){Mo[al++]=o,Mo[al++]=u,Mo[al++]=p,Mo[al++]=y,Hs|=y,o.lanes|=y,o=o.alternate,o!==null&&(o.lanes|=y)}function Uf(o,u,p,y){return ks(o,u,p,y),Or(o)}function ga(o,u){return ks(o,null,null,u),Or(o)}function LA(o,u,p){o.lanes|=p;var y=o.alternate;y!==null&&(y.lanes|=p);for(var E=!1,L=o.return;L!==null;)L.childLanes|=p,y=L.alternate,y!==null&&(y.childLanes|=p),L.tag===22&&(o=L.stateNode,o===null||o._visibility&1||(E=!0)),o=L,L=L.return;return o.tag===3?(L=o.stateNode,E&&u!==null&&(E=31-Ee(p),o=L.hiddenUpdates,y=o[E],y===null?o[E]=[u]:y.push(u),u.lane=p|536870912),L):null}function Or(o){if(50<Zc)throw Zc=0,jf=null,Error(n(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var zs={};function Nc(o,u,p,y){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function br(o,u,p,y){return new Nc(o,u,p,y)}function Tf(o){return o=o.prototype,!(!o||!o.isReactComponent)}function ma(o,u){var p=o.alternate;return p===null?(p=br(o.tag,u,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=u,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&65011712,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,u=o.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p.refCleanup=o.refCleanup,p}function Hl(o,u){o.flags&=65011714;var p=o.alternate;return p===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=p.childLanes,o.lanes=p.lanes,o.child=p.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=p.memoizedProps,o.memoizedState=p.memoizedState,o.updateQueue=p.updateQueue,o.type=p.type,u=p.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function eA(o,u,p,y,E,L){var ee=0;if(y=o,typeof o=="function")Tf(o)&&(ee=1);else if(typeof o=="string")ee=WD(o,p,Y.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case I:return o=br(31,p,u,E),o.elementType=I,o.lanes=L,o;case B:return kl(p.children,E,L,u);case _:ee=8,E|=24;break;case b:return o=br(12,p,u,E|2),o.elementType=b,o.lanes=L,o;case R:return o=br(13,p,u,E),o.elementType=R,o.lanes=L,o;case O:return o=br(19,p,u,E),o.elementType=O,o.lanes=L,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case T:ee=10;break e;case M:ee=9;break e;case U:ee=11;break e;case z:ee=14;break e;case V:ee=16,y=null;break e}ee=29,p=Error(n(130,o===null?"null":typeof o,"")),y=null}return u=br(ee,p,u,E),u.elementType=o,u.type=y,u.lanes=L,u}function kl(o,u,p,y){return o=br(7,o,y,u),o.lanes=p,o}function Dc(o,u,p){return o=br(6,o,null,u),o.lanes=p,o}function pu(o){var u=br(18,null,null,0);return u.stateNode=o,u}function Yu(o,u,p){return u=br(4,o.children!==null?o.children:[],o.key,u),u.lanes=p,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var Ju=new WeakMap;function Uo(o,u){if(typeof o=="object"&&o!==null){var p=Ju.get(o);return p!==void 0?p:(u={value:o,source:u,stack:ce(u)},Ju.set(o,u),u)}return{value:o,source:u,stack:ce(u)}}var gu=[],zl=0,Oc=null,Pc=0,uo=[],Pr=0,Gl=null,Rr=1,To="";function co(o,u){gu[zl++]=Pc,gu[zl++]=Oc,Oc=o,Pc=u}function eg(o,u,p){uo[Pr++]=Rr,uo[Pr++]=To,uo[Pr++]=Gl,Gl=o;var y=Rr;o=To;var E=32-Ee(y)-1;y&=~(1<<E),p+=1;var L=32-Ee(u)+E;if(30<L){var ee=E-E%5;L=(y&(1<<ee)-1).toString(32),y>>=ee,E-=ee,Rr=1<<32-Ee(u)+E|p<<E|y,To=L+o}else Rr=1<<L|p<<E|y,To=o}function ol(o){o.return!==null&&(co(o,1),eg(o,1,0))}function Ff(o){for(;o===Oc;)Oc=gu[--zl],gu[zl]=null,Pc=gu[--zl],gu[zl]=null;for(;o===Gl;)Gl=uo[--Pr],uo[Pr]=null,To=uo[--Pr],uo[Pr]=null,Rr=uo[--Pr],uo[Pr]=null}function xh(o,u){uo[Pr++]=Rr,uo[Pr++]=To,uo[Pr++]=Gl,Rr=u.id,To=u.overflow,Gl=o}var ns=null,_r=null,Ci=!1,Oa=null,qr=!1,fo=Error(n(519));function Al(o){var u=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw IA(Uo(u,o)),fo}function Td(o){var u=o.stateNode,p=o.type,y=o.memoizedProps;switch(u[ei]=o,u[Ji]=y,p){case"dialog":Pi("cancel",u),Pi("close",u);break;case"iframe":case"object":case"embed":Pi("load",u);break;case"video":case"audio":for(p=0;p<xl.length;p++)Pi(xl[p],u);break;case"source":Pi("error",u);break;case"img":case"image":case"link":Pi("error",u),Pi("load",u);break;case"details":Pi("toggle",u);break;case"input":Pi("invalid",u),Zs(u,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":Pi("invalid",u);break;case"textarea":Pi("invalid",u),hr(u,y.value,y.defaultValue,y.children)}p=y.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||u.textContent===""+p||y.suppressHydrationWarning===!0||B5(u.textContent,p)?(y.popover!=null&&(Pi("beforetoggle",u),Pi("toggle",u)),y.onScroll!=null&&Pi("scroll",u),y.onScrollEnd!=null&&Pi("scrollend",u),y.onClick!=null&&(u.onclick=$s),u=!0):u=!1,u||Al(o,!0)}function Vl(o){for(ns=o.return;ns;)switch(ns.tag){case 5:case 31:case 13:qr=!1;return;case 27:case 3:qr=!0;return;default:ns=ns.return}}function va(o){if(o!==ns)return!1;if(!Ci)return Vl(o),Ci=!0,!1;var u=o.tag,p;if((p=u!==3&&u!==27)&&((p=u===5)&&(p=o.type,p=!(p!=="form"&&p!=="button")||J_(o.type,o.memoizedProps)),p=!p),p&&_r&&Al(o),Vl(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));_r=I5(o)}else if(u===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));_r=I5(o)}else u===27?(u=_r,zh(o.type)?(o=nB,nB=null,_r=o):_r=u):_r=ns?Lu(o.stateNode.nextSibling):null;return!0}function mu(){_r=ns=null,Ci=!1}function bh(){var o=Oa;return o!==null&&(Fs===null?Fs=o:Fs.push.apply(Fs,o),Oa=null),o}function IA(o){Oa===null?Oa=[o]:Oa.push(o)}var Zu=W(null),jl=null,RA=null;function Kl(o,u,p){X(Zu,u._currentValue),u._currentValue=p}function Fo(o){o._currentValue=Zu.current,Q(Zu)}function $u(o,u,p){for(;o!==null;){var y=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),o===p)break;o=o.return}}function vu(o,u,p,y){var E=o.child;for(E!==null&&(E.return=o);E!==null;){var L=E.dependencies;if(L!==null){var ee=E.child;L=L.firstContext;e:for(;L!==null;){var ve=L;L=E;for(var Qe=0;Qe<u.length;Qe++)if(ve.context===u[Qe]){L.lanes|=p,ve=L.alternate,ve!==null&&(ve.lanes|=p),$u(L.return,p,o),y||(ee=null);break e}L=ve.next}}else if(E.tag===18){if(ee=E.return,ee===null)throw Error(n(341));ee.lanes|=p,L=ee.alternate,L!==null&&(L.lanes|=p),$u(ee,p,o),ee=null}else ee=E.child;if(ee!==null)ee.return=E;else for(ee=E;ee!==null;){if(ee===o){ee=null;break}if(E=ee.sibling,E!==null){E.return=ee.return,ee=E;break}ee=ee.return}E=ee}}function tA(o,u,p,y){o=null;for(var E=u,L=!1;E!==null;){if(!L){if((E.flags&524288)!==0)L=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var ee=E.alternate;if(ee===null)throw Error(n(387));if(ee=ee.memoizedProps,ee!==null){var ve=E.type;Qs(E.pendingProps.value,ee.value)||(o!==null?o.push(ve):o=[ve])}}else if(E===se.current){if(ee=E.alternate,ee===null)throw Error(n(387));ee.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(o!==null?o.push(E0):o=[E0])}E=E.return}o!==null&&vu(u,o,p,y),u.flags|=262144}function Lf(o){for(o=o.firstContext;o!==null;){if(!Qs(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Wl(o){jl=o,RA=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Hn(o){return tg(jl,o)}function Qc(o,u){return jl===null&&Wl(o),tg(o,u)}function tg(o,u){var p=u._currentValue;if(u={context:u,memoizedValue:p,next:null},RA===null){if(o===null)throw Error(n(308));RA=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else RA=RA.next=u;return p}var ng=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(p,y){o.push(y)}};this.abort=function(){u.aborted=!0,o.forEach(function(p){return p()})}},$m=i.unstable_scheduleCallback,e0=i.unstable_NormalPriority,hs={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hc(){return{controller:new ng,data:new Map,refCount:0}}function ec(o){o.refCount--,o.refCount===0&&$m(e0,function(){o.controller.abort()})}var Lo=null,If=0,S=0,F=null;function j(o,u){if(Lo===null){var p=Lo=[];If=0,S=_t(),F={status:"pending",value:void 0,then:function(y){p.push(y)}}}return If++,u.then(J,J),u}function J(){if(--If===0&&Lo!==null){F!==null&&(F.status="fulfilled");var o=Lo;Lo=null,S=0,F=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function ue(o,u){var p=[],y={status:"pending",value:null,reason:null,then:function(E){p.push(E)}};return o.then(function(){y.status="fulfilled",y.value=u;for(var E=0;E<p.length;E++)(0,p[E])(u)},function(E){for(y.status="rejected",y.reason=E,E=0;E<p.length;E++)(0,p[E])(void 0)}),y}var he=Z.S;Z.S=function(o,u){x0=$(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&j(o,u),he!==null&&he(o,u)};var de=W(null);function we(){var o=de.current;return o!==null?o:Xn.pooledCache}function _e(o,u){u===null?X(de,de.current):X(de,u.pool)}function Te(){var o=we();return o===null?null:{parent:hs._currentValue,pool:o}}var je=Error(n(460)),gt=Error(n(474)),be=Error(n(542)),qe={then:function(){}};function et(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Mt(o,u,p){switch(p=o[p],p===void 0?o.push(u):p!==u&&(u.then($s,$s),u=p),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,Ht(o),o;default:if(typeof u.status=="string")u.then($s,$s);else{if(o=Xn,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=u,o.status="pending",o.then(function(y){if(u.status==="pending"){var E=u;E.status="fulfilled",E.value=y}},function(y){if(u.status==="pending"){var E=u;E.status="rejected",E.reason=y}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,Ht(o),o}throw Ct=u,je}}function ft(o){try{var u=o._init;return u(o._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(Ct=p,je):p}}var Ct=null;function Tt(){if(Ct===null)throw Error(n(459));var o=Ct;return Ct=null,o}function Ht(o){if(o===je||o===be)throw Error(n(483))}var Dt=null,yn=0;function cn(o){var u=yn;return yn+=1,Dt===null&&(Dt=[]),Mt(Dt,o,u)}function In(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function gn(o,u){throw u.$$typeof===v?Error(n(525)):(o=Object.prototype.toString.call(u),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function gi(o){function u(ot,Ke){if(o){var vt=ot.deletions;vt===null?(ot.deletions=[Ke],ot.flags|=16):vt.push(Ke)}}function p(ot,Ke){if(!o)return null;for(;Ke!==null;)u(ot,Ke),Ke=Ke.sibling;return null}function y(ot){for(var Ke=new Map;ot!==null;)ot.key!==null?Ke.set(ot.key,ot):Ke.set(ot.index,ot),ot=ot.sibling;return Ke}function E(ot,Ke){return ot=ma(ot,Ke),ot.index=0,ot.sibling=null,ot}function L(ot,Ke,vt){return ot.index=vt,o?(vt=ot.alternate,vt!==null?(vt=vt.index,vt<Ke?(ot.flags|=67108866,Ke):vt):(ot.flags|=67108866,Ke)):(ot.flags|=1048576,Ke)}function ee(ot){return o&&ot.alternate===null&&(ot.flags|=67108866),ot}function ve(ot,Ke,vt,Nt){return Ke===null||Ke.tag!==6?(Ke=Dc(vt,ot.mode,Nt),Ke.return=ot,Ke):(Ke=E(Ke,vt),Ke.return=ot,Ke)}function Qe(ot,Ke,vt,Nt){var Dn=vt.type;return Dn===B?It(ot,Ke,vt.props.children,Nt,vt.key):Ke!==null&&(Ke.elementType===Dn||typeof Dn=="object"&&Dn!==null&&Dn.$$typeof===V&&ft(Dn)===Ke.type)?(Ke=E(Ke,vt.props),In(Ke,vt),Ke.return=ot,Ke):(Ke=eA(vt.type,vt.key,vt.props,null,ot.mode,Nt),In(Ke,vt),Ke.return=ot,Ke)}function yt(ot,Ke,vt,Nt){return Ke===null||Ke.tag!==4||Ke.stateNode.containerInfo!==vt.containerInfo||Ke.stateNode.implementation!==vt.implementation?(Ke=Yu(vt,ot.mode,Nt),Ke.return=ot,Ke):(Ke=E(Ke,vt.children||[]),Ke.return=ot,Ke)}function It(ot,Ke,vt,Nt,Dn){return Ke===null||Ke.tag!==7?(Ke=kl(vt,ot.mode,Nt,Dn),Ke.return=ot,Ke):(Ke=E(Ke,vt),Ke.return=ot,Ke)}function Ot(ot,Ke,vt){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint")return Ke=Dc(""+Ke,ot.mode,vt),Ke.return=ot,Ke;if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case m:return vt=eA(Ke.type,Ke.key,Ke.props,null,ot.mode,vt),In(vt,Ke),vt.return=ot,vt;case x:return Ke=Yu(Ke,ot.mode,vt),Ke.return=ot,Ke;case V:return Ke=ft(Ke),Ot(ot,Ke,vt)}if(ae(Ke)||G(Ke))return Ke=kl(Ke,ot.mode,vt,null),Ke.return=ot,Ke;if(typeof Ke.then=="function")return Ot(ot,cn(Ke),vt);if(Ke.$$typeof===T)return Ot(ot,Qc(ot,Ke),vt);gn(ot,Ke)}return null}function bt(ot,Ke,vt,Nt){var Dn=Ke!==null?Ke.key:null;if(typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint")return Dn!==null?null:ve(ot,Ke,""+vt,Nt);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case m:return vt.key===Dn?Qe(ot,Ke,vt,Nt):null;case x:return vt.key===Dn?yt(ot,Ke,vt,Nt):null;case V:return vt=ft(vt),bt(ot,Ke,vt,Nt)}if(ae(vt)||G(vt))return Dn!==null?null:It(ot,Ke,vt,Nt,null);if(typeof vt.then=="function")return bt(ot,Ke,cn(vt),Nt);if(vt.$$typeof===T)return bt(ot,Ke,Qc(ot,vt),Nt);gn(ot,vt)}return null}function St(ot,Ke,vt,Nt,Dn){if(typeof Nt=="string"&&Nt!==""||typeof Nt=="number"||typeof Nt=="bigint")return ot=ot.get(vt)||null,ve(Ke,ot,""+Nt,Dn);if(typeof Nt=="object"&&Nt!==null){switch(Nt.$$typeof){case m:return ot=ot.get(Nt.key===null?vt:Nt.key)||null,Qe(Ke,ot,Nt,Dn);case x:return ot=ot.get(Nt.key===null?vt:Nt.key)||null,yt(Ke,ot,Nt,Dn);case V:return Nt=ft(Nt),St(ot,Ke,vt,Nt,Dn)}if(ae(Nt)||G(Nt))return ot=ot.get(vt)||null,It(Ke,ot,Nt,Dn,null);if(typeof Nt.then=="function")return St(ot,Ke,vt,cn(Nt),Dn);if(Nt.$$typeof===T)return St(ot,Ke,vt,Qc(Ke,Nt),Dn);gn(Ke,Nt)}return null}function _n(ot,Ke,vt,Nt){for(var Dn=null,or=null,Sn=Ke,_i=Ke=0,ji=null;Sn!==null&&_i<vt.length;_i++){Sn.index>_i?(ji=Sn,Sn=null):ji=Sn.sibling;var Ar=bt(ot,Sn,vt[_i],Nt);if(Ar===null){Sn===null&&(Sn=ji);break}o&&Sn&&Ar.alternate===null&&u(ot,Sn),Ke=L(Ar,Ke,_i),or===null?Dn=Ar:or.sibling=Ar,or=Ar,Sn=ji}if(_i===vt.length)return p(ot,Sn),Ci&&co(ot,_i),Dn;if(Sn===null){for(;_i<vt.length;_i++)Sn=Ot(ot,vt[_i],Nt),Sn!==null&&(Ke=L(Sn,Ke,_i),or===null?Dn=Sn:or.sibling=Sn,or=Sn);return Ci&&co(ot,_i),Dn}for(Sn=y(Sn);_i<vt.length;_i++)ji=St(Sn,ot,_i,vt[_i],Nt),ji!==null&&(o&&ji.alternate!==null&&Sn.delete(ji.key===null?_i:ji.key),Ke=L(ji,Ke,_i),or===null?Dn=ji:or.sibling=ji,or=ji);return o&&Sn.forEach(function(Wh){return u(ot,Wh)}),Ci&&co(ot,_i),Dn}function jn(ot,Ke,vt,Nt){if(vt==null)throw Error(n(151));for(var Dn=null,or=null,Sn=Ke,_i=Ke=0,ji=null,Ar=vt.next();Sn!==null&&!Ar.done;_i++,Ar=vt.next()){Sn.index>_i?(ji=Sn,Sn=null):ji=Sn.sibling;var Wh=bt(ot,Sn,Ar.value,Nt);if(Wh===null){Sn===null&&(Sn=ji);break}o&&Sn&&Wh.alternate===null&&u(ot,Sn),Ke=L(Wh,Ke,_i),or===null?Dn=Wh:or.sibling=Wh,or=Wh,Sn=ji}if(Ar.done)return p(ot,Sn),Ci&&co(ot,_i),Dn;if(Sn===null){for(;!Ar.done;_i++,Ar=vt.next())Ar=Ot(ot,Ar.value,Nt),Ar!==null&&(Ke=L(Ar,Ke,_i),or===null?Dn=Ar:or.sibling=Ar,or=Ar);return Ci&&co(ot,_i),Dn}for(Sn=y(Sn);!Ar.done;_i++,Ar=vt.next())Ar=St(Sn,ot,_i,Ar.value,Nt),Ar!==null&&(o&&Ar.alternate!==null&&Sn.delete(Ar.key===null?_i:Ar.key),Ke=L(Ar,Ke,_i),or===null?Dn=Ar:or.sibling=Ar,or=Ar);return o&&Sn.forEach(function(r6){return u(ot,r6)}),Ci&&co(ot,_i),Dn}function zr(ot,Ke,vt,Nt){if(typeof vt=="object"&&vt!==null&&vt.type===B&&vt.key===null&&(vt=vt.props.children),typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case m:e:{for(var Dn=vt.key;Ke!==null;){if(Ke.key===Dn){if(Dn=vt.type,Dn===B){if(Ke.tag===7){p(ot,Ke.sibling),Nt=E(Ke,vt.props.children),Nt.return=ot,ot=Nt;break e}}else if(Ke.elementType===Dn||typeof Dn=="object"&&Dn!==null&&Dn.$$typeof===V&&ft(Dn)===Ke.type){p(ot,Ke.sibling),Nt=E(Ke,vt.props),In(Nt,vt),Nt.return=ot,ot=Nt;break e}p(ot,Ke);break}else u(ot,Ke);Ke=Ke.sibling}vt.type===B?(Nt=kl(vt.props.children,ot.mode,Nt,vt.key),Nt.return=ot,ot=Nt):(Nt=eA(vt.type,vt.key,vt.props,null,ot.mode,Nt),In(Nt,vt),Nt.return=ot,ot=Nt)}return ee(ot);case x:e:{for(Dn=vt.key;Ke!==null;){if(Ke.key===Dn)if(Ke.tag===4&&Ke.stateNode.containerInfo===vt.containerInfo&&Ke.stateNode.implementation===vt.implementation){p(ot,Ke.sibling),Nt=E(Ke,vt.children||[]),Nt.return=ot,ot=Nt;break e}else{p(ot,Ke);break}else u(ot,Ke);Ke=Ke.sibling}Nt=Yu(vt,ot.mode,Nt),Nt.return=ot,ot=Nt}return ee(ot);case V:return vt=ft(vt),zr(ot,Ke,vt,Nt)}if(ae(vt))return _n(ot,Ke,vt,Nt);if(G(vt)){if(Dn=G(vt),typeof Dn!="function")throw Error(n(150));return vt=Dn.call(vt),jn(ot,Ke,vt,Nt)}if(typeof vt.then=="function")return zr(ot,Ke,cn(vt),Nt);if(vt.$$typeof===T)return zr(ot,Ke,Qc(ot,vt),Nt);gn(ot,vt)}return typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint"?(vt=""+vt,Ke!==null&&Ke.tag===6?(p(ot,Ke.sibling),Nt=E(Ke,vt),Nt.return=ot,ot=Nt):(p(ot,Ke),Nt=Dc(vt,ot.mode,Nt),Nt.return=ot,ot=Nt),ee(ot)):p(ot,Ke)}return function(ot,Ke,vt,Nt){try{yn=0;var Dn=zr(ot,Ke,vt,Nt);return Dt=null,Dn}catch(Sn){if(Sn===je||Sn===be)throw Sn;var or=br(29,Sn,null,ot.mode);return or.lanes=Nt,or.return=ot,or}}}var gr=gi(!0),qn=gi(!1),tn=!1;function Jt(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xr(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Nn(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function ti(o,u,p){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(Mn&2)!==0){var E=y.pending;return E===null?u.next=u:(u.next=E.next,E.next=u),y.pending=u,u=Or(o),LA(o,null,p),u}return ks(o,y,u,p),Or(o)}function zi(o,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194048)!==0)){var y=u.lanes;y&=o.pendingLanes,p|=y,u.lanes=p,Xi(o,p)}}function fn(o,u){var p=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var E=null,L=null;if(p=p.firstBaseUpdate,p!==null){do{var ee={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};L===null?E=L=ee:L=L.next=ee,p=p.next}while(p!==null);L===null?E=L=u:L=L.next=u}else E=L=u;p={baseState:y.baseState,firstBaseUpdate:E,lastBaseUpdate:L,shared:y.shared,callbacks:y.callbacks},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=u:o.next=u,p.lastBaseUpdate=u}var ya=!1;function Br(){if(ya){var o=F;if(o!==null)throw o}}function ds(o,u,p,y){ya=!1;var E=o.updateQueue;tn=!1;var L=E.firstBaseUpdate,ee=E.lastBaseUpdate,ve=E.shared.pending;if(ve!==null){E.shared.pending=null;var Qe=ve,yt=Qe.next;Qe.next=null,ee===null?L=yt:ee.next=yt,ee=Qe;var It=o.alternate;It!==null&&(It=It.updateQueue,ve=It.lastBaseUpdate,ve!==ee&&(ve===null?It.firstBaseUpdate=yt:ve.next=yt,It.lastBaseUpdate=Qe))}if(L!==null){var Ot=E.baseState;ee=0,It=yt=Qe=null,ve=L;do{var bt=ve.lane&-536870913,St=bt!==ve.lane;if(St?(pi&bt)===bt:(y&bt)===bt){bt!==0&&bt===S&&(ya=!0),It!==null&&(It=It.next={lane:0,tag:ve.tag,payload:ve.payload,callback:null,next:null});e:{var _n=o,jn=ve;bt=u;var zr=p;switch(jn.tag){case 1:if(_n=jn.payload,typeof _n=="function"){Ot=_n.call(zr,Ot,bt);break e}Ot=_n;break e;case 3:_n.flags=_n.flags&-65537|128;case 0:if(_n=jn.payload,bt=typeof _n=="function"?_n.call(zr,Ot,bt):_n,bt==null)break e;Ot=g({},Ot,bt);break e;case 2:tn=!0}}bt=ve.callback,bt!==null&&(o.flags|=64,St&&(o.flags|=8192),St=E.callbacks,St===null?E.callbacks=[bt]:St.push(bt))}else St={lane:bt,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null},It===null?(yt=It=St,Qe=Ot):It=It.next=St,ee|=bt;if(ve=ve.next,ve===null){if(ve=E.shared.pending,ve===null)break;St=ve,ve=St.next,St.next=null,E.lastBaseUpdate=St,E.shared.pending=null}}while(!0);It===null&&(Qe=Ot),E.baseState=Qe,E.firstBaseUpdate=yt,E.lastBaseUpdate=It,L===null&&(E.shared.lanes=0),Uu|=ee,o.lanes=ee,o.memoizedState=Ot}}function Cs(o,u){if(typeof o!="function")throw Error(n(191,o));o.call(u)}function Es(o,u){var p=o.callbacks;if(p!==null)for(o.callbacks=null,o=0;o<p.length;o++)Cs(p[o],u)}var mi=W(null),Gi=W(0);function Yr(o,u){o=PA,X(Gi,o),X(mi,u),PA=o|u.baseLanes}function Zi(){X(Gi,PA),X(mi,mi.current)}function ps(){PA=Gi.current,Q(mi),Q(Gi)}var Qr=W(null),Fi=null;function is(o){var u=o.alternate;X(kn,kn.current&1),X(Qr,o),Fi===null&&(u===null||mi.current!==null||u.memoizedState!==null)&&(Fi=o)}function ir(o){X(kn,kn.current),X(Qr,o),Fi===null&&(Fi=o)}function Ms(o){o.tag===22?(X(kn,kn.current),X(Qr,o),Fi===null&&(Fi=o)):Sr()}function Sr(){X(kn,kn.current),X(Qr,Qr.current)}function Li(o){Q(Qr),Fi===o&&(Fi=null),Q(kn)}var kn=W(0);function Nr(o){for(var u=o;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||eB(p)||tB(p)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var bi=0,Un=null,Ln=null,Qn=null,rs=!1,nA=!1,Xa=!1,Us=0,yu=0,wu=null,kc=0;function mr(){throw Error(n(321))}function Fd(o,u){if(u===null)return!1;for(var p=0;p<u.length&&p<o.length;p++)if(!Qs(o[p],u[p]))return!1;return!0}function _h(o,u,p,y,E,L){return bi=L,Un=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Z.H=o===null||o.memoizedState===null?qv:o0,Xa=!1,L=p(y,E),Xa=!1,nA&&(L=ho(u,p,y,E)),Bh(o),L}function Bh(o){Z.H=Fh;var u=Ln!==null&&Ln.next!==null;if(bi=0,Qn=Ln=Un=null,rs=!1,yu=0,wu=null,u)throw Error(n(300));o===null||na||(o=o.dependencies,o!==null&&Lf(o)&&(na=!0))}function ho(o,u,p,y){Un=o;var E=0;do{if(nA&&(wu=null),yu=0,nA=!1,25<=E)throw Error(n(301));if(E+=1,Qn=Ln=null,o.updateQueue!=null){var L=o.updateQueue;L.lastEffect=null,L.events=null,L.stores=null,L.memoCache!=null&&(L.memoCache.index=0)}Z.H=fl,L=u(p,y)}while(nA);return L}function tc(){var o=Z.H,u=o.useState()[0];return u=typeof u.then=="function"?xu(u):u,o=o.useState()[0],(Ln!==null?Ln.memoizedState:null)!==o&&(Un.flags|=1024),u}function Ld(){var o=Us!==0;return Us=0,o}function Id(o,u,p){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~p}function Sh(o){if(rs){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}rs=!1}bi=0,Qn=Ln=Un=null,nA=!1,yu=Us=0,wu=null}function ss(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qn===null?Un.memoizedState=Qn=o:Qn=Qn.next=o,Qn}function as(){if(Ln===null){var o=Un.alternate;o=o!==null?o.memoizedState:null}else o=Ln.next;var u=Qn===null?Un.memoizedState:Qn.next;if(u!==null)Qn=u,Ln=o;else{if(o===null)throw Un.alternate===null?Error(n(467)):Error(n(310));Ln=o,o={memoizedState:Ln.memoizedState,baseState:Ln.baseState,baseQueue:Ln.baseQueue,queue:Ln.queue,next:null},Qn===null?Un.memoizedState=Qn=o:Qn=Qn.next=o}return Qn}function Rf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xu(o){var u=yu;return yu+=1,wu===null&&(wu=[]),o=Mt(wu,o,u),u=Un,(Qn===null?u.memoizedState:Qn.next)===null&&(u=u.alternate,Z.H=u===null||u.memoizedState===null?qv:o0),o}function ll(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return xu(o);if(o.$$typeof===T)return Hn(o)}throw Error(n(438,String(o)))}function nc(o){var u=null,p=Un.updateQueue;if(p!==null&&(u=p.memoCache),u==null){var y=Un.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(u={data:y.data.map(function(E){return E.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),p===null&&(p=Rf(),Un.updateQueue=p),p.memoCache=u,p=u.data[u.index],p===void 0)for(p=u.data[u.index]=Array(o),y=0;y<o;y++)p[y]=P;return u.index++,p}function ul(o,u){return typeof u=="function"?u(o):u}function Ch(o){var u=as();return zc(u,Ln,o)}function zc(o,u,p){var y=o.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=p;var E=o.baseQueue,L=y.pending;if(L!==null){if(E!==null){var ee=E.next;E.next=L.next,L.next=ee}u.baseQueue=E=L,y.pending=null}if(L=o.baseState,E===null)o.memoizedState=L;else{u=E.next;var ve=ee=null,Qe=null,yt=u,It=!1;do{var Ot=yt.lane&-536870913;if(Ot!==yt.lane?(pi&Ot)===Ot:(bi&Ot)===Ot){var bt=yt.revertLane;if(bt===0)Qe!==null&&(Qe=Qe.next={lane:0,revertLane:0,gesture:null,action:yt.action,hasEagerState:yt.hasEagerState,eagerState:yt.eagerState,next:null}),Ot===S&&(It=!0);else if((bi&bt)===bt){yt=yt.next,bt===S&&(It=!0);continue}else Ot={lane:0,revertLane:yt.revertLane,gesture:null,action:yt.action,hasEagerState:yt.hasEagerState,eagerState:yt.eagerState,next:null},Qe===null?(ve=Qe=Ot,ee=L):Qe=Qe.next=Ot,Un.lanes|=bt,Uu|=bt;Ot=yt.action,Xa&&p(L,Ot),L=yt.hasEagerState?yt.eagerState:p(L,Ot)}else bt={lane:Ot,revertLane:yt.revertLane,gesture:yt.gesture,action:yt.action,hasEagerState:yt.hasEagerState,eagerState:yt.eagerState,next:null},Qe===null?(ve=Qe=bt,ee=L):Qe=Qe.next=bt,Un.lanes|=Ot,Uu|=Ot;yt=yt.next}while(yt!==null&&yt!==u);if(Qe===null?ee=L:Qe.next=ve,!Qs(L,o.memoizedState)&&(na=!0,It&&(p=F,p!==null)))throw p;o.memoizedState=L,o.baseState=ee,o.baseQueue=Qe,y.lastRenderedState=L}return E===null&&(y.lanes=0),[o.memoizedState,y.dispatch]}function Eh(o){var u=as(),p=u.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=o;var y=p.dispatch,E=p.pending,L=u.memoizedState;if(E!==null){p.pending=null;var ee=E=E.next;do L=o(L,ee.action),ee=ee.next;while(ee!==E);Qs(L,u.memoizedState)||(na=!0),u.memoizedState=L,u.baseQueue===null&&(u.baseState=L),p.lastRenderedState=L}return[L,y]}function Mh(o,u,p){var y=Un,E=as(),L=Ci;if(L){if(p===void 0)throw Error(n(407));p=p()}else p=u();var ee=!Qs((Ln||E).memoizedState,p);if(ee&&(E.memoizedState=p,na=!0),E=E.queue,t0(Nd.bind(null,y,E,o),[o]),E.getSnapshot!==u||ee||Qn!==null&&Qn.memoizedState.tag&1){if(y.flags|=2048,Yl(9,{destroy:void 0},Rd.bind(null,y,E,p,u),null),Xn===null)throw Error(n(349));L||(bi&127)!==0||ql(y,u,p)}return p}function ql(o,u,p){o.flags|=16384,o={getSnapshot:u,value:p},u=Un.updateQueue,u===null?(u=Rf(),Un.updateQueue=u,u.stores=[o]):(p=u.stores,p===null?u.stores=[o]:p.push(o))}function Rd(o,u,p,y){u.value=p,u.getSnapshot=y,ig(u)&&Dd(o)}function Nd(o,u,p){return p(function(){ig(u)&&Dd(o)})}function ig(o){var u=o.getSnapshot;o=o.value;try{var p=u();return!Qs(o,p)}catch{return!0}}function Dd(o){var u=ga(o,2);u!==null&&yi(u,o,2)}function bu(o){var u=ss();if(typeof o=="function"){var p=o;if(o=p(),Xa){ct(!0);try{p()}finally{ct(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:o},u}function Od(o,u,p,y){return o.baseState=p,zc(o,Ln,typeof y=="function"?y:ul)}function rg(o,u,p,y,E){if(og(o))throw Error(n(485));if(o=u.action,o!==null){var L={payload:E,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ee){L.listeners.push(ee)}};Z.T!==null?p(!0):L.isTransition=!1,y(L),p=u.pending,p===null?(L.next=u.pending=L,sg(u,L)):(L.next=p.next,u.pending=p.next=L)}}function sg(o,u){var p=u.action,y=u.payload,E=o.state;if(u.isTransition){var L=Z.T,ee={};Z.T=ee;try{var ve=p(E,y),Qe=Z.S;Qe!==null&&Qe(ee,ve),Pd(o,u,ve)}catch(yt){ic(o,u,yt)}finally{L!==null&&ee.types!==null&&(L.types=ee.types),Z.T=L}}else try{L=p(E,y),Pd(o,u,L)}catch(yt){ic(o,u,yt)}}function Pd(o,u,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(y){ag(o,u,y)},function(y){return ic(o,u,y)}):ag(o,u,p)}function ag(o,u,p){u.status="fulfilled",u.value=p,Uh(u),o.state=p,u=o.pending,u!==null&&(p=u.next,p===u?o.pending=null:(p=p.next,u.next=p,sg(o,p)))}function ic(o,u,p){var y=o.pending;if(o.pending=null,y!==null){y=y.next;do u.status="rejected",u.reason=p,Uh(u),u=u.next;while(u!==y)}o.action=null}function Uh(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function Gc(o,u){return u}function NA(o,u){if(Ci){var p=Xn.formState;if(p!==null){e:{var y=Un;if(Ci){if(_r){t:{for(var E=_r,L=qr;E.nodeType!==8;){if(!L){E=null;break t}if(E=Lu(E.nextSibling),E===null){E=null;break t}}L=E.data,E=L==="F!"||L==="F"?E:null}if(E){_r=Lu(E.nextSibling),y=E.data==="F!";break e}}Al(y)}y=!1}y&&(u=p[0])}}return p=ss(),p.memoizedState=p.baseState=u,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gc,lastRenderedState:u},p.queue=y,p=jv.bind(null,Un,y),y.dispatch=p,y=bu(!1),L=a0.bind(null,Un,!1,y.queue),y=ss(),E={state:u,dispatch:null,action:o,pending:null},y.queue=E,p=rg.bind(null,Un,E,L,p),E.dispatch=p,y.memoizedState=o,[u,p,!1]}function Xl(o){var u=as();return cl(u,Ln,o)}function cl(o,u,p){if(u=zc(o,u,Gc)[0],o=Ch(ul)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var y=xu(u)}catch(ee){throw ee===je?be:ee}else y=u;u=as();var E=u.queue,L=E.dispatch;return p!==u.memoizedState&&(Un.flags|=2048,Yl(9,{destroy:void 0},Nf.bind(null,E,p),null)),[y,L,o]}function Nf(o,u){o.action=u}function Df(o){var u=as(),p=Ln;if(p!==null)return cl(u,p,o);as(),u=u.memoizedState,p=as();var y=p.queue.dispatch;return p.memoizedState=o,[u,y,!1]}function Yl(o,u,p,y){return o={tag:o,create:p,deps:y,inst:u,next:null},u=Un.updateQueue,u===null&&(u=Rf(),Un.updateQueue=u),p=u.lastEffect,p===null?u.lastEffect=o.next=o:(y=p.next,p.next=o,o.next=y,u.lastEffect=o),o}function Th(){return as().memoizedState}function Vc(o,u,p,y){var E=ss();Un.flags|=o,E.memoizedState=Yl(1|u,{destroy:void 0},p,y===void 0?null:y)}function jc(o,u,p,y){var E=as();y=y===void 0?null:y;var L=E.memoizedState.inst;Ln!==null&&y!==null&&Fd(y,Ln.memoizedState.deps)?E.memoizedState=Yl(u,L,p,y):(Un.flags|=o,E.memoizedState=Yl(1|u,L,p,y))}function Tv(o,u){Vc(8390656,8,o,u)}function t0(o,u){jc(2048,8,o,u)}function Fv(o){Un.flags|=4;var u=Un.updateQueue;if(u===null)u=Rf(),Un.updateQueue=u,u.events=[o];else{var p=u.events;p===null?u.events=[o]:p.push(o)}}function Lv(o){var u=as().memoizedState;return Fv({ref:u,nextImpl:o}),function(){if((Mn&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}function Iv(o,u){return jc(4,2,o,u)}function Rv(o,u){return jc(4,4,o,u)}function Nv(o,u){if(typeof u=="function"){o=o();var p=u(o);return function(){typeof p=="function"?p():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function Dv(o,u,p){p=p!=null?p.concat([o]):null,jc(4,4,Nv.bind(null,u,o),p)}function n0(){}function Ov(o,u){var p=as();u=u===void 0?null:u;var y=p.memoizedState;return u!==null&&Fd(u,y[1])?y[0]:(p.memoizedState=[o,u],o)}function Pv(o,u){var p=as();u=u===void 0?null:u;var y=p.memoizedState;if(u!==null&&Fd(u,y[1]))return y[0];if(y=o(),Xa){ct(!0);try{o()}finally{ct(!1)}}return p.memoizedState=[y,u],y}function i0(o,u,p){return p===void 0||(bi&1073741824)!==0&&(pi&261930)===0?o.memoizedState=u:(o.memoizedState=p,o=Ei(),Un.lanes|=o,Uu|=o,p)}function Qv(o,u,p,y){return Qs(p,u)?p:mi.current!==null?(o=i0(o,p,y),Qs(o,u)||(na=!0),o):(bi&42)===0||(bi&1073741824)!==0&&(pi&261930)===0?(na=!0,o.memoizedState=p):(o=Ei(),Un.lanes|=o,Uu|=o,u)}function Hv(o,u,p,y,E){var L=ne.p;ne.p=L!==0&&8>L?L:8;var ee=Z.T,ve={};Z.T=ve,a0(o,!1,u,p);try{var Qe=E(),yt=Z.S;if(yt!==null&&yt(ve,Qe),Qe!==null&&typeof Qe=="object"&&typeof Qe.then=="function"){var It=ue(Qe,y);Qd(o,u,It,HA(o))}else Qd(o,u,y,HA(o))}catch(Ot){Qd(o,u,{then:function(){},status:"rejected",reason:Ot},HA())}finally{ne.p=L,ee!==null&&ve.types!==null&&(ee.types=ve.types),Z.T=ee}}function Q_(){}function r0(o,u,p,y){if(o.tag!==5)throw Error(n(476));var E=kv(o).queue;Hv(o,E,u,oe,p===null?Q_:function(){return zv(o),p(y)})}function kv(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:oe},next:null};var p={};return u.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:p},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function zv(o){var u=kv(o);u.next===null&&(u=o.alternate.memoizedState),Qd(o,u.next.queue,{},HA())}function s0(){return Hn(E0)}function Gv(){return as().memoizedState}function Vv(){return as().memoizedState}function H_(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var p=HA();o=Nn(p);var y=ti(u,o,p);y!==null&&(yi(y,u,p),zi(y,u,p)),u={cache:Hc()},o.payload=u;return}u=u.return}}function k_(o,u,p){var y=HA();p={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},og(o)?Kv(u,p):(p=Uf(o,u,p,y),p!==null&&(yi(p,o,y),Wv(p,u,y)))}function jv(o,u,p){var y=HA();Qd(o,u,p,y)}function Qd(o,u,p,y){var E={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(og(o))Kv(u,E);else{var L=o.alternate;if(o.lanes===0&&(L===null||L.lanes===0)&&(L=u.lastRenderedReducer,L!==null))try{var ee=u.lastRenderedState,ve=L(ee,p);if(E.hasEagerState=!0,E.eagerState=ve,Qs(ve,ee))return ks(o,u,E,0),Xn===null&&Rc(),!1}catch{}if(p=Uf(o,u,E,y),p!==null)return yi(p,o,y),Wv(p,u,y),!0}return!1}function a0(o,u,p,y){if(y={lane:2,revertLane:_t(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},og(o)){if(u)throw Error(n(479))}else u=Uf(o,p,y,2),u!==null&&yi(u,o,2)}function og(o){var u=o.alternate;return o===Un||u!==null&&u===Un}function Kv(o,u){nA=rs=!0;var p=o.pending;p===null?u.next=u:(u.next=p.next,p.next=u),o.pending=u}function Wv(o,u,p){if((p&4194048)!==0){var y=u.lanes;y&=o.pendingLanes,p|=y,u.lanes=p,Xi(o,p)}}var Fh={readContext:Hn,use:ll,useCallback:mr,useContext:mr,useEffect:mr,useImperativeHandle:mr,useLayoutEffect:mr,useInsertionEffect:mr,useMemo:mr,useReducer:mr,useRef:mr,useState:mr,useDebugValue:mr,useDeferredValue:mr,useTransition:mr,useSyncExternalStore:mr,useId:mr,useHostTransitionStatus:mr,useFormState:mr,useActionState:mr,useOptimistic:mr,useMemoCache:mr,useCacheRefresh:mr};Fh.useEffectEvent=mr;var qv={readContext:Hn,use:ll,useCallback:function(o,u){return ss().memoizedState=[o,u===void 0?null:u],o},useContext:Hn,useEffect:Tv,useImperativeHandle:function(o,u,p){p=p!=null?p.concat([o]):null,Vc(4194308,4,Nv.bind(null,u,o),p)},useLayoutEffect:function(o,u){return Vc(4194308,4,o,u)},useInsertionEffect:function(o,u){Vc(4,2,o,u)},useMemo:function(o,u){var p=ss();u=u===void 0?null:u;var y=o();if(Xa){ct(!0);try{o()}finally{ct(!1)}}return p.memoizedState=[y,u],y},useReducer:function(o,u,p){var y=ss();if(p!==void 0){var E=p(u);if(Xa){ct(!0);try{p(u)}finally{ct(!1)}}}else E=u;return y.memoizedState=y.baseState=E,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:E},y.queue=o,o=o.dispatch=k_.bind(null,Un,o),[y.memoizedState,o]},useRef:function(o){var u=ss();return o={current:o},u.memoizedState=o},useState:function(o){o=bu(o);var u=o.queue,p=jv.bind(null,Un,u);return u.dispatch=p,[o.memoizedState,p]},useDebugValue:n0,useDeferredValue:function(o,u){var p=ss();return i0(p,o,u)},useTransition:function(){var o=bu(!1);return o=Hv.bind(null,Un,o.queue,!0,!1),ss().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,p){var y=Un,E=ss();if(Ci){if(p===void 0)throw Error(n(407));p=p()}else{if(p=u(),Xn===null)throw Error(n(349));(pi&127)!==0||ql(y,u,p)}E.memoizedState=p;var L={value:p,getSnapshot:u};return E.queue=L,Tv(Nd.bind(null,y,L,o),[o]),y.flags|=2048,Yl(9,{destroy:void 0},Rd.bind(null,y,L,p,u),null),p},useId:function(){var o=ss(),u=Xn.identifierPrefix;if(Ci){var p=To,y=Rr;p=(y&~(1<<32-Ee(y)-1)).toString(32)+p,u="_"+u+"R_"+p,p=Us++,0<p&&(u+="H"+p.toString(32)),u+="_"}else p=kc++,u="_"+u+"r_"+p.toString(32)+"_";return o.memoizedState=u},useHostTransitionStatus:s0,useFormState:NA,useActionState:NA,useOptimistic:function(o){var u=ss();u.memoizedState=u.baseState=o;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=p,u=a0.bind(null,Un,!0,p),p.dispatch=u,[o,u]},useMemoCache:nc,useCacheRefresh:function(){return ss().memoizedState=H_.bind(null,Un)},useEffectEvent:function(o){var u=ss(),p={impl:o};return u.memoizedState=p,function(){if((Mn&2)!==0)throw Error(n(440));return p.impl.apply(void 0,arguments)}}},o0={readContext:Hn,use:ll,useCallback:Ov,useContext:Hn,useEffect:t0,useImperativeHandle:Dv,useInsertionEffect:Iv,useLayoutEffect:Rv,useMemo:Pv,useReducer:Ch,useRef:Th,useState:function(){return Ch(ul)},useDebugValue:n0,useDeferredValue:function(o,u){var p=as();return Qv(p,Ln.memoizedState,o,u)},useTransition:function(){var o=Ch(ul)[0],u=as().memoizedState;return[typeof o=="boolean"?o:xu(o),u]},useSyncExternalStore:Mh,useId:Gv,useHostTransitionStatus:s0,useFormState:Xl,useActionState:Xl,useOptimistic:function(o,u){var p=as();return Od(p,Ln,o,u)},useMemoCache:nc,useCacheRefresh:Vv};o0.useEffectEvent=Lv;var fl={readContext:Hn,use:ll,useCallback:Ov,useContext:Hn,useEffect:t0,useImperativeHandle:Dv,useInsertionEffect:Iv,useLayoutEffect:Rv,useMemo:Pv,useReducer:Eh,useRef:Th,useState:function(){return Eh(ul)},useDebugValue:n0,useDeferredValue:function(o,u){var p=as();return Ln===null?i0(p,o,u):Qv(p,Ln.memoizedState,o,u)},useTransition:function(){var o=Eh(ul)[0],u=as().memoizedState;return[typeof o=="boolean"?o:xu(o),u]},useSyncExternalStore:Mh,useId:Gv,useHostTransitionStatus:s0,useFormState:Df,useActionState:Df,useOptimistic:function(o,u){var p=as();return Ln!==null?Od(p,Ln,o,u):(p.baseState=o,[o,p.queue.dispatch])},useMemoCache:nc,useCacheRefresh:Vv};fl.useEffectEvent=Lv;function Ag(o,u,p,y){u=o.memoizedState,p=p(y,u),p=p==null?u:g({},u,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var Hd={enqueueSetState:function(o,u,p){o=o._reactInternals;var y=HA(),E=Nn(y);E.payload=u,p!=null&&(E.callback=p),u=ti(o,E,y),u!==null&&(yi(u,o,y),zi(u,o,y))},enqueueReplaceState:function(o,u,p){o=o._reactInternals;var y=HA(),E=Nn(y);E.tag=1,E.payload=u,p!=null&&(E.callback=p),u=ti(o,E,y),u!==null&&(yi(u,o,y),zi(u,o,y))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var p=HA(),y=Nn(p);y.tag=2,u!=null&&(y.callback=u),u=ti(o,y,p),u!==null&&(yi(u,o,p),zi(u,o,p))}};function A0(o,u,p,y,E,L,ee){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,L,ee):u.prototype&&u.prototype.isPureReactComponent?!il(p,y)||!il(E,L):!0}function l0(o,u,p,y){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,y),u.state!==o&&Hd.enqueueReplaceState(u,u.state,null)}function Kc(o,u){var p=u;if("ref"in u){p={};for(var y in u)y!=="ref"&&(p[y]=u[y])}if(o=o.defaultProps){p===u&&(p=g({},p));for(var E in o)p[E]===void 0&&(p[E]=o[E])}return p}function Xv(o){Ic(o)}function u0(o){console.error(o)}function c0(o){Ic(o)}function lg(o,u){try{var p=o.onUncaughtError;p(u.value,{componentStack:u.stack})}catch(y){setTimeout(function(){throw y})}}function Yv(o,u,p){try{var y=o.onCaughtError;y(p.value,{componentStack:p.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function f0(o,u,p){return p=Nn(p),p.tag=3,p.payload={element:null},p.callback=function(){lg(o,u)},p}function h0(o){return o=Nn(o),o.tag=3,o}function Jv(o,u,p,y){var E=p.type.getDerivedStateFromError;if(typeof E=="function"){var L=y.value;o.payload=function(){return E(L)},o.callback=function(){Yv(u,p,y)}}var ee=p.stateNode;ee!==null&&typeof ee.componentDidCatch=="function"&&(o.callback=function(){Yv(u,p,y),typeof E!="function"&&(js===null?js=new Set([this]):js.add(this));var ve=y.stack;this.componentDidCatch(y.value,{componentStack:ve!==null?ve:""})})}function wa(o,u,p,y,E){if(p.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(u=p.alternate,u!==null&&tA(u,p,E,!0),p=Qr.current,p!==null){switch(p.tag){case 31:case 13:return Fi===null?Ph():p.alternate===null&&gs===0&&(gs=3),p.flags&=-257,p.flags|=65536,p.lanes=E,y===qe?p.flags|=16384:(u=p.updateQueue,u===null?p.updateQueue=new Set([y]):u.add(y),Zd(o,y,E)),!1;case 22:return p.flags|=65536,y===qe?p.flags|=16384:(u=p.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([y])},p.updateQueue=u):(p=u.retryQueue,p===null?u.retryQueue=new Set([y]):p.add(y)),Zd(o,y,E)),!1}throw Error(n(435,p.tag))}return Zd(o,y,E),Ph(),!1}if(Ci)return u=Qr.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=E,y!==fo&&(o=Error(n(422),{cause:y}),IA(Uo(o,p)))):(y!==fo&&(u=Error(n(423),{cause:y}),IA(Uo(u,p))),o=o.current.alternate,o.flags|=65536,E&=-E,o.lanes|=E,y=Uo(y,p),E=f0(o.stateNode,y,E),fn(o,E),gs!==4&&(gs=2)),!1;var L=Error(n(520),{cause:y});if(L=Uo(L,p),Vf===null?Vf=[L]:Vf.push(L),gs!==4&&(gs=2),u===null)return!0;y=Uo(y,p),p=u;do{switch(p.tag){case 3:return p.flags|=65536,o=E&-E,p.lanes|=o,o=f0(p.stateNode,y,o),fn(p,o),!1;case 1:if(u=p.type,L=p.stateNode,(p.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(js===null||!js.has(L))))return p.flags|=65536,E&=-E,p.lanes|=E,E=h0(E),Jv(E,o,p,y),fn(p,E),!1}p=p.return}while(p!==null);return!1}var ug=Error(n(461)),na=!1;function Pa(o,u,p,y){u.child=o===null?qn(u,null,p,y):gr(u,o.child,p,y)}function d0(o,u,p,y,E){p=p.render;var L=u.ref;if("ref"in y){var ee={};for(var ve in y)ve!=="ref"&&(ee[ve]=y[ve])}else ee=y;return Wl(u),y=_h(o,u,p,ee,L,E),ve=Ld(),o!==null&&!na?(Id(o,u,E),Gs(o,u,E)):(Ci&&ve&&ol(u),u.flags|=1,Pa(o,u,y,E),u.child)}function Of(o,u,p,y,E){if(o===null){var L=p.type;return typeof L=="function"&&!Tf(L)&&L.defaultProps===void 0&&p.compare===null?(u.tag=15,u.type=L,cg(o,u,L,y,E)):(o=eA(p.type,null,y,u,u.mode,E),o.ref=u.ref,o.return=u,u.child=o)}if(L=o.child,!mg(o,E)){var ee=L.memoizedProps;if(p=p.compare,p=p!==null?p:il,p(ee,y)&&o.ref===u.ref)return Gs(o,u,E)}return u.flags|=1,o=ma(L,y),o.ref=u.ref,o.return=u,u.child=o}function cg(o,u,p,y,E){if(o!==null){var L=o.memoizedProps;if(il(L,y)&&o.ref===u.ref)if(na=!1,u.pendingProps=y=L,mg(o,E))(o.flags&131072)!==0&&(na=!0);else return u.lanes=o.lanes,Gs(o,u,E)}return Lh(o,u,p,y,E)}function Pf(o,u,p,y){var E=y.children,L=o!==null?o.memoizedState:null;if(o===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((u.flags&128)!==0){if(L=L!==null?L.baseLanes|p:p,o!==null){for(y=u.child=o.child,E=0;y!==null;)E=E|y.lanes|y.childLanes,y=y.sibling;y=E&~L}else y=0,u.child=null;return iA(o,u,L,p,y)}if((p&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&_e(u,L!==null?L.cachePool:null),L!==null?Yr(u,L):Zi(),Ms(u);else return y=u.lanes=536870912,iA(o,u,L!==null?L.baseLanes|p:p,p,y)}else L!==null?(_e(u,L.cachePool),Yr(u,L),Sr(),u.memoizedState=null):(o!==null&&_e(u,null),Zi(),Sr());return Pa(o,u,E,p),u.child}function _u(o,u){return o!==null&&o.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function iA(o,u,p,y,E){var L=we();return L=L===null?null:{parent:hs._currentValue,pool:L},u.memoizedState={baseLanes:p,cachePool:L},o!==null&&_e(u,null),Zi(),Ms(u),o!==null&&tA(o,u,y,!0),u.childLanes=E,null}function fg(o,u){return u=gg({mode:u.mode,children:u.children},o.mode),u.ref=o.ref,o.child=u,u.return=o,u}function Zv(o,u,p){return gr(u,o.child,null,p),o=fg(u,u.pendingProps),o.flags|=2,Li(u),u.memoizedState=null,o}function hg(o,u,p){var y=u.pendingProps,E=(u.flags&128)!==0;if(u.flags&=-129,o===null){if(Ci){if(y.mode==="hidden")return o=fg(u,y),u.lanes=536870912,_u(null,o);if(ir(u),(o=_r)?(o=L5(o,qr),o=o!==null&&o.data==="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:Gl!==null?{id:Rr,overflow:To}:null,retryLane:536870912,hydrationErrors:null},p=pu(o),p.return=u,u.child=p,ns=u,_r=null)):o=null,o===null)throw Al(u);return u.lanes=536870912,null}return fg(u,y)}var L=o.memoizedState;if(L!==null){var ee=L.dehydrated;if(ir(u),E)if(u.flags&256)u.flags&=-257,u=Zv(o,u,p);else if(u.memoizedState!==null)u.child=o.child,u.flags|=128,u=null;else throw Error(n(558));else if(na||tA(o,u,p,!1),E=(p&o.childLanes)!==0,na||E){if(y=Xn,y!==null&&(ee=lr(y,p),ee!==0&&ee!==L.retryLane))throw L.retryLane=ee,ga(o,ee),yi(y,o,ee),ug;Ph(),u=Zv(o,u,p)}else o=L.treeContext,_r=Lu(ee.nextSibling),ns=u,Ci=!0,Oa=null,qr=!1,o!==null&&xh(u,o),u=fg(u,y),u.flags|=4096;return u}return o=ma(o.child,{mode:y.mode,children:y.children}),o.ref=u.ref,u.child=o,o.return=u,o}function Qf(o,u){var p=u.ref;if(p===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(n(284));(o===null||o.ref!==p)&&(u.flags|=4194816)}}function Lh(o,u,p,y,E){return Wl(u),p=_h(o,u,p,y,void 0,E),y=Ld(),o!==null&&!na?(Id(o,u,E),Gs(o,u,E)):(Ci&&y&&ol(u),u.flags|=1,Pa(o,u,p,E),u.child)}function kd(o,u,p,y,E,L){return Wl(u),u.updateQueue=null,p=ho(u,y,p,E),Bh(o),y=Ld(),o!==null&&!na?(Id(o,u,L),Gs(o,u,L)):(Ci&&y&&ol(u),u.flags|=1,Pa(o,u,p,L),u.child)}function dg(o,u,p,y,E){if(Wl(u),u.stateNode===null){var L=zs,ee=p.contextType;typeof ee=="object"&&ee!==null&&(L=Hn(ee)),L=new p(y,L),u.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,L.updater=Hd,u.stateNode=L,L._reactInternals=u,L=u.stateNode,L.props=y,L.state=u.memoizedState,L.refs={},Jt(u),ee=p.contextType,L.context=typeof ee=="object"&&ee!==null?Hn(ee):zs,L.state=u.memoizedState,ee=p.getDerivedStateFromProps,typeof ee=="function"&&(Ag(u,p,ee,y),L.state=u.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(ee=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),ee!==L.state&&Hd.enqueueReplaceState(L,L.state,null),ds(u,y,L,E),Br(),L.state=u.memoizedState),typeof L.componentDidMount=="function"&&(u.flags|=4194308),y=!0}else if(o===null){L=u.stateNode;var ve=u.memoizedProps,Qe=Kc(p,ve);L.props=Qe;var yt=L.context,It=p.contextType;ee=zs,typeof It=="object"&&It!==null&&(ee=Hn(It));var Ot=p.getDerivedStateFromProps;It=typeof Ot=="function"||typeof L.getSnapshotBeforeUpdate=="function",ve=u.pendingProps!==ve,It||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(ve||yt!==ee)&&l0(u,L,y,ee),tn=!1;var bt=u.memoizedState;L.state=bt,ds(u,y,L,E),Br(),yt=u.memoizedState,ve||bt!==yt||tn?(typeof Ot=="function"&&(Ag(u,p,Ot,y),yt=u.memoizedState),(Qe=tn||A0(u,p,Qe,y,bt,yt,ee))?(It||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(u.flags|=4194308)):(typeof L.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=yt),L.props=y,L.state=yt,L.context=ee,y=Qe):(typeof L.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{L=u.stateNode,Xr(o,u),ee=u.memoizedProps,It=Kc(p,ee),L.props=It,Ot=u.pendingProps,bt=L.context,yt=p.contextType,Qe=zs,typeof yt=="object"&&yt!==null&&(Qe=Hn(yt)),ve=p.getDerivedStateFromProps,(yt=typeof ve=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(ee!==Ot||bt!==Qe)&&l0(u,L,y,Qe),tn=!1,bt=u.memoizedState,L.state=bt,ds(u,y,L,E),Br();var St=u.memoizedState;ee!==Ot||bt!==St||tn||o!==null&&o.dependencies!==null&&Lf(o.dependencies)?(typeof ve=="function"&&(Ag(u,p,ve,y),St=u.memoizedState),(It=tn||A0(u,p,It,y,bt,St,Qe)||o!==null&&o.dependencies!==null&&Lf(o.dependencies))?(yt||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(y,St,Qe),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(y,St,Qe)),typeof L.componentDidUpdate=="function"&&(u.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof L.componentDidUpdate!="function"||ee===o.memoizedProps&&bt===o.memoizedState||(u.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||ee===o.memoizedProps&&bt===o.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=St),L.props=y,L.state=St,L.context=Qe,y=It):(typeof L.componentDidUpdate!="function"||ee===o.memoizedProps&&bt===o.memoizedState||(u.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||ee===o.memoizedProps&&bt===o.memoizedState||(u.flags|=1024),y=!1)}return L=y,Qf(o,u),y=(u.flags&128)!==0,L||y?(L=u.stateNode,p=y&&typeof p.getDerivedStateFromError!="function"?null:L.render(),u.flags|=1,o!==null&&y?(u.child=gr(u,o.child,null,E),u.child=gr(u,null,p,E)):Pa(o,u,p,E),u.memoizedState=L.state,o=u.child):o=Gs(o,u,E),o}function $v(o,u,p,y){return mu(),u.flags|=256,Pa(o,u,p,y),u.child}var p0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function po(o){return{baseLanes:o,cachePool:Te()}}function pg(o,u,p){return o=o!==null?o.childLanes&~p:0,u&&(o|=No),o}function ey(o,u,p){var y=u.pendingProps,E=!1,L=(u.flags&128)!==0,ee;if((ee=L)||(ee=o!==null&&o.memoizedState===null?!1:(kn.current&2)!==0),ee&&(E=!0,u.flags&=-129),ee=(u.flags&32)!==0,u.flags&=-33,o===null){if(Ci){if(E?is(u):Sr(),(o=_r)?(o=L5(o,qr),o=o!==null&&o.data!=="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:Gl!==null?{id:Rr,overflow:To}:null,retryLane:536870912,hydrationErrors:null},p=pu(o),p.return=u,u.child=p,ns=u,_r=null)):o=null,o===null)throw Al(u);return tB(o)?u.lanes=32:u.lanes=536870912,null}var ve=y.children;return y=y.fallback,E?(Sr(),E=u.mode,ve=gg({mode:"hidden",children:ve},E),y=kl(y,E,p,null),ve.return=u,y.return=u,ve.sibling=y,u.child=ve,y=u.child,y.memoizedState=po(p),y.childLanes=pg(o,ee,p),u.memoizedState=p0,_u(null,y)):(is(u),zd(u,ve))}var Qe=o.memoizedState;if(Qe!==null&&(ve=Qe.dehydrated,ve!==null)){if(L)u.flags&256?(is(u),u.flags&=-257,u=g0(o,u,p)):u.memoizedState!==null?(Sr(),u.child=o.child,u.flags|=128,u=null):(Sr(),ve=y.fallback,E=u.mode,y=gg({mode:"visible",children:y.children},E),ve=kl(ve,E,p,null),ve.flags|=2,y.return=u,ve.return=u,y.sibling=ve,u.child=y,gr(u,o.child,null,p),y=u.child,y.memoizedState=po(p),y.childLanes=pg(o,ee,p),u.memoizedState=p0,u=_u(null,y));else if(is(u),tB(ve)){if(ee=ve.nextSibling&&ve.nextSibling.dataset,ee)var yt=ee.dgst;ee=yt,y=Error(n(419)),y.stack="",y.digest=ee,IA({value:y,source:null,stack:null}),u=g0(o,u,p)}else if(na||tA(o,u,p,!1),ee=(p&o.childLanes)!==0,na||ee){if(ee=Xn,ee!==null&&(y=lr(ee,p),y!==0&&y!==Qe.retryLane))throw Qe.retryLane=y,ga(o,y),yi(ee,o,y),ug;eB(ve)||Ph(),u=g0(o,u,p)}else eB(ve)?(u.flags|=192,u.child=o.child,u=null):(o=Qe.treeContext,_r=Lu(ve.nextSibling),ns=u,Ci=!0,Oa=null,qr=!1,o!==null&&xh(u,o),u=zd(u,y.children),u.flags|=4096);return u}return E?(Sr(),ve=y.fallback,E=u.mode,Qe=o.child,yt=Qe.sibling,y=ma(Qe,{mode:"hidden",children:y.children}),y.subtreeFlags=Qe.subtreeFlags&65011712,yt!==null?ve=ma(yt,ve):(ve=kl(ve,E,p,null),ve.flags|=2),ve.return=u,y.return=u,y.sibling=ve,u.child=y,_u(null,y),y=u.child,ve=o.child.memoizedState,ve===null?ve=po(p):(E=ve.cachePool,E!==null?(Qe=hs._currentValue,E=E.parent!==Qe?{parent:Qe,pool:Qe}:E):E=Te(),ve={baseLanes:ve.baseLanes|p,cachePool:E}),y.memoizedState=ve,y.childLanes=pg(o,ee,p),u.memoizedState=p0,_u(o.child,y)):(is(u),p=o.child,o=p.sibling,p=ma(p,{mode:"visible",children:y.children}),p.return=u,p.sibling=null,o!==null&&(ee=u.deletions,ee===null?(u.deletions=[o],u.flags|=16):ee.push(o)),u.child=p,u.memoizedState=null,p)}function zd(o,u){return u=gg({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function gg(o,u){return o=br(22,o,null,u),o.lanes=0,o}function g0(o,u,p){return gr(u,o.child,null,p),o=zd(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function ty(o,u,p){o.lanes|=u;var y=o.alternate;y!==null&&(y.lanes|=u),$u(o.return,u,p)}function Hf(o,u,p,y,E,L){var ee=o.memoizedState;ee===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:E,treeForkCount:L}:(ee.isBackwards=u,ee.rendering=null,ee.renderingStartTime=0,ee.last=y,ee.tail=p,ee.tailMode=E,ee.treeForkCount=L)}function rA(o,u,p){var y=u.pendingProps,E=y.revealOrder,L=y.tail;y=y.children;var ee=kn.current,ve=(ee&2)!==0;if(ve?(ee=ee&1|2,u.flags|=128):ee&=1,X(kn,ee),Pa(o,u,y,p),y=Ci?Pc:0,!ve&&o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&ty(o,p,u);else if(o.tag===19)ty(o,p,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(E){case"forwards":for(p=u.child,E=null;p!==null;)o=p.alternate,o!==null&&Nr(o)===null&&(E=p),p=p.sibling;p=E,p===null?(E=u.child,u.child=null):(E=p.sibling,p.sibling=null),Hf(u,!1,E,p,L,y);break;case"backwards":case"unstable_legacy-backwards":for(p=null,E=u.child,u.child=null;E!==null;){if(o=E.alternate,o!==null&&Nr(o)===null){u.child=E;break}o=E.sibling,E.sibling=p,p=E,E=o}Hf(u,!0,p,null,L,y);break;case"together":Hf(u,!1,null,null,void 0,y);break;default:u.memoizedState=null}return u.child}function Gs(o,u,p){if(o!==null&&(u.dependencies=o.dependencies),Uu|=u.lanes,(p&u.childLanes)===0)if(o!==null){if(tA(o,u,p,!1),(p&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(n(153));if(u.child!==null){for(o=u.child,p=ma(o,o.pendingProps),u.child=p,p.return=u;o.sibling!==null;)o=o.sibling,p=p.sibling=ma(o,o.pendingProps),p.return=u;p.sibling=null}return u.child}function mg(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&Lf(o)))}function z_(o,u,p){switch(u.tag){case 3:ye(u,u.stateNode.containerInfo),Kl(u,hs,o.memoizedState.cache),mu();break;case 27:case 5:Fe(u);break;case 4:ye(u,u.stateNode.containerInfo);break;case 10:Kl(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,ir(u),null;break;case 13:var y=u.memoizedState;if(y!==null)return y.dehydrated!==null?(is(u),u.flags|=128,null):(p&u.child.childLanes)!==0?ey(o,u,p):(is(u),o=Gs(o,u,p),o!==null?o.sibling:null);is(u);break;case 19:var E=(o.flags&128)!==0;if(y=(p&u.childLanes)!==0,y||(tA(o,u,p,!1),y=(p&u.childLanes)!==0),E){if(y)return rA(o,u,p);u.flags|=128}if(E=u.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),X(kn,kn.current),y)break;return null;case 22:return u.lanes=0,Pf(o,u,p,u.pendingProps);case 24:Kl(u,hs,o.memoizedState.cache)}return Gs(o,u,p)}function vg(o,u,p){if(o!==null)if(o.memoizedProps!==u.pendingProps)na=!0;else{if(!mg(o,p)&&(u.flags&128)===0)return na=!1,z_(o,u,p);na=(o.flags&131072)!==0}else na=!1,Ci&&(u.flags&1048576)!==0&&eg(u,Pc,u.index);switch(u.lanes=0,u.tag){case 16:e:{var y=u.pendingProps;if(o=ft(u.elementType),u.type=o,typeof o=="function")Tf(o)?(y=Kc(o,y),u.tag=1,u=dg(null,u,o,y,p)):(u.tag=0,u=Lh(null,u,o,y,p));else{if(o!=null){var E=o.$$typeof;if(E===U){u.tag=11,u=d0(null,u,o,y,p);break e}else if(E===z){u.tag=14,u=Of(null,u,o,y,p);break e}}throw u=H(o)||o,Error(n(306,u,""))}}return u;case 0:return Lh(o,u,u.type,u.pendingProps,p);case 1:return y=u.type,E=Kc(y,u.pendingProps),dg(o,u,y,E,p);case 3:e:{if(ye(u,u.stateNode.containerInfo),o===null)throw Error(n(387));y=u.pendingProps;var L=u.memoizedState;E=L.element,Xr(o,u),ds(u,y,null,p);var ee=u.memoizedState;if(y=ee.cache,Kl(u,hs,y),y!==L.cache&&vu(u,[hs],p,!0),Br(),y=ee.element,L.isDehydrated)if(L={element:y,isDehydrated:!1,cache:ee.cache},u.updateQueue.baseState=L,u.memoizedState=L,u.flags&256){u=$v(o,u,y,p);break e}else if(y!==E){E=Uo(Error(n(424)),u),IA(E),u=$v(o,u,y,p);break e}else for(o=u.stateNode.containerInfo,o.nodeType===9?o=o.body:o=o.nodeName==="HTML"?o.ownerDocument.body:o,_r=Lu(o.firstChild),ns=u,Ci=!0,Oa=null,qr=!0,p=qn(u,null,y,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(mu(),y===E){u=Gs(o,u,p);break e}Pa(o,u,y,p)}u=u.child}return u;case 26:return Qf(o,u),o===null?(p=P5(u.type,null,u.pendingProps,null))?u.memoizedState=p:Ci||(p=u.type,o=u.pendingProps,y=sy(te.current).createElement(p),y[ei]=u,y[Ji]=o,Oo(y,p,o),pe(y),u.stateNode=y):u.memoizedState=P5(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return Fe(u),o===null&&Ci&&(y=u.stateNode=N5(u.type,u.pendingProps,te.current),ns=u,qr=!0,E=_r,zh(u.type)?(nB=E,_r=Lu(y.firstChild)):_r=E),Pa(o,u,u.pendingProps.children,p),Qf(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&Ci&&((E=y=_r)&&(y=RD(y,u.type,u.pendingProps,qr),y!==null?(u.stateNode=y,ns=u,_r=Lu(y.firstChild),qr=!1,E=!0):E=!1),E||Al(u)),Fe(u),E=u.type,L=u.pendingProps,ee=o!==null?o.memoizedProps:null,y=L.children,J_(E,L)?y=null:ee!==null&&J_(E,ee)&&(u.flags|=32),u.memoizedState!==null&&(E=_h(o,u,tc,null,null,p),E0._currentValue=E),Qf(o,u),Pa(o,u,y,p),u.child;case 6:return o===null&&Ci&&((o=p=_r)&&(p=ND(p,u.pendingProps,qr),p!==null?(u.stateNode=p,ns=u,_r=null,o=!0):o=!1),o||Al(u)),null;case 13:return ey(o,u,p);case 4:return ye(u,u.stateNode.containerInfo),y=u.pendingProps,o===null?u.child=gr(u,null,y,p):Pa(o,u,y,p),u.child;case 11:return d0(o,u,u.type,u.pendingProps,p);case 7:return Pa(o,u,u.pendingProps,p),u.child;case 8:return Pa(o,u,u.pendingProps.children,p),u.child;case 12:return Pa(o,u,u.pendingProps.children,p),u.child;case 10:return y=u.pendingProps,Kl(u,u.type,y.value),Pa(o,u,y.children,p),u.child;case 9:return E=u.type._context,y=u.pendingProps.children,Wl(u),E=Hn(E),y=y(E),u.flags|=1,Pa(o,u,y,p),u.child;case 14:return Of(o,u,u.type,u.pendingProps,p);case 15:return cg(o,u,u.type,u.pendingProps,p);case 19:return rA(o,u,p);case 31:return hg(o,u,p);case 22:return Pf(o,u,p,u.pendingProps);case 24:return Wl(u),y=Hn(hs),o===null?(E=we(),E===null&&(E=Xn,L=Hc(),E.pooledCache=L,L.refCount++,L!==null&&(E.pooledCacheLanes|=p),E=L),u.memoizedState={parent:y,cache:E},Jt(u),Kl(u,hs,E)):((o.lanes&p)!==0&&(Xr(o,u),ds(u,null,null,p),Br()),E=o.memoizedState,L=u.memoizedState,E.parent!==y?(E={parent:y,cache:y},u.memoizedState=E,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=E),Kl(u,hs,y)):(y=L.cache,Kl(u,hs,y),y!==E.cache&&vu(u,[hs],p,!0))),Pa(o,u,u.pendingProps.children,p),u.child;case 29:throw u.pendingProps}throw Error(n(156,u.tag))}function Bu(o){o.flags|=4}function Gd(o,u,p,y,E){if((u=(o.mode&32)!==0)&&(u=!1),u){if(o.flags|=16777216,(E&335544128)===E)if(o.stateNode.complete)o.flags|=8192;else if(vs())o.flags|=8192;else throw Ct=qe,gt}else o.flags&=-16777217}function m0(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!G5(u))if(vs())o.flags|=8192;else throw Ct=qe,gt}function rc(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?Wt():536870912,o.lanes|=u,Jr|=u)}function Su(o,u){if(!Ci)switch(o.tailMode){case"hidden":u=o.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function Cr(o){var u=o.alternate!==null&&o.alternate.child===o.child,p=0,y=0;if(u)for(var E=o.child;E!==null;)p|=E.lanes|E.childLanes,y|=E.subtreeFlags&65011712,y|=E.flags&65011712,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)p|=E.lanes|E.childLanes,y|=E.subtreeFlags,y|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=y,o.childLanes=p,u}function Vd(o,u,p){var y=u.pendingProps;switch(Ff(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cr(u),null;case 1:return Cr(u),null;case 3:return p=u.stateNode,y=null,o!==null&&(y=o.memoizedState.cache),u.memoizedState.cache!==y&&(u.flags|=2048),Fo(hs),xe(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(va(u)?Bu(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,bh())),Cr(u),null;case 26:var E=u.type,L=u.memoizedState;return o===null?(Bu(u),L!==null?(Cr(u),m0(u,L)):(Cr(u),Gd(u,E,null,y,p))):L?L!==o.memoizedState?(Bu(u),Cr(u),m0(u,L)):(Cr(u),u.flags&=-16777217):(o=o.memoizedProps,o!==y&&Bu(u),Cr(u),Gd(u,E,o,y,p)),null;case 27:if(Ne(u),p=te.current,E=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==y&&Bu(u);else{if(!y){if(u.stateNode===null)throw Error(n(166));return Cr(u),null}o=Y.current,va(u)?Td(u):(o=N5(E,y,p),u.stateNode=o,Bu(u))}return Cr(u),null;case 5:if(Ne(u),E=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==y&&Bu(u);else{if(!y){if(u.stateNode===null)throw Error(n(166));return Cr(u),null}if(L=Y.current,va(u))Td(u);else{var ee=sy(te.current);switch(L){case 1:L=ee.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:L=ee.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":L=ee.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":L=ee.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":L=ee.createElement("div"),L.innerHTML="<script><\/script>",L=L.removeChild(L.firstChild);break;case"select":L=typeof y.is=="string"?ee.createElement("select",{is:y.is}):ee.createElement("select"),y.multiple?L.multiple=!0:y.size&&(L.size=y.size);break;default:L=typeof y.is=="string"?ee.createElement(E,{is:y.is}):ee.createElement(E)}}L[ei]=u,L[Ji]=y;e:for(ee=u.child;ee!==null;){if(ee.tag===5||ee.tag===6)L.appendChild(ee.stateNode);else if(ee.tag!==4&&ee.tag!==27&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===u)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===u)break e;ee=ee.return}ee.sibling.return=ee.return,ee=ee.sibling}u.stateNode=L;e:switch(Oo(L,E,y),E){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&Bu(u)}}return Cr(u),Gd(u,u.type,o===null?null:o.memoizedProps,u.pendingProps,p),null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==y&&Bu(u);else{if(typeof y!="string"&&u.stateNode===null)throw Error(n(166));if(o=te.current,va(u)){if(o=u.stateNode,p=u.memoizedProps,y=null,E=ns,E!==null)switch(E.tag){case 27:case 5:y=E.memoizedProps}o[ei]=u,o=!!(o.nodeValue===p||y!==null&&y.suppressHydrationWarning===!0||B5(o.nodeValue,p)),o||Al(u,!0)}else o=sy(o).createTextNode(y),o[ei]=u,u.stateNode=o}return Cr(u),null;case 31:if(p=u.memoizedState,o===null||o.memoizedState!==null){if(y=va(u),p!==null){if(o===null){if(!y)throw Error(n(318));if(o=u.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(557));o[ei]=u}else mu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Cr(u),o=!1}else p=bh(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=p),o=!0;if(!o)return u.flags&256?(Li(u),u):(Li(u),null);if((u.flags&128)!==0)throw Error(n(558))}return Cr(u),null;case 13:if(y=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(E=va(u),y!==null&&y.dehydrated!==null){if(o===null){if(!E)throw Error(n(318));if(E=u.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[ei]=u}else mu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Cr(u),E=!1}else E=bh(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=E),E=!0;if(!E)return u.flags&256?(Li(u),u):(Li(u),null)}return Li(u),(u.flags&128)!==0?(u.lanes=p,u):(p=y!==null,o=o!==null&&o.memoizedState!==null,p&&(y=u.child,E=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(E=y.alternate.memoizedState.cachePool.pool),L=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(L=y.memoizedState.cachePool.pool),L!==E&&(y.flags|=2048)),p!==o&&p&&(u.child.flags|=8192),rc(u,u.updateQueue),Cr(u),null);case 4:return xe(),o===null&&K_(u.stateNode.containerInfo),Cr(u),null;case 10:return Fo(u.type),Cr(u),null;case 19:if(Q(kn),y=u.memoizedState,y===null)return Cr(u),null;if(E=(u.flags&128)!==0,L=y.rendering,L===null)if(E)Su(y,!1);else{if(gs!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(L=Nr(o),L!==null){for(u.flags|=128,Su(y,!1),o=L.updateQueue,u.updateQueue=o,rc(u,o),u.subtreeFlags=0,o=p,p=u.child;p!==null;)Hl(p,o),p=p.sibling;return X(kn,kn.current&1|2),Ci&&co(u,y.treeForkCount),u.child}o=o.sibling}y.tail!==null&&$()>Vs&&(u.flags|=128,E=!0,Su(y,!1),u.lanes=4194304)}else{if(!E)if(o=Nr(L),o!==null){if(u.flags|=128,E=!0,o=o.updateQueue,u.updateQueue=o,rc(u,o),Su(y,!0),y.tail===null&&y.tailMode==="hidden"&&!L.alternate&&!Ci)return Cr(u),null}else 2*$()-y.renderingStartTime>Vs&&p!==536870912&&(u.flags|=128,E=!0,Su(y,!1),u.lanes=4194304);y.isBackwards?(L.sibling=u.child,u.child=L):(o=y.last,o!==null?o.sibling=L:u.child=L,y.last=L)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=$(),o.sibling=null,p=kn.current,X(kn,E?p&1|2:p&1),Ci&&co(u,y.treeForkCount),o):(Cr(u),null);case 22:case 23:return Li(u),ps(),y=u.memoizedState!==null,o!==null?o.memoizedState!==null!==y&&(u.flags|=8192):y&&(u.flags|=8192),y?(p&536870912)!==0&&(u.flags&128)===0&&(Cr(u),u.subtreeFlags&6&&(u.flags|=8192)):Cr(u),p=u.updateQueue,p!==null&&rc(u,p.retryQueue),p=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048),o!==null&&Q(de),null;case 24:return p=null,o!==null&&(p=o.memoizedState.cache),u.memoizedState.cache!==p&&(u.flags|=2048),Fo(hs),Cr(u),null;case 25:return null;case 30:return null}throw Error(n(156,u.tag))}function hl(o,u){switch(Ff(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return Fo(hs),xe(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return Ne(u),null;case 31:if(u.memoizedState!==null){if(Li(u),u.alternate===null)throw Error(n(340));mu()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 13:if(Li(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(n(340));mu()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return Q(kn),null;case 4:return xe(),null;case 10:return Fo(u.type),null;case 22:case 23:return Li(u),ps(),o!==null&&Q(de),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return Fo(hs),null;case 25:return null;default:return null}}function DA(o,u){switch(Ff(u),u.tag){case 3:Fo(hs),xe();break;case 26:case 27:case 5:Ne(u);break;case 4:xe();break;case 31:u.memoizedState!==null&&Li(u);break;case 13:Li(u);break;case 19:Q(kn);break;case 10:Fo(u.type);break;case 22:case 23:Li(u),ps(),o!==null&&Q(de);break;case 24:Fo(hs)}}function dl(o,u){try{var p=u.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var E=y.next;p=E;do{if((p.tag&o)===o){y=void 0;var L=p.create,ee=p.inst;y=L(),ee.destroy=y}p=p.next}while(p!==E)}}catch(ve){$i(u,u.return,ve)}}function Ya(o,u,p){try{var y=u.updateQueue,E=y!==null?y.lastEffect:null;if(E!==null){var L=E.next;y=L;do{if((y.tag&o)===o){var ee=y.inst,ve=ee.destroy;if(ve!==void 0){ee.destroy=void 0,E=u;var Qe=p,yt=ve;try{yt()}catch(It){$i(E,Qe,It)}}}y=y.next}while(y!==L)}}catch(It){$i(u,u.return,It)}}function Jl(o){var u=o.updateQueue;if(u!==null){var p=o.stateNode;try{Es(u,p)}catch(y){$i(o,o.return,y)}}}function Qa(o,u,p){p.props=Kc(o.type,o.memoizedProps),p.state=o.memoizedState;try{p.componentWillUnmount()}catch(y){$i(o,u,y)}}function sc(o,u){try{var p=o.ref;if(p!==null){switch(o.tag){case 26:case 27:case 5:var y=o.stateNode;break;case 30:y=o.stateNode;break;default:y=o.stateNode}typeof p=="function"?o.refCleanup=p(y):p.current=y}}catch(E){$i(o,u,E)}}function Ja(o,u){var p=o.ref,y=o.refCleanup;if(p!==null)if(typeof y=="function")try{y()}catch(E){$i(o,u,E)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(E){$i(o,u,E)}else p.current=null}function jd(o){var u=o.type,p=o.memoizedProps,y=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":p.autoFocus&&y.focus();break e;case"img":p.src?y.src=p.src:p.srcSet&&(y.srcset=p.srcSet)}}catch(E){$i(o,o.return,E)}}function xa(o,u,p){try{var y=o.stateNode;MD(y,o.type,p,u),y[Ji]=u}catch(E){$i(o,o.return,E)}}function os(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&zh(o.type)||o.tag===4}function Ii(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||os(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&zh(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Cu(o,u,p){var y=o.tag;if(y===5||y===6)o=o.stateNode,u?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(o,u):(u=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,u.appendChild(o),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=$s));else if(y!==4&&(y===27&&zh(o.type)&&(p=o.stateNode,u=null),o=o.child,o!==null))for(Cu(o,u,p),o=o.sibling;o!==null;)Cu(o,u,p),o=o.sibling}function Io(o,u,p){var y=o.tag;if(y===5||y===6)o=o.stateNode,u?p.insertBefore(o,u):p.appendChild(o);else if(y!==4&&(y===27&&zh(o.type)&&(p=o.stateNode),o=o.child,o!==null))for(Io(o,u,p),o=o.sibling;o!==null;)Io(o,u,p),o=o.sibling}function yg(o){var u=o.stateNode,p=o.memoizedProps;try{for(var y=o.type,E=u.attributes;E.length;)u.removeAttributeNode(E[0]);Oo(u,y,p),u[ei]=o,u[Ji]=p}catch(L){$i(o,o.return,L)}}var pl=!1,Hr=!1,Zl=!1,ny=typeof WeakSet=="function"?WeakSet:Set,Ha=null;function G_(o,u){if(o=o.containerInfo,X_=fy,o=Ol(o),sl(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var E=y.anchorOffset,L=y.focusNode;y=y.focusOffset;try{p.nodeType,L.nodeType}catch{p=null;break e}var ee=0,ve=-1,Qe=-1,yt=0,It=0,Ot=o,bt=null;t:for(;;){for(var St;Ot!==p||E!==0&&Ot.nodeType!==3||(ve=ee+E),Ot!==L||y!==0&&Ot.nodeType!==3||(Qe=ee+y),Ot.nodeType===3&&(ee+=Ot.nodeValue.length),(St=Ot.firstChild)!==null;)bt=Ot,Ot=St;for(;;){if(Ot===o)break t;if(bt===p&&++yt===E&&(ve=ee),bt===L&&++It===y&&(Qe=ee),(St=Ot.nextSibling)!==null)break;Ot=bt,bt=Ot.parentNode}Ot=St}p=ve===-1||Qe===-1?null:{start:ve,end:Qe}}else p=null}p=p||{start:0,end:0}}else p=null;for(Y_={focusedElem:o,selectionRange:p},fy=!1,Ha=u;Ha!==null;)if(u=Ha,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,Ha=o;else for(;Ha!==null;){switch(u=Ha,L=u.alternate,o=u.flags,u.tag){case 0:if((o&4)!==0&&(o=u.updateQueue,o=o!==null?o.events:null,o!==null))for(p=0;p<o.length;p++)E=o[p],E.ref.impl=E.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&L!==null){o=void 0,p=u,E=L.memoizedProps,L=L.memoizedState,y=p.stateNode;try{var _n=Kc(p.type,E);o=y.getSnapshotBeforeUpdate(_n,L),y.__reactInternalSnapshotBeforeUpdate=o}catch(jn){$i(p,p.return,jn)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,p=o.nodeType,p===9)$_(o);else if(p===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":$_(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=u.sibling,o!==null){o.return=u.return,Ha=o;break}Ha=u.return}}function As(o,u,p){var y=p.flags;switch(p.tag){case 0:case 11:case 15:vl(o,p),y&4&&dl(5,p);break;case 1:if(vl(o,p),y&4)if(o=p.stateNode,u===null)try{o.componentDidMount()}catch(ee){$i(p,p.return,ee)}else{var E=Kc(p.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(E,u,o.__reactInternalSnapshotBeforeUpdate)}catch(ee){$i(p,p.return,ee)}}y&64&&Jl(p),y&512&&sc(p,p.return);break;case 3:if(vl(o,p),y&64&&(o=p.updateQueue,o!==null)){if(u=null,p.child!==null)switch(p.child.tag){case 27:case 5:u=p.child.stateNode;break;case 1:u=p.child.stateNode}try{Es(o,u)}catch(ee){$i(p,p.return,ee)}}break;case 27:u===null&&y&4&&yg(p);case 26:case 5:vl(o,p),u===null&&y&4&&jd(p),y&512&&sc(p,p.return);break;case 12:vl(o,p);break;case 31:vl(o,p),y&4&&Wc(o,p);break;case 13:vl(o,p),y&4&&Ih(o,p),y&64&&(o=p.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(p=w.bind(null,p),DD(o,p))));break;case 22:if(y=p.memoizedState!==null||pl,!y){u=u!==null&&u.memoizedState!==null||Hr,E=pl;var L=Hr;pl=y,(Hr=u)&&!L?Ro(o,p,(p.subtreeFlags&8772)!==0):vl(o,p),pl=E,Hr=L}break;case 30:break;default:vl(o,p)}}function Kd(o){var u=o.alternate;u!==null&&(o.alternate=null,Kd(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&Aa(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var vr=null,go=!1;function gl(o,u,p){for(p=p.child;p!==null;)wg(o,u,p),p=p.sibling}function wg(o,u,p){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(at,p)}catch{}switch(p.tag){case 26:Hr||Ja(p,u),gl(o,u,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Hr||Ja(p,u);var y=vr,E=go;zh(p.type)&&(vr=p.stateNode,go=!1),gl(o,u,p),B0(p.stateNode),vr=y,go=E;break;case 5:Hr||Ja(p,u);case 6:if(y=vr,E=go,vr=null,gl(o,u,p),vr=y,go=E,vr!==null)if(go)try{(vr.nodeType===9?vr.body:vr.nodeName==="HTML"?vr.ownerDocument.body:vr).removeChild(p.stateNode)}catch(L){$i(p,u,L)}else try{vr.removeChild(p.stateNode)}catch(L){$i(p,u,L)}break;case 18:vr!==null&&(go?(o=vr,T5(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,p.stateNode),Mg(o)):T5(vr,p.stateNode));break;case 4:y=vr,E=go,vr=p.stateNode.containerInfo,go=!0,gl(o,u,p),vr=y,go=E;break;case 0:case 11:case 14:case 15:Ya(2,p,u),Hr||Ya(4,p,u),gl(o,u,p);break;case 1:Hr||(Ja(p,u),y=p.stateNode,typeof y.componentWillUnmount=="function"&&Qa(p,u,y)),gl(o,u,p);break;case 21:gl(o,u,p);break;case 22:Hr=(y=Hr)||p.memoizedState!==null,gl(o,u,p),Hr=y;break;default:gl(o,u,p)}}function Wc(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Mg(o)}catch(p){$i(u,u.return,p)}}}function Ih(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Mg(o)}catch(p){$i(u,u.return,p)}}function v0(o){switch(o.tag){case 31:case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new ny),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new ny),u;default:throw Error(n(435,o.tag))}}function ac(o,u){var p=v0(o);u.forEach(function(y){if(!p.has(y)){p.add(y);var E=C.bind(null,o,y);y.then(E,E)}})}function ba(o,u){var p=u.deletions;if(p!==null)for(var y=0;y<p.length;y++){var E=p[y],L=o,ee=u,ve=ee;e:for(;ve!==null;){switch(ve.tag){case 27:if(zh(ve.type)){vr=ve.stateNode,go=!1;break e}break;case 5:vr=ve.stateNode,go=!1;break e;case 3:case 4:vr=ve.stateNode.containerInfo,go=!0;break e}ve=ve.return}if(vr===null)throw Error(n(160));wg(L,ee,E),vr=null,go=!1,L=E.alternate,L!==null&&(L.return=null),E.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)qc(u,o),u=u.sibling}var ml=null;function qc(o,u){var p=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:ba(u,o),_a(o),y&4&&(Ya(3,o,o.return),dl(3,o),Ya(5,o,o.return));break;case 1:ba(u,o),_a(o),y&512&&(Hr||p===null||Ja(p,p.return)),y&64&&pl&&(o=o.updateQueue,o!==null&&(y=o.callbacks,y!==null&&(p=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=p===null?y:p.concat(y))));break;case 26:var E=ml;if(ba(u,o),_a(o),y&512&&(Hr||p===null||Ja(p,p.return)),y&4){var L=p!==null?p.memoizedState:null;if(y=o.memoizedState,p===null)if(y===null)if(o.stateNode===null){e:{y=o.type,p=o.memoizedProps,E=E.ownerDocument||E;t:switch(y){case"title":L=E.getElementsByTagName("title")[0],(!L||L[Ds]||L[ei]||L.namespaceURI==="http://www.w3.org/2000/svg"||L.hasAttribute("itemprop"))&&(L=E.createElement(y),E.head.insertBefore(L,E.querySelector("head > title"))),Oo(L,y,p),L[ei]=o,pe(L),y=L;break e;case"link":var ee=k5("link","href",E).get(y+(p.href||""));if(ee){for(var ve=0;ve<ee.length;ve++)if(L=ee[ve],L.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&L.getAttribute("rel")===(p.rel==null?null:p.rel)&&L.getAttribute("title")===(p.title==null?null:p.title)&&L.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){ee.splice(ve,1);break t}}L=E.createElement(y),Oo(L,y,p),E.head.appendChild(L);break;case"meta":if(ee=k5("meta","content",E).get(y+(p.content||""))){for(ve=0;ve<ee.length;ve++)if(L=ee[ve],L.getAttribute("content")===(p.content==null?null:""+p.content)&&L.getAttribute("name")===(p.name==null?null:p.name)&&L.getAttribute("property")===(p.property==null?null:p.property)&&L.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&L.getAttribute("charset")===(p.charSet==null?null:p.charSet)){ee.splice(ve,1);break t}}L=E.createElement(y),Oo(L,y,p),E.head.appendChild(L);break;default:throw Error(n(468,y))}L[ei]=o,pe(L),y=L}o.stateNode=y}else z5(E,o.type,o.stateNode);else o.stateNode=H5(E,y,o.memoizedProps);else L!==y?(L===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):L.count--,y===null?z5(E,o.type,o.stateNode):H5(E,y,o.memoizedProps)):y===null&&o.stateNode!==null&&xa(o,o.memoizedProps,p.memoizedProps)}break;case 27:ba(u,o),_a(o),y&512&&(Hr||p===null||Ja(p,p.return)),p!==null&&y&4&&xa(o,o.memoizedProps,p.memoizedProps);break;case 5:if(ba(u,o),_a(o),y&512&&(Hr||p===null||Ja(p,p.return)),o.flags&32){E=o.stateNode;try{nr(E,"")}catch(_n){$i(o,o.return,_n)}}y&4&&o.stateNode!=null&&(E=o.memoizedProps,xa(o,E,p!==null?p.memoizedProps:E)),y&1024&&(Zl=!0);break;case 6:if(ba(u,o),_a(o),y&4){if(o.stateNode===null)throw Error(n(162));y=o.memoizedProps,p=o.stateNode;try{p.nodeValue=y}catch(_n){$i(o,o.return,_n)}}break;case 3:if(Ay=null,E=ml,ml=ay(u.containerInfo),ba(u,o),ml=E,_a(o),y&4&&p!==null&&p.memoizedState.isDehydrated)try{Mg(u.containerInfo)}catch(_n){$i(o,o.return,_n)}Zl&&(Zl=!1,xg(o));break;case 4:y=ml,ml=ay(o.stateNode.containerInfo),ba(u,o),_a(o),ml=y;break;case 12:ba(u,o),_a(o);break;case 31:ba(u,o),_a(o),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,ac(o,y)));break;case 13:ba(u,o),_a(o),o.child.flags&8192&&o.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Rh=$()),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,ac(o,y)));break;case 22:E=o.memoizedState!==null;var Qe=p!==null&&p.memoizedState!==null,yt=pl,It=Hr;if(pl=yt||E,Hr=It||Qe,ba(u,o),Hr=It,pl=yt,_a(o),y&8192)e:for(u=o.stateNode,u._visibility=E?u._visibility&-2:u._visibility|1,E&&(p===null||Qe||pl||Hr||Eu(o)),p=null,u=o;;){if(u.tag===5||u.tag===26){if(p===null){Qe=p=u;try{if(L=Qe.stateNode,E)ee=L.style,typeof ee.setProperty=="function"?ee.setProperty("display","none","important"):ee.display="none";else{ve=Qe.stateNode;var Ot=Qe.memoizedProps.style,bt=Ot!=null&&Ot.hasOwnProperty("display")?Ot.display:null;ve.style.display=bt==null||typeof bt=="boolean"?"":(""+bt).trim()}}catch(_n){$i(Qe,Qe.return,_n)}}}else if(u.tag===6){if(p===null){Qe=u;try{Qe.stateNode.nodeValue=E?"":Qe.memoizedProps}catch(_n){$i(Qe,Qe.return,_n)}}}else if(u.tag===18){if(p===null){Qe=u;try{var St=Qe.stateNode;E?F5(St,!0):F5(Qe.stateNode,!1)}catch(_n){$i(Qe,Qe.return,_n)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;p===u&&(p=null),u=u.return}p===u&&(p=null),u.sibling.return=u.return,u=u.sibling}y&4&&(y=o.updateQueue,y!==null&&(p=y.retryQueue,p!==null&&(y.retryQueue=null,ac(o,p))));break;case 19:ba(u,o),_a(o),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,ac(o,y)));break;case 30:break;case 21:break;default:ba(u,o),_a(o)}}function _a(o){var u=o.flags;if(u&2){try{for(var p,y=o.return;y!==null;){if(os(y)){p=y;break}y=y.return}if(p==null)throw Error(n(160));switch(p.tag){case 27:var E=p.stateNode,L=Ii(o);Io(o,L,E);break;case 5:var ee=p.stateNode;p.flags&32&&(nr(ee,""),p.flags&=-33);var ve=Ii(o);Io(o,ve,ee);break;case 3:case 4:var Qe=p.stateNode.containerInfo,yt=Ii(o);Cu(o,yt,Qe);break;default:throw Error(n(161))}}catch(It){$i(o,o.return,It)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function xg(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;xg(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function vl(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)As(o,u.alternate,u),u=u.sibling}function Eu(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:Ya(4,u,u.return),Eu(u);break;case 1:Ja(u,u.return);var p=u.stateNode;typeof p.componentWillUnmount=="function"&&Qa(u,u.return,p),Eu(u);break;case 27:B0(u.stateNode);case 26:case 5:Ja(u,u.return),Eu(u);break;case 22:u.memoizedState===null&&Eu(u);break;case 30:Eu(u);break;default:Eu(u)}o=o.sibling}}function Ro(o,u,p){for(p=p&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var y=u.alternate,E=o,L=u,ee=L.flags;switch(L.tag){case 0:case 11:case 15:Ro(E,L,p),dl(4,L);break;case 1:if(Ro(E,L,p),y=L,E=y.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(yt){$i(y,y.return,yt)}if(y=L,E=y.updateQueue,E!==null){var ve=y.stateNode;try{var Qe=E.shared.hiddenCallbacks;if(Qe!==null)for(E.shared.hiddenCallbacks=null,E=0;E<Qe.length;E++)Cs(Qe[E],ve)}catch(yt){$i(y,y.return,yt)}}p&&ee&64&&Jl(L),sc(L,L.return);break;case 27:yg(L);case 26:case 5:Ro(E,L,p),p&&y===null&&ee&4&&jd(L),sc(L,L.return);break;case 12:Ro(E,L,p);break;case 31:Ro(E,L,p),p&&ee&4&&Wc(E,L);break;case 13:Ro(E,L,p),p&&ee&4&&Ih(E,L);break;case 22:L.memoizedState===null&&Ro(E,L,p),sc(L,L.return);break;case 30:break;default:Ro(E,L,p)}u=u.sibling}}function Xc(o,u){var p=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==p&&(o!=null&&o.refCount++,p!=null&&ec(p))}function kf(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&ec(o))}function Za(o,u,p,y){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)y0(o,u,p,y),u=u.sibling}function y0(o,u,p,y){var E=u.flags;switch(u.tag){case 0:case 11:case 15:Za(o,u,p,y),E&2048&&dl(9,u);break;case 1:Za(o,u,p,y);break;case 3:Za(o,u,p,y),E&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&ec(o)));break;case 12:if(E&2048){Za(o,u,p,y),o=u.stateNode;try{var L=u.memoizedProps,ee=L.id,ve=L.onPostCommit;typeof ve=="function"&&ve(ee,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(Qe){$i(u,u.return,Qe)}}else Za(o,u,p,y);break;case 31:Za(o,u,p,y);break;case 13:Za(o,u,p,y);break;case 23:break;case 22:L=u.stateNode,ee=u.alternate,u.memoizedState!==null?L._visibility&2?Za(o,u,p,y):Mu(o,u):L._visibility&2?Za(o,u,p,y):(L._visibility|=2,$a(o,u,p,y,(u.subtreeFlags&10256)!==0||!1)),E&2048&&Xc(ee,u);break;case 24:Za(o,u,p,y),E&2048&&kf(u.alternate,u);break;default:Za(o,u,p,y)}}function $a(o,u,p,y,E){for(E=E&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var L=o,ee=u,ve=p,Qe=y,yt=ee.flags;switch(ee.tag){case 0:case 11:case 15:$a(L,ee,ve,Qe,E),dl(8,ee);break;case 23:break;case 22:var It=ee.stateNode;ee.memoizedState!==null?It._visibility&2?$a(L,ee,ve,Qe,E):Mu(L,ee):(It._visibility|=2,$a(L,ee,ve,Qe,E)),E&&yt&2048&&Xc(ee.alternate,ee);break;case 24:$a(L,ee,ve,Qe,E),E&&yt&2048&&kf(ee.alternate,ee);break;default:$a(L,ee,ve,Qe,E)}u=u.sibling}}function Mu(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var p=o,y=u,E=y.flags;switch(y.tag){case 22:Mu(p,y),E&2048&&Xc(y.alternate,y);break;case 24:Mu(p,y),E&2048&&kf(y.alternate,y);break;default:Mu(p,y)}u=u.sibling}}var zf=8192;function OA(o,u,p){if(o.subtreeFlags&zf)for(o=o.child;o!==null;)bg(o,u,p),o=o.sibling}function bg(o,u,p){switch(o.tag){case 26:OA(o,u,p),o.flags&zf&&o.memoizedState!==null&&qD(p,ml,o.memoizedState,o.memoizedProps);break;case 5:OA(o,u,p);break;case 3:case 4:var y=ml;ml=ay(o.stateNode.containerInfo),OA(o,u,p),ml=y;break;case 22:o.memoizedState===null&&(y=o.alternate,y!==null&&y.memoizedState!==null?(y=zf,zf=16777216,OA(o,u,p),zf=y):OA(o,u,p));break;default:OA(o,u,p)}}function Gf(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function Yc(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var y=u[p];Ha=y,Ts(y,o)}Gf(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)sA(o),o=o.sibling}function sA(o){switch(o.tag){case 0:case 11:case 15:Yc(o),o.flags&2048&&Ya(9,o,o.return);break;case 3:Yc(o);break;case 12:Yc(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,aA(o)):Yc(o);break;default:Yc(o)}}function aA(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var y=u[p];Ha=y,Ts(y,o)}Gf(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:Ya(8,u,u.return),aA(u);break;case 22:p=u.stateNode,p._visibility&2&&(p._visibility&=-3,aA(u));break;default:aA(u)}o=o.sibling}}function Ts(o,u){for(;Ha!==null;){var p=Ha;switch(p.tag){case 0:case 11:case 15:Ya(8,p,u);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var y=p.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:ec(p.memoizedState.cache)}if(y=p.child,y!==null)y.return=p,Ha=y;else e:for(p=o;Ha!==null;){y=Ha;var E=y.sibling,L=y.return;if(Kd(y),y===p){Ha=null;break e}if(E!==null){E.return=L,Ha=E;break e}Ha=L}}}var oc={getCacheForType:function(o){var u=Hn(hs),p=u.data.get(o);return p===void 0&&(p=o(),u.data.set(o,p)),p},cacheSignal:function(){return Hn(hs).controller.signal}},si=typeof WeakMap=="function"?WeakMap:Map,Mn=0,Xn=null,vi=null,pi=0,Oi=0,mo=null,yl=!1,$l=!1,w0=!1,PA=0,gs=0,Uu=0,Jc=0,Wd=0,No=0,Jr=0,Vf=null,Fs=null,Ls=!1,Rh=0,x0=0,Vs=1/0,ms=null,js=null,yr=0,QA=null,Nh=null,wl=0,Dh=0,Oh=null,qd=null,Zc=0,jf=null;function HA(){return(Mn&2)!==0&&pi!==0?pi&-pi:Z.T!==null?_t():Yi()}function Ei(){if(No===0)if((pi&536870912)===0||Ci){var o=mt;mt<<=1,(mt&3932160)===0&&(mt=262144),No=o}else No=536870912;return o=Qr.current,o!==null&&(o.flags|=32),No}function yi(o,u,p){(o===Xn&&(Oi===2||Oi===9)||o.cancelPendingCommit!==null)&&(ef(o,0),ia(o,pi,No,!1)),qt(o,p),((Mn&2)===0||o!==Xn)&&(o===Xn&&((Mn&2)===0&&(Jc|=p),gs===4&&ia(o,pi,No,!1)),jt(o))}function Mi(o,u,p){if((Mn&6)!==0)throw Error(n(327));var y=!p&&(u&127)===0&&(u&o.expiredLanes)===0||Lt(o,u),E=y?Xd(o,u):Do(o,u,!0),L=y;do{if(E===0){$l&&!y&&ia(o,u,0,!1);break}else{if(p=o.current.alternate,L&&!wr(p)){E=Do(o,u,!1),L=!1;continue}if(E===2){if(L=u,o.errorRecoveryDisabledLanes&L)var ee=0;else ee=o.pendingLanes&-536870913,ee=ee!==0?ee:ee&536870912?536870912:0;if(ee!==0){u=ee;e:{var ve=o;E=Vf;var Qe=ve.current.memoizedState.isDehydrated;if(Qe&&(ef(ve,ee).flags|=256),ee=Do(ve,ee,!1),ee!==2){if(w0&&!Qe){ve.errorRecoveryDisabledLanes|=L,Jc|=L,E=4;break e}L=Fs,Fs=E,L!==null&&(Fs===null?Fs=L:Fs.push.apply(Fs,L))}E=ee}if(L=!1,E!==2)continue}}if(E===1){ef(o,0),ia(o,u,0,!0);break}e:{switch(y=o,L=E,L){case 0:case 1:throw Error(n(345));case 4:if((u&4194048)!==u)break;case 6:ia(y,u,No,!yl);break e;case 2:Fs=null;break;case 3:case 5:break;default:throw Error(n(329))}if((u&62914560)===u&&(E=Rh+300-$(),10<E)){if(ia(y,u,No,!yl),Ze(y,0,!0)!==0)break e;wl=u,y.timeoutHandle=M5(Ri.bind(null,y,p,Fs,ms,Ls,u,No,Jc,Jr,yl,L,"Throttled",-0,0),E);break e}Ri(y,p,Fs,ms,Ls,u,No,Jc,Jr,yl,L,null,-0,0)}}break}while(!0);jt(o)}function Ri(o,u,p,y,E,L,ee,ve,Qe,yt,It,Ot,bt,St){if(o.timeoutHandle=-1,Ot=u.subtreeFlags,Ot&8192||(Ot&16785408)===16785408){Ot={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$s},bg(u,L,Ot);var _n=(L&62914560)===L?Rh-$():(L&4194048)===L?x0-$():0;if(_n=XD(Ot,_n),_n!==null){wl=L,o.cancelPendingCommit=_n(lc.bind(null,o,u,L,p,y,E,ee,ve,Qe,It,Ot,null,bt,St)),ia(o,L,ee,!yt);return}}lc(o,u,L,p,y,E,ee,ve,Qe)}function wr(o){for(var u=o;;){var p=u.tag;if((p===0||p===11||p===15)&&u.flags&16384&&(p=u.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var y=0;y<p.length;y++){var E=p[y],L=E.getSnapshot;E=E.value;try{if(!Qs(L(),E))return!1}catch{return!1}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function ia(o,u,p,y){u&=~Wd,u&=~Jc,o.suspendedLanes|=u,o.pingedLanes&=~u,y&&(o.warmLanes|=u),y=o.expirationTimes;for(var E=u;0<E;){var L=31-Ee(E),ee=1<<L;y[L]=-1,E&=~ee}p!==0&&Bi(o,p,u)}function eu(){return(Mn&6)===0?(hn(0),!1):!0}function $c(){if(vi!==null){if(Oi===0)var o=vi.return;else o=vi,RA=jl=null,Sh(o),Dt=null,yn=0,o=vi;for(;o!==null;)DA(o.alternate,o),o=o.return;vi=null}}function ef(o,u){var p=o.timeoutHandle;p!==-1&&(o.timeoutHandle=-1,FD(p)),p=o.cancelPendingCommit,p!==null&&(o.cancelPendingCommit=null,p()),wl=0,$c(),Xn=o,vi=p=ma(o.current,null),pi=u,Oi=0,mo=null,yl=!1,$l=Lt(o,u),w0=!1,Jr=No=Wd=Jc=Uu=gs=0,Fs=Vf=null,Ls=!1,(u&8)!==0&&(u|=u&32);var y=o.entangledLanes;if(y!==0)for(o=o.entanglements,y&=u;0<y;){var E=31-Ee(y),L=1<<E;u|=o[E],y&=~L}return PA=u,Rc(),p}function Tu(o,u){Un=null,Z.H=Fh,u===je||u===be?(u=Tt(),Oi=3):u===gt?(u=Tt(),Oi=4):Oi=u===ug?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,mo=u,vi===null&&(gs=1,lg(o,Uo(u,o.current)))}function vs(){var o=Qr.current;return o===null?!0:(pi&4194048)===pi?Fi===null:(pi&62914560)===pi||(pi&536870912)!==0?o===Fi:!1}function Ac(){var o=Z.H;return Z.H=Fh,o===null?Fh:o}function tf(){var o=Z.A;return Z.A=oc,o}function Ph(){gs=4,yl||(pi&4194048)!==pi&&Qr.current!==null||($l=!0),(Uu&134217727)===0&&(Jc&134217727)===0||Xn===null||ia(Xn,pi,No,!1)}function Do(o,u,p){var y=Mn;Mn|=2;var E=Ac(),L=tf();(Xn!==o||pi!==u)&&(ms=null,ef(o,u)),u=!1;var ee=gs;e:do try{if(Oi!==0&&vi!==null){var ve=vi,Qe=mo;switch(Oi){case 8:$c(),ee=6;break e;case 3:case 2:case 9:case 6:Qr.current===null&&(u=!0);var yt=Oi;if(Oi=0,mo=null,Kf(o,ve,Qe,yt),p&&$l){ee=0;break e}break;default:yt=Oi,Oi=0,mo=null,Kf(o,ve,Qe,yt)}}Qh(),ee=gs;break}catch(It){Tu(o,It)}while(!0);return u&&o.shellSuspendCounter++,RA=jl=null,Mn=y,Z.H=E,Z.A=L,vi===null&&(Xn=null,pi=0,Rc()),ee}function Qh(){for(;vi!==null;)_g(vi)}function Xd(o,u){var p=Mn;Mn|=2;var y=Ac(),E=tf();Xn!==o||pi!==u?(ms=null,Vs=$()+500,ef(o,u)):$l=Lt(o,u);e:do try{if(Oi!==0&&vi!==null){u=vi;var L=mo;t:switch(Oi){case 1:Oi=0,mo=null,Kf(o,u,L,1);break;case 2:case 9:if(et(L)){Oi=0,mo=null,Yd(u);break}u=function(){Oi!==2&&Oi!==9||Xn!==o||(Oi=7),jt(o)},L.then(u,u);break e;case 3:Oi=7;break e;case 4:Oi=5;break e;case 7:et(L)?(Oi=0,mo=null,Yd(u)):(Oi=0,mo=null,Kf(o,u,L,7));break;case 5:var ee=null;switch(vi.tag){case 26:ee=vi.memoizedState;case 5:case 27:var ve=vi;if(ee?G5(ee):ve.stateNode.complete){Oi=0,mo=null;var Qe=ve.sibling;if(Qe!==null)vi=Qe;else{var yt=ve.return;yt!==null?(vi=yt,nf(yt)):vi=null}break t}}Oi=0,mo=null,Kf(o,u,L,5);break;case 6:Oi=0,mo=null,Kf(o,u,L,6);break;case 8:$c(),gs=6;break e;default:throw Error(n(462))}}oA();break}catch(It){Tu(o,It)}while(!0);return RA=jl=null,Z.H=y,Z.A=E,Mn=p,vi!==null?0:(Xn=null,pi=0,Rc(),gs)}function oA(){for(;vi!==null&&!Ye();)_g(vi)}function _g(o){var u=vg(o.alternate,o,PA);o.memoizedProps=o.pendingProps,u===null?nf(o):vi=u}function Yd(o){var u=o,p=u.alternate;switch(u.tag){case 15:case 0:u=kd(p,u,u.pendingProps,u.type,void 0,pi);break;case 11:u=kd(p,u,u.pendingProps,u.type.render,u.ref,pi);break;case 5:Sh(u);default:DA(p,u),u=vi=Hl(u,PA),u=vg(p,u,PA)}o.memoizedProps=o.pendingProps,u===null?nf(o):vi=u}function Kf(o,u,p,y){RA=jl=null,Sh(u),Dt=null,yn=0;var E=u.return;try{if(wa(o,E,u,p,pi)){gs=1,lg(o,Uo(p,o.current)),vi=null;return}}catch(L){if(E!==null)throw vi=E,L;gs=1,lg(o,Uo(p,o.current)),vi=null;return}u.flags&32768?(Ci||y===1?o=!0:$l||(pi&536870912)!==0?o=!1:(yl=o=!0,(y===2||y===9||y===3||y===6)&&(y=Qr.current,y!==null&&y.tag===13&&(y.flags|=16384))),Jd(u,o)):nf(u)}function nf(o){var u=o;do{if((u.flags&32768)!==0){Jd(u,yl);return}o=u.return;var p=Vd(u.alternate,u,PA);if(p!==null){vi=p;return}if(u=u.sibling,u!==null){vi=u;return}vi=u=o}while(u!==null);gs===0&&(gs=5)}function Jd(o,u){do{var p=hl(o.alternate,o);if(p!==null){p.flags&=32767,vi=p;return}if(p=o.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!u&&(o=o.sibling,o!==null)){vi=o;return}vi=o=p}while(o!==null);gs=6,vi=null}function lc(o,u,p,y,E,L,ee,ve,Qe){o.cancelPendingCommit=null;do Hh();while(yr!==0);if((Mn&6)!==0)throw Error(n(327));if(u!==null){if(u===o.current)throw Error(n(177));if(L=u.lanes|u.childLanes,L|=Hs,Wn(o,p,L,ee,ve,Qe),o===Xn&&(vi=Xn=null,pi=0),Nh=u,QA=o,wl=p,Dh=L,Oh=E,qd=y,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,N(Re,function(){return Bg(),null})):(o.callbackNode=null,o.callbackPriority=0),y=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||y){y=Z.T,Z.T=null,E=ne.p,ne.p=2,ee=Mn,Mn|=4;try{G_(o,u,p)}finally{Mn=ee,ne.p=E,Z.T=y}}yr=1,ra(),uc(),Wf()}}function ra(){if(yr===1){yr=0;var o=QA,u=Nh,p=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||p){p=Z.T,Z.T=null;var y=ne.p;ne.p=2;var E=Mn;Mn|=4;try{qc(u,o);var L=Y_,ee=Ol(o.containerInfo),ve=L.focusedElem,Qe=L.selectionRange;if(ee!==ve&&ve&&ve.ownerDocument&&Di(ve.ownerDocument.documentElement,ve)){if(Qe!==null&&sl(ve)){var yt=Qe.start,It=Qe.end;if(It===void 0&&(It=yt),"selectionStart"in ve)ve.selectionStart=yt,ve.selectionEnd=Math.min(It,ve.value.length);else{var Ot=ve.ownerDocument||document,bt=Ot&&Ot.defaultView||window;if(bt.getSelection){var St=bt.getSelection(),_n=ve.textContent.length,jn=Math.min(Qe.start,_n),zr=Qe.end===void 0?jn:Math.min(Qe.end,_n);!St.extend&&jn>zr&&(ee=zr,zr=jn,jn=ee);var ot=rl(ve,jn),Ke=rl(ve,zr);if(ot&&Ke&&(St.rangeCount!==1||St.anchorNode!==ot.node||St.anchorOffset!==ot.offset||St.focusNode!==Ke.node||St.focusOffset!==Ke.offset)){var vt=Ot.createRange();vt.setStart(ot.node,ot.offset),St.removeAllRanges(),jn>zr?(St.addRange(vt),St.extend(Ke.node,Ke.offset)):(vt.setEnd(Ke.node,Ke.offset),St.addRange(vt))}}}}for(Ot=[],St=ve;St=St.parentNode;)St.nodeType===1&&Ot.push({element:St,left:St.scrollLeft,top:St.scrollTop});for(typeof ve.focus=="function"&&ve.focus(),ve=0;ve<Ot.length;ve++){var Nt=Ot[ve];Nt.element.scrollLeft=Nt.left,Nt.element.scrollTop=Nt.top}}fy=!!X_,Y_=X_=null}finally{Mn=E,ne.p=y,Z.T=p}}o.current=u,yr=2}}function uc(){if(yr===2){yr=0;var o=QA,u=Nh,p=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||p){p=Z.T,Z.T=null;var y=ne.p;ne.p=2;var E=Mn;Mn|=4;try{As(o,u.alternate,u)}finally{Mn=E,ne.p=y,Z.T=p}}yr=3}}function Wf(){if(yr===4||yr===3){yr=0,Ae();var o=QA,u=Nh,p=wl,y=qd;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?yr=5:(yr=0,Nh=QA=null,Fu(o,o.pendingLanes));var E=o.pendingLanes;if(E===0&&(js=null),Ui(p),u=u.stateNode,ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(at,u,void 0,(u.current.flags&128)===128)}catch{}if(y!==null){u=Z.T,E=ne.p,ne.p=2,Z.T=null;try{for(var L=o.onRecoverableError,ee=0;ee<y.length;ee++){var ve=y[ee];L(ve.value,{componentStack:ve.stack})}}finally{Z.T=u,ne.p=E}}(wl&3)!==0&&Hh(),jt(o),E=o.pendingLanes,(p&261930)!==0&&(E&42)!==0?o===jf?Zc++:(Zc=0,jf=o):Zc=0,hn(0)}}function Fu(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,ec(u)))}function Hh(){return ra(),uc(),Wf(),Bg()}function Bg(){if(yr!==5)return!1;var o=QA,u=Dh;Dh=0;var p=Ui(wl),y=Z.T,E=ne.p;try{ne.p=32>p?32:p,Z.T=null,p=Oh,Oh=null;var L=QA,ee=wl;if(yr=0,Nh=QA=null,wl=0,(Mn&6)!==0)throw Error(n(331));var ve=Mn;if(Mn|=4,sA(L.current),y0(L,L.current,ee,p),Mn=ve,hn(0,!1),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(at,L)}catch{}return!0}finally{ne.p=E,Z.T=y,Fu(o,u)}}function b0(o,u,p){u=Uo(p,u),u=f0(o.stateNode,u,2),o=ti(o,u,2),o!==null&&(qt(o,2),jt(o))}function $i(o,u,p){if(o.tag===3)b0(o,o,p);else for(;u!==null;){if(u.tag===3){b0(u,o,p);break}else if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(js===null||!js.has(y))){o=Uo(p,o),p=h0(2),y=ti(u,p,2),y!==null&&(Jv(p,y,u,o),qt(y,2),jt(y));break}}u=u.return}}function Zd(o,u,p){var y=o.pingCache;if(y===null){y=o.pingCache=new si;var E=new Set;y.set(u,E)}else E=y.get(u),E===void 0&&(E=new Set,y.set(u,E));E.has(p)||(w0=!0,E.add(p),o=f.bind(null,o,u,p),u.then(o,o))}function f(o,u,p){var y=o.pingCache;y!==null&&y.delete(u),o.pingedLanes|=o.suspendedLanes&p,o.warmLanes&=~p,Xn===o&&(pi&p)===p&&(gs===4||gs===3&&(pi&62914560)===pi&&300>$()-Rh?(Mn&2)===0&&ef(o,0):Wd|=p,Jr===pi&&(Jr=0)),jt(o)}function d(o,u){u===0&&(u=Wt()),o=ga(o,u),o!==null&&(qt(o,u),jt(o))}function w(o){var u=o.memoizedState,p=0;u!==null&&(p=u.retryLane),d(o,p)}function C(o,u){var p=0;switch(o.tag){case 31:case 13:var y=o.stateNode,E=o.memoizedState;E!==null&&(p=E.retryLane);break;case 19:y=o.stateNode;break;case 22:y=o.stateNode._retryCache;break;default:throw Error(n(314))}y!==null&&y.delete(u),d(o,p)}function N(o,u){return Xe(o,u)}var K=null,ge=null,ke=!1,Bt=!1,kt=!1,Yt=0;function jt(o){o!==ge&&o.next===null&&(ge===null?K=ge=o:ge=ge.next=o),Bt=!0,ke||(ke=!0,lt())}function hn(o,u){if(!kt&&Bt){kt=!0;do for(var p=!1,y=K;y!==null;){if(o!==0){var E=y.pendingLanes;if(E===0)var L=0;else{var ee=y.suspendedLanes,ve=y.pingedLanes;L=(1<<31-Ee(42|o)+1)-1,L&=E&~(ee&~ve),L=L&201326741?L&201326741|1:L?L|2:0}L!==0&&(p=!0,xt(y,L))}else L=pi,L=Ze(y,y===Xn?L:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(L&3)===0||Lt(y,L)||(p=!0,xt(y,L));y=y.next}while(p);kt=!1}}function ni(){Ks()}function Ks(){Bt=ke=!1;var o=0;Yt!==0&&TD()&&(o=Yt);for(var u=$(),p=null,y=K;y!==null;){var E=y.next,L=kh(y,u);L===0?(y.next=null,p===null?K=E:p.next=E,E===null&&(ge=p)):(p=y,(o!==0||(L&3)!==0)&&(Bt=!0)),y=E}yr!==0&&yr!==5||hn(o),Yt!==0&&(Yt=0)}function kh(o,u){for(var p=o.suspendedLanes,y=o.pingedLanes,E=o.expirationTimes,L=o.pendingLanes&-62914561;0<L;){var ee=31-Ee(L),ve=1<<ee,Qe=E[ee];Qe===-1?((ve&p)===0||(ve&y)!==0)&&(E[ee]=Vt(ve,u)):Qe<=u&&(o.expiredLanes|=ve),L&=~ve}if(u=Xn,p=pi,p=Ze(o,o===u?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),y=o.callbackNode,p===0||o===u&&(Oi===2||Oi===9)||o.cancelPendingCommit!==null)return y!==null&&y!==null&&Oe(y),o.callbackNode=null,o.callbackPriority=0;if((p&3)===0||Lt(o,p)){if(u=p&-p,u===o.callbackPriority)return u;switch(y!==null&&Oe(y),Ui(p)){case 2:case 8:p=Ve;break;case 32:p=Re;break;case 268435456:p=At;break;default:p=Re}return y=rf.bind(null,o),p=Xe(p,y),o.callbackPriority=u,o.callbackNode=p,u}return y!==null&&y!==null&&Oe(y),o.callbackPriority=2,o.callbackNode=null,2}function rf(o,u){if(yr!==0&&yr!==5)return o.callbackNode=null,o.callbackPriority=0,null;var p=o.callbackNode;if(Hh()&&o.callbackNode!==p)return null;var y=pi;return y=Ze(o,o===Xn?y:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),y===0?null:(Mi(o,y,u),kh(o,$()),o.callbackNode!=null&&o.callbackNode===p?rf.bind(null,o):null)}function xt(o,u){if(Hh())return null;Mi(o,u,!0)}function lt(){LD(function(){(Mn&6)!==0?Xe(Ge,ni):Ks()})}function _t(){if(Yt===0){var o=S;o===0&&(o=Je,Je<<=1,(Je&261888)===0&&(Je=256)),Yt=o}return Yt}function Xt(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:$r(""+o)}function On(o,u){var p=u.ownerDocument.createElement("input");return p.name=u.name,p.value=u.value,o.id&&p.setAttribute("form",o.id),u.parentNode.insertBefore(p,u),o=new FormData(o),p.parentNode.removeChild(p),o}function ys(o,u,p,y,E){if(u==="submit"&&p&&p.stateNode===E){var L=Xt((E[Ji]||null).action),ee=y.submitter;ee&&(u=(u=ee[Ji]||null)?Xt(u.formAction):ee.getAttribute("formAction"),u!==null&&(L=u,ee=null));var ve=new ca("action","action",null,y,E);o.push({event:ve,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(Yt!==0){var Qe=ee?On(E,ee):new FormData(E);r0(p,{pending:!0,data:Qe,method:E.method,action:L},null,Qe)}}else typeof L=="function"&&(ve.preventDefault(),Qe=ee?On(E,ee):new FormData(E),r0(p,{pending:!0,data:Qe,method:E.method,action:L},L,Qe))},currentTarget:E}]})}}for(var zn=0;zn<Ql.length;zn++){var Vi=Ql[zn],ka=Vi.toLowerCase(),tr=Vi[0].toUpperCase()+Vi.slice(1);Eo(ka,"on"+tr)}Eo(Pl,"onAnimationEnd"),Eo(du,"onAnimationIteration"),Eo(yh,"onAnimationStart"),Eo("dblclick","onDoubleClick"),Eo("focusin","onFocus"),Eo("focusout","onBlur"),Eo(Md,"onTransitionRun"),Eo($p,"onTransitionStart"),Eo(Ud,"onTransitionCancel"),Eo(wh,"onTransitionEnd"),nt("onMouseEnter",["mouseout","mouseover"]),nt("onMouseLeave",["mouseout","mouseover"]),nt("onPointerEnter",["pointerout","pointerover"]),nt("onPointerLeave",["pointerout","pointerover"]),pt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pt("onBeforeInput",["compositionend","keypress","textInput","paste"]),pt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function w5(o,u){u=(u&4)!==0;for(var p=0;p<o.length;p++){var y=o[p],E=y.event;y=y.listeners;e:{var L=void 0;if(u)for(var ee=y.length-1;0<=ee;ee--){var ve=y[ee],Qe=ve.instance,yt=ve.currentTarget;if(ve=ve.listener,Qe!==L&&E.isPropagationStopped())break e;L=ve,E.currentTarget=yt;try{L(E)}catch(It){Ic(It)}E.currentTarget=null,L=Qe}else for(ee=0;ee<y.length;ee++){if(ve=y[ee],Qe=ve.instance,yt=ve.currentTarget,ve=ve.listener,Qe!==L&&E.isPropagationStopped())break e;L=ve,E.currentTarget=yt;try{L(E)}catch(It){Ic(It)}E.currentTarget=null,L=Qe}}}}function Pi(o,u){var p=u[Fr];p===void 0&&(p=u[Fr]=new Set);var y=o+"__bubble";p.has(y)||(x5(u,o,2,!1),p.add(y))}function j_(o,u,p){var y=0;u&&(y|=4),x5(p,o,y,u)}var iy="_reactListening"+Math.random().toString(36).slice(2);function K_(o){if(!o[iy]){o[iy]=!0,We.forEach(function(p){p!=="selectionchange"&&(V_.has(p)||j_(p,!1,o),j_(p,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[iy]||(u[iy]=!0,j_("selectionchange",!1,u))}}function x5(o,u,p,y){switch(Y5(u)){case 2:var E=ZD;break;case 8:E=$D;break;default:E=oB}p=E.bind(null,u,p,o),E=void 0,!la||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(E=!0),y?E!==void 0?o.addEventListener(u,p,{capture:!0,passive:E}):o.addEventListener(u,p,!0):E!==void 0?o.addEventListener(u,p,{passive:E}):o.addEventListener(u,p,!1)}function W_(o,u,p,y,E){var L=y;if((u&1)===0&&(u&2)===0&&y!==null)e:for(;;){if(y===null)return;var ee=y.tag;if(ee===3||ee===4){var ve=y.stateNode.containerInfo;if(ve===E)break;if(ee===4)for(ee=y.return;ee!==null;){var Qe=ee.tag;if((Qe===3||Qe===4)&&ee.stateNode.containerInfo===E)return;ee=ee.return}for(;ve!==null;){if(ee=Os(ve),ee===null)return;if(Qe=ee.tag,Qe===5||Qe===6||Qe===26||Qe===27){y=L=ee;continue e}ve=ve.parentNode}}y=y.return}YA(function(){var yt=L,It=_A(p),Ot=[];e:{var bt=Co.get(o);if(bt!==void 0){var St=ca,_n=o;switch(o){case"keypress":if(Ia(p)===0)break e;case"keydown":case"keyup":St=di;break;case"focusin":_n="focus",St=Yo;break;case"focusout":_n="blur",St=Yo;break;case"beforeblur":case"afterblur":St=Yo;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":St=cu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":St=Wa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":St=Ss;break;case Pl:case du:case yh:St=D;break;case wh:St=fa;break;case"scroll":case"scrollend":St=bo;break;case"wheel":St=Jo;break;case"copy":case"cut":case"paste":St=Ue;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":St=es;break;case"toggle":case"beforetoggle":St=Tc}var jn=(u&4)!==0,zr=!jn&&(o==="scroll"||o==="scrollend"),ot=jn?bt!==null?bt+"Capture":null:bt;jn=[];for(var Ke=yt,vt;Ke!==null;){var Nt=Ke;if(vt=Nt.stateNode,Nt=Nt.tag,Nt!==5&&Nt!==26&&Nt!==27||vt===null||ot===null||(Nt=ea(Ke,ot),Nt!=null&&jn.push(_0(Ke,Nt,vt))),zr)break;Ke=Ke.return}0<jn.length&&(bt=new St(bt,_n,null,p,It),Ot.push({event:bt,listeners:jn}))}}if((u&7)===0){e:{if(bt=o==="mouseover"||o==="pointerover",St=o==="mouseout"||o==="pointerout",bt&&p!==La&&(_n=p.relatedTarget||p.fromElement)&&(Os(_n)||_n[ur]))break e;if((St||bt)&&(bt=It.window===It?It:(bt=It.ownerDocument)?bt.defaultView||bt.parentWindow:window,St?(_n=p.relatedTarget||p.toElement,St=yt,_n=_n?Os(_n):null,_n!==null&&(zr=s(_n),jn=_n.tag,_n!==zr||jn!==5&&jn!==27&&jn!==6)&&(_n=null)):(St=null,_n=yt),St!==_n)){if(jn=cu,Nt="onMouseLeave",ot="onMouseEnter",Ke="mouse",(o==="pointerout"||o==="pointerover")&&(jn=es,Nt="onPointerLeave",ot="onPointerEnter",Ke="pointer"),zr=St==null?bt:io(St),vt=_n==null?bt:io(_n),bt=new jn(Nt,Ke+"leave",St,p,It),bt.target=zr,bt.relatedTarget=vt,Nt=null,Os(It)===yt&&(jn=new jn(ot,Ke+"enter",_n,p,It),jn.target=vt,jn.relatedTarget=zr,Nt=jn),zr=Nt,St&&_n)t:{for(jn=SD,ot=St,Ke=_n,vt=0,Nt=ot;Nt;Nt=jn(Nt))vt++;Nt=0;for(var Dn=Ke;Dn;Dn=jn(Dn))Nt++;for(;0<vt-Nt;)ot=jn(ot),vt--;for(;0<Nt-vt;)Ke=jn(Ke),Nt--;for(;vt--;){if(ot===Ke||Ke!==null&&ot===Ke.alternate){jn=ot;break t}ot=jn(ot),Ke=jn(Ke)}jn=null}else jn=null;St!==null&&b5(Ot,bt,St,jn,!1),_n!==null&&zr!==null&&b5(Ot,zr,_n,jn,!0)}}e:{if(bt=yt?io(yt):window,St=bt.nodeName&&bt.nodeName.toLowerCase(),St==="select"||St==="input"&&bt.type==="file")var or=Rl;else if(Fc(bt))if(ts)or=TA;else{or=Kr;var Sn=Xu}else St=bt.nodeName,!St||St.toLowerCase()!=="input"||bt.type!=="checkbox"&&bt.type!=="radio"?yt&&_s(yt.elementType)&&(or=Rl):or=Mf;if(or&&(or=or(o,yt))){qa(Ot,or,p,It);break e}Sn&&Sn(o,bt,yt),o==="focusout"&&yt&&bt.type==="number"&&yt.memoizedProps.value!=null&&Ni(bt,"number",bt.value)}switch(Sn=yt?io(yt):window,o){case"focusin":(Fc(Sn)||Sn.contentEditable==="true")&&(da=Sn,Da=yt,pa=null);break;case"focusout":pa=Da=da=null;break;case"mousedown":Bo=!0;break;case"contextmenu":case"mouseup":case"dragend":Bo=!1,Ti(Ot,p,It);break;case"selectionchange":if(hu)break;case"keydown":case"keyup":Ti(Ot,p,It)}var _i;if(Ao)e:{switch(o){case"compositionstart":var ji="onCompositionStart";break e;case"compositionend":ji="onCompositionEnd";break e;case"compositionupdate":ji="onCompositionUpdate";break e}ji=void 0}else CA?tl(o,p)&&(ji="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(ji="onCompositionStart");ji&&(el&&p.locale!=="ko"&&(CA||ji!=="onCompositionStart"?ji==="onCompositionEnd"&&CA&&(_i=JA()):(cs=It,BA="value"in cs?cs.value:cs.textContent,CA=!0)),Sn=ry(yt,ji),0<Sn.length&&(ji=new st(ji,o,null,p,It),Ot.push({event:ji,listeners:Sn}),_i?ji.data=_i:(_i=qu(p),_i!==null&&(ji.data=_i)))),(_i=$A?Na(o,p):EA(o,p))&&(ji=ry(yt,"onBeforeInput"),0<ji.length&&(Sn=new st("onBeforeInput","beforeinput",null,p,It),Ot.push({event:Sn,listeners:ji}),Sn.data=_i)),ys(Ot,o,yt,p,It)}w5(Ot,u)})}function _0(o,u,p){return{instance:o,listener:u,currentTarget:p}}function ry(o,u){for(var p=u+"Capture",y=[];o!==null;){var E=o,L=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||L===null||(E=ea(o,p),E!=null&&y.unshift(_0(o,E,L)),E=ea(o,u),E!=null&&y.push(_0(o,E,L))),o.tag===3)return y;o=o.return}return[]}function SD(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function b5(o,u,p,y,E){for(var L=u._reactName,ee=[];p!==null&&p!==y;){var ve=p,Qe=ve.alternate,yt=ve.stateNode;if(ve=ve.tag,Qe!==null&&Qe===y)break;ve!==5&&ve!==26&&ve!==27||yt===null||(Qe=yt,E?(yt=ea(p,L),yt!=null&&ee.unshift(_0(p,yt,Qe))):E||(yt=ea(p,L),yt!=null&&ee.push(_0(p,yt,Qe)))),p=p.return}ee.length!==0&&o.push({event:u,listeners:ee})}var CD=/\r\n?/g,ED=/\u0000|\uFFFD/g;function _5(o){return(typeof o=="string"?o:""+o).replace(CD,`
`).replace(ED,"")}function B5(o,u){return u=_5(u),_5(o)===u}function kr(o,u,p,y,E,L){switch(p){case"children":typeof y=="string"?u==="body"||u==="textarea"&&y===""||nr(o,y):(typeof y=="number"||typeof y=="bigint")&&u!=="body"&&nr(o,""+y);break;case"className":xn(o,"class",y);break;case"tabIndex":xn(o,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":xn(o,p,y);break;case"style":xo(o,y,L);break;case"data":if(u!=="object"){xn(o,"data",y);break}case"src":case"href":if(y===""&&(u!=="a"||p!=="href")){o.removeAttribute(p);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){o.removeAttribute(p);break}y=$r(""+y),o.setAttribute(p,y);break;case"action":case"formAction":if(typeof y=="function"){o.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof L=="function"&&(p==="formAction"?(u!=="input"&&kr(o,u,"name",E.name,E,null),kr(o,u,"formEncType",E.formEncType,E,null),kr(o,u,"formMethod",E.formMethod,E,null),kr(o,u,"formTarget",E.formTarget,E,null)):(kr(o,u,"encType",E.encType,E,null),kr(o,u,"method",E.method,E,null),kr(o,u,"target",E.target,E,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){o.removeAttribute(p);break}y=$r(""+y),o.setAttribute(p,y);break;case"onClick":y!=null&&(o.onclick=$s);break;case"onScroll":y!=null&&Pi("scroll",o);break;case"onScrollEnd":y!=null&&Pi("scrollend",o);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(p=y.__html,p!=null){if(E.children!=null)throw Error(n(60));o.innerHTML=p}}break;case"multiple":o.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":o.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){o.removeAttribute("xlink:href");break}p=$r(""+y),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(p,""+y):o.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(p,""):o.removeAttribute(p);break;case"capture":case"download":y===!0?o.setAttribute(p,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(p,y):o.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?o.setAttribute(p,y):o.removeAttribute(p);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?o.removeAttribute(p):o.setAttribute(p,y);break;case"popover":Pi("beforetoggle",o),Pi("toggle",o),$t(o,"popover",y);break;case"xlinkActuate":un(o,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":un(o,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":un(o,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":un(o,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":un(o,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":un(o,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":un(o,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":un(o,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":un(o,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":$t(o,"is",y);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=Tl.get(p)||p,$t(o,p,y))}}function q_(o,u,p,y,E,L){switch(p){case"style":xo(o,y,L);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(p=y.__html,p!=null){if(E.children!=null)throw Error(n(60));o.innerHTML=p}}break;case"children":typeof y=="string"?nr(o,y):(typeof y=="number"||typeof y=="bigint")&&nr(o,""+y);break;case"onScroll":y!=null&&Pi("scroll",o);break;case"onScrollEnd":y!=null&&Pi("scrollend",o);break;case"onClick":y!=null&&(o.onclick=$s);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dt.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(E=p.endsWith("Capture"),u=p.slice(2,E?p.length-7:void 0),L=o[Ji]||null,L=L!=null?L[p]:null,typeof L=="function"&&o.removeEventListener(u,L,E),typeof y=="function")){typeof L!="function"&&L!==null&&(p in o?o[p]=null:o.hasAttribute(p)&&o.removeAttribute(p)),o.addEventListener(u,y,E);break e}p in o?o[p]=y:y===!0?o.setAttribute(p,""):$t(o,p,y)}}}function Oo(o,u,p){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pi("error",o),Pi("load",o);var y=!1,E=!1,L;for(L in p)if(p.hasOwnProperty(L)){var ee=p[L];if(ee!=null)switch(L){case"src":y=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:kr(o,u,L,ee,p,null)}}E&&kr(o,u,"srcSet",p.srcSet,p,null),y&&kr(o,u,"src",p.src,p,null);return;case"input":Pi("invalid",o);var ve=L=ee=E=null,Qe=null,yt=null;for(y in p)if(p.hasOwnProperty(y)){var It=p[y];if(It!=null)switch(y){case"name":E=It;break;case"type":ee=It;break;case"checked":Qe=It;break;case"defaultChecked":yt=It;break;case"value":L=It;break;case"defaultValue":ve=It;break;case"children":case"dangerouslySetInnerHTML":if(It!=null)throw Error(n(137,u));break;default:kr(o,u,y,It,p,null)}}Zs(o,L,ve,Qe,yt,ee,E,!1);return;case"select":Pi("invalid",o),y=ee=L=null;for(E in p)if(p.hasOwnProperty(E)&&(ve=p[E],ve!=null))switch(E){case"value":L=ve;break;case"defaultValue":ee=ve;break;case"multiple":y=ve;default:kr(o,u,E,ve,p,null)}u=L,p=ee,o.multiple=!!y,u!=null?fr(o,!!y,u,!1):p!=null&&fr(o,!!y,p,!0);return;case"textarea":Pi("invalid",o),L=E=y=null;for(ee in p)if(p.hasOwnProperty(ee)&&(ve=p[ee],ve!=null))switch(ee){case"value":y=ve;break;case"defaultValue":E=ve;break;case"children":L=ve;break;case"dangerouslySetInnerHTML":if(ve!=null)throw Error(n(91));break;default:kr(o,u,ee,ve,p,null)}hr(o,y,E,L);return;case"option":for(Qe in p)p.hasOwnProperty(Qe)&&(y=p[Qe],y!=null)&&(Qe==="selected"?o.selected=y&&typeof y!="function"&&typeof y!="symbol":kr(o,u,Qe,y,p,null));return;case"dialog":Pi("beforetoggle",o),Pi("toggle",o),Pi("cancel",o),Pi("close",o);break;case"iframe":case"object":Pi("load",o);break;case"video":case"audio":for(y=0;y<xl.length;y++)Pi(xl[y],o);break;case"image":Pi("error",o),Pi("load",o);break;case"details":Pi("toggle",o);break;case"embed":case"source":case"link":Pi("error",o),Pi("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(yt in p)if(p.hasOwnProperty(yt)&&(y=p[yt],y!=null))switch(yt){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:kr(o,u,yt,y,p,null)}return;default:if(_s(u)){for(It in p)p.hasOwnProperty(It)&&(y=p[It],y!==void 0&&q_(o,u,It,y,p,void 0));return}}for(ve in p)p.hasOwnProperty(ve)&&(y=p[ve],y!=null&&kr(o,u,ve,y,p,null))}function MD(o,u,p,y){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,L=null,ee=null,ve=null,Qe=null,yt=null,It=null;for(St in p){var Ot=p[St];if(p.hasOwnProperty(St)&&Ot!=null)switch(St){case"checked":break;case"value":break;case"defaultValue":Qe=Ot;default:y.hasOwnProperty(St)||kr(o,u,St,null,y,Ot)}}for(var bt in y){var St=y[bt];if(Ot=p[bt],y.hasOwnProperty(bt)&&(St!=null||Ot!=null))switch(bt){case"type":L=St;break;case"name":E=St;break;case"checked":yt=St;break;case"defaultChecked":It=St;break;case"value":ee=St;break;case"defaultValue":ve=St;break;case"children":case"dangerouslySetInnerHTML":if(St!=null)throw Error(n(137,u));break;default:St!==Ot&&kr(o,u,bt,St,y,Ot)}}Lr(o,ee,ve,Qe,yt,It,L,E);return;case"select":St=ee=ve=bt=null;for(L in p)if(Qe=p[L],p.hasOwnProperty(L)&&Qe!=null)switch(L){case"value":break;case"multiple":St=Qe;default:y.hasOwnProperty(L)||kr(o,u,L,null,y,Qe)}for(E in y)if(L=y[E],Qe=p[E],y.hasOwnProperty(E)&&(L!=null||Qe!=null))switch(E){case"value":bt=L;break;case"defaultValue":ve=L;break;case"multiple":ee=L;default:L!==Qe&&kr(o,u,E,L,y,Qe)}u=ve,p=ee,y=St,bt!=null?fr(o,!!p,bt,!1):!!y!=!!p&&(u!=null?fr(o,!!p,u,!0):fr(o,!!p,p?[]:"",!1));return;case"textarea":St=bt=null;for(ve in p)if(E=p[ve],p.hasOwnProperty(ve)&&E!=null&&!y.hasOwnProperty(ve))switch(ve){case"value":break;case"children":break;default:kr(o,u,ve,null,y,E)}for(ee in y)if(E=y[ee],L=p[ee],y.hasOwnProperty(ee)&&(E!=null||L!=null))switch(ee){case"value":bt=E;break;case"defaultValue":St=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(n(91));break;default:E!==L&&kr(o,u,ee,E,y,L)}hi(o,bt,St);return;case"option":for(var _n in p)bt=p[_n],p.hasOwnProperty(_n)&&bt!=null&&!y.hasOwnProperty(_n)&&(_n==="selected"?o.selected=!1:kr(o,u,_n,null,y,bt));for(Qe in y)bt=y[Qe],St=p[Qe],y.hasOwnProperty(Qe)&&bt!==St&&(bt!=null||St!=null)&&(Qe==="selected"?o.selected=bt&&typeof bt!="function"&&typeof bt!="symbol":kr(o,u,Qe,bt,y,St));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var jn in p)bt=p[jn],p.hasOwnProperty(jn)&&bt!=null&&!y.hasOwnProperty(jn)&&kr(o,u,jn,null,y,bt);for(yt in y)if(bt=y[yt],St=p[yt],y.hasOwnProperty(yt)&&bt!==St&&(bt!=null||St!=null))switch(yt){case"children":case"dangerouslySetInnerHTML":if(bt!=null)throw Error(n(137,u));break;default:kr(o,u,yt,bt,y,St)}return;default:if(_s(u)){for(var zr in p)bt=p[zr],p.hasOwnProperty(zr)&&bt!==void 0&&!y.hasOwnProperty(zr)&&q_(o,u,zr,void 0,y,bt);for(It in y)bt=y[It],St=p[It],!y.hasOwnProperty(It)||bt===St||bt===void 0&&St===void 0||q_(o,u,It,bt,y,St);return}}for(var ot in p)bt=p[ot],p.hasOwnProperty(ot)&&bt!=null&&!y.hasOwnProperty(ot)&&kr(o,u,ot,null,y,bt);for(Ot in y)bt=y[Ot],St=p[Ot],!y.hasOwnProperty(Ot)||bt===St||bt==null&&St==null||kr(o,u,Ot,bt,y,St)}function S5(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function UD(){if(typeof performance.getEntriesByType=="function"){for(var o=0,u=0,p=performance.getEntriesByType("resource"),y=0;y<p.length;y++){var E=p[y],L=E.transferSize,ee=E.initiatorType,ve=E.duration;if(L&&ve&&S5(ee)){for(ee=0,ve=E.responseEnd,y+=1;y<p.length;y++){var Qe=p[y],yt=Qe.startTime;if(yt>ve)break;var It=Qe.transferSize,Ot=Qe.initiatorType;It&&S5(Ot)&&(Qe=Qe.responseEnd,ee+=It*(Qe<ve?1:(ve-yt)/(Qe-yt)))}if(--y,u+=8*(L+ee)/(E.duration/1e3),o++,10<o)break}}if(0<o)return u/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var X_=null,Y_=null;function sy(o){return o.nodeType===9?o:o.ownerDocument}function C5(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function E5(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function J_(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Z_=null;function TD(){var o=window.event;return o&&o.type==="popstate"?o===Z_?!1:(Z_=o,!0):(Z_=null,!1)}var M5=typeof setTimeout=="function"?setTimeout:void 0,FD=typeof clearTimeout=="function"?clearTimeout:void 0,U5=typeof Promise=="function"?Promise:void 0,LD=typeof queueMicrotask=="function"?queueMicrotask:typeof U5<"u"?function(o){return U5.resolve(null).then(o).catch(ID)}:M5;function ID(o){setTimeout(function(){throw o})}function zh(o){return o==="head"}function T5(o,u){var p=u,y=0;do{var E=p.nextSibling;if(o.removeChild(p),E&&E.nodeType===8)if(p=E.data,p==="/$"||p==="/&"){if(y===0){o.removeChild(E),Mg(u);return}y--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")y++;else if(p==="html")B0(o.ownerDocument.documentElement);else if(p==="head"){p=o.ownerDocument.head,B0(p);for(var L=p.firstChild;L;){var ee=L.nextSibling,ve=L.nodeName;L[Ds]||ve==="SCRIPT"||ve==="STYLE"||ve==="LINK"&&L.rel.toLowerCase()==="stylesheet"||p.removeChild(L),L=ee}}else p==="body"&&B0(o.ownerDocument.body);p=E}while(p);Mg(u)}function F5(o,u){var p=o;o=0;do{var y=p.nextSibling;if(p.nodeType===1?u?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(u?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),y&&y.nodeType===8)if(p=y.data,p==="/$"){if(o===0)break;o--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||o++;p=y}while(p)}function $_(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var p=u;switch(u=u.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":$_(p),Aa(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}o.removeChild(p)}}function RD(o,u,p,y){for(;o.nodeType===1;){var E=p;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!y&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(y){if(!o[Ds])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(L=o.getAttribute("rel"),L==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(L!==E.rel||o.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||o.getAttribute("title")!==(E.title==null?null:E.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(L=o.getAttribute("src"),(L!==(E.src==null?null:E.src)||o.getAttribute("type")!==(E.type==null?null:E.type)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&L&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var L=E.name==null?null:""+E.name;if(E.type==="hidden"&&o.getAttribute("name")===L)return o}else return o;if(o=Lu(o.nextSibling),o===null)break}return null}function ND(o,u,p){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!p||(o=Lu(o.nextSibling),o===null))return null;return o}function L5(o,u){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!u||(o=Lu(o.nextSibling),o===null))return null;return o}function eB(o){return o.data==="$?"||o.data==="$~"}function tB(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function DD(o,u){var p=o.ownerDocument;if(o.data==="$~")o._reactRetry=u;else if(o.data!=="$?"||p.readyState!=="loading")u();else{var y=function(){u(),p.removeEventListener("DOMContentLoaded",y)};p.addEventListener("DOMContentLoaded",y),o._reactRetry=y}}function Lu(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return o}var nB=null;function I5(o){o=o.nextSibling;for(var u=0;o;){if(o.nodeType===8){var p=o.data;if(p==="/$"||p==="/&"){if(u===0)return Lu(o.nextSibling);u--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||u++}o=o.nextSibling}return null}function R5(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(u===0)return o;u--}else p!=="/$"&&p!=="/&"||u++}o=o.previousSibling}return null}function N5(o,u,p){switch(u=sy(p),o){case"html":if(o=u.documentElement,!o)throw Error(n(452));return o;case"head":if(o=u.head,!o)throw Error(n(453));return o;case"body":if(o=u.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function B0(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);Aa(o)}var Iu=new Map,D5=new Set;function ay(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var qf=ne.d;ne.d={f:OD,r:PD,D:QD,C:HD,L:kD,m:zD,X:VD,S:GD,M:jD};function OD(){var o=qf.f(),u=eu();return o||u}function PD(o){var u=Js(o);u!==null&&u.tag===5&&u.type==="form"?zv(u):qf.r(o)}var Sg=typeof document>"u"?null:document;function O5(o,u,p){var y=Sg;if(y&&typeof u=="string"&&u){var E=dn(u);E='link[rel="'+o+'"][href="'+E+'"]',typeof p=="string"&&(E+='[crossorigin="'+p+'"]'),D5.has(E)||(D5.add(E),o={rel:o,crossOrigin:p,href:u},y.querySelector(E)===null&&(u=y.createElement("link"),Oo(u,"link",o),pe(u),y.head.appendChild(u)))}}function QD(o){qf.D(o),O5("dns-prefetch",o,null)}function HD(o,u){qf.C(o,u),O5("preconnect",o,u)}function kD(o,u,p){qf.L(o,u,p);var y=Sg;if(y&&o&&u){var E='link[rel="preload"][as="'+dn(u)+'"]';u==="image"&&p&&p.imageSrcSet?(E+='[imagesrcset="'+dn(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(E+='[imagesizes="'+dn(p.imageSizes)+'"]')):E+='[href="'+dn(o)+'"]';var L=E;switch(u){case"style":L=Cg(o);break;case"script":L=Eg(o)}Iu.has(L)||(o=g({rel:"preload",href:u==="image"&&p&&p.imageSrcSet?void 0:o,as:u},p),Iu.set(L,o),y.querySelector(E)!==null||u==="style"&&y.querySelector(S0(L))||u==="script"&&y.querySelector(C0(L))||(u=y.createElement("link"),Oo(u,"link",o),pe(u),y.head.appendChild(u)))}}function zD(o,u){qf.m(o,u);var p=Sg;if(p&&o){var y=u&&typeof u.as=="string"?u.as:"script",E='link[rel="modulepreload"][as="'+dn(y)+'"][href="'+dn(o)+'"]',L=E;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":L=Eg(o)}if(!Iu.has(L)&&(o=g({rel:"modulepreload",href:o},u),Iu.set(L,o),p.querySelector(E)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(C0(L)))return}y=p.createElement("link"),Oo(y,"link",o),pe(y),p.head.appendChild(y)}}}function GD(o,u,p){qf.S(o,u,p);var y=Sg;if(y&&o){var E=ln(y).hoistableStyles,L=Cg(o);u=u||"default";var ee=E.get(L);if(!ee){var ve={loading:0,preload:null};if(ee=y.querySelector(S0(L)))ve.loading=5;else{o=g({rel:"stylesheet",href:o,"data-precedence":u},p),(p=Iu.get(L))&&iB(o,p);var Qe=ee=y.createElement("link");pe(Qe),Oo(Qe,"link",o),Qe._p=new Promise(function(yt,It){Qe.onload=yt,Qe.onerror=It}),Qe.addEventListener("load",function(){ve.loading|=1}),Qe.addEventListener("error",function(){ve.loading|=2}),ve.loading|=4,oy(ee,u,y)}ee={type:"stylesheet",instance:ee,count:1,state:ve},E.set(L,ee)}}}function VD(o,u){qf.X(o,u);var p=Sg;if(p&&o){var y=ln(p).hoistableScripts,E=Eg(o),L=y.get(E);L||(L=p.querySelector(C0(E)),L||(o=g({src:o,async:!0},u),(u=Iu.get(E))&&rB(o,u),L=p.createElement("script"),pe(L),Oo(L,"link",o),p.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},y.set(E,L))}}function jD(o,u){qf.M(o,u);var p=Sg;if(p&&o){var y=ln(p).hoistableScripts,E=Eg(o),L=y.get(E);L||(L=p.querySelector(C0(E)),L||(o=g({src:o,async:!0,type:"module"},u),(u=Iu.get(E))&&rB(o,u),L=p.createElement("script"),pe(L),Oo(L,"link",o),p.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},y.set(E,L))}}function P5(o,u,p,y){var E=(E=te.current)?ay(E):null;if(!E)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(u=Cg(p.href),p=ln(E).hoistableStyles,y=p.get(u),y||(y={type:"style",instance:null,count:0,state:null},p.set(u,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){o=Cg(p.href);var L=ln(E).hoistableStyles,ee=L.get(o);if(ee||(E=E.ownerDocument||E,ee={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},L.set(o,ee),(L=E.querySelector(S0(o)))&&!L._p&&(ee.instance=L,ee.state.loading=5),Iu.has(o)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Iu.set(o,p),L||KD(E,o,p,ee.state))),u&&y===null)throw Error(n(528,""));return ee}if(u&&y!==null)throw Error(n(529,""));return null;case"script":return u=p.async,p=p.src,typeof p=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Eg(p),p=ln(E).hoistableScripts,y=p.get(u),y||(y={type:"script",instance:null,count:0,state:null},p.set(u,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function Cg(o){return'href="'+dn(o)+'"'}function S0(o){return'link[rel="stylesheet"]['+o+"]"}function Q5(o){return g({},o,{"data-precedence":o.precedence,precedence:null})}function KD(o,u,p,y){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?y.loading=1:(u=o.createElement("link"),y.preload=u,u.addEventListener("load",function(){return y.loading|=1}),u.addEventListener("error",function(){return y.loading|=2}),Oo(u,"link",p),pe(u),o.head.appendChild(u))}function Eg(o){return'[src="'+dn(o)+'"]'}function C0(o){return"script[async]"+o}function H5(o,u,p){if(u.count++,u.instance===null)switch(u.type){case"style":var y=o.querySelector('style[data-href~="'+dn(p.href)+'"]');if(y)return u.instance=y,pe(y),y;var E=g({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return y=(o.ownerDocument||o).createElement("style"),pe(y),Oo(y,"style",E),oy(y,p.precedence,o),u.instance=y;case"stylesheet":E=Cg(p.href);var L=o.querySelector(S0(E));if(L)return u.state.loading|=4,u.instance=L,pe(L),L;y=Q5(p),(E=Iu.get(E))&&iB(y,E),L=(o.ownerDocument||o).createElement("link"),pe(L);var ee=L;return ee._p=new Promise(function(ve,Qe){ee.onload=ve,ee.onerror=Qe}),Oo(L,"link",y),u.state.loading|=4,oy(L,p.precedence,o),u.instance=L;case"script":return L=Eg(p.src),(E=o.querySelector(C0(L)))?(u.instance=E,pe(E),E):(y=p,(E=Iu.get(L))&&(y=g({},p),rB(y,E)),o=o.ownerDocument||o,E=o.createElement("script"),pe(E),Oo(E,"link",y),o.head.appendChild(E),u.instance=E);case"void":return null;default:throw Error(n(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(y=u.instance,u.state.loading|=4,oy(y,p.precedence,o));return u.instance}function oy(o,u,p){for(var y=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=y.length?y[y.length-1]:null,L=E,ee=0;ee<y.length;ee++){var ve=y[ee];if(ve.dataset.precedence===u)L=ve;else if(L!==E)break}L?L.parentNode.insertBefore(o,L.nextSibling):(u=p.nodeType===9?p.head:p,u.insertBefore(o,u.firstChild))}function iB(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function rB(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var Ay=null;function k5(o,u,p){if(Ay===null){var y=new Map,E=Ay=new Map;E.set(p,y)}else E=Ay,y=E.get(p),y||(y=new Map,E.set(p,y));if(y.has(o))return y;for(y.set(o,null),p=p.getElementsByTagName(o),E=0;E<p.length;E++){var L=p[E];if(!(L[Ds]||L[ei]||o==="link"&&L.getAttribute("rel")==="stylesheet")&&L.namespaceURI!=="http://www.w3.org/2000/svg"){var ee=L.getAttribute(u)||"";ee=o+ee;var ve=y.get(ee);ve?ve.push(L):y.set(ee,[L])}}return y}function z5(o,u,p){o=o.ownerDocument||o,o.head.insertBefore(p,u==="title"?o.querySelector("head > title"):null)}function WD(o,u,p){if(p===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;return u.rel==="stylesheet"?(o=u.disabled,typeof u.precedence=="string"&&o==null):!0;case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function G5(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function qD(o,u,p,y){if(p.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var E=Cg(y.href),L=u.querySelector(S0(E));if(L){u=L._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(o.count++,o=ly.bind(o),u.then(o,o)),p.state.loading|=4,p.instance=L,pe(L);return}L=u.ownerDocument||u,y=Q5(y),(E=Iu.get(E))&&iB(y,E),L=L.createElement("link"),pe(L);var ee=L;ee._p=new Promise(function(ve,Qe){ee.onload=ve,ee.onerror=Qe}),Oo(L,"link",y),p.instance=L}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(p,u),(u=p.state.preload)&&(p.state.loading&3)===0&&(o.count++,p=ly.bind(o),u.addEventListener("load",p),u.addEventListener("error",p))}}var sB=0;function XD(o,u){return o.stylesheets&&o.count===0&&cy(o,o.stylesheets),0<o.count||0<o.imgCount?function(p){var y=setTimeout(function(){if(o.stylesheets&&cy(o,o.stylesheets),o.unsuspend){var L=o.unsuspend;o.unsuspend=null,L()}},6e4+u);0<o.imgBytes&&sB===0&&(sB=62500*UD());var E=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&cy(o,o.stylesheets),o.unsuspend)){var L=o.unsuspend;o.unsuspend=null,L()}},(o.imgBytes>sB?50:800)+u);return o.unsuspend=p,function(){o.unsuspend=null,clearTimeout(y),clearTimeout(E)}}:null}function ly(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cy(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var uy=null;function cy(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,uy=new Map,u.forEach(YD,o),uy=null,ly.call(o))}function YD(o,u){if(!(u.state.loading&4)){var p=uy.get(o);if(p)var y=p.get(null);else{p=new Map,uy.set(o,p);for(var E=o.querySelectorAll("link[data-precedence],style[data-precedence]"),L=0;L<E.length;L++){var ee=E[L];(ee.nodeName==="LINK"||ee.getAttribute("media")!=="not all")&&(p.set(ee.dataset.precedence,ee),y=ee)}y&&p.set(null,y)}E=u.instance,ee=E.getAttribute("data-precedence"),L=p.get(ee)||y,L===y&&p.set(null,E),p.set(ee,E),this.count++,y=ly.bind(this),E.addEventListener("load",y),E.addEventListener("error",y),L?L.parentNode.insertBefore(E,L.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(E,o.firstChild)),u.state.loading|=4}}var E0={$$typeof:T,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function JD(o,u,p,y,E,L,ee,ve,Qe){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nn(0),this.hiddenUpdates=nn(null),this.identifierPrefix=y,this.onUncaughtError=E,this.onCaughtError=L,this.onRecoverableError=ee,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Qe,this.incompleteTransitions=new Map}function V5(o,u,p,y,E,L,ee,ve,Qe,yt,It,Ot){return o=new JD(o,u,p,ee,Qe,yt,It,Ot,ve),u=1,L===!0&&(u|=24),L=br(3,null,null,u),o.current=L,L.stateNode=o,u=Hc(),u.refCount++,o.pooledCache=u,u.refCount++,L.memoizedState={element:y,isDehydrated:p,cache:u},Jt(L),o}function j5(o){return o?(o=zs,o):zs}function K5(o,u,p,y,E,L){E=j5(E),y.context===null?y.context=E:y.pendingContext=E,y=Nn(u),y.payload={element:p},L=L===void 0?null:L,L!==null&&(y.callback=L),p=ti(o,y,u),p!==null&&(yi(p,o,u),zi(p,o,u))}function W5(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<u?p:u}}function aB(o,u){W5(o,u),(o=o.alternate)&&W5(o,u)}function q5(o){if(o.tag===13||o.tag===31){var u=ga(o,67108864);u!==null&&yi(u,o,67108864),aB(o,67108864)}}function X5(o){if(o.tag===13||o.tag===31){var u=HA();u=ci(u);var p=ga(o,u);p!==null&&yi(p,o,u),aB(o,u)}}var fy=!0;function ZD(o,u,p,y){var E=Z.T;Z.T=null;var L=ne.p;try{ne.p=2,oB(o,u,p,y)}finally{ne.p=L,Z.T=E}}function $D(o,u,p,y){var E=Z.T;Z.T=null;var L=ne.p;try{ne.p=8,oB(o,u,p,y)}finally{ne.p=L,Z.T=E}}function oB(o,u,p,y){if(fy){var E=AB(y);if(E===null)W_(o,u,y,hy,p),J5(o,y);else if(t6(E,o,u,p,y))y.stopPropagation();else if(J5(o,y),u&4&&-1<e6.indexOf(o)){for(;E!==null;){var L=Js(E);if(L!==null)switch(L.tag){case 3:if(L=L.stateNode,L.current.memoizedState.isDehydrated){var ee=tt(L.pendingLanes);if(ee!==0){var ve=L;for(ve.pendingLanes|=2,ve.entangledLanes|=2;ee;){var Qe=1<<31-Ee(ee);ve.entanglements[1]|=Qe,ee&=~Qe}jt(L),(Mn&6)===0&&(Vs=$()+500,hn(0))}}break;case 31:case 13:ve=ga(L,2),ve!==null&&yi(ve,L,2),eu(),aB(L,2)}if(L=AB(y),L===null&&W_(o,u,y,hy,p),L===E)break;E=L}E!==null&&y.stopPropagation()}else W_(o,u,y,null,p)}}function AB(o){return o=_A(o),lB(o)}var hy=null;function lB(o){if(hy=null,o=Os(o),o!==null){var u=s(o);if(u===null)o=null;else{var p=u.tag;if(p===13){if(o=a(u),o!==null)return o;o=null}else if(p===31){if(o=A(u),o!==null)return o;o=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return hy=o,null}function Y5(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Se()){case Ge:return 2;case Ve:return 8;case Re:case $e:return 32;case At:return 268435456;default:return 32}default:return 32}}var uB=!1,Gh=null,Vh=null,jh=null,M0=new Map,U0=new Map,Kh=[],e6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function J5(o,u){switch(o){case"focusin":case"focusout":Gh=null;break;case"dragenter":case"dragleave":Vh=null;break;case"mouseover":case"mouseout":jh=null;break;case"pointerover":case"pointerout":M0.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":U0.delete(u.pointerId)}}function T0(o,u,p,y,E,L){return o===null||o.nativeEvent!==L?(o={blockedOn:u,domEventName:p,eventSystemFlags:y,nativeEvent:L,targetContainers:[E]},u!==null&&(u=Js(u),u!==null&&q5(u)),o):(o.eventSystemFlags|=y,u=o.targetContainers,E!==null&&u.indexOf(E)===-1&&u.push(E),o)}function t6(o,u,p,y,E){switch(u){case"focusin":return Gh=T0(Gh,o,u,p,y,E),!0;case"dragenter":return Vh=T0(Vh,o,u,p,y,E),!0;case"mouseover":return jh=T0(jh,o,u,p,y,E),!0;case"pointerover":var L=E.pointerId;return M0.set(L,T0(M0.get(L)||null,o,u,p,y,E)),!0;case"gotpointercapture":return L=E.pointerId,U0.set(L,T0(U0.get(L)||null,o,u,p,y,E)),!0}return!1}function Z5(o){var u=Os(o.target);if(u!==null){var p=s(u);if(p!==null){if(u=p.tag,u===13){if(u=a(p),u!==null){o.blockedOn=u,ki(o.priority,function(){X5(p)});return}}else if(u===31){if(u=A(p),u!==null){o.blockedOn=u,ki(o.priority,function(){X5(p)});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function dy(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var p=AB(o.nativeEvent);if(p===null){p=o.nativeEvent;var y=new p.constructor(p.type,p);La=y,p.target.dispatchEvent(y),La=null}else return u=Js(p),u!==null&&q5(u),o.blockedOn=p,!1;u.shift()}return!0}function $5(o,u,p){dy(o)&&p.delete(u)}function n6(){uB=!1,Gh!==null&&dy(Gh)&&(Gh=null),Vh!==null&&dy(Vh)&&(Vh=null),jh!==null&&dy(jh)&&(jh=null),M0.forEach($5),U0.forEach($5)}function py(o,u){o.blockedOn===u&&(o.blockedOn=null,uB||(uB=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,n6)))}var gy=null;function e3(o){gy!==o&&(gy=o,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){gy===o&&(gy=null);for(var u=0;u<o.length;u+=3){var p=o[u],y=o[u+1],E=o[u+2];if(typeof y!="function"){if(lB(y||p)===null)continue;break}var L=Js(p);L!==null&&(o.splice(u,3),u-=3,r0(L,{pending:!0,data:E,method:p.method,action:y},y,E))}}))}function Mg(o){function u(Qe){return py(Qe,o)}Gh!==null&&py(Gh,o),Vh!==null&&py(Vh,o),jh!==null&&py(jh,o),M0.forEach(u),U0.forEach(u);for(var p=0;p<Kh.length;p++){var y=Kh[p];y.blockedOn===o&&(y.blockedOn=null)}for(;0<Kh.length&&(p=Kh[0],p.blockedOn===null);)Z5(p),p.blockedOn===null&&Kh.shift();if(p=(o.ownerDocument||o).$$reactFormReplay,p!=null)for(y=0;y<p.length;y+=3){var E=p[y],L=p[y+1],ee=E[Ji]||null;if(typeof L=="function")ee||e3(p);else if(ee){var ve=null;if(L&&L.hasAttribute("formAction")){if(E=L,ee=L[Ji]||null)ve=ee.formAction;else if(lB(E)!==null)continue}else ve=ee.action;typeof ve=="function"?p[y+1]=ve:(p.splice(y,3),y-=3),e3(p)}}}function t3(){function o(L){L.canIntercept&&L.info==="react-transition"&&L.intercept({handler:function(){return new Promise(function(ee){return E=ee})},focusReset:"manual",scroll:"manual"})}function u(){E!==null&&(E(),E=null),y||setTimeout(p,20)}function p(){if(!y&&!navigation.transition){var L=navigation.currentEntry;L&&L.url!=null&&navigation.navigate(L.url,{state:L.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,E=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(p,100),function(){y=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),E!==null&&(E(),E=null)}}}function cB(o){this._internalRoot=o}my.prototype.render=cB.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(n(409));var p=u.current,y=HA();K5(p,y,o,u,null,null)},my.prototype.unmount=cB.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;K5(o.current,2,null,o,null,null),eu(),u[ur]=null}};function my(o){this._internalRoot=o}my.prototype.unstable_scheduleHydration=function(o){if(o){var u=Yi();o={blockedOn:null,target:o,priority:u};for(var p=0;p<Kh.length&&u!==0&&u<Kh[p].priority;p++);Kh.splice(p,0,o),p===0&&Z5(o)}};var n3=e.version;if(n3!=="19.2.3")throw Error(n(527,n3,"19.2.3"));ne.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=c(u),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var i6={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vy.isDisabled&&vy.supportsFiber)try{at=vy.inject(i6),ut=vy}catch{}}return L0.createRoot=function(o,u){if(!r(o))throw Error(n(299));var p=!1,y="",E=Xv,L=u0,ee=c0;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(E=u.onUncaughtError),u.onCaughtError!==void 0&&(L=u.onCaughtError),u.onRecoverableError!==void 0&&(ee=u.onRecoverableError)),u=V5(o,1,!1,null,null,p,y,null,E,L,ee,t3),o[ur]=u.current,K_(o),new cB(u)},L0.hydrateRoot=function(o,u,p){if(!r(o))throw Error(n(299));var y=!1,E="",L=Xv,ee=u0,ve=c0,Qe=null;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(E=p.identifierPrefix),p.onUncaughtError!==void 0&&(L=p.onUncaughtError),p.onCaughtError!==void 0&&(ee=p.onCaughtError),p.onRecoverableError!==void 0&&(ve=p.onRecoverableError),p.formState!==void 0&&(Qe=p.formState)),u=V5(o,1,!0,u,p??null,y,E,Qe,L,ee,ve,t3),u.context=j5(null),p=u.current,y=HA(),y=ci(y),E=Nn(y),E.callback=null,ti(p,E,y),p=y,u.current.lanes=p,qt(u,p),jt(u),o[ur]=u.current,K_(o),new my(u)},L0.version="19.2.3",L0}var f3;function f6(){if(f3)return dB.exports;f3=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),dB.exports=c6(),dB.exports}var h6=f6();const jm="182",pp={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},gp={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},bF=0,B2=1,_F=2,d6=3,BF=0,ym=1,p1=2,_p=3,dh=0,WA=1,Pu=2,yf=0,Up=1,S2=2,C2=3,E2=4,SF=5,od=100,CF=101,EF=102,MF=103,UF=104,TF=200,FF=201,LF=202,IF=203,dx=204,px=205,RF=206,NF=207,DF=208,OF=209,PF=210,QF=211,HF=212,kF=213,zF=214,gx=0,mx=1,vx=2,Pp=3,yx=4,wx=5,xx=6,bx=7,fv=0,GF=1,VF=2,Gu=0,GC=1,VC=2,jC=3,Lb=4,KC=5,WC=6,qC=7,M2="attached",jF="detached",Ib=300,wf=301,yd=302,D1=303,O1=304,Km=306,Tm=1e3,KA=1001,Fm=1002,oa=1003,Rb=1004,p6=1004,Bp=1005,g6=1005,Tr=1006,wm=1007,m6=1007,yc=1008,v6=1008,VA=1009,XC=1010,YC=1011,Lm=1012,Nb=1013,Vu=1014,yA=1015,_c=1016,Db=1017,Ob=1018,Im=1020,JC=35902,ZC=35899,$C=1021,eE=1022,Vo=1023,xf=1026,Ad=1027,Pb=1028,hv=1029,Qp=1030,Qb=1031,y6=1032,Hb=1033,g1=33776,m1=33777,v1=33778,y1=33779,_x=35840,Bx=35841,Sx=35842,Cx=35843,Ex=36196,Mx=37492,Ux=37496,Tx=37488,Fx=37489,Lx=37490,Ix=37491,Rx=37808,Nx=37809,Dx=37810,Ox=37811,Px=37812,Qx=37813,Hx=37814,kx=37815,zx=37816,Gx=37817,Vx=37818,jx=37819,Kx=37820,Wx=37821,qx=36492,Xx=36494,Yx=36495,Jx=36283,Zx=36284,$x=36285,eb=36286,KF=2200,WF=2201,qF=2202,Rm=2300,P1=2301,Jw=2302,Sp=2400,Cp=2401,Q1=2402,kb=2500,tE=2501,w6=0,x6=1,b6=2,XF=3200,YF=3201,_6=3202,B6=3203,Sd=0,JF=1,pf="",Go="srgb",wd="srgb-linear",H1="linear",Mr="srgb",S6="",C6="rg",E6="ga",M6=0,mp=7680,U6=7681,T6=7682,F6=7683,L6=34055,I6=34056,R6=5386,N6=512,D6=513,O6=514,P6=515,Q6=516,H6=517,k6=518,U2=519,ZF=512,$F=513,eL=514,zb=515,tL=516,nL=517,Gb=518,iL=519,k1=35044,z6=35048,G6=35040,V6=35045,j6=35049,K6=35041,W6=35046,q6=35050,X6=35042,Y6="100",T2="300 es",su=2e3,Nm=2001,J6={COMPUTE:"compute",RENDER:"render"},Z6={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},$6={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function rL(i){for(let e=i.length-1;e>=0;--e)if(i[e]>=65535)return!0;return!1}const eO={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function dm(i,e){return new eO[i](e)}function sL(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function z1(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function aL(){const i=z1("canvas");return i.style.display="block",i}const h3={};let xd=null;function tO(i){xd=i}function nO(){return xd}function G1(...i){const e="THREE."+i.shift();xd?xd("log",e,...i):console.log(e,...i)}function sn(...i){const e="THREE."+i.shift();xd?xd("warn",e,...i):console.warn(e,...i)}function Fn(...i){const e="THREE."+i.shift();xd?xd("error",e,...i):console.error(e,...i)}function Dm(...i){const e=i.join(" ");e in h3||(h3[e]=!0,sn(...i))}function iO(i,e,t){return new Promise(function(n,r){function s(){switch(i.clientWaitSync(e,i.SYNC_FLUSH_COMMANDS_BIT,0)){case i.WAIT_FAILED:r();break;case i.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:n()}}setTimeout(s,t)})}let bf=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){const n=this._listeners;return n===void 0?!1:n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){const n=this._listeners;if(n===void 0)return;const r=n[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const n=t[e.type];if(n!==void 0){e.target=this;const r=n.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}};const lA=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let d3=1234567;const Tp=Math.PI/180,Om=180/Math.PI;function lu(){const i=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(lA[i&255]+lA[i>>8&255]+lA[i>>16&255]+lA[i>>24&255]+"-"+lA[e&255]+lA[e>>8&255]+"-"+lA[e>>16&15|64]+lA[e>>24&255]+"-"+lA[t&63|128]+lA[t>>8&255]+"-"+lA[t>>16&255]+lA[t>>24&255]+lA[n&255]+lA[n>>8&255]+lA[n>>16&255]+lA[n>>24&255]).toLowerCase()}function Kn(i,e,t){return Math.max(e,Math.min(t,i))}function nE(i,e){return(i%e+e)%e}function rO(i,e,t,n,r){return n+(i-e)*(r-n)/(t-e)}function sO(i,e,t){return i!==e?(t-i)/(e-i):0}function w1(i,e,t){return(1-t)*i+t*e}function aO(i,e,t,n){return w1(i,e,1-Math.exp(-t*n))}function oO(i,e=1){return e-Math.abs(nE(i,e*2)-e)}function AO(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*(3-2*i))}function lO(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*i*(i*(i*6-15)+10))}function uO(i,e){return i+Math.floor(Math.random()*(e-i+1))}function cO(i,e){return i+Math.random()*(e-i)}function fO(i){return i*(.5-Math.random())}function hO(i){i!==void 0&&(d3=i);let e=d3+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function dO(i){return i*Tp}function pO(i){return i*Om}function gO(i){return(i&i-1)===0&&i!==0}function mO(i){return Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))}function vO(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}function yO(i,e,t,n,r){const s=Math.cos,a=Math.sin,A=s(t/2),l=a(t/2),c=s((e+n)/2),h=a((e+n)/2),g=s((e-n)/2),v=a((e-n)/2),m=s((n-e)/2),x=a((n-e)/2);switch(r){case"XYX":i.set(A*h,l*g,l*v,A*c);break;case"YZY":i.set(l*v,A*h,l*g,A*c);break;case"ZXZ":i.set(l*g,l*v,A*h,A*c);break;case"XZX":i.set(A*h,l*x,l*m,A*c);break;case"YXY":i.set(l*m,A*h,l*x,A*c);break;case"ZYZ":i.set(l*x,l*m,A*h,A*c);break;default:sn("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function jA(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return i/4294967295;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int32Array:return Math.max(i/2147483647,-1);case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}function xi(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return Math.round(i*4294967295);case Uint16Array:return Math.round(i*65535);case Uint8Array:return Math.round(i*255);case Int32Array:return Math.round(i*2147483647);case Int16Array:return Math.round(i*32767);case Int8Array:return Math.round(i*127);default:throw new Error("Invalid component type.")}}const V1={DEG2RAD:Tp,RAD2DEG:Om,generateUUID:lu,clamp:Kn,euclideanModulo:nE,mapLinear:rO,inverseLerp:sO,lerp:w1,damp:aO,pingpong:oO,smoothstep:AO,smootherstep:lO,randInt:uO,randFloat:cO,randFloatSpread:fO,seededRandom:hO,degToRad:dO,radToDeg:pO,isPowerOfTwo:gO,ceilPowerOfTwo:mO,floorPowerOfTwo:vO,setQuaternionFromProperEuler:yO,normalize:xi,denormalize:jA};class Rt{constructor(e=0,t=0){Rt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Kn(this.x,e.x,t.x),this.y=Kn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Kn(this.x,e,t),this.y=Kn(this.y,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Kn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Kn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),s=this.x-e.x,a=this.y-e.y;return this.x=s*n-a*r+e.x,this.y=s*r+a*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ko{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,s,a,A){let l=n[r+0],c=n[r+1],h=n[r+2],g=n[r+3],v=s[a+0],m=s[a+1],x=s[a+2],B=s[a+3];if(A<=0){e[t+0]=l,e[t+1]=c,e[t+2]=h,e[t+3]=g;return}if(A>=1){e[t+0]=v,e[t+1]=m,e[t+2]=x,e[t+3]=B;return}if(g!==B||l!==v||c!==m||h!==x){let _=l*v+c*m+h*x+g*B;_<0&&(v=-v,m=-m,x=-x,B=-B,_=-_);let b=1-A;if(_<.9995){const M=Math.acos(_),T=Math.sin(M);b=Math.sin(b*M)/T,A=Math.sin(A*M)/T,l=l*b+v*A,c=c*b+m*A,h=h*b+x*A,g=g*b+B*A}else{l=l*b+v*A,c=c*b+m*A,h=h*b+x*A,g=g*b+B*A;const M=1/Math.sqrt(l*l+c*c+h*h+g*g);l*=M,c*=M,h*=M,g*=M}}e[t]=l,e[t+1]=c,e[t+2]=h,e[t+3]=g}static multiplyQuaternionsFlat(e,t,n,r,s,a){const A=n[r],l=n[r+1],c=n[r+2],h=n[r+3],g=s[a],v=s[a+1],m=s[a+2],x=s[a+3];return e[t]=A*x+h*g+l*m-c*v,e[t+1]=l*x+h*v+c*g-A*m,e[t+2]=c*x+h*m+A*v-l*g,e[t+3]=h*x-A*g-l*v-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,r=e._y,s=e._z,a=e._order,A=Math.cos,l=Math.sin,c=A(n/2),h=A(r/2),g=A(s/2),v=l(n/2),m=l(r/2),x=l(s/2);switch(a){case"XYZ":this._x=v*h*g+c*m*x,this._y=c*m*g-v*h*x,this._z=c*h*x+v*m*g,this._w=c*h*g-v*m*x;break;case"YXZ":this._x=v*h*g+c*m*x,this._y=c*m*g-v*h*x,this._z=c*h*x-v*m*g,this._w=c*h*g+v*m*x;break;case"ZXY":this._x=v*h*g-c*m*x,this._y=c*m*g+v*h*x,this._z=c*h*x+v*m*g,this._w=c*h*g-v*m*x;break;case"ZYX":this._x=v*h*g-c*m*x,this._y=c*m*g+v*h*x,this._z=c*h*x-v*m*g,this._w=c*h*g+v*m*x;break;case"YZX":this._x=v*h*g+c*m*x,this._y=c*m*g+v*h*x,this._z=c*h*x-v*m*g,this._w=c*h*g-v*m*x;break;case"XZY":this._x=v*h*g-c*m*x,this._y=c*m*g-v*h*x,this._z=c*h*x+v*m*g,this._w=c*h*g+v*m*x;break;default:sn("Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],s=t[8],a=t[1],A=t[5],l=t[9],c=t[2],h=t[6],g=t[10],v=n+A+g;if(v>0){const m=.5/Math.sqrt(v+1);this._w=.25/m,this._x=(h-l)*m,this._y=(s-c)*m,this._z=(a-r)*m}else if(n>A&&n>g){const m=2*Math.sqrt(1+n-A-g);this._w=(h-l)/m,this._x=.25*m,this._y=(r+a)/m,this._z=(s+c)/m}else if(A>g){const m=2*Math.sqrt(1+A-n-g);this._w=(s-c)/m,this._x=(r+a)/m,this._y=.25*m,this._z=(l+h)/m}else{const m=2*Math.sqrt(1+g-n-A);this._w=(a-r)/m,this._x=(s+c)/m,this._y=(l+h)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<1e-8?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Kn(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,s=e._z,a=e._w,A=t._x,l=t._y,c=t._z,h=t._w;return this._x=n*h+a*A+r*c-s*l,this._y=r*h+a*l+s*A-n*c,this._z=s*h+a*c+n*l-r*A,this._w=a*h-n*A-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t<=0)return this;if(t>=1)return this.copy(e);let n=e._x,r=e._y,s=e._z,a=e._w,A=this.dot(e);A<0&&(n=-n,r=-r,s=-s,a=-a,A=-A);let l=1-t;if(A<.9995){const c=Math.acos(A),h=Math.sin(c);l=Math.sin(l*c)/h,t=Math.sin(t*c)/h,this._x=this._x*l+n*t,this._y=this._y*l+r*t,this._z=this._z*l+s*t,this._w=this._w*l+a*t,this._onChangeCallback()}else this._x=this._x*l+n*t,this._y=this._y*l+r*t,this._z=this._z*l+s*t,this._w=this._w*l+a*t,this.normalize();return this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),r=Math.sqrt(1-n),s=Math.sqrt(n);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Ce{constructor(e=0,t=0,n=0){Ce.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(p3.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(p3.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*n+s[6]*r,this.y=s[1]*t+s[4]*n+s[7]*r,this.z=s[2]*t+s[5]*n+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,s=e.elements,a=1/(s[3]*t+s[7]*n+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*n+s[8]*r+s[12])*a,this.y=(s[1]*t+s[5]*n+s[9]*r+s[13])*a,this.z=(s[2]*t+s[6]*n+s[10]*r+s[14])*a,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,s=e.x,a=e.y,A=e.z,l=e.w,c=2*(a*r-A*n),h=2*(A*t-s*r),g=2*(s*n-a*t);return this.x=t+l*c+a*g-A*h,this.y=n+l*h+A*c-s*g,this.z=r+l*g+s*h-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*r,this.y=s[1]*t+s[5]*n+s[9]*r,this.z=s[2]*t+s[6]*n+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Kn(this.x,e.x,t.x),this.y=Kn(this.y,e.y,t.y),this.z=Kn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Kn(this.x,e,t),this.y=Kn(this.y,e,t),this.z=Kn(this.z,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Kn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,s=e.z,a=t.x,A=t.y,l=t.z;return this.x=r*l-s*A,this.y=s*a-n*l,this.z=n*A-r*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return vB.copy(this).projectOnVector(e),this.sub(vB)}reflect(e){return this.sub(vB.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Kn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const vB=new Ce,p3=new Ko;class Ai{constructor(e,t,n,r,s,a,A,l,c){Ai.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,n,r,s,a,A,l,c)}set(e,t,n,r,s,a,A,l,c){const h=this.elements;return h[0]=e,h[1]=r,h[2]=A,h[3]=t,h[4]=s,h[5]=l,h[6]=n,h[7]=a,h[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,s=this.elements,a=n[0],A=n[3],l=n[6],c=n[1],h=n[4],g=n[7],v=n[2],m=n[5],x=n[8],B=r[0],_=r[3],b=r[6],M=r[1],T=r[4],U=r[7],R=r[2],O=r[5],z=r[8];return s[0]=a*B+A*M+l*R,s[3]=a*_+A*T+l*O,s[6]=a*b+A*U+l*z,s[1]=c*B+h*M+g*R,s[4]=c*_+h*T+g*O,s[7]=c*b+h*U+g*z,s[2]=v*B+m*M+x*R,s[5]=v*_+m*T+x*O,s[8]=v*b+m*U+x*z,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],a=e[4],A=e[5],l=e[6],c=e[7],h=e[8];return t*a*h-t*A*c-n*s*h+n*A*l+r*s*c-r*a*l}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],a=e[4],A=e[5],l=e[6],c=e[7],h=e[8],g=h*a-A*c,v=A*l-h*s,m=c*s-a*l,x=t*g+n*v+r*m;if(x===0)return this.set(0,0,0,0,0,0,0,0,0);const B=1/x;return e[0]=g*B,e[1]=(r*c-h*n)*B,e[2]=(A*n-r*a)*B,e[3]=v*B,e[4]=(h*t-r*l)*B,e[5]=(r*s-A*t)*B,e[6]=m*B,e[7]=(n*l-c*t)*B,e[8]=(a*t-n*s)*B,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,s,a,A){const l=Math.cos(s),c=Math.sin(s);return this.set(n*l,n*c,-n*(l*a+c*A)+a+e,-r*c,r*l,-r*(-c*a+l*A)+A+t,0,0,1),this}scale(e,t){return this.premultiply(yB.makeScale(e,t)),this}rotate(e){return this.premultiply(yB.makeRotation(-e)),this}translate(e,t){return this.premultiply(yB.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const yB=new Ai,g3=new Ai().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),m3=new Ai().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function wO(){const i={enabled:!0,workingColorSpace:wd,spaces:{},convert:function(r,s,a){return this.enabled===!1||s===a||!s||!a||(this.spaces[s].transfer===Mr&&(r.r=ch(r.r),r.g=ch(r.g),r.b=ch(r.b)),this.spaces[s].primaries!==this.spaces[a].primaries&&(r.applyMatrix3(this.spaces[s].toXYZ),r.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===Mr&&(r.r=xm(r.r),r.g=xm(r.g),r.b=xm(r.b))),r},workingToColorSpace:function(r,s){return this.convert(r,this.workingColorSpace,s)},colorSpaceToWorking:function(r,s){return this.convert(r,s,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===pf?H1:this.spaces[r].transfer},getToneMappingMode:function(r){return this.spaces[r].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(r,s=this.workingColorSpace){return r.fromArray(this.spaces[s].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,s,a){return r.copy(this.spaces[s].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,s){return Dm("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),i.workingToColorSpace(r,s)},toWorkingColorSpace:function(r,s){return Dm("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),i.colorSpaceToWorking(r,s)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],n=[.3127,.329];return i.define({[wd]:{primaries:e,whitePoint:n,transfer:H1,toXYZ:g3,fromXYZ:m3,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Go},outputColorSpaceConfig:{drawingBufferColorSpace:Go}},[Go]:{primaries:e,whitePoint:n,transfer:Mr,toXYZ:g3,fromXYZ:m3,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Go}}}),i}const Wi=wO();function ch(i){return i<.04045?i*.0773993808:Math.pow(i*.9478672986+.0521327014,2.4)}function xm(i){return i<.0031308?i*12.92:1.055*Math.pow(i,.41666)-.055}let Ug;class iE{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Ug===void 0&&(Ug=z1("canvas")),Ug.width=e.width,Ug.height=e.height;const r=Ug.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Ug}return n.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=z1("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),s=r.data;for(let a=0;a<s.length;a++)s[a]=ch(s[a]/255)*255;return n.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(ch(t[n]/255)*255):t[n]=ch(t[n]);return{data:t,width:e.width,height:e.height}}else return sn("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let xO=0;class uh{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:xO++}),this.uuid=lu(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):typeof VideoFrame<"u"&&t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let a=0,A=r.length;a<A;a++)r[a].isDataTexture?s.push(wB(r[a].image)):s.push(wB(r[a]))}else s=wB(r);n.url=s}return t||(e.images[this.uuid]=n),n}}function wB(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?iE.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(sn("Texture: Unable to serialize Texture."),{})}let bO=0;const xB=new Ce;class Ys extends bf{constructor(e=Ys.DEFAULT_IMAGE,t=Ys.DEFAULT_MAPPING,n=KA,r=KA,s=Tr,a=yc,A=Vo,l=VA,c=Ys.DEFAULT_ANISOTROPY,h=pf){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:bO++}),this.uuid=lu(),this.name="",this.source=new uh(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=s,this.minFilter=a,this.anisotropy=c,this.format=A,this.internalFormat=null,this.type=l,this.offset=new Rt(0,0),this.repeat=new Rt(1,1),this.center=new Rt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ai,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=h,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(xB).x}get height(){return this.source.getSize(xB).y}get depth(){return this.source.getSize(xB).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const n=e[t];if(n===void 0){sn(`Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){sn(`Texture.setValues(): property '${t}' does not exist.`);continue}r&&n&&r.isVector2&&n.isVector2||r&&n&&r.isVector3&&n.isVector3||r&&n&&r.isMatrix3&&n.isMatrix3?r.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Ib)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Tm:e.x=e.x-Math.floor(e.x);break;case KA:e.x=e.x<0?0:1;break;case Fm:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Tm:e.y=e.y-Math.floor(e.y);break;case KA:e.y=e.y<0?0:1;break;case Fm:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Ys.DEFAULT_IMAGE=null;Ys.DEFAULT_MAPPING=Ib;Ys.DEFAULT_ANISOTROPY=1;class er{constructor(e=0,t=0,n=0,r=1){er.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,s=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*s,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*s,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*s,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,s;const l=e.elements,c=l[0],h=l[4],g=l[8],v=l[1],m=l[5],x=l[9],B=l[2],_=l[6],b=l[10];if(Math.abs(h-v)<.01&&Math.abs(g-B)<.01&&Math.abs(x-_)<.01){if(Math.abs(h+v)<.1&&Math.abs(g+B)<.1&&Math.abs(x+_)<.1&&Math.abs(c+m+b-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const T=(c+1)/2,U=(m+1)/2,R=(b+1)/2,O=(h+v)/4,z=(g+B)/4,V=(x+_)/4;return T>U&&T>R?T<.01?(n=0,r=.707106781,s=.707106781):(n=Math.sqrt(T),r=O/n,s=z/n):U>R?U<.01?(n=.707106781,r=0,s=.707106781):(r=Math.sqrt(U),n=O/r,s=V/r):R<.01?(n=.707106781,r=.707106781,s=0):(s=Math.sqrt(R),n=z/s,r=V/s),this.set(n,r,s,t),this}let M=Math.sqrt((_-x)*(_-x)+(g-B)*(g-B)+(v-h)*(v-h));return Math.abs(M)<.001&&(M=1),this.x=(_-x)/M,this.y=(g-B)/M,this.z=(v-h)/M,this.w=Math.acos((c+m+b-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Kn(this.x,e.x,t.x),this.y=Kn(this.y,e.y,t.y),this.z=Kn(this.z,e.z,t.z),this.w=Kn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Kn(this.x,e,t),this.y=Kn(this.y,e,t),this.z=Kn(this.z,e,t),this.w=Kn(this.w,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Kn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class rE extends bf{constructor(e=1,t=1,n={}){super(),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Tr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},n),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=n.depth,this.scissor=new er(0,0,e,t),this.scissorTest=!1,this.viewport=new er(0,0,e,t);const r={width:e,height:t,depth:n.depth},s=new Ys(r);this.textures=[];const a=n.count;for(let A=0;A<a;A++)this.textures[A]=s.clone(),this.textures[A].isRenderTargetTexture=!0,this.textures[A].renderTarget=this;this._setTextureOptions(n),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples,this.multiview=n.multiview}_setTextureOptions(e={}){const t={minFilter:Tr,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let n=0;n<this.textures.length;n++)this.textures[n].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=n,this.textures[r].isData3DTexture!==!0&&(this.textures[r].isArrayTexture=this.textures[r].image.depth>1);this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,n=e.textures.length;t<n;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const r=Object.assign({},e.textures[t].image);this.textures[t].source=new uh(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class wA extends rE{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class Vb extends Ys{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=oa,this.minFilter=oa,this.wrapR=KA,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class _O extends wA{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new Vb(null,e,t,n),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class jb extends Ys{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=oa,this.minFilter=oa,this.wrapR=KA,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class BO extends wA{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new jb(null,e,t,n),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class Fa{constructor(e=new Ce(1/0,1/0,1/0),t=new Ce(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(cc.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(cc.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=cc.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0){const s=n.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,A=s.count;a<A;a++)e.isMesh===!0?e.getVertexPosition(a,cc):cc.fromBufferAttribute(s,a),cc.applyMatrix4(e.matrixWorld),this.expandByPoint(cc);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),yy.copy(e.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),yy.copy(n.boundingBox)),yy.applyMatrix4(e.matrixWorld),this.union(yy)}const r=e.children;for(let s=0,a=r.length;s<a;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,cc),cc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(I0),wy.subVectors(this.max,I0),Tg.subVectors(e.a,I0),Fg.subVectors(e.b,I0),Lg.subVectors(e.c,I0),qh.subVectors(Fg,Tg),Xh.subVectors(Lg,Fg),$d.subVectors(Tg,Lg);let t=[0,-qh.z,qh.y,0,-Xh.z,Xh.y,0,-$d.z,$d.y,qh.z,0,-qh.x,Xh.z,0,-Xh.x,$d.z,0,-$d.x,-qh.y,qh.x,0,-Xh.y,Xh.x,0,-$d.y,$d.x,0];return!bB(t,Tg,Fg,Lg,wy)||(t=[1,0,0,0,1,0,0,0,1],!bB(t,Tg,Fg,Lg,wy))?!1:(xy.crossVectors(qh,Xh),t=[xy.x,xy.y,xy.z],bB(t,Tg,Fg,Lg,wy))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,cc).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(cc).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Xf[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Xf[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Xf[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Xf[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Xf[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Xf[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Xf[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Xf[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Xf),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Xf=[new Ce,new Ce,new Ce,new Ce,new Ce,new Ce,new Ce,new Ce],cc=new Ce,yy=new Fa,Tg=new Ce,Fg=new Ce,Lg=new Ce,qh=new Ce,Xh=new Ce,$d=new Ce,I0=new Ce,wy=new Ce,xy=new Ce,ep=new Ce;function bB(i,e,t,n,r){for(let s=0,a=i.length-3;s<=a;s+=3){ep.fromArray(i,s);const A=r.x*Math.abs(ep.x)+r.y*Math.abs(ep.y)+r.z*Math.abs(ep.z),l=e.dot(ep),c=t.dot(ep),h=n.dot(ep);if(Math.max(-Math.max(l,c,h),Math.min(l,c,h))>A)return!1}return!0}const SO=new Fa,R0=new Ce,_B=new Ce;class Va{constructor(e=new Ce,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):SO.setFromPoints(e).getCenter(n);let r=0;for(let s=0,a=e.length;s<a;s++)r=Math.max(r,n.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;R0.subVectors(e,this.center);const t=R0.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),r=(n-this.radius)*.5;this.center.addScaledVector(R0,r/n),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(_B.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(R0.copy(e.center).add(_B)),this.expandByPoint(R0.copy(e.center).sub(_B))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Yf=new Ce,BB=new Ce,by=new Ce,Yh=new Ce,SB=new Ce,_y=new Ce,CB=new Ce;class Wp{constructor(e=new Ce,t=new Ce(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Yf)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Yf.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Yf.copy(this.origin).addScaledVector(this.direction,t),Yf.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){BB.copy(e).add(t).multiplyScalar(.5),by.copy(t).sub(e).normalize(),Yh.copy(this.origin).sub(BB);const s=e.distanceTo(t)*.5,a=-this.direction.dot(by),A=Yh.dot(this.direction),l=-Yh.dot(by),c=Yh.lengthSq(),h=Math.abs(1-a*a);let g,v,m,x;if(h>0)if(g=a*l-A,v=a*A-l,x=s*h,g>=0)if(v>=-x)if(v<=x){const B=1/h;g*=B,v*=B,m=g*(g+a*v+2*A)+v*(a*g+v+2*l)+c}else v=s,g=Math.max(0,-(a*v+A)),m=-g*g+v*(v+2*l)+c;else v=-s,g=Math.max(0,-(a*v+A)),m=-g*g+v*(v+2*l)+c;else v<=-x?(g=Math.max(0,-(-a*s+A)),v=g>0?-s:Math.min(Math.max(-s,-l),s),m=-g*g+v*(v+2*l)+c):v<=x?(g=0,v=Math.min(Math.max(-s,-l),s),m=v*(v+2*l)+c):(g=Math.max(0,-(a*s+A)),v=g>0?s:Math.min(Math.max(-s,-l),s),m=-g*g+v*(v+2*l)+c);else v=a>0?-s:s,g=Math.max(0,-(a*v+A)),m=-g*g+v*(v+2*l)+c;return n&&n.copy(this.origin).addScaledVector(this.direction,g),r&&r.copy(BB).addScaledVector(by,v),m}intersectSphere(e,t){Yf.subVectors(e.center,this.origin);const n=Yf.dot(this.direction),r=Yf.dot(Yf)-n*n,s=e.radius*e.radius;if(r>s)return null;const a=Math.sqrt(s-r),A=n-a,l=n+a;return l<0?null:A<0?this.at(l,t):this.at(A,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,s,a,A,l;const c=1/this.direction.x,h=1/this.direction.y,g=1/this.direction.z,v=this.origin;return c>=0?(n=(e.min.x-v.x)*c,r=(e.max.x-v.x)*c):(n=(e.max.x-v.x)*c,r=(e.min.x-v.x)*c),h>=0?(s=(e.min.y-v.y)*h,a=(e.max.y-v.y)*h):(s=(e.max.y-v.y)*h,a=(e.min.y-v.y)*h),n>a||s>r||((s>n||isNaN(n))&&(n=s),(a<r||isNaN(r))&&(r=a),g>=0?(A=(e.min.z-v.z)*g,l=(e.max.z-v.z)*g):(A=(e.max.z-v.z)*g,l=(e.min.z-v.z)*g),n>l||A>r)||((A>n||n!==n)&&(n=A),(l<r||r!==r)&&(r=l),r<0)?null:this.at(n>=0?n:r,t)}intersectsBox(e){return this.intersectBox(e,Yf)!==null}intersectTriangle(e,t,n,r,s){SB.subVectors(t,e),_y.subVectors(n,e),CB.crossVectors(SB,_y);let a=this.direction.dot(CB),A;if(a>0){if(r)return null;A=1}else if(a<0)A=-1,a=-a;else return null;Yh.subVectors(this.origin,e);const l=A*this.direction.dot(_y.crossVectors(Yh,_y));if(l<0)return null;const c=A*this.direction.dot(SB.cross(Yh));if(c<0||l+c>a)return null;const h=-A*Yh.dot(CB);return h<0?null:this.at(h/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Vn{constructor(e,t,n,r,s,a,A,l,c,h,g,v,m,x,B,_){Vn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,n,r,s,a,A,l,c,h,g,v,m,x,B,_)}set(e,t,n,r,s,a,A,l,c,h,g,v,m,x,B,_){const b=this.elements;return b[0]=e,b[4]=t,b[8]=n,b[12]=r,b[1]=s,b[5]=a,b[9]=A,b[13]=l,b[2]=c,b[6]=h,b[10]=g,b[14]=v,b[3]=m,b[7]=x,b[11]=B,b[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Vn().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return this.determinant()===0?(e.set(1,0,0),t.set(0,1,0),n.set(0,0,1),this):(e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this)}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){if(e.determinant()===0)return this.identity();const t=this.elements,n=e.elements,r=1/Ig.setFromMatrixColumn(e,0).length(),s=1/Ig.setFromMatrixColumn(e,1).length(),a=1/Ig.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*s,t[5]=n[5]*s,t[6]=n[6]*s,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,s=e.z,a=Math.cos(n),A=Math.sin(n),l=Math.cos(r),c=Math.sin(r),h=Math.cos(s),g=Math.sin(s);if(e.order==="XYZ"){const v=a*h,m=a*g,x=A*h,B=A*g;t[0]=l*h,t[4]=-l*g,t[8]=c,t[1]=m+x*c,t[5]=v-B*c,t[9]=-A*l,t[2]=B-v*c,t[6]=x+m*c,t[10]=a*l}else if(e.order==="YXZ"){const v=l*h,m=l*g,x=c*h,B=c*g;t[0]=v+B*A,t[4]=x*A-m,t[8]=a*c,t[1]=a*g,t[5]=a*h,t[9]=-A,t[2]=m*A-x,t[6]=B+v*A,t[10]=a*l}else if(e.order==="ZXY"){const v=l*h,m=l*g,x=c*h,B=c*g;t[0]=v-B*A,t[4]=-a*g,t[8]=x+m*A,t[1]=m+x*A,t[5]=a*h,t[9]=B-v*A,t[2]=-a*c,t[6]=A,t[10]=a*l}else if(e.order==="ZYX"){const v=a*h,m=a*g,x=A*h,B=A*g;t[0]=l*h,t[4]=x*c-m,t[8]=v*c+B,t[1]=l*g,t[5]=B*c+v,t[9]=m*c-x,t[2]=-c,t[6]=A*l,t[10]=a*l}else if(e.order==="YZX"){const v=a*l,m=a*c,x=A*l,B=A*c;t[0]=l*h,t[4]=B-v*g,t[8]=x*g+m,t[1]=g,t[5]=a*h,t[9]=-A*h,t[2]=-c*h,t[6]=m*g+x,t[10]=v-B*g}else if(e.order==="XZY"){const v=a*l,m=a*c,x=A*l,B=A*c;t[0]=l*h,t[4]=-g,t[8]=c*h,t[1]=v*g+B,t[5]=a*h,t[9]=m*g-x,t[2]=x*g-m,t[6]=A*h,t[10]=B*g+v}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(CO,e,EO)}lookAt(e,t,n){const r=this.elements;return tu.subVectors(e,t),tu.lengthSq()===0&&(tu.z=1),tu.normalize(),Jh.crossVectors(n,tu),Jh.lengthSq()===0&&(Math.abs(n.z)===1?tu.x+=1e-4:tu.z+=1e-4,tu.normalize(),Jh.crossVectors(n,tu)),Jh.normalize(),By.crossVectors(tu,Jh),r[0]=Jh.x,r[4]=By.x,r[8]=tu.x,r[1]=Jh.y,r[5]=By.y,r[9]=tu.y,r[2]=Jh.z,r[6]=By.z,r[10]=tu.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,s=this.elements,a=n[0],A=n[4],l=n[8],c=n[12],h=n[1],g=n[5],v=n[9],m=n[13],x=n[2],B=n[6],_=n[10],b=n[14],M=n[3],T=n[7],U=n[11],R=n[15],O=r[0],z=r[4],V=r[8],I=r[12],P=r[1],k=r[5],G=r[9],q=r[13],H=r[2],ae=r[6],Z=r[10],ne=r[14],oe=r[3],fe=r[7],me=r[11],W=r[15];return s[0]=a*O+A*P+l*H+c*oe,s[4]=a*z+A*k+l*ae+c*fe,s[8]=a*V+A*G+l*Z+c*me,s[12]=a*I+A*q+l*ne+c*W,s[1]=h*O+g*P+v*H+m*oe,s[5]=h*z+g*k+v*ae+m*fe,s[9]=h*V+g*G+v*Z+m*me,s[13]=h*I+g*q+v*ne+m*W,s[2]=x*O+B*P+_*H+b*oe,s[6]=x*z+B*k+_*ae+b*fe,s[10]=x*V+B*G+_*Z+b*me,s[14]=x*I+B*q+_*ne+b*W,s[3]=M*O+T*P+U*H+R*oe,s[7]=M*z+T*k+U*ae+R*fe,s[11]=M*V+T*G+U*Z+R*me,s[15]=M*I+T*q+U*ne+R*W,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],s=e[12],a=e[1],A=e[5],l=e[9],c=e[13],h=e[2],g=e[6],v=e[10],m=e[14],x=e[3],B=e[7],_=e[11],b=e[15],M=l*m-c*v,T=A*m-c*g,U=A*v-l*g,R=a*m-c*h,O=a*v-l*h,z=a*g-A*h;return t*(B*M-_*T+b*U)-n*(x*M-_*R+b*O)+r*(x*T-B*R+b*z)-s*(x*U-B*O+_*z)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],a=e[4],A=e[5],l=e[6],c=e[7],h=e[8],g=e[9],v=e[10],m=e[11],x=e[12],B=e[13],_=e[14],b=e[15],M=g*_*c-B*v*c+B*l*m-A*_*m-g*l*b+A*v*b,T=x*v*c-h*_*c-x*l*m+a*_*m+h*l*b-a*v*b,U=h*B*c-x*g*c+x*A*m-a*B*m-h*A*b+a*g*b,R=x*g*l-h*B*l-x*A*v+a*B*v+h*A*_-a*g*_,O=t*M+n*T+r*U+s*R;if(O===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const z=1/O;return e[0]=M*z,e[1]=(B*v*s-g*_*s-B*r*m+n*_*m+g*r*b-n*v*b)*z,e[2]=(A*_*s-B*l*s+B*r*c-n*_*c-A*r*b+n*l*b)*z,e[3]=(g*l*s-A*v*s-g*r*c+n*v*c+A*r*m-n*l*m)*z,e[4]=T*z,e[5]=(h*_*s-x*v*s+x*r*m-t*_*m-h*r*b+t*v*b)*z,e[6]=(x*l*s-a*_*s-x*r*c+t*_*c+a*r*b-t*l*b)*z,e[7]=(a*v*s-h*l*s+h*r*c-t*v*c-a*r*m+t*l*m)*z,e[8]=U*z,e[9]=(x*g*s-h*B*s-x*n*m+t*B*m+h*n*b-t*g*b)*z,e[10]=(a*B*s-x*A*s+x*n*c-t*B*c-a*n*b+t*A*b)*z,e[11]=(h*A*s-a*g*s-h*n*c+t*g*c+a*n*m-t*A*m)*z,e[12]=R*z,e[13]=(h*B*r-x*g*r+x*n*v-t*B*v-h*n*_+t*g*_)*z,e[14]=(x*A*r-a*B*r-x*n*l+t*B*l+a*n*_-t*A*_)*z,e[15]=(a*g*r-h*A*r+h*n*l-t*g*l-a*n*v+t*A*v)*z,this}scale(e){const t=this.elements,n=e.x,r=e.y,s=e.z;return t[0]*=n,t[4]*=r,t[8]*=s,t[1]*=n,t[5]*=r,t[9]*=s,t[2]*=n,t[6]*=r,t[10]*=s,t[3]*=n,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),s=1-n,a=e.x,A=e.y,l=e.z,c=s*a,h=s*A;return this.set(c*a+n,c*A-r*l,c*l+r*A,0,c*A+r*l,h*A+n,h*l-r*a,0,c*l-r*A,h*l+r*a,s*l*l+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,s,a){return this.set(1,n,s,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,s=t._x,a=t._y,A=t._z,l=t._w,c=s+s,h=a+a,g=A+A,v=s*c,m=s*h,x=s*g,B=a*h,_=a*g,b=A*g,M=l*c,T=l*h,U=l*g,R=n.x,O=n.y,z=n.z;return r[0]=(1-(B+b))*R,r[1]=(m+U)*R,r[2]=(x-T)*R,r[3]=0,r[4]=(m-U)*O,r[5]=(1-(v+b))*O,r[6]=(_+M)*O,r[7]=0,r[8]=(x+T)*z,r[9]=(_-M)*z,r[10]=(1-(v+B))*z,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;if(e.x=r[12],e.y=r[13],e.z=r[14],this.determinant()===0)return n.set(1,1,1),t.identity(),this;let s=Ig.set(r[0],r[1],r[2]).length();const a=Ig.set(r[4],r[5],r[6]).length(),A=Ig.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),fc.copy(this);const c=1/s,h=1/a,g=1/A;return fc.elements[0]*=c,fc.elements[1]*=c,fc.elements[2]*=c,fc.elements[4]*=h,fc.elements[5]*=h,fc.elements[6]*=h,fc.elements[8]*=g,fc.elements[9]*=g,fc.elements[10]*=g,t.setFromRotationMatrix(fc),n.x=s,n.y=a,n.z=A,this}makePerspective(e,t,n,r,s,a,A=su,l=!1){const c=this.elements,h=2*s/(t-e),g=2*s/(n-r),v=(t+e)/(t-e),m=(n+r)/(n-r);let x,B;if(l)x=s/(a-s),B=a*s/(a-s);else if(A===su)x=-(a+s)/(a-s),B=-2*a*s/(a-s);else if(A===Nm)x=-a/(a-s),B=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+A);return c[0]=h,c[4]=0,c[8]=v,c[12]=0,c[1]=0,c[5]=g,c[9]=m,c[13]=0,c[2]=0,c[6]=0,c[10]=x,c[14]=B,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,t,n,r,s,a,A=su,l=!1){const c=this.elements,h=2/(t-e),g=2/(n-r),v=-(t+e)/(t-e),m=-(n+r)/(n-r);let x,B;if(l)x=1/(a-s),B=a/(a-s);else if(A===su)x=-2/(a-s),B=-(a+s)/(a-s);else if(A===Nm)x=-1/(a-s),B=-s/(a-s);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+A);return c[0]=h,c[4]=0,c[8]=0,c[12]=v,c[1]=0,c[5]=g,c[9]=0,c[13]=m,c[2]=0,c[6]=0,c[10]=x,c[14]=B,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const Ig=new Ce,fc=new Vn,CO=new Ce(0,0,0),EO=new Ce(1,1,1),Jh=new Ce,By=new Ce,tu=new Ce,v3=new Vn,y3=new Ko;class uu{constructor(e=0,t=0,n=0,r=uu.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,s=r[0],a=r[4],A=r[8],l=r[1],c=r[5],h=r[9],g=r[2],v=r[6],m=r[10];switch(t){case"XYZ":this._y=Math.asin(Kn(A,-1,1)),Math.abs(A)<.9999999?(this._x=Math.atan2(-h,m),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(v,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Kn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(A,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-g,s),this._z=0);break;case"ZXY":this._x=Math.asin(Kn(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-g,m),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Kn(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(v,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(Kn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,c),this._y=Math.atan2(-g,s)):(this._x=0,this._y=Math.atan2(A,m));break;case"XZY":this._z=Math.asin(-Kn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(v,c),this._y=Math.atan2(A,s)):(this._x=Math.atan2(-h,m),this._y=0);break;default:sn("Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return v3.makeRotationFromQuaternion(e),this.setFromRotationMatrix(v3,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return y3.setFromEuler(this),this.setFromQuaternion(y3,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}uu.DEFAULT_ORDER="XYZ";class Pm{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let MO=0;const w3=new Ce,Rg=new Ko,Jf=new Vn,Sy=new Ce,N0=new Ce,UO=new Ce,TO=new Ko,x3=new Ce(1,0,0),b3=new Ce(0,1,0),_3=new Ce(0,0,1),B3={type:"added"},FO={type:"removed"},Ng={type:"childadded",child:null},EB={type:"childremoved",child:null};class rr extends bf{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:MO++}),this.uuid=lu(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=rr.DEFAULT_UP.clone();const e=new Ce,t=new uu,n=new Ko,r=new Ce(1,1,1);function s(){n.setFromEuler(t,!1)}function a(){t.setFromQuaternion(n,void 0,!1)}t._onChange(s),n._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Vn},normalMatrix:{value:new Ai}}),this.matrix=new Vn,this.matrixWorld=new Vn,this.matrixAutoUpdate=rr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=rr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Pm,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Rg.setFromAxisAngle(e,t),this.quaternion.multiply(Rg),this}rotateOnWorldAxis(e,t){return Rg.setFromAxisAngle(e,t),this.quaternion.premultiply(Rg),this}rotateX(e){return this.rotateOnAxis(x3,e)}rotateY(e){return this.rotateOnAxis(b3,e)}rotateZ(e){return this.rotateOnAxis(_3,e)}translateOnAxis(e,t){return w3.copy(e).applyQuaternion(this.quaternion),this.position.add(w3.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(x3,e)}translateY(e){return this.translateOnAxis(b3,e)}translateZ(e){return this.translateOnAxis(_3,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Jf.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?Sy.copy(e):Sy.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),N0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Jf.lookAt(N0,Sy,this.up):Jf.lookAt(Sy,N0,this.up),this.quaternion.setFromRotationMatrix(Jf),r&&(Jf.extractRotation(r.matrixWorld),Rg.setFromRotationMatrix(Jf),this.quaternion.premultiply(Rg.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(Fn("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(B3),Ng.child=e,this.dispatchEvent(Ng),Ng.child=null):Fn("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(FO),EB.child=e,this.dispatchEvent(EB),EB.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Jf.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Jf.multiply(e.parent.matrixWorld)),e.applyMatrix4(Jf),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(B3),Ng.child=e,this.dispatchEvent(Ng),Ng.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const a=this.children[n].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(N0,e,UO),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(N0,TO,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(A=>({...A,boundingBox:A.boundingBox?A.boundingBox.toJSON():void 0,boundingSphere:A.boundingSphere?A.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(A=>({...A})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function s(A,l){return A[l.uuid]===void 0&&(A[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const A=this.geometry.parameters;if(A!==void 0&&A.shapes!==void 0){const l=A.shapes;if(Array.isArray(l))for(let c=0,h=l.length;c<h;c++){const g=l[c];s(e.shapes,g)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const A=[];for(let l=0,c=this.material.length;l<c;l++)A.push(s(e.materials,this.material[l]));r.material=A}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let A=0;A<this.children.length;A++)r.children.push(this.children[A].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let A=0;A<this.animations.length;A++){const l=this.animations[A];r.animations.push(s(e.animations,l))}}if(t){const A=a(e.geometries),l=a(e.materials),c=a(e.textures),h=a(e.images),g=a(e.shapes),v=a(e.skeletons),m=a(e.animations),x=a(e.nodes);A.length>0&&(n.geometries=A),l.length>0&&(n.materials=l),c.length>0&&(n.textures=c),h.length>0&&(n.images=h),g.length>0&&(n.shapes=g),v.length>0&&(n.skeletons=v),m.length>0&&(n.animations=m),x.length>0&&(n.nodes=x)}return n.object=r,n;function a(A){const l=[];for(const c in A){const h=A[c];delete h.metadata,l.push(h)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const r=e.children[n];this.add(r.clone())}return this}}rr.DEFAULT_UP=new Ce(0,1,0);rr.DEFAULT_MATRIX_AUTO_UPDATE=!0;rr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const hc=new Ce,Zf=new Ce,MB=new Ce,$f=new Ce,Dg=new Ce,Og=new Ce,S3=new Ce,UB=new Ce,TB=new Ce,FB=new Ce,LB=new er,IB=new er,RB=new er;class Cl{constructor(e=new Ce,t=new Ce,n=new Ce){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),hc.subVectors(e,t),r.cross(hc);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,n,r,s){hc.subVectors(r,t),Zf.subVectors(n,t),MB.subVectors(e,t);const a=hc.dot(hc),A=hc.dot(Zf),l=hc.dot(MB),c=Zf.dot(Zf),h=Zf.dot(MB),g=a*c-A*A;if(g===0)return s.set(0,0,0),null;const v=1/g,m=(c*l-A*h)*v,x=(a*h-A*l)*v;return s.set(1-m-x,x,m)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,$f)===null?!1:$f.x>=0&&$f.y>=0&&$f.x+$f.y<=1}static getInterpolation(e,t,n,r,s,a,A,l){return this.getBarycoord(e,t,n,r,$f)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,$f.x),l.addScaledVector(a,$f.y),l.addScaledVector(A,$f.z),l)}static getInterpolatedAttribute(e,t,n,r,s,a){return LB.setScalar(0),IB.setScalar(0),RB.setScalar(0),LB.fromBufferAttribute(e,t),IB.fromBufferAttribute(e,n),RB.fromBufferAttribute(e,r),a.setScalar(0),a.addScaledVector(LB,s.x),a.addScaledVector(IB,s.y),a.addScaledVector(RB,s.z),a}static isFrontFacing(e,t,n,r){return hc.subVectors(n,t),Zf.subVectors(e,t),hc.cross(Zf).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return hc.subVectors(this.c,this.b),Zf.subVectors(this.a,this.b),hc.cross(Zf).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Cl.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Cl.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,r,s){return Cl.getInterpolation(e,this.a,this.b,this.c,t,n,r,s)}containsPoint(e){return Cl.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Cl.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,s=this.c;let a,A;Dg.subVectors(r,n),Og.subVectors(s,n),UB.subVectors(e,n);const l=Dg.dot(UB),c=Og.dot(UB);if(l<=0&&c<=0)return t.copy(n);TB.subVectors(e,r);const h=Dg.dot(TB),g=Og.dot(TB);if(h>=0&&g<=h)return t.copy(r);const v=l*g-h*c;if(v<=0&&l>=0&&h<=0)return a=l/(l-h),t.copy(n).addScaledVector(Dg,a);FB.subVectors(e,s);const m=Dg.dot(FB),x=Og.dot(FB);if(x>=0&&m<=x)return t.copy(s);const B=m*c-l*x;if(B<=0&&c>=0&&x<=0)return A=c/(c-x),t.copy(n).addScaledVector(Og,A);const _=h*x-m*g;if(_<=0&&g-h>=0&&m-x>=0)return S3.subVectors(s,r),A=(g-h)/(g-h+(m-x)),t.copy(r).addScaledVector(S3,A);const b=1/(_+B+v);return a=B*b,A=v*b,t.copy(n).addScaledVector(Dg,a).addScaledVector(Og,A)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const oL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Zh={h:0,s:0,l:0},Cy={h:0,s:0,l:0};function NB(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*6*(2/3-t):i}class an{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(t===void 0&&n===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Go){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Wi.colorSpaceToWorking(this,t),this}setRGB(e,t,n,r=Wi.workingColorSpace){return this.r=e,this.g=t,this.b=n,Wi.colorSpaceToWorking(this,r),this}setHSL(e,t,n,r=Wi.workingColorSpace){if(e=nE(e,1),t=Kn(t,0,1),n=Kn(n,0,1),t===0)this.r=this.g=this.b=n;else{const s=n<=.5?n*(1+t):n+t-n*t,a=2*n-s;this.r=NB(a,s,e+1/3),this.g=NB(a,s,e),this.b=NB(a,s,e-1/3)}return Wi.colorSpaceToWorking(this,r),this}setStyle(e,t=Go){function n(s){s!==void 0&&parseFloat(s)<1&&sn("Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=r[1],A=r[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(A))return n(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(A))return n(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(A))return n(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:sn("Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(a===6)return this.setHex(parseInt(s,16),t);sn("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Go){const n=oL[e.toLowerCase()];return n!==void 0?this.setHex(n,t):sn("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ch(e.r),this.g=ch(e.g),this.b=ch(e.b),this}copyLinearToSRGB(e){return this.r=xm(e.r),this.g=xm(e.g),this.b=xm(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Go){return Wi.workingToColorSpace(uA.copy(this),e),Math.round(Kn(uA.r*255,0,255))*65536+Math.round(Kn(uA.g*255,0,255))*256+Math.round(Kn(uA.b*255,0,255))}getHexString(e=Go){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Wi.workingColorSpace){Wi.workingToColorSpace(uA.copy(this),t);const n=uA.r,r=uA.g,s=uA.b,a=Math.max(n,r,s),A=Math.min(n,r,s);let l,c;const h=(A+a)/2;if(A===a)l=0,c=0;else{const g=a-A;switch(c=h<=.5?g/(a+A):g/(2-a-A),a){case n:l=(r-s)/g+(r<s?6:0);break;case r:l=(s-n)/g+2;break;case s:l=(n-r)/g+4;break}l/=6}return e.h=l,e.s=c,e.l=h,e}getRGB(e,t=Wi.workingColorSpace){return Wi.workingToColorSpace(uA.copy(this),t),e.r=uA.r,e.g=uA.g,e.b=uA.b,e}getStyle(e=Go){Wi.workingToColorSpace(uA.copy(this),e);const t=uA.r,n=uA.g,r=uA.b;return e!==Go?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(r*255)})`}offsetHSL(e,t,n){return this.getHSL(Zh),this.setHSL(Zh.h+e,Zh.s+t,Zh.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Zh),e.getHSL(Cy);const n=w1(Zh.h,Cy.h,t),r=w1(Zh.s,Cy.s,t),s=w1(Zh.l,Cy.l,t);return this.setHSL(n,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*n+s[6]*r,this.g=s[1]*t+s[4]*n+s[7]*r,this.b=s[2]*t+s[5]*n+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const uA=new an;an.NAMES=oL;let LO=0;class xA extends bf{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:LO++}),this.uuid=lu(),this.name="",this.type="Material",this.blending=Up,this.side=dh,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=dx,this.blendDst=px,this.blendEquation=od,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new an(0,0,0),this.blendAlpha=0,this.depthFunc=Pp,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=U2,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=mp,this.stencilZFail=mp,this.stencilZPass=mp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){sn(`Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){sn(`Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(n.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(n.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Up&&(n.blending=this.blending),this.side!==dh&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==dx&&(n.blendSrc=this.blendSrc),this.blendDst!==px&&(n.blendDst=this.blendDst),this.blendEquation!==od&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==Pp&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==U2&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==mp&&(n.stencilFail=this.stencilFail),this.stencilZFail!==mp&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==mp&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.allowOverride===!1&&(n.allowOverride=!1),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function r(s){const a=[];for(const A in s){const l=s[A];delete l.metadata,a.push(l)}return a}if(t){const s=r(e.textures),a=r(e.images);s.length>0&&(n.textures=s),a.length>0&&(n.images=a)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const r=t.length;n=new Array(r);for(let s=0;s!==r;++s)n[s]=t[s].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.allowOverride=e.allowOverride,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class vh extends xA{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new an(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new uu,this.combine=fv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ah=IO();function IO(){const i=new ArrayBuffer(4),e=new Float32Array(i),t=new Uint32Array(i),n=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(n[l]=0,n[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(n[l]=1024>>-c-14,n[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(n[l]=c+15<<10,n[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(n[l]=31744,n[l|256]=64512,r[l]=24,r[l|256]=24):(n[l]=31744,n[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),A=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,h=0;for(;(c&8388608)===0;)c<<=1,h-=8388608;c&=-8388609,h+=947912704,s[l]=c|h}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(A[l]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:r,mantissaTable:s,exponentTable:a,offsetTable:A}}function _l(i){Math.abs(i)>65504&&sn("DataUtils.toHalfFloat(): Value out of range."),i=Kn(i,-65504,65504),Ah.floatView[0]=i;const e=Ah.uint32View[0],t=e>>23&511;return Ah.baseTable[t]+((e&8388607)>>Ah.shiftTable[t])}function n1(i){const e=i>>10;return Ah.uint32View[0]=Ah.mantissaTable[Ah.offsetTable[e]+(i&1023)]+Ah.exponentTable[e],Ah.floatView[0]}class RO{static toHalfFloat(e){return _l(e)}static fromHalfFloat(e){return n1(e)}}const za=new Ce,Ey=new Rt;let NO=0;class qi{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:NO++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=k1,this.updateRanges=[],this.gpuType=yA,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)Ey.fromBufferAttribute(this,t),Ey.applyMatrix3(e),this.setXY(t,Ey.x,Ey.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)za.fromBufferAttribute(this,t),za.applyMatrix3(e),this.setXYZ(t,za.x,za.y,za.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)za.fromBufferAttribute(this,t),za.applyMatrix4(e),this.setXYZ(t,za.x,za.y,za.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)za.fromBufferAttribute(this,t),za.applyNormalMatrix(e),this.setXYZ(t,za.x,za.y,za.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)za.fromBufferAttribute(this,t),za.transformDirection(e),this.setXYZ(t,za.x,za.y,za.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=jA(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=xi(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=jA(t,this.array)),t}setX(e,t){return this.normalized&&(t=xi(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=jA(t,this.array)),t}setY(e,t){return this.normalized&&(t=xi(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=jA(t,this.array)),t}setZ(e,t){return this.normalized&&(t=xi(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=jA(t,this.array)),t}setW(e,t){return this.normalized&&(t=xi(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=xi(t,this.array),n=xi(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=xi(t,this.array),n=xi(n,this.array),r=xi(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,s){return e*=this.itemSize,this.normalized&&(t=xi(t,this.array),n=xi(n,this.array),r=xi(r,this.array),s=xi(s,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==k1&&(e.usage=this.usage),e}}class DO extends qi{constructor(e,t,n){super(new Int8Array(e),t,n)}}class OO extends qi{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class PO extends qi{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class QO extends qi{constructor(e,t,n){super(new Int16Array(e),t,n)}}class sE extends qi{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class HO extends qi{constructor(e,t,n){super(new Int32Array(e),t,n)}}class aE extends qi{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class kO extends qi{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=n1(this.array[e*this.itemSize]);return this.normalized&&(t=jA(t,this.array)),t}setX(e,t){return this.normalized&&(t=xi(t,this.array)),this.array[e*this.itemSize]=_l(t),this}getY(e){let t=n1(this.array[e*this.itemSize+1]);return this.normalized&&(t=jA(t,this.array)),t}setY(e,t){return this.normalized&&(t=xi(t,this.array)),this.array[e*this.itemSize+1]=_l(t),this}getZ(e){let t=n1(this.array[e*this.itemSize+2]);return this.normalized&&(t=jA(t,this.array)),t}setZ(e,t){return this.normalized&&(t=xi(t,this.array)),this.array[e*this.itemSize+2]=_l(t),this}getW(e){let t=n1(this.array[e*this.itemSize+3]);return this.normalized&&(t=jA(t,this.array)),t}setW(e,t){return this.normalized&&(t=xi(t,this.array)),this.array[e*this.itemSize+3]=_l(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=xi(t,this.array),n=xi(n,this.array)),this.array[e+0]=_l(t),this.array[e+1]=_l(n),this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=xi(t,this.array),n=xi(n,this.array),r=xi(r,this.array)),this.array[e+0]=_l(t),this.array[e+1]=_l(n),this.array[e+2]=_l(r),this}setXYZW(e,t,n,r,s){return e*=this.itemSize,this.normalized&&(t=xi(t,this.array),n=xi(n,this.array),r=xi(r,this.array),s=xi(s,this.array)),this.array[e+0]=_l(t),this.array[e+1]=_l(n),this.array[e+2]=_l(r),this.array[e+3]=_l(s),this}}class wn extends qi{constructor(e,t,n){super(new Float32Array(e),t,n)}}let zO=0;const Ru=new Vn,DB=new rr,Pg=new Ce,nu=new Fa,D0=new Fa,vo=new Ce;class ui extends bf{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:zO++}),this.uuid=lu(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.indirectOffset=0,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(rL(e)?aE:sE)(e,1):this.index=e,this}setIndirect(e,t=0){return this.indirect=e,this.indirectOffset=t,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const s=new Ai().getNormalMatrix(e);n.applyNormalMatrix(s),n.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ru.makeRotationFromQuaternion(e),this.applyMatrix4(Ru),this}rotateX(e){return Ru.makeRotationX(e),this.applyMatrix4(Ru),this}rotateY(e){return Ru.makeRotationY(e),this.applyMatrix4(Ru),this}rotateZ(e){return Ru.makeRotationZ(e),this.applyMatrix4(Ru),this}translate(e,t,n){return Ru.makeTranslation(e,t,n),this.applyMatrix4(Ru),this}scale(e,t,n){return Ru.makeScale(e,t,n),this.applyMatrix4(Ru),this}lookAt(e){return DB.lookAt(e),DB.updateMatrix(),this.applyMatrix4(DB.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Pg).negate(),this.translate(Pg.x,Pg.y,Pg.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const n=[];for(let r=0,s=e.length;r<s;r++){const a=e[r];n.push(a.x,a.y,a.z||0)}this.setAttribute("position",new wn(n,3))}else{const n=Math.min(e.length,t.count);for(let r=0;r<n;r++){const s=e[r];t.setXYZ(r,s.x,s.y,s.z||0)}e.length>t.count&&sn("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Fa);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Fn("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Ce(-1/0,-1/0,-1/0),new Ce(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const s=t[n];nu.setFromBufferAttribute(s),this.morphTargetsRelative?(vo.addVectors(this.boundingBox.min,nu.min),this.boundingBox.expandByPoint(vo),vo.addVectors(this.boundingBox.max,nu.max),this.boundingBox.expandByPoint(vo)):(this.boundingBox.expandByPoint(nu.min),this.boundingBox.expandByPoint(nu.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&Fn('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Va);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Fn("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Ce,1/0);return}if(e){const n=this.boundingSphere.center;if(nu.setFromBufferAttribute(e),t)for(let s=0,a=t.length;s<a;s++){const A=t[s];D0.setFromBufferAttribute(A),this.morphTargetsRelative?(vo.addVectors(nu.min,D0.min),nu.expandByPoint(vo),vo.addVectors(nu.max,D0.max),nu.expandByPoint(vo)):(nu.expandByPoint(D0.min),nu.expandByPoint(D0.max))}nu.getCenter(n);let r=0;for(let s=0,a=e.count;s<a;s++)vo.fromBufferAttribute(e,s),r=Math.max(r,n.distanceToSquared(vo));if(t)for(let s=0,a=t.length;s<a;s++){const A=t[s],l=this.morphTargetsRelative;for(let c=0,h=A.count;c<h;c++)vo.fromBufferAttribute(A,c),l&&(Pg.fromBufferAttribute(e,c),vo.add(Pg)),r=Math.max(r,n.distanceToSquared(vo))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&Fn('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){Fn("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=t.position,r=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new qi(new Float32Array(4*n.count),4));const a=this.getAttribute("tangent"),A=[],l=[];for(let V=0;V<n.count;V++)A[V]=new Ce,l[V]=new Ce;const c=new Ce,h=new Ce,g=new Ce,v=new Rt,m=new Rt,x=new Rt,B=new Ce,_=new Ce;function b(V,I,P){c.fromBufferAttribute(n,V),h.fromBufferAttribute(n,I),g.fromBufferAttribute(n,P),v.fromBufferAttribute(s,V),m.fromBufferAttribute(s,I),x.fromBufferAttribute(s,P),h.sub(c),g.sub(c),m.sub(v),x.sub(v);const k=1/(m.x*x.y-x.x*m.y);isFinite(k)&&(B.copy(h).multiplyScalar(x.y).addScaledVector(g,-m.y).multiplyScalar(k),_.copy(g).multiplyScalar(m.x).addScaledVector(h,-x.x).multiplyScalar(k),A[V].add(B),A[I].add(B),A[P].add(B),l[V].add(_),l[I].add(_),l[P].add(_))}let M=this.groups;M.length===0&&(M=[{start:0,count:e.count}]);for(let V=0,I=M.length;V<I;++V){const P=M[V],k=P.start,G=P.count;for(let q=k,H=k+G;q<H;q+=3)b(e.getX(q+0),e.getX(q+1),e.getX(q+2))}const T=new Ce,U=new Ce,R=new Ce,O=new Ce;function z(V){R.fromBufferAttribute(r,V),O.copy(R);const I=A[V];T.copy(I),T.sub(R.multiplyScalar(R.dot(I))).normalize(),U.crossVectors(O,I);const k=U.dot(l[V])<0?-1:1;a.setXYZW(V,T.x,T.y,T.z,k)}for(let V=0,I=M.length;V<I;++V){const P=M[V],k=P.start,G=P.count;for(let q=k,H=k+G;q<H;q+=3)z(e.getX(q+0)),z(e.getX(q+1)),z(e.getX(q+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new qi(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let v=0,m=n.count;v<m;v++)n.setXYZ(v,0,0,0);const r=new Ce,s=new Ce,a=new Ce,A=new Ce,l=new Ce,c=new Ce,h=new Ce,g=new Ce;if(e)for(let v=0,m=e.count;v<m;v+=3){const x=e.getX(v+0),B=e.getX(v+1),_=e.getX(v+2);r.fromBufferAttribute(t,x),s.fromBufferAttribute(t,B),a.fromBufferAttribute(t,_),h.subVectors(a,s),g.subVectors(r,s),h.cross(g),A.fromBufferAttribute(n,x),l.fromBufferAttribute(n,B),c.fromBufferAttribute(n,_),A.add(h),l.add(h),c.add(h),n.setXYZ(x,A.x,A.y,A.z),n.setXYZ(B,l.x,l.y,l.z),n.setXYZ(_,c.x,c.y,c.z)}else for(let v=0,m=t.count;v<m;v+=3)r.fromBufferAttribute(t,v+0),s.fromBufferAttribute(t,v+1),a.fromBufferAttribute(t,v+2),h.subVectors(a,s),g.subVectors(r,s),h.cross(g),n.setXYZ(v+0,h.x,h.y,h.z),n.setXYZ(v+1,h.x,h.y,h.z),n.setXYZ(v+2,h.x,h.y,h.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)vo.fromBufferAttribute(e,t),vo.normalize(),e.setXYZ(t,vo.x,vo.y,vo.z)}toNonIndexed(){function e(A,l){const c=A.array,h=A.itemSize,g=A.normalized,v=new c.constructor(l.length*h);let m=0,x=0;for(let B=0,_=l.length;B<_;B++){A.isInterleavedBufferAttribute?m=l[B]*A.data.stride+A.offset:m=l[B]*h;for(let b=0;b<h;b++)v[x++]=c[m++]}return new qi(v,h,g)}if(this.index===null)return sn("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new ui,n=this.index.array,r=this.attributes;for(const A in r){const l=r[A],c=e(l,n);t.setAttribute(A,c)}const s=this.morphAttributes;for(const A in s){const l=[],c=s[A];for(let h=0,g=c.length;h<g;h++){const v=c[h],m=e(v,n);l.push(m)}t.morphAttributes[A]=l}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let A=0,l=a.length;A<l;A++){const c=a[A];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const l in n){const c=n[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],h=[];for(let g=0,v=c.length;g<v;g++){const m=c[g];h.push(m.toJSON(e.data))}h.length>0&&(r[l]=h,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const A=this.boundingSphere;return A!==null&&(e.data.boundingSphere=A.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone());const r=e.attributes;for(const c in r){const h=r[c];this.setAttribute(c,h.clone(t))}const s=e.morphAttributes;for(const c in s){const h=[],g=s[c];for(let v=0,m=g.length;v<m;v++)h.push(g[v].clone(t));this.morphAttributes[c]=h}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,h=a.length;c<h;c++){const g=a[c];this.addGroup(g.start,g.count,g.materialIndex)}const A=e.boundingBox;A!==null&&(this.boundingBox=A.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const C3=new Vn,tp=new Wp,My=new Va,E3=new Ce,Uy=new Ce,Ty=new Ce,Fy=new Ce,OB=new Ce,Ly=new Ce,M3=new Ce,Iy=new Ce;class xs extends rr{constructor(e=new ui,t=new vh){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const A=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[A]=s}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,s=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const A=this.morphTargetInfluences;if(s&&A){Ly.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const h=A[l],g=s[l];h!==0&&(OB.fromBufferAttribute(g,e),a?Ly.addScaledVector(OB,h):Ly.addScaledVector(OB.sub(t),h))}t.add(Ly)}return t}raycast(e,t){const n=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),My.copy(n.boundingSphere),My.applyMatrix4(s),tp.copy(e.ray).recast(e.near),!(My.containsPoint(tp.origin)===!1&&(tp.intersectSphere(My,E3)===null||tp.origin.distanceToSquared(E3)>(e.far-e.near)**2))&&(C3.copy(s).invert(),tp.copy(e.ray).applyMatrix4(C3),!(n.boundingBox!==null&&tp.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t,tp)))}_computeIntersections(e,t,n){let r;const s=this.geometry,a=this.material,A=s.index,l=s.attributes.position,c=s.attributes.uv,h=s.attributes.uv1,g=s.attributes.normal,v=s.groups,m=s.drawRange;if(A!==null)if(Array.isArray(a))for(let x=0,B=v.length;x<B;x++){const _=v[x],b=a[_.materialIndex],M=Math.max(_.start,m.start),T=Math.min(A.count,Math.min(_.start+_.count,m.start+m.count));for(let U=M,R=T;U<R;U+=3){const O=A.getX(U),z=A.getX(U+1),V=A.getX(U+2);r=Ry(this,b,e,n,c,h,g,O,z,V),r&&(r.faceIndex=Math.floor(U/3),r.face.materialIndex=_.materialIndex,t.push(r))}}else{const x=Math.max(0,m.start),B=Math.min(A.count,m.start+m.count);for(let _=x,b=B;_<b;_+=3){const M=A.getX(_),T=A.getX(_+1),U=A.getX(_+2);r=Ry(this,a,e,n,c,h,g,M,T,U),r&&(r.faceIndex=Math.floor(_/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(a))for(let x=0,B=v.length;x<B;x++){const _=v[x],b=a[_.materialIndex],M=Math.max(_.start,m.start),T=Math.min(l.count,Math.min(_.start+_.count,m.start+m.count));for(let U=M,R=T;U<R;U+=3){const O=U,z=U+1,V=U+2;r=Ry(this,b,e,n,c,h,g,O,z,V),r&&(r.faceIndex=Math.floor(U/3),r.face.materialIndex=_.materialIndex,t.push(r))}}else{const x=Math.max(0,m.start),B=Math.min(l.count,m.start+m.count);for(let _=x,b=B;_<b;_+=3){const M=_,T=_+1,U=_+2;r=Ry(this,a,e,n,c,h,g,M,T,U),r&&(r.faceIndex=Math.floor(_/3),t.push(r))}}}}function GO(i,e,t,n,r,s,a,A){let l;if(e.side===WA?l=n.intersectTriangle(a,s,r,!0,A):l=n.intersectTriangle(r,s,a,e.side===dh,A),l===null)return null;Iy.copy(A),Iy.applyMatrix4(i.matrixWorld);const c=t.ray.origin.distanceTo(Iy);return c<t.near||c>t.far?null:{distance:c,point:Iy.clone(),object:i}}function Ry(i,e,t,n,r,s,a,A,l,c){i.getVertexPosition(A,Uy),i.getVertexPosition(l,Ty),i.getVertexPosition(c,Fy);const h=GO(i,e,t,n,Uy,Ty,Fy,M3);if(h){const g=new Ce;Cl.getBarycoord(M3,Uy,Ty,Fy,g),r&&(h.uv=Cl.getInterpolatedAttribute(r,A,l,c,g,new Rt)),s&&(h.uv1=Cl.getInterpolatedAttribute(s,A,l,c,g,new Rt)),a&&(h.normal=Cl.getInterpolatedAttribute(a,A,l,c,g,new Ce),h.normal.dot(n.direction)>0&&h.normal.multiplyScalar(-1));const v={a:A,b:l,c,normal:new Ce,materialIndex:0};Cl.getNormal(Uy,Ty,Fy,v.normal),h.face=v,h.barycoord=g}return h}class qp extends ui{constructor(e=1,t=1,n=1,r=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:s,depthSegments:a};const A=this;r=Math.floor(r),s=Math.floor(s),a=Math.floor(a);const l=[],c=[],h=[],g=[];let v=0,m=0;x("z","y","x",-1,-1,n,t,e,a,s,0),x("z","y","x",1,-1,n,t,-e,a,s,1),x("x","z","y",1,1,e,n,t,r,a,2),x("x","z","y",1,-1,e,n,-t,r,a,3),x("x","y","z",1,-1,e,t,n,r,s,4),x("x","y","z",-1,-1,e,t,-n,r,s,5),this.setIndex(l),this.setAttribute("position",new wn(c,3)),this.setAttribute("normal",new wn(h,3)),this.setAttribute("uv",new wn(g,2));function x(B,_,b,M,T,U,R,O,z,V,I){const P=U/z,k=R/V,G=U/2,q=R/2,H=O/2,ae=z+1,Z=V+1;let ne=0,oe=0;const fe=new Ce;for(let me=0;me<Z;me++){const W=me*k-q;for(let Q=0;Q<ae;Q++){const X=Q*P-G;fe[B]=X*M,fe[_]=W*T,fe[b]=H,c.push(fe.x,fe.y,fe.z),fe[B]=0,fe[_]=0,fe[b]=O>0?1:-1,h.push(fe.x,fe.y,fe.z),g.push(Q/z),g.push(1-me/V),ne+=1}}for(let me=0;me<V;me++)for(let W=0;W<z;W++){const Q=v+W+ae*me,X=v+W+ae*(me+1),Y=v+(W+1)+ae*(me+1),ie=v+(W+1)+ae*me;l.push(Q,X,ie),l.push(X,Y,ie),oe+=6}A.addGroup(m,oe,I),m+=oe,v+=ne}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qp(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Qm(i){const e={};for(const t in i){e[t]={};for(const n in i[t]){const r=i[t][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(sn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=r.clone():Array.isArray(r)?e[t][n]=r.slice():e[t][n]=r}}return e}function zA(i){const e={};for(let t=0;t<i.length;t++){const n=Qm(i[t]);for(const r in n)e[r]=n[r]}return e}function VO(i){const e=[];for(let t=0;t<i.length;t++)e.push(i[t].clone());return e}function AL(i){const e=i.getRenderTarget();return e===null?i.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Wi.workingColorSpace}const j1={clone:Qm,merge:zA};var jO=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,KO=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class qA extends xA{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=jO,this.fragmentShader=KO,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Qm(e.uniforms),this.uniformsGroups=VO(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this.defaultAttributeValues=Object.assign({},e.defaultAttributeValues),this.index0AttributeName=e.index0AttributeName,this.uniformsNeedUpdate=e.uniformsNeedUpdate,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const a=this.uniforms[r].value;a&&a.isTexture?t.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[r]={type:"m4",value:a.toArray()}:t.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const r in this.extensions)this.extensions[r]===!0&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class Kb extends rr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Vn,this.projectionMatrix=new Vn,this.projectionMatrixInverse=new Vn,this.coordinateSystem=su,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const $h=new Ce,U3=new Rt,T3=new Rt;let Ea=class extends Kb{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Om*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Tp*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Om*2*Math.atan(Math.tan(Tp*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){$h.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set($h.x,$h.y).multiplyScalar(-e/$h.z),$h.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set($h.x,$h.y).multiplyScalar(-e/$h.z)}getViewSize(e,t){return this.getViewBounds(e,U3,T3),t.subVectors(T3,U3)}setViewOffset(e,t,n,r,s,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Tp*.5*this.fov)/this.zoom,n=2*t,r=this.aspect*n,s=-.5*r;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;s+=a.offsetX*r/l,t-=a.offsetY*n/c,r*=a.width/l,n*=a.height/c}const A=this.filmOffset;A!==0&&(s+=e*A/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-n,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}};const Qg=-90,Hg=1;class lL extends rr{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Ea(Qg,Hg,e,t);r.layers=this.layers,this.add(r);const s=new Ea(Qg,Hg,e,t);s.layers=this.layers,this.add(s);const a=new Ea(Qg,Hg,e,t);a.layers=this.layers,this.add(a);const A=new Ea(Qg,Hg,e,t);A.layers=this.layers,this.add(A);const l=new Ea(Qg,Hg,e,t);l.layers=this.layers,this.add(l);const c=new Ea(Qg,Hg,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,r,s,a,A,l]=t;for(const c of t)this.remove(c);if(e===su)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),A.up.set(0,1,0),A.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Nm)n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),A.up.set(0,-1,0),A.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,A,l,c,h]=this.children,g=e.getRenderTarget(),v=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),x=e.xr.enabled;e.xr.enabled=!1;const B=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,r),e.render(t,s),e.setRenderTarget(n,1,r),e.render(t,a),e.setRenderTarget(n,2,r),e.render(t,A),e.setRenderTarget(n,3,r),e.render(t,l),e.setRenderTarget(n,4,r),e.render(t,c),n.texture.generateMipmaps=B,e.setRenderTarget(n,5,r),e.render(t,h),e.setRenderTarget(g,v,m),e.xr.enabled=x,n.texture.needsPMREMUpdate=!0}}class dv extends Ys{constructor(e=[],t=wf,n,r,s,a,A,l,c,h){super(e,t,n,r,s,a,A,l,c,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class oE extends wA{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new dv(r),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new qp(5,5,5),s=new qA({name:"CubemapFromEquirect",uniforms:Qm(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:WA,blending:yf});s.uniforms.tEquirect.value=t;const a=new xs(r,s),A=t.minFilter;return t.minFilter===yc&&(t.minFilter=Tr),new lL(1,10,this).update(e,a),t.minFilter=A,a.geometry.dispose(),a.material.dispose(),this}clear(e,t=!0,n=!0,r=!0){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(s)}}class pm extends rr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const WO={type:"move"};class Zw{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new pm,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new pm,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Ce,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Ce),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new pm,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Ce,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Ce),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let r=null,s=null,a=null;const A=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(const B of e.hand.values()){const _=t.getJointPose(B,n),b=this._getHandJoint(c,B);_!==null&&(b.matrix.fromArray(_.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.matrixWorldNeedsUpdate=!0,b.jointRadius=_.radius),b.visible=_!==null}const h=c.joints["index-finger-tip"],g=c.joints["thumb-tip"],v=h.position.distanceTo(g.position),m=.02,x=.005;c.inputState.pinching&&v>m+x?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&v<=m-x&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,n),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));A!==null&&(r=t.getPose(e.targetRaySpace,n),r===null&&s!==null&&(r=s),r!==null&&(A.matrix.fromArray(r.transform.matrix),A.matrix.decompose(A.position,A.rotation,A.scale),A.matrixWorldNeedsUpdate=!0,r.linearVelocity?(A.hasLinearVelocity=!0,A.linearVelocity.copy(r.linearVelocity)):A.hasLinearVelocity=!1,r.angularVelocity?(A.hasAngularVelocity=!0,A.angularVelocity.copy(r.angularVelocity)):A.hasAngularVelocity=!1,this.dispatchEvent(WO)))}return A!==null&&(A.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new pm;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class Wb{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new an(e),this.density=t}clone(){return new Wb(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class qb{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new an(e),this.near=t,this.far=n}clone(){return new qb(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Hm extends rr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new uu,this.environmentIntensity=1,this.environmentRotation=new uu,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class Xb{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=k1,this.updateRanges=[],this.version=0,this.uuid=lu()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=lu()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=lu()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const kA=new Ce;class au{constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)kA.fromBufferAttribute(this,t),kA.applyMatrix4(e),this.setXYZ(t,kA.x,kA.y,kA.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)kA.fromBufferAttribute(this,t),kA.applyNormalMatrix(e),this.setXYZ(t,kA.x,kA.y,kA.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)kA.fromBufferAttribute(this,t),kA.transformDirection(e),this.setXYZ(t,kA.x,kA.y,kA.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=jA(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=xi(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=xi(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=xi(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=xi(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=xi(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=jA(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=jA(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=jA(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=jA(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=xi(t,this.array),n=xi(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=xi(t,this.array),n=xi(n,this.array),r=xi(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=xi(t,this.array),n=xi(n,this.array),r=xi(r,this.array),s=xi(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){G1("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new qi(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new au(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){G1("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class AE extends xA{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new an(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let kg;const O0=new Ce,zg=new Ce,Gg=new Ce,Vg=new Rt,P0=new Rt,uL=new Vn,Ny=new Ce,Q0=new Ce,Dy=new Ce,F3=new Rt,PB=new Rt,L3=new Rt;class cL extends rr{constructor(e=new AE){if(super(),this.isSprite=!0,this.type="Sprite",kg===void 0){kg=new ui;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new Xb(t,5);kg.setIndex([0,1,2,0,2,3]),kg.setAttribute("position",new au(n,3,0,!1)),kg.setAttribute("uv",new au(n,2,3,!1))}this.geometry=kg,this.material=e,this.center=new Rt(.5,.5),this.count=1}raycast(e,t){e.camera===null&&Fn('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),zg.setFromMatrixScale(this.matrixWorld),uL.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Gg.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&zg.multiplyScalar(-Gg.z);const n=this.material.rotation;let r,s;n!==0&&(s=Math.cos(n),r=Math.sin(n));const a=this.center;Oy(Ny.set(-.5,-.5,0),Gg,a,zg,r,s),Oy(Q0.set(.5,-.5,0),Gg,a,zg,r,s),Oy(Dy.set(.5,.5,0),Gg,a,zg,r,s),F3.set(0,0),PB.set(1,0),L3.set(1,1);let A=e.ray.intersectTriangle(Ny,Q0,Dy,!1,O0);if(A===null&&(Oy(Q0.set(-.5,.5,0),Gg,a,zg,r,s),PB.set(0,1),A=e.ray.intersectTriangle(Ny,Dy,Q0,!1,O0),A===null))return;const l=e.ray.origin.distanceTo(O0);l<e.near||l>e.far||t.push({distance:l,point:O0.clone(),uv:Cl.getInterpolation(O0,Ny,Q0,Dy,F3,PB,L3,new Rt),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Oy(i,e,t,n,r,s){Vg.subVectors(i,t).addScalar(.5).multiply(n),r!==void 0?(P0.x=s*Vg.x-r*Vg.y,P0.y=r*Vg.x+s*Vg.y):P0.copy(Vg),i.copy(e),i.x+=P0.x,i.y+=P0.y,i.applyMatrix4(uL)}const Py=new Ce,I3=new Ce;class fL extends rr{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,r=t.length;n<r;n++){const s=t[n];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let n=0;n<t.length;n++)if(t[n].distance===e){const r=t.splice(n,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++){let s=t[n].distance;if(t[n].object.visible&&(s-=s*t[n].hysteresis),e<s)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){Py.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Py);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Py.setFromMatrixPosition(e.matrixWorld),I3.setFromMatrixPosition(this.matrixWorld);const n=Py.distanceTo(I3)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let a=t[r].distance;if(t[r].object.visible&&(a-=a*t[r].hysteresis),n>=a)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let r=0,s=n.length;r<s;r++){const a=n[r];t.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return t}}const R3=new Ce,N3=new er,D3=new er,qO=new Ce,O3=new Vn,Qy=new Ce,QB=new Va,P3=new Vn,HB=new Wp;class hL extends xs{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=M2,this.bindMatrix=new Vn,this.bindMatrixInverse=new Vn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Fa),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,Qy),this.boundingBox.expandByPoint(Qy)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Va),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,Qy),this.boundingSphere.expandByPoint(Qy)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,r=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),QB.copy(this.boundingSphere),QB.applyMatrix4(r),e.ray.intersectsSphere(QB)!==!1&&(P3.copy(r).invert(),HB.copy(e.ray).applyMatrix4(P3),!(this.boundingBox!==null&&HB.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,HB)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new er,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===M2?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===jF?this.bindMatrixInverse.copy(this.bindMatrix).invert():sn("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,r=this.geometry;N3.fromBufferAttribute(r.attributes.skinIndex,e),D3.fromBufferAttribute(r.attributes.skinWeight,e),R3.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const a=D3.getComponent(s);if(a!==0){const A=N3.getComponent(s);O3.multiplyMatrices(n.bones[A].matrixWorld,n.boneInverses[A]),t.addScaledVector(qO.copy(R3).applyMatrix4(O3),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}class lE extends rr{constructor(){super(),this.isBone=!0,this.type="Bone"}}class bc extends Ys{constructor(e=null,t=1,n=1,r,s,a,A,l,c=oa,h=oa,g,v){super(null,a,A,l,c,h,r,s,g,v),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Q3=new Vn,XO=new Vn;class Yb{constructor(e=[],t=[]){this.uuid=lu(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.previousBoneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){sn("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new Vn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new Vn;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const A=e[s]?e[s].matrixWorld:XO;Q3.multiplyMatrices(A,t[s]),Q3.toArray(n,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new Yb(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new bc(t,e,e,Vo,yA);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){const s=e.bones[n];let a=t[s];a===void 0&&(sn("Skeleton: No bone found with UUID:",s),a=new lE),this.bones.push(a),this.boneInverses.push(new Vn().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const a=t[r];e.bones.push(a.uuid);const A=n[r];e.boneInverses.push(A.toArray())}return e}}class Hp extends qi{constructor(e,t,n,r=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const jg=new Vn,H3=new Vn,Hy=[],k3=new Fa,YO=new Vn,H0=new xs,k0=new Va;class dL extends xs{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Hp(new Float32Array(n*16),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<n;r++)this.setMatrixAt(r,YO)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Fa),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,jg),k3.copy(e.boundingBox).applyMatrix4(jg),this.boundingBox.union(k3)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Va),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,jg),k0.copy(e.boundingSphere).applyMatrix4(jg),this.boundingSphere.union(k0)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const n=t.morphTargetInfluences,r=this.morphTexture.source.data.data,s=n.length+1,a=e*s+1;for(let A=0;A<n.length;A++)n[A]=r[a+A]}raycast(e,t){const n=this.matrixWorld,r=this.count;if(H0.geometry=this.geometry,H0.material=this.material,H0.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),k0.copy(this.boundingSphere),k0.applyMatrix4(n),e.ray.intersectsSphere(k0)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,jg),H3.multiplyMatrices(n,jg),H0.matrixWorld=H3,H0.raycast(e,Hy);for(let a=0,A=Hy.length;a<A;a++){const l=Hy[a];l.instanceId=s,l.object=this,t.push(l)}Hy.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Hp(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const n=t.morphTargetInfluences,r=n.length+1;this.morphTexture===null&&(this.morphTexture=new bc(new Float32Array(r*this.count),r,this.count,Pb,yA));const s=this.morphTexture.source.data.data;let a=0;for(let c=0;c<n.length;c++)a+=n[c];const A=this.geometry.morphTargetsRelative?1:1-a,l=r*e;s[l]=A,s.set(n,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const kB=new Ce,JO=new Ce,ZO=new Ai;class ah{constructor(e=new Ce(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=kB.subVectors(n,t).cross(JO.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(kB),r=this.normal.dot(n);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(n,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||ZO.getNormalMatrix(e),r=this.coplanarPoint(kB).applyMatrix4(e),s=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const np=new Va,$O=new Rt(.5,.5),ky=new Ce;class Wm{constructor(e=new ah,t=new ah,n=new ah,r=new ah,s=new ah,a=new ah){this.planes=[e,t,n,r,s,a]}set(e,t,n,r,s,a){const A=this.planes;return A[0].copy(e),A[1].copy(t),A[2].copy(n),A[3].copy(r),A[4].copy(s),A[5].copy(a),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=su,n=!1){const r=this.planes,s=e.elements,a=s[0],A=s[1],l=s[2],c=s[3],h=s[4],g=s[5],v=s[6],m=s[7],x=s[8],B=s[9],_=s[10],b=s[11],M=s[12],T=s[13],U=s[14],R=s[15];if(r[0].setComponents(c-a,m-h,b-x,R-M).normalize(),r[1].setComponents(c+a,m+h,b+x,R+M).normalize(),r[2].setComponents(c+A,m+g,b+B,R+T).normalize(),r[3].setComponents(c-A,m-g,b-B,R-T).normalize(),n)r[4].setComponents(l,v,_,U).normalize(),r[5].setComponents(c-l,m-v,b-_,R-U).normalize();else if(r[4].setComponents(c-l,m-v,b-_,R-U).normalize(),t===su)r[5].setComponents(c+l,m+v,b+_,R+U).normalize();else if(t===Nm)r[5].setComponents(l,v,_,U).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),np.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),np.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(np)}intersectsSprite(e){np.center.set(0,0,0);const t=$O.distanceTo(e.center);return np.radius=.7071067811865476+t,np.applyMatrix4(e.matrixWorld),this.intersectsSphere(np)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(n)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(ky.x=r.normal.x>0?e.max.x:e.min.x,ky.y=r.normal.y>0?e.max.y:e.min.y,ky.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(ky)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const sf=new Vn,af=new Wm;class Jb{constructor(){this.coordinateSystem=su}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(sf.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),af.setFromProjectionMatrix(sf,r.coordinateSystem,r.reversedDepth),af.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(sf.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),af.setFromProjectionMatrix(sf,r.coordinateSystem,r.reversedDepth),af.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(sf.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),af.setFromProjectionMatrix(sf,r.coordinateSystem,r.reversedDepth),af.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(sf.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),af.setFromProjectionMatrix(sf,r.coordinateSystem,r.reversedDepth),af.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(sf.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),af.setFromProjectionMatrix(sf,r.coordinateSystem,r.reversedDepth),af.containsPoint(e))return!0}return!1}clone(){return new Jb}}function zB(i,e){return i-e}function eP(i,e){return i.z-e.z}function tP(i,e){return e.z-i.z}class nP{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,n,r){const s=this.pool,a=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const A=s[this.index];a.push(A),this.index++,A.start=e,A.count=t,A.z=n,A.index=r}reset(){this.list.length=0,this.index=0}}const bl=new Vn,iP=new an(1,1,1),z3=new Wm,rP=new Jb,zy=new Fa,ip=new Va,z0=new Ce,G3=new Ce,sP=new Ce,GB=new nP,cA=new xs,Gy=[];function aP(i,e,t=0){const n=e.itemSize;if(i.isInterleavedBufferAttribute||i.array.constructor!==e.array.constructor){const r=i.count;for(let s=0;s<r;s++)for(let a=0;a<n;a++)e.setComponent(s+t,a,i.getComponent(s,a))}else e.array.set(i.array,t*n);e.needsUpdate=!0}function rp(i,e){if(i.constructor!==e.constructor){const t=Math.min(i.length,e.length);for(let n=0;n<t;n++)e[n]=i[n]}else{const t=Math.min(i.length,e.length);e.set(new i.constructor(i.buffer,0,t))}}class pL extends xs{constructor(e,t,n=t*2,r){super(new ui,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new bc(t,e,e,Vo,yA);this._matricesTexture=n}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),n=new bc(t,e,e,hv,Vu);this._indirectTexture=n}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),n=new bc(t,e,e,Vo,yA);n.colorSpace=Wi.workingColorSpace,this._colorsTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const a=e.getAttribute(s),{array:A,itemSize:l,normalized:c}=a,h=new A.constructor(n*l),g=new qi(h,l,c);t.setAttribute(s,g)}if(e.getIndex()!==null){const s=n>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new qi(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(!e.hasAttribute(n))throw new Error(`THREE.BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const r=e.getAttribute(n),s=t.getAttribute(n);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Fa);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let n=0,r=t.length;n<r;n++){if(t[n].active===!1)continue;const s=t[n].geometryIndex;this.getMatrixAt(n,bl),this.getBoundingBoxAt(s,zy).applyMatrix4(bl),e.union(zy)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Va);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let n=0,r=t.length;n<r;n++){if(t[n].active===!1)continue;const s=t[n].geometryIndex;this.getMatrixAt(n,bl),this.getBoundingSphereAt(s,ip).applyMatrix4(bl),e.union(ip)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const n={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(zB),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=n):(r=this._instanceInfo.length,this._instanceInfo.push(n));const s=this._matricesTexture;bl.identity().toArray(s.image.data,r*16),s.needsUpdate=!0;const a=this._colorsTexture;return a&&(iP.toArray(a.image.data,r*4),a.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,n=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const a=e.getIndex();if(a!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=n===-1?a.count:n),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(zB),l=this._availableGeometryIds.shift(),s[l]=r):(l=this._geometryCount,this._geometryCount++,s.push(r)),this.setGeometryAt(l,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,l}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,r=n.getIndex()!==null,s=n.getIndex(),a=t.getIndex(),A=this._geometryInfo[e];if(r&&a.count>A.reservedIndexCount||t.attributes.position.count>A.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=A.vertexStart,c=A.reservedVertexCount;A.vertexCount=t.getAttribute("position").count;for(const h in n.attributes){const g=t.getAttribute(h),v=n.getAttribute(h);aP(g,v,l);const m=g.itemSize;for(let x=g.count,B=c;x<B;x++){const _=l+x;for(let b=0;b<m;b++)v.setComponent(_,b,0)}v.needsUpdate=!0,v.addUpdateRange(l*m,c*m)}if(r){const h=A.indexStart,g=A.reservedIndexCount;A.indexCount=t.getIndex().count;for(let v=0;v<a.count;v++)s.setX(h+v,l+a.getX(v));for(let v=a.count,m=g;v<m;v++)s.setX(h+v,l);s.needsUpdate=!0,s.addUpdateRange(h,A.reservedIndexCount)}return A.start=r?A.indexStart:A.vertexStart,A.count=r?A.indexCount:A.vertexCount,A.boundingBox=null,t.boundingBox!==null&&(A.boundingBox=t.boundingBox.clone()),A.boundingSphere=null,t.boundingSphere!==null&&(A.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const n=this._instanceInfo;for(let r=0,s=n.length;r<s;r++)n[r].active&&n[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const n=this._geometryInfo,r=n.map((a,A)=>A).sort((a,A)=>n[a].vertexStart-n[A].vertexStart),s=this.geometry;for(let a=0,A=n.length;a<A;a++){const l=r[a],c=n[l];if(c.active!==!1){if(s.index!==null){if(c.indexStart!==t){const{indexStart:h,vertexStart:g,reservedIndexCount:v}=c,m=s.index,x=m.array,B=e-g;for(let _=h;_<h+v;_++)x[_]=x[_]+B;m.array.copyWithin(t,h,h+v),m.addUpdateRange(t,v),m.needsUpdate=!0,c.indexStart=t}t+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:h,reservedVertexCount:g}=c,v=s.attributes;for(const m in v){const x=v[m],{array:B,itemSize:_}=x;B.copyWithin(e*_,h*_,(h+g)*_),x.addUpdateRange(e*_,g*_),x.needsUpdate=!0}c.vertexStart=e}e+=c.reservedVertexCount,c.start=s.index?c.indexStart:c.vertexStart,this._nextIndexStart=s.index?c.indexStart+c.reservedIndexCount:0,this._nextVertexStart=c.vertexStart+c.reservedVertexCount}}return this._visibilityChanged=!0,this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const s=new Fa,a=n.index,A=n.attributes.position;for(let l=r.start,c=r.start+r.count;l<c;l++){let h=l;a&&(h=a.getX(h)),s.expandByPoint(z0.fromBufferAttribute(A,h))}r.boundingBox=s}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const s=new Va;this.getBoundingBoxAt(e,zy),zy.getCenter(s.center);const a=n.index,A=n.attributes.position;let l=0;for(let c=r.start,h=r.start+r.count;c<h;c++){let g=c;a&&(g=a.getX(g)),z0.fromBufferAttribute(A,g),l=Math.max(l,s.center.distanceToSquared(z0))}s.radius=Math.sqrt(l),r.boundingSphere=s}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const n=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,e*16),n.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const n=this._geometryInfo[e];return t.vertexStart=n.vertexStart,t.vertexCount=n.vertexCount,t.reservedVertexCount=n.reservedVertexCount,t.indexStart=n.indexStart,t.indexCount=n.indexCount,t.reservedIndexCount=n.reservedIndexCount,t.start=n.start,t.count=n.count,t}setInstanceCount(e){const t=this._availableInstanceIds,n=this._instanceInfo;for(t.sort(zB);t[t.length-1]===n.length-1;)n.pop(),t.pop();if(e<n.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),s=new Int32Array(e);rp(this._multiDrawCounts,r),rp(this._multiDrawStarts,s),this._multiDrawCounts=r,this._multiDrawStarts=s,this._maxInstanceCount=e;const a=this._indirectTexture,A=this._matricesTexture,l=this._colorsTexture;a.dispose(),this._initIndirectTexture(),rp(a.image.data,this._indirectTexture.image.data),A.dispose(),this._initMatricesTexture(),rp(A.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),rp(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const n=[...this._geometryInfo].filter(A=>A.active);if(Math.max(...n.map(A=>A.vertexStart+A.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...n.map(l=>l.indexStart+l.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new ui,this._initializeGeometry(s));const a=this.geometry;s.index&&rp(s.index.array,a.index.array);for(const A in s.attributes)rp(s.attributes[A].array,a.attributes[A].array)}raycast(e,t){const n=this._instanceInfo,r=this._geometryInfo,s=this.matrixWorld,a=this.geometry;cA.material=this.material,cA.geometry.index=a.index,cA.geometry.attributes=a.attributes,cA.geometry.boundingBox===null&&(cA.geometry.boundingBox=new Fa),cA.geometry.boundingSphere===null&&(cA.geometry.boundingSphere=new Va);for(let A=0,l=n.length;A<l;A++){if(!n[A].visible||!n[A].active)continue;const c=n[A].geometryIndex,h=r[c];cA.geometry.setDrawRange(h.start,h.count),this.getMatrixAt(A,cA.matrixWorld).premultiply(s),this.getBoundingBoxAt(c,cA.geometry.boundingBox),this.getBoundingSphereAt(c,cA.geometry.boundingSphere),cA.raycast(e,Gy);for(let g=0,v=Gy.length;g<v;g++){const m=Gy[g];m.object=this,m.batchId=A,t.push(m)}Gy.length=0}cA.material=null,cA.geometry.index=null,cA.geometry.attributes={},cA.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,n,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=r.getIndex(),A=a===null?1:a.array.BYTES_PER_ELEMENT,l=this._instanceInfo,c=this._multiDrawStarts,h=this._multiDrawCounts,g=this._geometryInfo,v=this.perObjectFrustumCulled,m=this._indirectTexture,x=m.image.data,B=n.isArrayCamera?rP:z3;v&&!n.isArrayCamera&&(bl.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),z3.setFromProjectionMatrix(bl,n.coordinateSystem,n.reversedDepth));let _=0;if(this.sortObjects){bl.copy(this.matrixWorld).invert(),z0.setFromMatrixPosition(n.matrixWorld).applyMatrix4(bl),G3.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(bl);for(let T=0,U=l.length;T<U;T++)if(l[T].visible&&l[T].active){const R=l[T].geometryIndex;this.getMatrixAt(T,bl),this.getBoundingSphereAt(R,ip).applyMatrix4(bl);let O=!1;if(v&&(O=!B.intersectsSphere(ip,n)),!O){const z=g[R],V=sP.subVectors(ip.center,z0).dot(G3);GB.push(z.start,z.count,V,T)}}const b=GB.list,M=this.customSort;M===null?b.sort(s.transparent?tP:eP):M.call(this,b,n);for(let T=0,U=b.length;T<U;T++){const R=b[T];c[_]=R.start*A,h[_]=R.count,x[_]=R.index,_++}GB.reset()}else for(let b=0,M=l.length;b<M;b++)if(l[b].visible&&l[b].active){const T=l[b].geometryIndex;let U=!1;if(v&&(this.getMatrixAt(b,bl),this.getBoundingSphereAt(T,ip).applyMatrix4(bl),U=!B.intersectsSphere(ip,n)),!U){const R=g[T];c[_]=R.start*A,h[_]=R.count,x[_]=b,_++}}m.needsUpdate=!0,this._multiDrawCount=_,this._visibilityChanged=!1}onBeforeShadow(e,t,n,r,s,a){this.onBeforeRender(e,null,r,s,a)}}class XA extends xA{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new an(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const tb=new Ce,nb=new Ce,V3=new Vn,G0=new Wp,Vy=new Va,VB=new Ce,j3=new Ce;let bd=class extends rr{constructor(e=new ui,t=new XA){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let r=1,s=t.count;r<s;r++)tb.fromBufferAttribute(t,r-1),nb.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=tb.distanceTo(nb);e.setAttribute("lineDistance",new wn(n,1))}else sn("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,a=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),Vy.copy(n.boundingSphere),Vy.applyMatrix4(r),Vy.radius+=s,e.ray.intersectsSphere(Vy)===!1)return;V3.copy(r).invert(),G0.copy(e.ray).applyMatrix4(V3);const A=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=A*A,c=this.isLineSegments?2:1,h=n.index,v=n.attributes.position;if(h!==null){const m=Math.max(0,a.start),x=Math.min(h.count,a.start+a.count);for(let B=m,_=x-1;B<_;B+=c){const b=h.getX(B),M=h.getX(B+1),T=jy(this,e,G0,l,b,M,B);T&&t.push(T)}if(this.isLineLoop){const B=h.getX(x-1),_=h.getX(m),b=jy(this,e,G0,l,B,_,x-1);b&&t.push(b)}}else{const m=Math.max(0,a.start),x=Math.min(v.count,a.start+a.count);for(let B=m,_=x-1;B<_;B+=c){const b=jy(this,e,G0,l,B,B+1,B);b&&t.push(b)}if(this.isLineLoop){const B=jy(this,e,G0,l,x-1,m,x-1);B&&t.push(B)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const A=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[A]=s}}}}};function jy(i,e,t,n,r,s,a){const A=i.geometry.attributes.position;if(tb.fromBufferAttribute(A,r),nb.fromBufferAttribute(A,s),t.distanceSqToSegment(tb,nb,VB,j3)>n)return;VB.applyMatrix4(i.matrixWorld);const c=e.ray.origin.distanceTo(VB);if(!(c<e.near||c>e.far))return{distance:c,point:j3.clone().applyMatrix4(i.matrixWorld),index:a,face:null,faceIndex:null,barycoord:null,object:i}}const K3=new Ce,W3=new Ce;class _f extends bd{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let r=0,s=t.count;r<s;r+=2)K3.fromBufferAttribute(t,r),W3.fromBufferAttribute(t,r+1),n[r]=r===0?0:n[r-1],n[r+1]=n[r]+K3.distanceTo(W3);e.setAttribute("lineDistance",new wn(n,1))}else sn("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class gL extends bd{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class uE extends xA{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new an(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const q3=new Vn,F2=new Wp,Ky=new Va,Wy=new Ce;class mL extends rr{constructor(e=new ui,t=new uE){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,a=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),Ky.copy(n.boundingSphere),Ky.applyMatrix4(r),Ky.radius+=s,e.ray.intersectsSphere(Ky)===!1)return;q3.copy(r).invert(),F2.copy(e.ray).applyMatrix4(q3);const A=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=A*A,c=n.index,g=n.attributes.position;if(c!==null){const v=Math.max(0,a.start),m=Math.min(c.count,a.start+a.count);for(let x=v,B=m;x<B;x++){const _=c.getX(x);Wy.fromBufferAttribute(g,_),X3(Wy,_,l,r,e,t,this)}}else{const v=Math.max(0,a.start),m=Math.min(g.count,a.start+a.count);for(let x=v,B=m;x<B;x++)Wy.fromBufferAttribute(g,x),X3(Wy,x,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const A=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[A]=s}}}}}function X3(i,e,t,n,r,s,a){const A=F2.distanceSqToPoint(i);if(A<t){const l=new Ce;F2.closestPointToPoint(i,l),l.applyMatrix4(n);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(A),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class vL extends Ys{constructor(e,t,n,r,s=Tr,a=Tr,A,l,c){super(e,t,n,r,s,a,A,l,c),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const h=this;function g(){h.needsUpdate=!0,h._requestVideoFrameCallbackId=e.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(g))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class oP extends vL{constructor(e,t,n,r,s,a,A,l){super({},e,t,n,r,s,a,A,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class AP extends Ys{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=oa,this.minFilter=oa,this.generateMipmaps=!1,this.needsUpdate=!0}}class Fp extends Ys{constructor(e,t,n,r,s,a,A,l,c,h,g,v){super(null,a,A,l,c,h,r,s,g,v),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class lP extends Fp{constructor(e,t,n,r,s,a){super(e,t,n,s,a),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=KA,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class uP extends Fp{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,wf),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class cP extends Ys{constructor(e,t,n,r,s,a,A,l,c){super(e,t,n,r,s,a,A,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class kp extends Ys{constructor(e,t,n=Vu,r,s,a,A=oa,l=oa,c,h=xf,g=1){if(h!==xf&&h!==Ad)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const v={width:e,height:t,depth:g};super(v,r,s,a,A,l,h,n,c),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new uh(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class yL extends kp{constructor(e,t=Vu,n=wf,r,s,a=oa,A=oa,l,c=xf){const h={width:e,height:e,depth:1},g=[h,h,h,h,h,h];super(e,e,t,n,r,s,a,A,l,c),this.image=g,this.isCubeDepthTexture=!0,this.isCubeTexture=!0}get images(){return this.image}set images(e){this.image=e}}class cE extends Ys{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class Zb extends ui{constructor(e=1,t=1,n=4,r=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:r,heightSegments:s},t=Math.max(0,t),n=Math.max(1,Math.floor(n)),r=Math.max(3,Math.floor(r)),s=Math.max(1,Math.floor(s));const a=[],A=[],l=[],c=[],h=t/2,g=Math.PI/2*e,v=t,m=2*g+v,x=n*2+s,B=r+1,_=new Ce,b=new Ce;for(let M=0;M<=x;M++){let T=0,U=0,R=0,O=0;if(M<=n){const I=M/n,P=I*Math.PI/2;U=-h-e*Math.cos(P),R=e*Math.sin(P),O=-e*Math.cos(P),T=I*g}else if(M<=n+s){const I=(M-n)/s;U=-h+I*t,R=e,O=0,T=g+I*v}else{const I=(M-n-s)/n,P=I*Math.PI/2;U=h+e*Math.sin(P),R=e*Math.cos(P),O=e*Math.sin(P),T=g+v+I*g}const z=Math.max(0,Math.min(1,T/m));let V=0;M===0?V=.5/r:M===x&&(V=-.5/r);for(let I=0;I<=r;I++){const P=I/r,k=P*Math.PI*2,G=Math.sin(k),q=Math.cos(k);b.x=-R*q,b.y=U,b.z=R*G,A.push(b.x,b.y,b.z),_.set(-R*q,O,R*G),_.normalize(),l.push(_.x,_.y,_.z),c.push(P+V,z)}if(M>0){const I=(M-1)*B;for(let P=0;P<r;P++){const k=I+P,G=I+P+1,q=M*B+P,H=M*B+P+1;a.push(k,G,q),a.push(G,H,q)}}}this.setIndex(a),this.setAttribute("position",new wn(A,3)),this.setAttribute("normal",new wn(l,3)),this.setAttribute("uv",new wn(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zb(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class $b extends ui{constructor(e=1,t=32,n=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const s=[],a=[],A=[],l=[],c=new Ce,h=new Rt;a.push(0,0,0),A.push(0,0,1),l.push(.5,.5);for(let g=0,v=3;g<=t;g++,v+=3){const m=n+g/t*r;c.x=e*Math.cos(m),c.y=e*Math.sin(m),a.push(c.x,c.y,c.z),A.push(0,0,1),h.x=(a[v]/e+1)/2,h.y=(a[v+1]/e+1)/2,l.push(h.x,h.y)}for(let g=1;g<=t;g++)s.push(g,g+1,0);this.setIndex(s),this.setAttribute("position",new wn(a,3)),this.setAttribute("normal",new wn(A,3)),this.setAttribute("uv",new wn(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $b(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class pv extends ui{constructor(e=1,t=1,n=1,r=32,s=1,a=!1,A=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:s,openEnded:a,thetaStart:A,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const h=[],g=[],v=[],m=[];let x=0;const B=[],_=n/2;let b=0;M(),a===!1&&(e>0&&T(!0),t>0&&T(!1)),this.setIndex(h),this.setAttribute("position",new wn(g,3)),this.setAttribute("normal",new wn(v,3)),this.setAttribute("uv",new wn(m,2));function M(){const U=new Ce,R=new Ce;let O=0;const z=(t-e)/n;for(let V=0;V<=s;V++){const I=[],P=V/s,k=P*(t-e)+e;for(let G=0;G<=r;G++){const q=G/r,H=q*l+A,ae=Math.sin(H),Z=Math.cos(H);R.x=k*ae,R.y=-P*n+_,R.z=k*Z,g.push(R.x,R.y,R.z),U.set(ae,z,Z).normalize(),v.push(U.x,U.y,U.z),m.push(q,1-P),I.push(x++)}B.push(I)}for(let V=0;V<r;V++)for(let I=0;I<s;I++){const P=B[I][V],k=B[I+1][V],G=B[I+1][V+1],q=B[I][V+1];(e>0||I!==0)&&(h.push(P,k,q),O+=3),(t>0||I!==s-1)&&(h.push(k,G,q),O+=3)}c.addGroup(b,O,0),b+=O}function T(U){const R=x,O=new Rt,z=new Ce;let V=0;const I=U===!0?e:t,P=U===!0?1:-1;for(let G=1;G<=r;G++)g.push(0,_*P,0),v.push(0,P,0),m.push(.5,.5),x++;const k=x;for(let G=0;G<=r;G++){const H=G/r*l+A,ae=Math.cos(H),Z=Math.sin(H);z.x=I*Z,z.y=_*P,z.z=I*ae,g.push(z.x,z.y,z.z),v.push(0,P,0),O.x=ae*.5+.5,O.y=Z*.5*P+.5,m.push(O.x,O.y),x++}for(let G=0;G<r;G++){const q=R+G,H=k+G;U===!0?h.push(H,H+1,q):h.push(H+1,H,q),V+=3}c.addGroup(b,V,U===!0?1:2),b+=V}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pv(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class gv extends pv{constructor(e=1,t=1,n=32,r=1,s=!1,a=0,A=Math.PI*2){super(0,e,t,n,r,s,a,A),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:s,thetaStart:a,thetaLength:A}}static fromJSON(e){return new gv(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Cd extends ui{constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const s=[],a=[];A(r),c(n),h(),this.setAttribute("position",new wn(s,3)),this.setAttribute("normal",new wn(s.slice(),3)),this.setAttribute("uv",new wn(a,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function A(M){const T=new Ce,U=new Ce,R=new Ce;for(let O=0;O<t.length;O+=3)m(t[O+0],T),m(t[O+1],U),m(t[O+2],R),l(T,U,R,M)}function l(M,T,U,R){const O=R+1,z=[];for(let V=0;V<=O;V++){z[V]=[];const I=M.clone().lerp(U,V/O),P=T.clone().lerp(U,V/O),k=O-V;for(let G=0;G<=k;G++)G===0&&V===O?z[V][G]=I:z[V][G]=I.clone().lerp(P,G/k)}for(let V=0;V<O;V++)for(let I=0;I<2*(O-V)-1;I++){const P=Math.floor(I/2);I%2===0?(v(z[V][P+1]),v(z[V+1][P]),v(z[V][P])):(v(z[V][P+1]),v(z[V+1][P+1]),v(z[V+1][P]))}}function c(M){const T=new Ce;for(let U=0;U<s.length;U+=3)T.x=s[U+0],T.y=s[U+1],T.z=s[U+2],T.normalize().multiplyScalar(M),s[U+0]=T.x,s[U+1]=T.y,s[U+2]=T.z}function h(){const M=new Ce;for(let T=0;T<s.length;T+=3){M.x=s[T+0],M.y=s[T+1],M.z=s[T+2];const U=_(M)/2/Math.PI+.5,R=b(M)/Math.PI+.5;a.push(U,1-R)}x(),g()}function g(){for(let M=0;M<a.length;M+=6){const T=a[M+0],U=a[M+2],R=a[M+4],O=Math.max(T,U,R),z=Math.min(T,U,R);O>.9&&z<.1&&(T<.2&&(a[M+0]+=1),U<.2&&(a[M+2]+=1),R<.2&&(a[M+4]+=1))}}function v(M){s.push(M.x,M.y,M.z)}function m(M,T){const U=M*3;T.x=e[U+0],T.y=e[U+1],T.z=e[U+2]}function x(){const M=new Ce,T=new Ce,U=new Ce,R=new Ce,O=new Rt,z=new Rt,V=new Rt;for(let I=0,P=0;I<s.length;I+=9,P+=6){M.set(s[I+0],s[I+1],s[I+2]),T.set(s[I+3],s[I+4],s[I+5]),U.set(s[I+6],s[I+7],s[I+8]),O.set(a[P+0],a[P+1]),z.set(a[P+2],a[P+3]),V.set(a[P+4],a[P+5]),R.copy(M).add(T).add(U).divideScalar(3);const k=_(R);B(O,P+0,M,k),B(z,P+2,T,k),B(V,P+4,U,k)}}function B(M,T,U,R){R<0&&M.x===1&&(a[T]=M.x-1),U.x===0&&U.z===0&&(a[T]=R/2/Math.PI+.5)}function _(M){return Math.atan2(M.z,-M.x)}function b(M){return Math.atan2(-M.y,Math.sqrt(M.x*M.x+M.z*M.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Cd(e.vertices,e.indices,e.radius,e.detail)}}class e_ extends Cd{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=1/n,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new e_(e.radius,e.detail)}}const qy=new Ce,Xy=new Ce,jB=new Ce,Yy=new Cl;class fE extends ui{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(Tp*t),a=e.getIndex(),A=e.getAttribute("position"),l=a?a.count:A.count,c=[0,0,0],h=["a","b","c"],g=new Array(3),v={},m=[];for(let x=0;x<l;x+=3){a?(c[0]=a.getX(x),c[1]=a.getX(x+1),c[2]=a.getX(x+2)):(c[0]=x,c[1]=x+1,c[2]=x+2);const{a:B,b:_,c:b}=Yy;if(B.fromBufferAttribute(A,c[0]),_.fromBufferAttribute(A,c[1]),b.fromBufferAttribute(A,c[2]),Yy.getNormal(jB),g[0]=`${Math.round(B.x*r)},${Math.round(B.y*r)},${Math.round(B.z*r)}`,g[1]=`${Math.round(_.x*r)},${Math.round(_.y*r)},${Math.round(_.z*r)}`,g[2]=`${Math.round(b.x*r)},${Math.round(b.y*r)},${Math.round(b.z*r)}`,!(g[0]===g[1]||g[1]===g[2]||g[2]===g[0]))for(let M=0;M<3;M++){const T=(M+1)%3,U=g[M],R=g[T],O=Yy[h[M]],z=Yy[h[T]],V=`${U}_${R}`,I=`${R}_${U}`;I in v&&v[I]?(jB.dot(v[I].normal)<=s&&(m.push(O.x,O.y,O.z),m.push(z.x,z.y,z.z)),v[I]=null):V in v||(v[V]={index0:c[M],index1:c[T],normal:jB.clone()})}}for(const x in v)if(v[x]){const{index0:B,index1:_}=v[x];qy.fromBufferAttribute(A,B),Xy.fromBufferAttribute(A,_),m.push(qy.x,qy.y,qy.z),m.push(Xy.x,Xy.y,Xy.z)}this.setAttribute("position",new wn(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Cc{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){sn("Curve: .getPoint() not implemented.")}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),s=0;t.push(0);for(let a=1;a<=e;a++)n=this.getPoint(a/e),s+=n.distanceTo(r),t.push(s),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const n=this.getLengths();let r=0;const s=n.length;let a;t?a=t:a=e*n[s-1];let A=0,l=s-1,c;for(;A<=l;)if(r=Math.floor(A+(l-A)/2),c=n[r]-a,c<0)A=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,n[r]===a)return r/(s-1);const h=n[r],v=n[r+1]-h,m=(a-h)/v;return(r+m)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const a=this.getPoint(r),A=this.getPoint(s),l=t||(a.isVector2?new Rt:new Ce);return l.copy(A).sub(a).normalize(),l}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t=!1){const n=new Ce,r=[],s=[],a=[],A=new Ce,l=new Vn;for(let m=0;m<=e;m++){const x=m/e;r[m]=this.getTangentAt(x,new Ce)}s[0]=new Ce,a[0]=new Ce;let c=Number.MAX_VALUE;const h=Math.abs(r[0].x),g=Math.abs(r[0].y),v=Math.abs(r[0].z);h<=c&&(c=h,n.set(1,0,0)),g<=c&&(c=g,n.set(0,1,0)),v<=c&&n.set(0,0,1),A.crossVectors(r[0],n).normalize(),s[0].crossVectors(r[0],A),a[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),a[m]=a[m-1].clone(),A.crossVectors(r[m-1],r[m]),A.length()>Number.EPSILON){A.normalize();const x=Math.acos(Kn(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(A,x))}a[m].crossVectors(r[m],s[m])}if(t===!0){let m=Math.acos(Kn(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(A.crossVectors(s[0],s[e]))>0&&(m=-m);for(let x=1;x<=e;x++)s[x].applyMatrix4(l.makeRotationAxis(r[x],m*x)),a[x].crossVectors(r[x],s[x])}return{tangents:r,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class t_ extends Cc{constructor(e=0,t=0,n=1,r=1,s=0,a=Math.PI*2,A=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=A,this.aRotation=l}getPoint(e,t=new Rt){const n=t,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(a?s=0:s=r),this.aClockwise===!0&&!a&&(s===r?s=-r:s=s-r);const A=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(A),c=this.aY+this.yRadius*Math.sin(A);if(this.aRotation!==0){const h=Math.cos(this.aRotation),g=Math.sin(this.aRotation),v=l-this.aX,m=c-this.aY;l=v*h-m*g+this.aX,c=v*g+m*h+this.aY}return n.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class wL extends t_{constructor(e,t,n,r,s,a){super(e,t,n,n,r,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function hE(){let i=0,e=0,t=0,n=0;function r(s,a,A,l){i=s,e=A,t=-3*s+3*a-2*A-l,n=2*s-2*a+A+l}return{initCatmullRom:function(s,a,A,l,c){r(a,A,c*(A-s),c*(l-a))},initNonuniformCatmullRom:function(s,a,A,l,c,h,g){let v=(a-s)/c-(A-s)/(c+h)+(A-a)/h,m=(A-a)/h-(l-a)/(h+g)+(l-A)/g;v*=h,m*=h,r(a,A,v,m)},calc:function(s){const a=s*s,A=a*s;return i+e*s+t*a+n*A}}}const Jy=new Ce,KB=new hE,WB=new hE,qB=new hE;class xL extends Cc{constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new Ce){const n=t,r=this.points,s=r.length,a=(s-(this.closed?0:1))*e;let A=Math.floor(a),l=a-A;this.closed?A+=A>0?0:(Math.floor(Math.abs(A)/s)+1)*s:l===0&&A===s-1&&(A=s-2,l=1);let c,h;this.closed||A>0?c=r[(A-1)%s]:(Jy.subVectors(r[0],r[1]).add(r[0]),c=Jy);const g=r[A%s],v=r[(A+1)%s];if(this.closed||A+2<s?h=r[(A+2)%s]:(Jy.subVectors(r[s-1],r[s-2]).add(r[s-1]),h=Jy),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let x=Math.pow(c.distanceToSquared(g),m),B=Math.pow(g.distanceToSquared(v),m),_=Math.pow(v.distanceToSquared(h),m);B<1e-4&&(B=1),x<1e-4&&(x=B),_<1e-4&&(_=B),KB.initNonuniformCatmullRom(c.x,g.x,v.x,h.x,x,B,_),WB.initNonuniformCatmullRom(c.y,g.y,v.y,h.y,x,B,_),qB.initNonuniformCatmullRom(c.z,g.z,v.z,h.z,x,B,_)}else this.curveType==="catmullrom"&&(KB.initCatmullRom(c.x,g.x,v.x,h.x,this.tension),WB.initCatmullRom(c.y,g.y,v.y,h.y,this.tension),qB.initCatmullRom(c.z,g.z,v.z,h.z,this.tension));return n.set(KB.calc(l),WB.calc(l),qB.calc(l)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new Ce().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Y3(i,e,t,n,r){const s=(n-e)*.5,a=(r-t)*.5,A=i*i,l=i*A;return(2*t-2*n+s+a)*l+(-3*t+3*n-2*s-a)*A+s*i+t}function fP(i,e){const t=1-i;return t*t*e}function hP(i,e){return 2*(1-i)*i*e}function dP(i,e){return i*i*e}function x1(i,e,t,n){return fP(i,e)+hP(i,t)+dP(i,n)}function pP(i,e){const t=1-i;return t*t*t*e}function gP(i,e){const t=1-i;return 3*t*t*i*e}function mP(i,e){return 3*(1-i)*i*i*e}function vP(i,e){return i*i*i*e}function b1(i,e,t,n,r){return pP(i,e)+gP(i,t)+mP(i,n)+vP(i,r)}class dE extends Cc{constructor(e=new Rt,t=new Rt,n=new Rt,r=new Rt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new Rt){const n=t,r=this.v0,s=this.v1,a=this.v2,A=this.v3;return n.set(b1(e,r.x,s.x,a.x,A.x),b1(e,r.y,s.y,a.y,A.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class bL extends Cc{constructor(e=new Ce,t=new Ce,n=new Ce,r=new Ce){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new Ce){const n=t,r=this.v0,s=this.v1,a=this.v2,A=this.v3;return n.set(b1(e,r.x,s.x,a.x,A.x),b1(e,r.y,s.y,a.y,A.y),b1(e,r.z,s.z,a.z,A.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class pE extends Cc{constructor(e=new Rt,t=new Rt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Rt){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Rt){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class _L extends Cc{constructor(e=new Ce,t=new Ce){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new Ce){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Ce){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class gE extends Cc{constructor(e=new Rt,t=new Rt,n=new Rt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Rt){const n=t,r=this.v0,s=this.v1,a=this.v2;return n.set(x1(e,r.x,s.x,a.x),x1(e,r.y,s.y,a.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class mE extends Cc{constructor(e=new Ce,t=new Ce,n=new Ce){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Ce){const n=t,r=this.v0,s=this.v1,a=this.v2;return n.set(x1(e,r.x,s.x,a.x),x1(e,r.y,s.y,a.y),x1(e,r.z,s.z,a.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class vE extends Cc{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Rt){const n=t,r=this.points,s=(r.length-1)*e,a=Math.floor(s),A=s-a,l=r[a===0?a:a-1],c=r[a],h=r[a>r.length-2?r.length-1:a+1],g=r[a>r.length-3?r.length-1:a+2];return n.set(Y3(A,l.x,c.x,h.x,g.x),Y3(A,l.y,c.y,h.y,g.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new Rt().fromArray(r))}return this}}var ib=Object.freeze({__proto__:null,ArcCurve:wL,CatmullRomCurve3:xL,CubicBezierCurve:dE,CubicBezierCurve3:bL,EllipseCurve:t_,LineCurve:pE,LineCurve3:_L,QuadraticBezierCurve:gE,QuadraticBezierCurve3:mE,SplineCurve:vE});class BL extends Cc{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new ib[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=n){const a=r[s]-n,A=this.curves[s],l=A.getLength(),c=l===0?0:1-a/l;return A.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let r=0,s=this.curves;r<s.length;r++){const a=s[r],A=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(A);for(let c=0;c<l.length;c++){const h=l[c];n&&n.equals(h)||(t.push(h),n=h)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(new ib[r.type]().fromJSON(r))}return this}}class rb extends BL{constructor(e){super(),this.type="Path",this.currentPoint=new Rt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new pE(this.currentPoint.clone(),new Rt(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const s=new gE(this.currentPoint.clone(),new Rt(e,t),new Rt(n,r));return this.curves.push(s),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,s,a){const A=new dE(this.currentPoint.clone(),new Rt(e,t),new Rt(n,r),new Rt(s,a));return this.curves.push(A),this.currentPoint.set(s,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new vE(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,s,a){const A=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+A,t+l,n,r,s,a),this}absarc(e,t,n,r,s,a){return this.absellipse(e,t,n,n,r,s,a),this}ellipse(e,t,n,r,s,a,A,l){const c=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(e+c,t+h,n,r,s,a,A,l),this}absellipse(e,t,n,r,s,a,A,l){const c=new t_(e,t,n,r,s,a,A,l);if(this.curves.length>0){const g=c.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(c);const h=c.getPoint(1);return this.currentPoint.copy(h),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Lp extends rb{constructor(e){super(e),this.uuid=lu(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(new rb().fromJSON(r))}return this}}function yP(i,e,t=2){const n=e&&e.length,r=n?e[0]*t:i.length;let s=SL(i,0,r,t,!0);const a=[];if(!s||s.next===s.prev)return a;let A,l,c;if(n&&(s=BP(i,e,s,t)),i.length>80*t){A=i[0],l=i[1];let h=A,g=l;for(let v=t;v<r;v+=t){const m=i[v],x=i[v+1];m<A&&(A=m),x<l&&(l=x),m>h&&(h=m),x>g&&(g=x)}c=Math.max(h-A,g-l),c=c!==0?32767/c:0}return K1(s,a,t,A,l,c,0),a}function SL(i,e,t,n,r){let s;if(r===NP(i,e,t,n)>0)for(let a=e;a<t;a+=n)s=J3(a/n|0,i[a],i[a+1],s);else for(let a=t-n;a>=e;a-=n)s=J3(a/n|0,i[a],i[a+1],s);return s&&km(s,s.next)&&(q1(s),s=s.next),s}function zp(i,e){if(!i)return i;e||(e=i);let t=i,n;do if(n=!1,!t.steiner&&(km(t,t.next)||Xs(t.prev,t,t.next)===0)){if(q1(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function K1(i,e,t,n,r,s,a){if(!i)return;!a&&s&&UP(i,n,r,s);let A=i;for(;i.prev!==i.next;){const l=i.prev,c=i.next;if(s?xP(i,n,r,s):wP(i)){e.push(l.i,i.i,c.i),q1(i),i=c.next,A=c.next;continue}if(i=c,i===A){a?a===1?(i=bP(zp(i),e),K1(i,e,t,n,r,s,2)):a===2&&_P(i,e,t,n,r,s):K1(zp(i),e,t,n,r,s,1);break}}}function wP(i){const e=i.prev,t=i,n=i.next;if(Xs(e,t,n)>=0)return!1;const r=e.x,s=t.x,a=n.x,A=e.y,l=t.y,c=n.y,h=Math.min(r,s,a),g=Math.min(A,l,c),v=Math.max(r,s,a),m=Math.max(A,l,c);let x=n.next;for(;x!==e;){if(x.x>=h&&x.x<=v&&x.y>=g&&x.y<=m&&i1(r,A,s,l,a,c,x.x,x.y)&&Xs(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function xP(i,e,t,n){const r=i.prev,s=i,a=i.next;if(Xs(r,s,a)>=0)return!1;const A=r.x,l=s.x,c=a.x,h=r.y,g=s.y,v=a.y,m=Math.min(A,l,c),x=Math.min(h,g,v),B=Math.max(A,l,c),_=Math.max(h,g,v),b=L2(m,x,e,t,n),M=L2(B,_,e,t,n);let T=i.prevZ,U=i.nextZ;for(;T&&T.z>=b&&U&&U.z<=M;){if(T.x>=m&&T.x<=B&&T.y>=x&&T.y<=_&&T!==r&&T!==a&&i1(A,h,l,g,c,v,T.x,T.y)&&Xs(T.prev,T,T.next)>=0||(T=T.prevZ,U.x>=m&&U.x<=B&&U.y>=x&&U.y<=_&&U!==r&&U!==a&&i1(A,h,l,g,c,v,U.x,U.y)&&Xs(U.prev,U,U.next)>=0))return!1;U=U.nextZ}for(;T&&T.z>=b;){if(T.x>=m&&T.x<=B&&T.y>=x&&T.y<=_&&T!==r&&T!==a&&i1(A,h,l,g,c,v,T.x,T.y)&&Xs(T.prev,T,T.next)>=0)return!1;T=T.prevZ}for(;U&&U.z<=M;){if(U.x>=m&&U.x<=B&&U.y>=x&&U.y<=_&&U!==r&&U!==a&&i1(A,h,l,g,c,v,U.x,U.y)&&Xs(U.prev,U,U.next)>=0)return!1;U=U.nextZ}return!0}function bP(i,e){let t=i;do{const n=t.prev,r=t.next.next;!km(n,r)&&EL(n,t,t.next,r)&&W1(n,r)&&W1(r,n)&&(e.push(n.i,t.i,r.i),q1(t),q1(t.next),t=i=r),t=t.next}while(t!==i);return zp(t)}function _P(i,e,t,n,r,s){let a=i;do{let A=a.next.next;for(;A!==a.prev;){if(a.i!==A.i&&LP(a,A)){let l=ML(a,A);a=zp(a,a.next),l=zp(l,l.next),K1(a,e,t,n,r,s,0),K1(l,e,t,n,r,s,0);return}A=A.next}a=a.next}while(a!==i)}function BP(i,e,t,n){const r=[];for(let s=0,a=e.length;s<a;s++){const A=e[s]*n,l=s<a-1?e[s+1]*n:i.length,c=SL(i,A,l,n,!1);c===c.next&&(c.steiner=!0),r.push(FP(c))}r.sort(SP);for(let s=0;s<r.length;s++)t=CP(r[s],t);return t}function SP(i,e){let t=i.x-e.x;if(t===0&&(t=i.y-e.y,t===0)){const n=(i.next.y-i.y)/(i.next.x-i.x),r=(e.next.y-e.y)/(e.next.x-e.x);t=n-r}return t}function CP(i,e){const t=EP(i,e);if(!t)return e;const n=ML(t,i);return zp(n,n.next),zp(t,t.next)}function EP(i,e){let t=e;const n=i.x,r=i.y;let s=-1/0,a;if(km(i,t))return t;do{if(km(i,t.next))return t.next;if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const g=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(g<=n&&g>s&&(s=g,a=t.x<t.next.x?t:t.next,g===n))return a}t=t.next}while(t!==e);if(!a)return null;const A=a,l=a.x,c=a.y;let h=1/0;t=a;do{if(n>=t.x&&t.x>=l&&n!==t.x&&CL(r<c?n:s,r,l,c,r<c?s:n,r,t.x,t.y)){const g=Math.abs(r-t.y)/(n-t.x);W1(t,i)&&(g<h||g===h&&(t.x>a.x||t.x===a.x&&MP(a,t)))&&(a=t,h=g)}t=t.next}while(t!==A);return a}function MP(i,e){return Xs(i.prev,i,e.prev)<0&&Xs(e.next,i,i.next)<0}function UP(i,e,t,n){let r=i;do r.z===0&&(r.z=L2(r.x,r.y,e,t,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==i);r.prevZ.nextZ=null,r.prevZ=null,TP(r)}function TP(i){let e,t=1;do{let n=i,r;i=null;let s=null;for(e=0;n;){e++;let a=n,A=0;for(let c=0;c<t&&(A++,a=a.nextZ,!!a);c++);let l=t;for(;A>0||l>0&&a;)A!==0&&(l===0||!a||n.z<=a.z)?(r=n,n=n.nextZ,A--):(r=a,a=a.nextZ,l--),s?s.nextZ=r:i=r,r.prevZ=s,s=r;n=a}s.nextZ=null,t*=2}while(e>1);return i}function L2(i,e,t,n,r){return i=(i-t)*r|0,e=(e-n)*r|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,i|e<<1}function FP(i){let e=i,t=i;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==i);return t}function CL(i,e,t,n,r,s,a,A){return(r-a)*(e-A)>=(i-a)*(s-A)&&(i-a)*(n-A)>=(t-a)*(e-A)&&(t-a)*(s-A)>=(r-a)*(n-A)}function i1(i,e,t,n,r,s,a,A){return!(i===a&&e===A)&&CL(i,e,t,n,r,s,a,A)}function LP(i,e){return i.next.i!==e.i&&i.prev.i!==e.i&&!IP(i,e)&&(W1(i,e)&&W1(e,i)&&RP(i,e)&&(Xs(i.prev,i,e.prev)||Xs(i,e.prev,e))||km(i,e)&&Xs(i.prev,i,i.next)>0&&Xs(e.prev,e,e.next)>0)}function Xs(i,e,t){return(e.y-i.y)*(t.x-e.x)-(e.x-i.x)*(t.y-e.y)}function km(i,e){return i.x===e.x&&i.y===e.y}function EL(i,e,t,n){const r=$y(Xs(i,e,t)),s=$y(Xs(i,e,n)),a=$y(Xs(t,n,i)),A=$y(Xs(t,n,e));return!!(r!==s&&a!==A||r===0&&Zy(i,t,e)||s===0&&Zy(i,n,e)||a===0&&Zy(t,i,n)||A===0&&Zy(t,e,n))}function Zy(i,e,t){return e.x<=Math.max(i.x,t.x)&&e.x>=Math.min(i.x,t.x)&&e.y<=Math.max(i.y,t.y)&&e.y>=Math.min(i.y,t.y)}function $y(i){return i>0?1:i<0?-1:0}function IP(i,e){let t=i;do{if(t.i!==i.i&&t.next.i!==i.i&&t.i!==e.i&&t.next.i!==e.i&&EL(t,t.next,i,e))return!0;t=t.next}while(t!==i);return!1}function W1(i,e){return Xs(i.prev,i,i.next)<0?Xs(i,e,i.next)>=0&&Xs(i,i.prev,e)>=0:Xs(i,e,i.prev)<0||Xs(i,i.next,e)<0}function RP(i,e){let t=i,n=!1;const r=(i.x+e.x)/2,s=(i.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==i);return n}function ML(i,e){const t=I2(i.i,i.x,i.y),n=I2(e.i,e.x,e.y),r=i.next,s=e.prev;return i.next=e,e.prev=i,t.next=r,r.prev=t,n.next=t,t.prev=n,s.next=n,n.prev=s,n}function J3(i,e,t,n){const r=I2(i,e,t);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function q1(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function I2(i,e,t){return{i,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function NP(i,e,t,n){let r=0;for(let s=e,a=t-n;s<t;s+=n)r+=(i[a]-i[s])*(i[s+1]+i[a+1]),a=s;return r}class DP{static triangulate(e,t,n=2){return yP(e,t,n)}}class wc{static area(e){const t=e.length;let n=0;for(let r=t-1,s=0;s<t;r=s++)n+=e[r].x*e[s].y-e[s].x*e[r].y;return n*.5}static isClockWise(e){return wc.area(e)<0}static triangulateShape(e,t){const n=[],r=[],s=[];Z3(e),$3(n,e);let a=e.length;t.forEach(Z3);for(let l=0;l<t.length;l++)r.push(a),a+=t[l].length,$3(n,t[l]);const A=DP.triangulate(n,r);for(let l=0;l<A.length;l+=3)s.push(A.slice(l,l+3));return s}}function Z3(i){const e=i.length;e>2&&i[e-1].equals(i[0])&&i.pop()}function $3(i,e){for(let t=0;t<e.length;t++)i.push(e[t].x),i.push(e[t].y)}class n_ extends ui{constructor(e=new Lp([new Rt(.5,.5),new Rt(-.5,.5),new Rt(-.5,-.5),new Rt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],s=[];for(let A=0,l=e.length;A<l;A++){const c=e[A];a(c)}this.setAttribute("position",new wn(r,3)),this.setAttribute("uv",new wn(s,2)),this.computeVertexNormals();function a(A){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,h=t.steps!==void 0?t.steps:1,g=t.depth!==void 0?t.depth:1;let v=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,x=t.bevelSize!==void 0?t.bevelSize:m-.1,B=t.bevelOffset!==void 0?t.bevelOffset:0,_=t.bevelSegments!==void 0?t.bevelSegments:3;const b=t.extrudePath,M=t.UVGenerator!==void 0?t.UVGenerator:OP;let T,U=!1,R,O,z,V;if(b){T=b.getSpacedPoints(h),U=!0,v=!1;const De=b.isCatmullRomCurve3?b.closed:!1;R=b.computeFrenetFrames(h,De),O=new Ce,z=new Ce,V=new Ce}v||(_=0,m=0,x=0,B=0);const I=A.extractPoints(c);let P=I.shape;const k=I.holes;if(!wc.isClockWise(P)){P=P.reverse();for(let De=0,re=k.length;De<re;De++){const Le=k[De];wc.isClockWise(Le)&&(k[De]=Le.reverse())}}function q(De){const Le=10000000000000001e-36;let rt=De[0];for(let ce=1;ce<=De.length;ce++){const He=ce%De.length,Xe=De[He],Oe=Xe.x-rt.x,Ye=Xe.y-rt.y,Ae=Oe*Oe+Ye*Ye,$=Math.max(Math.abs(Xe.x),Math.abs(Xe.y),Math.abs(rt.x),Math.abs(rt.y)),Se=Le*$*$;if(Ae<=Se){De.splice(He,1),ce--;continue}rt=Xe}}q(P),k.forEach(q);const H=k.length,ae=P;for(let De=0;De<H;De++){const re=k[De];P=P.concat(re)}function Z(De,re,Le){return re||Fn("ExtrudeGeometry: vec does not exist"),De.clone().addScaledVector(re,Le)}const ne=P.length;function oe(De,re,Le){let rt,ce,He;const Xe=De.x-re.x,Oe=De.y-re.y,Ye=Le.x-De.x,Ae=Le.y-De.y,$=Xe*Xe+Oe*Oe,Se=Xe*Ae-Oe*Ye;if(Math.abs(Se)>Number.EPSILON){const Ge=Math.sqrt($),Ve=Math.sqrt(Ye*Ye+Ae*Ae),Re=re.x-Oe/Ge,$e=re.y+Xe/Ge,At=Le.x-Ae/Ve,wt=Le.y+Ye/Ve,zt=((At-Re)*Ae-(wt-$e)*Ye)/(Xe*Ae-Oe*Ye);rt=Re+Xe*zt-De.x,ce=$e+Oe*zt-De.y;const at=rt*rt+ce*ce;if(at<=2)return new Rt(rt,ce);He=Math.sqrt(at/2)}else{let Ge=!1;Xe>Number.EPSILON?Ye>Number.EPSILON&&(Ge=!0):Xe<-Number.EPSILON?Ye<-Number.EPSILON&&(Ge=!0):Math.sign(Oe)===Math.sign(Ae)&&(Ge=!0),Ge?(rt=-Oe,ce=Xe,He=Math.sqrt($)):(rt=Xe,ce=Oe,He=Math.sqrt($/2))}return new Rt(rt/He,ce/He)}const fe=[];for(let De=0,re=ae.length,Le=re-1,rt=De+1;De<re;De++,Le++,rt++)Le===re&&(Le=0),rt===re&&(rt=0),fe[De]=oe(ae[De],ae[Le],ae[rt]);const me=[];let W,Q=fe.concat();for(let De=0,re=H;De<re;De++){const Le=k[De];W=[];for(let rt=0,ce=Le.length,He=ce-1,Xe=rt+1;rt<ce;rt++,He++,Xe++)He===ce&&(He=0),Xe===ce&&(Xe=0),W[rt]=oe(Le[rt],Le[He],Le[Xe]);me.push(W),Q=Q.concat(W)}let X;if(_===0)X=wc.triangulateShape(ae,k);else{const De=[],re=[];for(let Le=0;Le<_;Le++){const rt=Le/_,ce=m*Math.cos(rt*Math.PI/2),He=x*Math.sin(rt*Math.PI/2)+B;for(let Xe=0,Oe=ae.length;Xe<Oe;Xe++){const Ye=Z(ae[Xe],fe[Xe],He);xe(Ye.x,Ye.y,-ce),rt===0&&De.push(Ye)}for(let Xe=0,Oe=H;Xe<Oe;Xe++){const Ye=k[Xe];W=me[Xe];const Ae=[];for(let $=0,Se=Ye.length;$<Se;$++){const Ge=Z(Ye[$],W[$],He);xe(Ge.x,Ge.y,-ce),rt===0&&Ae.push(Ge)}rt===0&&re.push(Ae)}}X=wc.triangulateShape(De,re)}const Y=X.length,ie=x+B;for(let De=0;De<ne;De++){const re=v?Z(P[De],Q[De],ie):P[De];U?(z.copy(R.normals[0]).multiplyScalar(re.x),O.copy(R.binormals[0]).multiplyScalar(re.y),V.copy(T[0]).add(z).add(O),xe(V.x,V.y,V.z)):xe(re.x,re.y,0)}for(let De=1;De<=h;De++)for(let re=0;re<ne;re++){const Le=v?Z(P[re],Q[re],ie):P[re];U?(z.copy(R.normals[De]).multiplyScalar(Le.x),O.copy(R.binormals[De]).multiplyScalar(Le.y),V.copy(T[De]).add(z).add(O),xe(V.x,V.y,V.z)):xe(Le.x,Le.y,g/h*De)}for(let De=_-1;De>=0;De--){const re=De/_,Le=m*Math.cos(re*Math.PI/2),rt=x*Math.sin(re*Math.PI/2)+B;for(let ce=0,He=ae.length;ce<He;ce++){const Xe=Z(ae[ce],fe[ce],rt);xe(Xe.x,Xe.y,g+Le)}for(let ce=0,He=k.length;ce<He;ce++){const Xe=k[ce];W=me[ce];for(let Oe=0,Ye=Xe.length;Oe<Ye;Oe++){const Ae=Z(Xe[Oe],W[Oe],rt);U?xe(Ae.x,Ae.y+T[h-1].y,T[h-1].x+Le):xe(Ae.x,Ae.y,g+Le)}}}te(),se();function te(){const De=r.length/3;if(v){let re=0,Le=ne*re;for(let rt=0;rt<Y;rt++){const ce=X[rt];Fe(ce[2]+Le,ce[1]+Le,ce[0]+Le)}re=h+_*2,Le=ne*re;for(let rt=0;rt<Y;rt++){const ce=X[rt];Fe(ce[0]+Le,ce[1]+Le,ce[2]+Le)}}else{for(let re=0;re<Y;re++){const Le=X[re];Fe(Le[2],Le[1],Le[0])}for(let re=0;re<Y;re++){const Le=X[re];Fe(Le[0]+ne*h,Le[1]+ne*h,Le[2]+ne*h)}}n.addGroup(De,r.length/3-De,0)}function se(){const De=r.length/3;let re=0;ye(ae,re),re+=ae.length;for(let Le=0,rt=k.length;Le<rt;Le++){const ce=k[Le];ye(ce,re),re+=ce.length}n.addGroup(De,r.length/3-De,1)}function ye(De,re){let Le=De.length;for(;--Le>=0;){const rt=Le;let ce=Le-1;ce<0&&(ce=De.length-1);for(let He=0,Xe=h+_*2;He<Xe;He++){const Oe=ne*He,Ye=ne*(He+1),Ae=re+rt+Oe,$=re+ce+Oe,Se=re+ce+Ye,Ge=re+rt+Ye;Ne(Ae,$,Se,Ge)}}}function xe(De,re,Le){l.push(De),l.push(re),l.push(Le)}function Fe(De,re,Le){ze(De),ze(re),ze(Le);const rt=r.length/3,ce=M.generateTopUV(n,r,rt-3,rt-2,rt-1);it(ce[0]),it(ce[1]),it(ce[2])}function Ne(De,re,Le,rt){ze(De),ze(re),ze(rt),ze(re),ze(Le),ze(rt);const ce=r.length/3,He=M.generateSideWallUV(n,r,ce-6,ce-3,ce-2,ce-1);it(He[0]),it(He[1]),it(He[3]),it(He[1]),it(He[2]),it(He[3])}function ze(De){r.push(l[De*3+0]),r.push(l[De*3+1]),r.push(l[De*3+2])}function it(De){s.push(De.x),s.push(De.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return PP(t,n,e)}static fromJSON(e,t){const n=[];for(let s=0,a=e.shapes.length;s<a;s++){const A=t[e.shapes[s]];n.push(A)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new ib[r.type]().fromJSON(r)),new n_(n,e.options)}}const OP={generateTopUV:function(i,e,t,n,r){const s=e[t*3],a=e[t*3+1],A=e[n*3],l=e[n*3+1],c=e[r*3],h=e[r*3+1];return[new Rt(s,a),new Rt(A,l),new Rt(c,h)]},generateSideWallUV:function(i,e,t,n,r,s){const a=e[t*3],A=e[t*3+1],l=e[t*3+2],c=e[n*3],h=e[n*3+1],g=e[n*3+2],v=e[r*3],m=e[r*3+1],x=e[r*3+2],B=e[s*3],_=e[s*3+1],b=e[s*3+2];return Math.abs(A-h)<Math.abs(a-c)?[new Rt(a,1-l),new Rt(c,1-g),new Rt(v,1-x),new Rt(B,1-b)]:[new Rt(A,1-l),new Rt(h,1-g),new Rt(m,1-x),new Rt(_,1-b)]}};function PP(i,e,t){if(t.shapes=[],Array.isArray(i))for(let n=0,r=i.length;n<r;n++){const s=i[n];t.shapes.push(s.uuid)}else t.shapes.push(i.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class i_ extends Cd{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new i_(e.radius,e.detail)}}class r_ extends ui{constructor(e=[new Rt(0,-.5),new Rt(.5,0),new Rt(0,.5)],t=12,n=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=Kn(r,0,Math.PI*2);const s=[],a=[],A=[],l=[],c=[],h=1/t,g=new Ce,v=new Rt,m=new Ce,x=new Ce,B=new Ce;let _=0,b=0;for(let M=0;M<=e.length-1;M++)switch(M){case 0:_=e[M+1].x-e[M].x,b=e[M+1].y-e[M].y,m.x=b*1,m.y=-_,m.z=b*0,B.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(B.x,B.y,B.z);break;default:_=e[M+1].x-e[M].x,b=e[M+1].y-e[M].y,m.x=b*1,m.y=-_,m.z=b*0,x.copy(m),m.x+=B.x,m.y+=B.y,m.z+=B.z,m.normalize(),l.push(m.x,m.y,m.z),B.copy(x)}for(let M=0;M<=t;M++){const T=n+M*h*r,U=Math.sin(T),R=Math.cos(T);for(let O=0;O<=e.length-1;O++){g.x=e[O].x*U,g.y=e[O].y,g.z=e[O].x*R,a.push(g.x,g.y,g.z),v.x=M/t,v.y=O/(e.length-1),A.push(v.x,v.y);const z=l[3*O+0]*U,V=l[3*O+1],I=l[3*O+0]*R;c.push(z,V,I)}}for(let M=0;M<t;M++)for(let T=0;T<e.length-1;T++){const U=T+M*e.length,R=U,O=U+e.length,z=U+e.length+1,V=U+1;s.push(R,O,V),s.push(z,V,O)}this.setIndex(s),this.setAttribute("position",new wn(a,3)),this.setAttribute("uv",new wn(A,2)),this.setAttribute("normal",new wn(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new r_(e.points,e.segments,e.phiStart,e.phiLength)}}class mv extends Cd{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new mv(e.radius,e.detail)}}class Bf extends ui{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const s=e/2,a=t/2,A=Math.floor(n),l=Math.floor(r),c=A+1,h=l+1,g=e/A,v=t/l,m=[],x=[],B=[],_=[];for(let b=0;b<h;b++){const M=b*v-a;for(let T=0;T<c;T++){const U=T*g-s;x.push(U,-M,0),B.push(0,0,1),_.push(T/A),_.push(1-b/l)}}for(let b=0;b<l;b++)for(let M=0;M<A;M++){const T=M+c*b,U=M+c*(b+1),R=M+1+c*(b+1),O=M+1+c*b;m.push(T,U,O),m.push(U,R,O)}this.setIndex(m),this.setAttribute("position",new wn(x,3)),this.setAttribute("normal",new wn(B,3)),this.setAttribute("uv",new wn(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Bf(e.width,e.height,e.widthSegments,e.heightSegments)}}class s_ extends ui{constructor(e=.5,t=1,n=32,r=1,s=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:s,thetaLength:a},n=Math.max(3,n),r=Math.max(1,r);const A=[],l=[],c=[],h=[];let g=e;const v=(t-e)/r,m=new Ce,x=new Rt;for(let B=0;B<=r;B++){for(let _=0;_<=n;_++){const b=s+_/n*a;m.x=g*Math.cos(b),m.y=g*Math.sin(b),l.push(m.x,m.y,m.z),c.push(0,0,1),x.x=(m.x/t+1)/2,x.y=(m.y/t+1)/2,h.push(x.x,x.y)}g+=v}for(let B=0;B<r;B++){const _=B*(n+1);for(let b=0;b<n;b++){const M=b+_,T=M,U=M+n+1,R=M+n+2,O=M+1;A.push(T,U,O),A.push(U,R,O)}}this.setIndex(A),this.setAttribute("position",new wn(l,3)),this.setAttribute("normal",new wn(c,3)),this.setAttribute("uv",new wn(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new s_(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class a_ extends ui{constructor(e=new Lp([new Rt(0,.5),new Rt(-.5,-.5),new Rt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],s=[],a=[];let A=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let h=0;h<e.length;h++)c(e[h]),this.addGroup(A,l,h),A+=l,l=0;this.setIndex(n),this.setAttribute("position",new wn(r,3)),this.setAttribute("normal",new wn(s,3)),this.setAttribute("uv",new wn(a,2));function c(h){const g=r.length/3,v=h.extractPoints(t);let m=v.shape;const x=v.holes;wc.isClockWise(m)===!1&&(m=m.reverse());for(let _=0,b=x.length;_<b;_++){const M=x[_];wc.isClockWise(M)===!0&&(x[_]=M.reverse())}const B=wc.triangulateShape(m,x);for(let _=0,b=x.length;_<b;_++){const M=x[_];m=m.concat(M)}for(let _=0,b=m.length;_<b;_++){const M=m[_];r.push(M.x,M.y,0),s.push(0,0,1),a.push(M.x,M.y)}for(let _=0,b=B.length;_<b;_++){const M=B[_],T=M[0]+g,U=M[1]+g,R=M[2]+g;n.push(T,U,R),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return QP(t,e)}static fromJSON(e,t){const n=[];for(let r=0,s=e.shapes.length;r<s;r++){const a=t[e.shapes[r]];n.push(a)}return new a_(n,e.curveSegments)}}function QP(i,e){if(e.shapes=[],Array.isArray(i))for(let t=0,n=i.length;t<n;t++){const r=i[t];e.shapes.push(r.uuid)}else e.shapes.push(i.uuid);return e}class vv extends ui{constructor(e=1,t=32,n=16,r=0,s=Math.PI*2,a=0,A=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:s,thetaStart:a,thetaLength:A},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const l=Math.min(a+A,Math.PI);let c=0;const h=[],g=new Ce,v=new Ce,m=[],x=[],B=[],_=[];for(let b=0;b<=n;b++){const M=[],T=b/n;let U=0;b===0&&a===0?U=.5/t:b===n&&l===Math.PI&&(U=-.5/t);for(let R=0;R<=t;R++){const O=R/t;g.x=-e*Math.cos(r+O*s)*Math.sin(a+T*A),g.y=e*Math.cos(a+T*A),g.z=e*Math.sin(r+O*s)*Math.sin(a+T*A),x.push(g.x,g.y,g.z),v.copy(g).normalize(),B.push(v.x,v.y,v.z),_.push(O+U,1-T),M.push(c++)}h.push(M)}for(let b=0;b<n;b++)for(let M=0;M<t;M++){const T=h[b][M+1],U=h[b][M],R=h[b+1][M],O=h[b+1][M+1];(b!==0||a>0)&&m.push(T,U,O),(b!==n-1||l<Math.PI)&&m.push(U,R,O)}this.setIndex(m),this.setAttribute("position",new wn(x,3)),this.setAttribute("normal",new wn(B,3)),this.setAttribute("uv",new wn(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vv(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class o_ extends Cd{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new o_(e.radius,e.detail)}}class A_ extends ui{constructor(e=1,t=.4,n=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:s},n=Math.floor(n),r=Math.floor(r);const a=[],A=[],l=[],c=[],h=new Ce,g=new Ce,v=new Ce;for(let m=0;m<=n;m++)for(let x=0;x<=r;x++){const B=x/r*s,_=m/n*Math.PI*2;g.x=(e+t*Math.cos(_))*Math.cos(B),g.y=(e+t*Math.cos(_))*Math.sin(B),g.z=t*Math.sin(_),A.push(g.x,g.y,g.z),h.x=e*Math.cos(B),h.y=e*Math.sin(B),v.subVectors(g,h).normalize(),l.push(v.x,v.y,v.z),c.push(x/r),c.push(m/n)}for(let m=1;m<=n;m++)for(let x=1;x<=r;x++){const B=(r+1)*m+x-1,_=(r+1)*(m-1)+x-1,b=(r+1)*(m-1)+x,M=(r+1)*m+x;a.push(B,_,M),a.push(_,b,M)}this.setIndex(a),this.setAttribute("position",new wn(A,3)),this.setAttribute("normal",new wn(l,3)),this.setAttribute("uv",new wn(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new A_(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class l_ extends ui{constructor(e=1,t=.4,n=64,r=8,s=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:s,q:a},n=Math.floor(n),r=Math.floor(r);const A=[],l=[],c=[],h=[],g=new Ce,v=new Ce,m=new Ce,x=new Ce,B=new Ce,_=new Ce,b=new Ce;for(let T=0;T<=n;++T){const U=T/n*s*Math.PI*2;M(U,s,a,e,m),M(U+.01,s,a,e,x),_.subVectors(x,m),b.addVectors(x,m),B.crossVectors(_,b),b.crossVectors(B,_),B.normalize(),b.normalize();for(let R=0;R<=r;++R){const O=R/r*Math.PI*2,z=-t*Math.cos(O),V=t*Math.sin(O);g.x=m.x+(z*b.x+V*B.x),g.y=m.y+(z*b.y+V*B.y),g.z=m.z+(z*b.z+V*B.z),l.push(g.x,g.y,g.z),v.subVectors(g,m).normalize(),c.push(v.x,v.y,v.z),h.push(T/n),h.push(R/r)}}for(let T=1;T<=n;T++)for(let U=1;U<=r;U++){const R=(r+1)*(T-1)+(U-1),O=(r+1)*T+(U-1),z=(r+1)*T+U,V=(r+1)*(T-1)+U;A.push(R,O,V),A.push(O,z,V)}this.setIndex(A),this.setAttribute("position",new wn(l,3)),this.setAttribute("normal",new wn(c,3)),this.setAttribute("uv",new wn(h,2));function M(T,U,R,O,z){const V=Math.cos(T),I=Math.sin(T),P=R/U*T,k=Math.cos(P);z.x=O*(2+k)*.5*V,z.y=O*(2+k)*I*.5,z.z=O*Math.sin(P)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new l_(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class u_ extends ui{constructor(e=new mE(new Ce(-1,-1,0),new Ce(-1,1,0),new Ce(1,1,0)),t=64,n=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:s};const a=e.computeFrenetFrames(t,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const A=new Ce,l=new Ce,c=new Rt;let h=new Ce;const g=[],v=[],m=[],x=[];B(),this.setIndex(x),this.setAttribute("position",new wn(g,3)),this.setAttribute("normal",new wn(v,3)),this.setAttribute("uv",new wn(m,2));function B(){for(let T=0;T<t;T++)_(T);_(s===!1?t:0),M(),b()}function _(T){h=e.getPointAt(T/t,h);const U=a.normals[T],R=a.binormals[T];for(let O=0;O<=r;O++){const z=O/r*Math.PI*2,V=Math.sin(z),I=-Math.cos(z);l.x=I*U.x+V*R.x,l.y=I*U.y+V*R.y,l.z=I*U.z+V*R.z,l.normalize(),v.push(l.x,l.y,l.z),A.x=h.x+n*l.x,A.y=h.y+n*l.y,A.z=h.z+n*l.z,g.push(A.x,A.y,A.z)}}function b(){for(let T=1;T<=t;T++)for(let U=1;U<=r;U++){const R=(r+1)*(T-1)+(U-1),O=(r+1)*T+(U-1),z=(r+1)*T+U,V=(r+1)*(T-1)+U;x.push(R,O,V),x.push(O,z,V)}}function M(){for(let T=0;T<=t;T++)for(let U=0;U<=r;U++)c.x=T/t,c.y=U/r,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new u_(new ib[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class yE extends ui{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,r=new Ce,s=new Ce;if(e.index!==null){const a=e.attributes.position,A=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:A.count,materialIndex:0}]);for(let c=0,h=l.length;c<h;++c){const g=l[c],v=g.start,m=g.count;for(let x=v,B=v+m;x<B;x+=3)for(let _=0;_<3;_++){const b=A.getX(x+_),M=A.getX(x+(_+1)%3);r.fromBufferAttribute(a,b),s.fromBufferAttribute(a,M),eM(r,s,n)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const a=e.attributes.position;for(let A=0,l=a.count/3;A<l;A++)for(let c=0;c<3;c++){const h=3*A+c,g=3*A+(c+1)%3;r.fromBufferAttribute(a,h),s.fromBufferAttribute(a,g),eM(r,s,n)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new wn(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function eM(i,e,t){const n=`${i.x},${i.y},${i.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${i.x},${i.y},${i.z}`;return t.has(n)===!0||t.has(r)===!0?!1:(t.add(n),t.add(r),!0)}var tM=Object.freeze({__proto__:null,BoxGeometry:qp,CapsuleGeometry:Zb,CircleGeometry:$b,ConeGeometry:gv,CylinderGeometry:pv,DodecahedronGeometry:e_,EdgesGeometry:fE,ExtrudeGeometry:n_,IcosahedronGeometry:i_,LatheGeometry:r_,OctahedronGeometry:mv,PlaneGeometry:Bf,PolyhedronGeometry:Cd,RingGeometry:s_,ShapeGeometry:a_,SphereGeometry:vv,TetrahedronGeometry:o_,TorusGeometry:A_,TorusKnotGeometry:l_,TubeGeometry:u_,WireframeGeometry:yE});class UL extends xA{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new an(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class wE extends qA{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class xE extends xA{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new an(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new an(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Sd,this.normalScale=new Rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new uu,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class TL extends xE{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Rt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Kn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new an(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new an(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new an(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class FL extends xA{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new an(16777215),this.specular=new an(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new an(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Sd,this.normalScale=new Rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new uu,this.combine=fv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class LL extends xA{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new an(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new an(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Sd,this.normalScale=new Rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class IL extends xA{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Sd,this.normalScale=new Rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class RL extends xA{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new an(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new an(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Sd,this.normalScale=new Rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new uu,this.combine=fv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class yv extends xA{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=XF,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class c_ extends xA{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class NL extends xA{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new an(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Sd,this.normalScale=new Rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class DL extends XA{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Ep(i,e){return!i||i.constructor===e?i:typeof e.BYTES_PER_ELEMENT=="number"?new e(i):Array.prototype.slice.call(i)}function OL(i){function e(r,s){return i[r]-i[s]}const t=i.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort(e),n}function R2(i,e,t){const n=i.length,r=new i.constructor(n);for(let s=0,a=0;a!==n;++s){const A=t[s]*e;for(let l=0;l!==e;++l)r[a++]=i[A+l]}return r}function bE(i,e,t,n){let r=1,s=i[0];for(;s!==void 0&&s[n]===void 0;)s=i[r++];if(s===void 0)return;let a=s[n];if(a!==void 0)if(Array.isArray(a))do a=s[n],a!==void 0&&(e.push(s.time),t.push(...a)),s=i[r++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[n],a!==void 0&&(e.push(s.time),a.toArray(t,t.length)),s=i[r++];while(s!==void 0);else do a=s[n],a!==void 0&&(e.push(s.time),t.push(a)),s=i[r++];while(s!==void 0)}function HP(i,e,t,n,r=30){const s=i.clone();s.name=e;const a=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],h=c.getValueSize(),g=[],v=[];for(let m=0;m<c.times.length;++m){const x=c.times[m]*r;if(!(x<t||x>=n)){g.push(c.times[m]);for(let B=0;B<h;++B)v.push(c.values[m*h+B])}}g.length!==0&&(c.times=Ep(g,c.times.constructor),c.values=Ep(v,c.values.constructor),a.push(c))}s.tracks=a;let A=1/0;for(let l=0;l<s.tracks.length;++l)A>s.tracks[l].times[0]&&(A=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*A);return s.resetDuration(),s}function kP(i,e=0,t=i,n=30){n<=0&&(n=30);const r=t.tracks.length,s=e/n;for(let a=0;a<r;++a){const A=t.tracks[a],l=A.ValueTypeName;if(l==="bool"||l==="string")continue;const c=i.tracks.find(function(b){return b.name===A.name&&b.ValueTypeName===l});if(c===void 0)continue;let h=0;const g=A.getValueSize();A.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=g/3);let v=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(v=m/3);const x=A.times.length-1;let B;if(s<=A.times[0]){const b=h,M=g-h;B=A.values.slice(b,M)}else if(s>=A.times[x]){const b=x*g+h,M=b+g-h;B=A.values.slice(b,M)}else{const b=A.createInterpolant(),M=h,T=g-h;b.evaluate(s),B=b.resultBuffer.slice(M,T)}l==="quaternion"&&new Ko().fromArray(B).normalize().conjugate().toArray(B);const _=c.times.length;for(let b=0;b<_;++b){const M=b*m+v;if(l==="quaternion")Ko.multiplyQuaternionsFlat(c.values,M,B,0,c.values,M);else{const T=m-v*2;for(let U=0;U<T;++U)c.values[M+U]-=B[U]}}}return i.blendMode=tE,i}class zP{static convertArray(e,t){return Ep(e,t)}static isTypedArray(e){return sL(e)}static getKeyframeOrder(e){return OL(e)}static sortedArray(e,t,n){return R2(e,t,n)}static flattenJSON(e,t,n,r){bE(e,t,n,r)}static subclip(e,t,n,r,s=30){return HP(e,t,n,r,s)}static makeClipAdditive(e,t=0,n=e,r=30){return kP(e,t,n,r)}}class wv{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],s=t[n-1];e:{t:{let a;n:{r:if(!(e<r)){for(let A=n+2;;){if(r===void 0){if(e<s)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===A)break;if(s=r,r=t[++n],e<r)break t}a=t.length;break n}if(!(e>=s)){const A=t[1];e<A&&(n=2,s=A);for(let l=n-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===l)break;if(r=s,s=t[--n-1],e>=s)break t}a=n,n=0;break n}break e}for(;n<a;){const A=n+a>>>1;e<t[A]?a=A:n=A+1}if(r=t[n],s=t[n-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,s,r)}return this.interpolate_(n,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,s=e*r;for(let a=0;a!==r;++a)t[a]=n[s+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class PL extends wv{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Sp,endingEnd:Sp}}intervalChanged_(e,t,n){const r=this.parameterPositions;let s=e-2,a=e+1,A=r[s],l=r[a];if(A===void 0)switch(this.getSettings_().endingStart){case Cp:s=e,A=2*t-n;break;case Q1:s=r.length-2,A=t+r[s]-r[s+1];break;default:s=e,A=n}if(l===void 0)switch(this.getSettings_().endingEnd){case Cp:a=e,l=2*n-t;break;case Q1:a=1,l=n+r[1]-r[0];break;default:a=e-1,l=t}const c=(n-t)*.5,h=this.valueSize;this._weightPrev=c/(t-A),this._weightNext=c/(l-n),this._offsetPrev=s*h,this._offsetNext=a*h}interpolate_(e,t,n,r){const s=this.resultBuffer,a=this.sampleValues,A=this.valueSize,l=e*A,c=l-A,h=this._offsetPrev,g=this._offsetNext,v=this._weightPrev,m=this._weightNext,x=(n-t)/(r-t),B=x*x,_=B*x,b=-v*_+2*v*B-v*x,M=(1+v)*_+(-1.5-2*v)*B+(-.5+v)*x+1,T=(-1-m)*_+(1.5+m)*B+.5*x,U=m*_-m*B;for(let R=0;R!==A;++R)s[R]=b*a[h+R]+M*a[c+R]+T*a[l+R]+U*a[g+R];return s}}class _E extends wv{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const s=this.resultBuffer,a=this.sampleValues,A=this.valueSize,l=e*A,c=l-A,h=(n-t)/(r-t),g=1-h;for(let v=0;v!==A;++v)s[v]=a[c+v]*g+a[l+v]*h;return s}}class QL extends wv{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ku{constructor(e,t,n,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ep(t,this.TimeBufferType),this.values=Ep(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Ep(e.times,Array),values:Ep(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(n.interpolation=r)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new QL(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new _E(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new PL(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Rm:t=this.InterpolantFactoryMethodDiscrete;break;case P1:t=this.InterpolantFactoryMethodLinear;break;case Jw:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return sn("KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Rm;case this.InterpolantFactoryMethodLinear:return P1;case this.InterpolantFactoryMethodSmooth:return Jw}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let s=0,a=r-1;for(;s!==r&&n[s]<e;)++s;for(;a!==-1&&n[a]>t;)--a;if(++a,s!==0||a!==r){s>=a&&(a=Math.max(a,1),s=a-1);const A=this.getValueSize();this.times=n.slice(s,a),this.values=this.values.slice(s*A,a*A)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(Fn("KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,s=n.length;s===0&&(Fn("KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let A=0;A!==s;A++){const l=n[A];if(typeof l=="number"&&isNaN(l)){Fn("KeyframeTrack: Time is not a valid number.",this,A,l),e=!1;break}if(a!==null&&a>l){Fn("KeyframeTrack: Out of order keys.",this,A,l,a),e=!1;break}a=l}if(r!==void 0&&sL(r))for(let A=0,l=r.length;A!==l;++A){const c=r[A];if(isNaN(c)){Fn("KeyframeTrack: Value is not a valid number.",this,A,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),r=this.getInterpolation()===Jw,s=e.length-1;let a=1;for(let A=1;A<s;++A){let l=!1;const c=e[A],h=e[A+1];if(c!==h&&(A!==1||c!==e[0]))if(r)l=!0;else{const g=A*n,v=g-n,m=g+n;for(let x=0;x!==n;++x){const B=t[g+x];if(B!==t[v+x]||B!==t[m+x]){l=!0;break}}}if(l){if(A!==a){e[a]=e[A];const g=A*n,v=a*n;for(let m=0;m!==n;++m)t[v+m]=t[g+m]}++a}}if(s>0){e[a]=e[s];for(let A=s*n,l=a*n,c=0;c!==n;++c)t[l+c]=t[A+c];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=this.constructor,r=new n(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Ku.prototype.ValueTypeName="";Ku.prototype.TimeBufferType=Float32Array;Ku.prototype.ValueBufferType=Float32Array;Ku.prototype.DefaultInterpolation=P1;class Xp extends Ku{constructor(e,t,n){super(e,t,n)}}Xp.prototype.ValueTypeName="bool";Xp.prototype.ValueBufferType=Array;Xp.prototype.DefaultInterpolation=Rm;Xp.prototype.InterpolantFactoryMethodLinear=void 0;Xp.prototype.InterpolantFactoryMethodSmooth=void 0;class BE extends Ku{constructor(e,t,n,r){super(e,t,n,r)}}BE.prototype.ValueTypeName="color";class X1 extends Ku{constructor(e,t,n,r){super(e,t,n,r)}}X1.prototype.ValueTypeName="number";class HL extends wv{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const s=this.resultBuffer,a=this.sampleValues,A=this.valueSize,l=(n-t)/(r-t);let c=e*A;for(let h=c+A;c!==h;c+=4)Ko.slerpFlat(s,0,a,c-A,a,c,l);return s}}class xv extends Ku{constructor(e,t,n,r){super(e,t,n,r)}InterpolantFactoryMethodLinear(e){return new HL(this.times,this.values,this.getValueSize(),e)}}xv.prototype.ValueTypeName="quaternion";xv.prototype.InterpolantFactoryMethodSmooth=void 0;class Yp extends Ku{constructor(e,t,n){super(e,t,n)}}Yp.prototype.ValueTypeName="string";Yp.prototype.ValueBufferType=Array;Yp.prototype.DefaultInterpolation=Rm;Yp.prototype.InterpolantFactoryMethodLinear=void 0;Yp.prototype.InterpolantFactoryMethodSmooth=void 0;class Y1 extends Ku{constructor(e,t,n,r){super(e,t,n,r)}}Y1.prototype.ValueTypeName="vector";class J1{constructor(e="",t=-1,n=[],r=kb){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=lu(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let a=0,A=n.length;a!==A;++a)t.push(VP(n[a]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s.userData=JSON.parse(e.userData||"{}"),s}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let s=0,a=n.length;s!==a;++s)t.push(Ku.toJSON(n[s]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const s=t.length,a=[];for(let A=0;A<s;A++){let l=[],c=[];l.push((A+s-1)%s,A,(A+1)%s),c.push(0,1,0);const h=OL(l);l=R2(l,1,h),c=R2(c,1,h),!r&&l[0]===0&&(l.push(s),c.push(c[0])),a.push(new X1(".morphTargetInfluences["+t[A].name+"]",l,c).scale(1/n))}return new this(e,-1,a)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const r=e;n=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},s=/^([\w-]*?)([\d]+)$/;for(let A=0,l=e.length;A<l;A++){const c=e[A],h=c.name.match(s);if(h&&h.length>1){const g=h[1];let v=r[g];v||(r[g]=v=[]),v.push(c)}}const a=[];for(const A in r)a.push(this.CreateFromMorphTargetSequence(A,r[A],t,n));return a}static parseAnimation(e,t){if(sn("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return Fn("AnimationClip: No animation in JSONLoader data."),null;const n=function(g,v,m,x,B){if(m.length!==0){const _=[],b=[];bE(m,_,b,x),_.length!==0&&B.push(new g(v,_,b))}},r=[],s=e.name||"default",a=e.fps||30,A=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let g=0;g<c.length;g++){const v=c[g].keys;if(!(!v||v.length===0))if(v[0].morphTargets){const m={};let x;for(x=0;x<v.length;x++)if(v[x].morphTargets)for(let B=0;B<v[x].morphTargets.length;B++)m[v[x].morphTargets[B]]=-1;for(const B in m){const _=[],b=[];for(let M=0;M!==v[x].morphTargets.length;++M){const T=v[x];_.push(T.time),b.push(T.morphTarget===B?1:0)}r.push(new X1(".morphTargetInfluence["+B+"]",_,b))}l=m.length*a}else{const m=".bones["+t[g].name+"]";n(Y1,m+".position",v,"pos",r),n(xv,m+".quaternion",v,"rot",r),n(Y1,m+".scale",v,"scl",r)}}return r.length===0?null:new this(s,l,r,A)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,r=e.length;n!==r;++n){const s=this.tracks[n];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());const t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}}function GP(i){switch(i.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return X1;case"vector":case"vector2":case"vector3":case"vector4":return Y1;case"color":return BE;case"quaternion":return xv;case"bool":case"boolean":return Xp;case"string":return Yp}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+i)}function VP(i){if(i.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=GP(i.type);if(i.times===void 0){const t=[],n=[];bE(i.keys,t,n,"value"),i.times=t,i.values=n}return e.parse!==void 0?e.parse(i):new e(i.name,i.times,i.values,i.interpolation)}const mf={enabled:!1,files:{},add:function(i,e){this.enabled!==!1&&(this.files[i]=e)},get:function(i){if(this.enabled!==!1)return this.files[i]},remove:function(i){delete this.files[i]},clear:function(){this.files={}}};class SE{constructor(e,t,n){const r=this;let s=!1,a=0,A=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this._abortController=null,this.itemStart=function(h){A++,s===!1&&r.onStart!==void 0&&r.onStart(h,a,A),s=!0},this.itemEnd=function(h){a++,r.onProgress!==void 0&&r.onProgress(h,a,A),a===A&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(h){r.onError!==void 0&&r.onError(h)},this.resolveURL=function(h){return l?l(h):h},this.setURLModifier=function(h){return l=h,this},this.addHandler=function(h,g){return c.push(h,g),this},this.removeHandler=function(h){const g=c.indexOf(h);return g!==-1&&c.splice(g,2),this},this.getHandler=function(h){for(let g=0,v=c.length;g<v;g+=2){const m=c[g],x=c[g+1];if(m.global&&(m.lastIndex=0),m.test(h))return x}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const kL=new SE;class Ml{constructor(e){this.manager=e!==void 0?e:kL,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(r,s){n.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}Ml.DEFAULT_MATERIAL_NAME="__DEFAULT";const eh={};class jP extends Error{constructor(e,t){super(e),this.response=t}}class ph extends Ml{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=mf.get(`file:${e}`);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(eh[e]!==void 0){eh[e].push({onLoad:t,onProgress:n,onError:r});return}eh[e]=[],eh[e].push({onLoad:t,onProgress:n,onError:r});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),A=this.mimeType,l=this.responseType;fetch(a).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&sn("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const h=eh[e],g=c.body.getReader(),v=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),m=v?parseInt(v):0,x=m!==0;let B=0;const _=new ReadableStream({start(b){M();function M(){g.read().then(({done:T,value:U})=>{if(T)b.close();else{B+=U.byteLength;const R=new ProgressEvent("progress",{lengthComputable:x,loaded:B,total:m});for(let O=0,z=h.length;O<z;O++){const V=h[O];V.onProgress&&V.onProgress(R)}b.enqueue(U),M()}},T=>{b.error(T)})}}});return new Response(_)}else throw new jP(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(h=>new DOMParser().parseFromString(h,A));case"json":return c.json();default:if(A==="")return c.text();{const g=/charset="?([^;"\s]*)"?/i.exec(A),v=g&&g[1]?g[1].toLowerCase():void 0,m=new TextDecoder(v);return c.arrayBuffer().then(x=>m.decode(x))}}}).then(c=>{mf.add(`file:${e}`,c);const h=eh[e];delete eh[e];for(let g=0,v=h.length;g<v;g++){const m=h[g];m.onLoad&&m.onLoad(c)}}).catch(c=>{const h=eh[e];if(h===void 0)throw this.manager.itemError(e),c;delete eh[e];for(let g=0,v=h.length;g<v;g++){const m=h[g];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class KP extends Ml{constructor(e){super(e)}load(e,t,n,r){const s=this,a=new ph(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(A){try{t(s.parse(JSON.parse(A)))}catch(l){r?r(l):Fn(l),s.manager.itemError(e)}},n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=J1.parse(e[n]);t.push(r)}return t}}class WP extends Ml{constructor(e){super(e)}load(e,t,n,r){const s=this,a=[],A=new Fp,l=new ph(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function h(g){l.load(e[g],function(v){const m=s.parse(v,!0);a[g]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(A.minFilter=Tr),A.image=a,A.format=m.format,A.needsUpdate=!0,t&&t(A))},n,r)}if(Array.isArray(e))for(let g=0,v=e.length;g<v;++g)h(g);else l.load(e,function(g){const v=s.parse(g,!0);if(v.isCubemap){const m=v.mipmaps.length/v.mipmapCount;for(let x=0;x<m;x++){a[x]={mipmaps:[]};for(let B=0;B<v.mipmapCount;B++)a[x].mipmaps.push(v.mipmaps[x*v.mipmapCount+B]),a[x].format=v.format,a[x].width=v.width,a[x].height=v.height}A.image=a}else A.image.width=v.width,A.image.height=v.height,A.mipmaps=v.mipmaps;v.mipmapCount===1&&(A.minFilter=Tr),A.format=v.format,A.needsUpdate=!0,t&&t(A)},n,r);return A}}const Kg=new WeakMap;class Z1 extends Ml{constructor(e){super(e)}load(e,t,n,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=mf.get(`image:${e}`);if(a!==void 0){if(a.complete===!0)s.manager.itemStart(e),setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0);else{let g=Kg.get(a);g===void 0&&(g=[],Kg.set(a,g)),g.push({onLoad:t,onError:r})}return a}const A=z1("img");function l(){h(),t&&t(this);const g=Kg.get(this)||[];for(let v=0;v<g.length;v++){const m=g[v];m.onLoad&&m.onLoad(this)}Kg.delete(this),s.manager.itemEnd(e)}function c(g){h(),r&&r(g),mf.remove(`image:${e}`);const v=Kg.get(this)||[];for(let m=0;m<v.length;m++){const x=v[m];x.onError&&x.onError(g)}Kg.delete(this),s.manager.itemError(e),s.manager.itemEnd(e)}function h(){A.removeEventListener("load",l,!1),A.removeEventListener("error",c,!1)}return A.addEventListener("load",l,!1),A.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(A.crossOrigin=this.crossOrigin),mf.add(`image:${e}`,A),s.manager.itemStart(e),A.src=e,A}}class qP extends Ml{constructor(e){super(e)}load(e,t,n,r){const s=new dv;s.colorSpace=Go;const a=new Z1(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let A=0;function l(c){a.load(e[c],function(h){s.images[c]=h,A++,A===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class XP extends Ml{constructor(e){super(e)}load(e,t,n,r){const s=this,a=new bc,A=new ph(this.manager);return A.setResponseType("arraybuffer"),A.setRequestHeader(this.requestHeader),A.setPath(this.path),A.setWithCredentials(s.withCredentials),A.load(e,function(l){let c;try{c=s.parse(l)}catch(h){if(r!==void 0)r(h);else{h(h);return}}c.image!==void 0?a.image=c.image:c.data!==void 0&&(a.image.width=c.width,a.image.height=c.height,a.image.data=c.data),a.wrapS=c.wrapS!==void 0?c.wrapS:KA,a.wrapT=c.wrapT!==void 0?c.wrapT:KA,a.magFilter=c.magFilter!==void 0?c.magFilter:Tr,a.minFilter=c.minFilter!==void 0?c.minFilter:Tr,a.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(a.colorSpace=c.colorSpace),c.flipY!==void 0&&(a.flipY=c.flipY),c.format!==void 0&&(a.format=c.format),c.type!==void 0&&(a.type=c.type),c.mipmaps!==void 0&&(a.mipmaps=c.mipmaps,a.minFilter=yc),c.mipmapCount===1&&(a.minFilter=Tr),c.generateMipmaps!==void 0&&(a.generateMipmaps=c.generateMipmaps),a.needsUpdate=!0,t&&t(a,c)},n,r),a}}class YP extends Ml{constructor(e){super(e)}load(e,t,n,r){const s=new Ys,a=new Z1(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(A){s.image=A,s.needsUpdate=!0,t!==void 0&&t(s)},n,r),s}}class Ed extends rr{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new an(e),this.intensity=t}dispose(){this.dispatchEvent({type:"dispose"})}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,t}}class zL extends Ed{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(rr.DEFAULT_UP),this.updateMatrix(),this.groundColor=new an(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}toJSON(e){const t=super.toJSON(e);return t.object.groundColor=this.groundColor.getHex(),t}}const XB=new Vn,nM=new Ce,iM=new Ce;class CE{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Rt(512,512),this.mapType=VA,this.map=null,this.mapPass=null,this.matrix=new Vn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Wm,this._frameExtents=new Rt(1,1),this._viewportCount=1,this._viewports=[new er(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;nM.setFromMatrixPosition(e.matrixWorld),t.position.copy(nM),iM.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(iM),t.updateMatrixWorld(),XB.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(XB,t.coordinateSystem,t.reversedDepth),t.reversedDepth?n.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(XB)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class JP extends CE{constructor(){super(new Ea(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,n=Om*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,s=e.distance||t.far;(n!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=n,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class GL extends Ed{constructor(e,t,n=0,r=Math.PI/3,s=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(rr.DEFAULT_UP),this.updateMatrix(),this.target=new rr,this.distance=n,this.angle=r,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new JP}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){super.dispose(),this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.map=e.map,this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.distance=this.distance,t.object.angle=this.angle,t.object.decay=this.decay,t.object.penumbra=this.penumbra,t.object.target=this.target.uuid,this.map&&this.map.isTexture&&(t.object.map=this.map.toJSON(e).uuid),t.object.shadow=this.shadow.toJSON(),t}}class ZP extends CE{constructor(){super(new Ea(90,1,.5,500)),this.isPointLightShadow=!0}}class VL extends Ed{constructor(e,t,n=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new ZP}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){super.dispose(),this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.distance=this.distance,t.object.decay=this.decay,t.object.shadow=this.shadow.toJSON(),t}}let fh=class extends Kb{constructor(e=-1,t=1,n=1,r=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=n-e,a=n+e,A=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,a=s+c*this.view.width,A-=h*this.view.offsetY,l=A-h*this.view.height}this.projectionMatrix.makeOrthographic(s,a,A,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}};class $P extends CE{constructor(){super(new fh(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class jL extends Ed{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(rr.DEFAULT_UP),this.updateMatrix(),this.target=new rr,this.shadow=new $P}dispose(){super.dispose(),this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.shadow=this.shadow.toJSON(),t.object.target=this.target.uuid,t}}class KL extends Ed{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class WL extends Ed{constructor(e,t,n=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class EE{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Ce)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*s),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],1.092548*(n*r)),t.addScaledVector(a[5],1.092548*(r*s)),t.addScaledVector(a[6],.315392*(3*s*s-1)),t.addScaledVector(a[7],1.092548*(n*s)),t.addScaledVector(a[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],2*.511664*r),t.addScaledVector(a[2],2*.511664*s),t.addScaledVector(a[3],2*.511664*n),t.addScaledVector(a[4],2*.429043*n*r),t.addScaledVector(a[5],2*.429043*r*s),t.addScaledVector(a[6],.743125*s*s-.247708),t.addScaledVector(a[7],2*.429043*n*s),t.addScaledVector(a[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const n=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*n*s,t[8]=.546274*(n*n-r*r)}}class qL extends Ed{constructor(e=new EE,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class f_ extends Ml{constructor(e){super(e),this.textures={}}load(e,t,n,r){const s=this,a=new ph(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(A){try{t(s.parse(JSON.parse(A)))}catch(l){r?r(l):Fn(l),s.manager.itemError(e)}},n,r)}parse(e){const t=this.textures;function n(s){return t[s]===void 0&&sn("MaterialLoader: Undefined texture",s),t[s]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new an().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.allowOverride!==void 0&&(r.allowOverride=e.allowOverride),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const a=e.uniforms[s];switch(r.uniforms[s]={},a.type){case"t":r.uniforms[s].value=n(a.value);break;case"c":r.uniforms[s].value=new an().setHex(a.value);break;case"v2":r.uniforms[s].value=new Rt().fromArray(a.value);break;case"v3":r.uniforms[s].value=new Ce().fromArray(a.value);break;case"v4":r.uniforms[s].value=new er().fromArray(a.value);break;case"m3":r.uniforms[s].value=new Ai().fromArray(a.value);break;case"m4":r.uniforms[s].value=new Vn().fromArray(a.value);break;default:r.uniforms[s].value=a.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=n(e.map)),e.matcap!==void 0&&(r.matcap=n(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new Rt().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=n(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Rt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=n(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=n(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return f_.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:UL,SpriteMaterial:AE,RawShaderMaterial:wE,ShaderMaterial:qA,PointsMaterial:uE,MeshPhysicalMaterial:TL,MeshStandardMaterial:xE,MeshPhongMaterial:FL,MeshToonMaterial:LL,MeshNormalMaterial:IL,MeshLambertMaterial:RL,MeshDepthMaterial:yv,MeshDistanceMaterial:c_,MeshBasicMaterial:vh,MeshMatcapMaterial:NL,LineDashedMaterial:DL,LineBasicMaterial:XA,Material:xA};return new t[e]}}class N2{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class h_ extends ui{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class XL extends Ml{constructor(e){super(e)}load(e,t,n,r){const s=this,a=new ph(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(A){try{t(s.parse(JSON.parse(A)))}catch(l){r?r(l):Fn(l),s.manager.itemError(e)}},n,r)}parse(e){const t={},n={};function r(m,x){if(t[x]!==void 0)return t[x];const _=m.interleavedBuffers[x],b=s(m,_.buffer),M=dm(_.type,b),T=new Xb(M,_.stride);return T.uuid=_.uuid,t[x]=T,T}function s(m,x){if(n[x]!==void 0)return n[x];const _=m.arrayBuffers[x],b=new Uint32Array(_).buffer;return n[x]=b,b}const a=e.isInstancedBufferGeometry?new h_:new ui,A=e.data.index;if(A!==void 0){const m=dm(A.type,A.array);a.setIndex(new qi(m,1))}const l=e.data.attributes;for(const m in l){const x=l[m];let B;if(x.isInterleavedBufferAttribute){const _=r(e.data,x.data);B=new au(_,x.itemSize,x.offset,x.normalized)}else{const _=dm(x.type,x.array),b=x.isInstancedBufferAttribute?Hp:qi;B=new b(_,x.itemSize,x.normalized)}x.name!==void 0&&(B.name=x.name),x.usage!==void 0&&B.setUsage(x.usage),a.setAttribute(m,B)}const c=e.data.morphAttributes;if(c)for(const m in c){const x=c[m],B=[];for(let _=0,b=x.length;_<b;_++){const M=x[_];let T;if(M.isInterleavedBufferAttribute){const U=r(e.data,M.data);T=new au(U,M.itemSize,M.offset,M.normalized)}else{const U=dm(M.type,M.array);T=new qi(U,M.itemSize,M.normalized)}M.name!==void 0&&(T.name=M.name),B.push(T)}a.morphAttributes[m]=B}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const g=e.data.groups||e.data.drawcalls||e.data.offsets;if(g!==void 0)for(let m=0,x=g.length;m!==x;++m){const B=g[m];a.addGroup(B.start,B.count,B.materialIndex)}const v=e.data.boundingSphere;return v!==void 0&&(a.boundingSphere=new Va().fromJSON(v)),e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class e8 extends Ml{constructor(e){super(e)}load(e,t,n,r){const s=this,a=this.path===""?N2.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const A=new ph(this.manager);A.setPath(this.path),A.setRequestHeader(this.requestHeader),A.setWithCredentials(this.withCredentials),A.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(g){r!==void 0&&r(g),g("ObjectLoader: Can't parse "+e+".",g.message);return}const h=c.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),Fn("ObjectLoader: Can't load "+e);return}s.parse(c,t)},n,r)}async loadAsync(e,t){const n=this,r=this.path===""?N2.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new ph(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const a=await s.loadAsync(e,t),A=JSON.parse(a),l=A.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(A)}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,function(){t!==void 0&&t(c)}),A=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,A),c=this.parseObject(e.object,s,l,A,n),h=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,h),this.bindLightTargets(c),t!==void 0){let g=!1;for(const v in a)if(a[v].data instanceof HTMLImageElement){g=!0;break}g===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),s=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,s),A=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,r,A,a,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const t={};if(e!==void 0)for(let n=0,r=e.length;n<r;n++){const s=new Lp().fromJSON(e[n]);t[s.uuid]=s}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,a=e.length;s<a;s++){const A=new Yb().fromJSON(e[s],r);n[A.uuid]=A}return n}parseGeometries(e,t){const n={};if(e!==void 0){const r=new XL;for(let s=0,a=e.length;s<a;s++){let A;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":A=r.parse(l);break;default:l.type in tM?A=tM[l.type].fromJSON(l,t):sn(`ObjectLoader: Unsupported geometry type "${l.type}"`)}A.uuid=l.uuid,l.name!==void 0&&(A.name=l.name),l.userData!==void 0&&(A.userData=l.userData),n[l.uuid]=A}}return n}parseMaterials(e,t){const n={},r={};if(e!==void 0){const s=new f_;s.setTextures(t);for(let a=0,A=e.length;a<A;a++){const l=e[a];n[l.uuid]===void 0&&(n[l.uuid]=s.parse(l)),r[l.uuid]=n[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const r=e[n],s=J1.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const n=this,r={};let s;function a(l){return n.manager.itemStart(l),s.load(l,function(){n.manager.itemEnd(l)},void 0,function(){n.manager.itemError(l),n.manager.itemEnd(l)})}function A(l){if(typeof l=="string"){const c=l,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:n.resourcePath+c;return a(h)}else return l.data?{data:dm(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new SE(t);s=new Z1(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,h=e.length;c<h;c++){const g=e[c],v=g.url;if(Array.isArray(v)){const m=[];for(let x=0,B=v.length;x<B;x++){const _=v[x],b=A(_);b!==null&&(b instanceof HTMLImageElement?m.push(b):m.push(new bc(b.data,b.width,b.height)))}r[g.uuid]=new uh(m)}else{const m=A(g.url);r[g.uuid]=new uh(m)}}}return r}async parseImagesAsync(e){const t=this,n={};let r;async function s(a){if(typeof a=="string"){const A=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(A)?A:t.resourcePath+A;return await r.loadAsync(l)}else return a.data?{data:dm(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){r=new Z1(this.manager),r.setCrossOrigin(this.crossOrigin);for(let a=0,A=e.length;a<A;a++){const l=e[a],c=l.url;if(Array.isArray(c)){const h=[];for(let g=0,v=c.length;g<v;g++){const m=c[g],x=await s(m);x!==null&&(x instanceof HTMLImageElement?h.push(x):h.push(new bc(x.data,x.width,x.height)))}n[l.uuid]=new uh(h)}else{const h=await s(l.url);n[l.uuid]=new uh(h)}}}return n}parseTextures(e,t){function n(s,a){return typeof s=="number"?s:(sn("ObjectLoader.parseTexture: Constant should be in numeric form.",s),a[s])}const r={};if(e!==void 0)for(let s=0,a=e.length;s<a;s++){const A=e[s];A.image===void 0&&sn('ObjectLoader: No "image" specified for',A.uuid),t[A.image]===void 0&&sn("ObjectLoader: Undefined image",A.image);const l=t[A.image],c=l.data;let h;Array.isArray(c)?(h=new dv,c.length===6&&(h.needsUpdate=!0)):(c&&c.data?h=new bc:h=new Ys,c&&(h.needsUpdate=!0)),h.source=l,h.uuid=A.uuid,A.name!==void 0&&(h.name=A.name),A.mapping!==void 0&&(h.mapping=n(A.mapping,t8)),A.channel!==void 0&&(h.channel=A.channel),A.offset!==void 0&&h.offset.fromArray(A.offset),A.repeat!==void 0&&h.repeat.fromArray(A.repeat),A.center!==void 0&&h.center.fromArray(A.center),A.rotation!==void 0&&(h.rotation=A.rotation),A.wrap!==void 0&&(h.wrapS=n(A.wrap[0],rM),h.wrapT=n(A.wrap[1],rM)),A.format!==void 0&&(h.format=A.format),A.internalFormat!==void 0&&(h.internalFormat=A.internalFormat),A.type!==void 0&&(h.type=A.type),A.colorSpace!==void 0&&(h.colorSpace=A.colorSpace),A.minFilter!==void 0&&(h.minFilter=n(A.minFilter,sM)),A.magFilter!==void 0&&(h.magFilter=n(A.magFilter,sM)),A.anisotropy!==void 0&&(h.anisotropy=A.anisotropy),A.flipY!==void 0&&(h.flipY=A.flipY),A.generateMipmaps!==void 0&&(h.generateMipmaps=A.generateMipmaps),A.premultiplyAlpha!==void 0&&(h.premultiplyAlpha=A.premultiplyAlpha),A.unpackAlignment!==void 0&&(h.unpackAlignment=A.unpackAlignment),A.compareFunction!==void 0&&(h.compareFunction=A.compareFunction),A.userData!==void 0&&(h.userData=A.userData),r[A.uuid]=h}return r}parseObject(e,t,n,r,s){let a;function A(v){return t[v]===void 0&&sn("ObjectLoader: Undefined geometry",v),t[v]}function l(v){if(v!==void 0){if(Array.isArray(v)){const m=[];for(let x=0,B=v.length;x<B;x++){const _=v[x];n[_]===void 0&&sn("ObjectLoader: Undefined material",_),m.push(n[_])}return m}return n[v]===void 0&&sn("ObjectLoader: Undefined material",v),n[v]}}function c(v){return r[v]===void 0&&sn("ObjectLoader: Undefined texture",v),r[v]}let h,g;switch(e.type){case"Scene":a=new Hm,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new an(e.background):a.background=c(e.background)),e.environment!==void 0&&(a.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new qb(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new Wb(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(a.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new Ea(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new fh(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new KL(e.color,e.intensity);break;case"DirectionalLight":a=new jL(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new VL(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new WL(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new GL(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new zL(e.color,e.groundColor,e.intensity);break;case"LightProbe":const v=new EE().fromArray(e.sh);a=new qL(v,e.intensity);break;case"SkinnedMesh":h=A(e.geometry),g=l(e.material),a=new hL(h,g),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":h=A(e.geometry),g=l(e.material),a=new xs(h,g);break;case"InstancedMesh":h=A(e.geometry),g=l(e.material);const m=e.count,x=e.instanceMatrix,B=e.instanceColor;a=new dL(h,g,m),a.instanceMatrix=new Hp(new Float32Array(x.array),16),B!==void 0&&(a.instanceColor=new Hp(new Float32Array(B.array),B.itemSize));break;case"BatchedMesh":h=A(e.geometry),g=l(e.material),a=new pL(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,g),a.geometry=h,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._geometryInfo=e.geometryInfo.map(_=>{let b=null,M=null;return _.boundingBox!==void 0&&(b=new Fa().fromJSON(_.boundingBox)),_.boundingSphere!==void 0&&(M=new Va().fromJSON(_.boundingSphere)),{..._,boundingBox:b,boundingSphere:M}}),a._instanceInfo=e.instanceInfo,a._availableInstanceIds=e._availableInstanceIds,a._availableGeometryIds=e._availableGeometryIds,a._nextIndexStart=e.nextIndexStart,a._nextVertexStart=e.nextVertexStart,a._geometryCount=e.geometryCount,a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._matricesTexture=c(e.matricesTexture.uuid),a._indirectTexture=c(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(a._colorsTexture=c(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(a.boundingSphere=new Va().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(a.boundingBox=new Fa().fromJSON(e.boundingBox));break;case"LOD":a=new fL;break;case"Line":a=new bd(A(e.geometry),l(e.material));break;case"LineLoop":a=new gL(A(e.geometry),l(e.material));break;case"LineSegments":a=new _f(A(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new mL(A(e.geometry),l(e.material));break;case"Sprite":a=new cL(l(e.material));break;case"Group":a=new pm;break;case"Bone":a=new lE;break;default:a=new rr}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(a.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const v=e.children;for(let m=0;m<v.length;m++)a.add(this.parseObject(v[m],t,n,r,s))}if(e.animations!==void 0){const v=e.animations;for(let m=0;m<v.length;m++){const x=v[m];a.animations.push(s[x])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const v=e.levels;for(let m=0;m<v.length;m++){const x=v[m],B=a.getObjectByProperty("uuid",x.object);B!==void 0&&a.addLevel(B,x.distance,x.hysteresis)}}return a}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const r=t[n.skeleton];r===void 0?sn("ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(r,n.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const n=t.target,r=e.getObjectByProperty("uuid",n);r!==void 0?t.target=r:t.target=new rr}})}}const t8={UVMapping:Ib,CubeReflectionMapping:wf,CubeRefractionMapping:yd,EquirectangularReflectionMapping:D1,EquirectangularRefractionMapping:O1,CubeUVReflectionMapping:Km},rM={RepeatWrapping:Tm,ClampToEdgeWrapping:KA,MirroredRepeatWrapping:Fm},sM={NearestFilter:oa,NearestMipmapNearestFilter:Rb,NearestMipmapLinearFilter:Bp,LinearFilter:Tr,LinearMipmapNearestFilter:wm,LinearMipmapLinearFilter:yc},YB=new WeakMap;class n8 extends Ml{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&sn("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&sn("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=mf.get(`image-bitmap:${e}`);if(a!==void 0){if(s.manager.itemStart(e),a.then){a.then(c=>{if(YB.has(a)===!0)r&&r(YB.get(a)),s.manager.itemError(e),s.manager.itemEnd(e);else return t&&t(c),s.manager.itemEnd(e),c});return}return setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a}const A={};A.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",A.headers=this.requestHeader,A.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const l=fetch(e,A).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return mf.add(`image-bitmap:${e}`,c),t&&t(c),s.manager.itemEnd(e),c}).catch(function(c){r&&r(c),YB.set(l,c),mf.remove(`image-bitmap:${e}`),s.manager.itemError(e),s.manager.itemEnd(e)});mf.add(`image-bitmap:${e}`,l),s.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let ew;class ME{static getContext(){return ew===void 0&&(ew=new(window.AudioContext||window.webkitAudioContext)),ew}static setContext(e){ew=e}}class i8 extends Ml{constructor(e){super(e)}load(e,t,n,r){const s=this,a=new ph(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const c=l.slice(0);ME.getContext().decodeAudioData(c,function(g){t(g)}).catch(A)}catch(c){A(c)}},n,r);function A(l){r?r(l):Fn(l),s.manager.itemError(e)}}}const aM=new Vn,oM=new Vn,sp=new Vn;class r8{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ea,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ea,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,sp.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,a=t.near*Math.tan(Tp*t.fov*.5)/t.zoom;let A,l;oM.elements[12]=-r,aM.elements[12]=r,A=-a*t.aspect+s,l=a*t.aspect+s,sp.elements[0]=2*t.near/(l-A),sp.elements[8]=(l+A)/(l-A),this.cameraL.projectionMatrix.copy(sp),A=-a*t.aspect-s,l=a*t.aspect-s,sp.elements[0]=2*t.near/(l-A),sp.elements[8]=(l+A)/(l-A),this.cameraR.projectionMatrix.copy(sp)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(oM),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(aM)}}class YL extends Ea{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class UE{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const ap=new Ce,JB=new Ko,s8=new Ce,op=new Ce,Ap=new Ce;class a8 extends rr{constructor(){super(),this.type="AudioListener",this.context=ME.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new UE}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ap,JB,s8),op.set(0,0,-1).applyQuaternion(JB),Ap.set(0,1,0).applyQuaternion(JB),t.positionX){const n=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(ap.x,n),t.positionY.linearRampToValueAtTime(ap.y,n),t.positionZ.linearRampToValueAtTime(ap.z,n),t.forwardX.linearRampToValueAtTime(op.x,n),t.forwardY.linearRampToValueAtTime(op.y,n),t.forwardZ.linearRampToValueAtTime(op.z,n),t.upX.linearRampToValueAtTime(Ap.x,n),t.upY.linearRampToValueAtTime(Ap.y,n),t.upZ.linearRampToValueAtTime(Ap.z,n)}else t.setPosition(ap.x,ap.y,ap.z),t.setOrientation(op.x,op.y,op.z,Ap.x,Ap.y,Ap.z)}}class JL extends rr{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){sn("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){sn("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){sn("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){sn("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){sn("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(sn("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){sn("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(sn("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const lp=new Ce,AM=new Ko,o8=new Ce,up=new Ce;class A8 extends JL{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(lp,AM,o8),up.set(0,0,1).applyQuaternion(AM);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(lp.x,n),t.positionY.linearRampToValueAtTime(lp.y,n),t.positionZ.linearRampToValueAtTime(lp.z,n),t.orientationX.linearRampToValueAtTime(up.x,n),t.orientationY.linearRampToValueAtTime(up.y,n),t.orientationZ.linearRampToValueAtTime(up.z,n)}else t.setPosition(lp.x,lp.y,lp.z),t.setOrientation(up.x,up.y,up.z)}}class l8{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class ZL{constructor(e,t,n){this.binding=e,this.valueSize=n;let r,s,a;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:r=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,s=e*r+r;let a=this.cumulativeWeight;if(a===0){for(let A=0;A!==r;++A)n[s+A]=n[A];a=t}else{a+=t;const A=t/a;this._mixBufferRegion(n,s,0,A,r)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,A=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(n,r,l,1-s,t)}a>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(n[l]!==n[l+t]){A.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let s=n,a=r;s!==a;++s)t[s]=t[r+s%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,s){if(r>=.5)for(let a=0;a!==s;++a)e[t+a]=e[n+a]}_slerp(e,t,n,r){Ko.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,s){const a=this._workIndex*s;Ko.multiplyQuaternionsFlat(e,a,e,t,e,n),Ko.slerpFlat(e,t,e,t,e,a,r)}_lerp(e,t,n,r,s){const a=1-r;for(let A=0;A!==s;++A){const l=t+A;e[l]=e[l]*a+e[n+A]*r}}_lerpAdditive(e,t,n,r,s){for(let a=0;a!==s;++a){const A=t+a;e[A]=e[A]+e[n+a]*r}}}const TE="\\[\\]\\.:\\/",u8=new RegExp("["+TE+"]","g"),FE="[^"+TE+"]",c8="[^"+TE.replace("\\.","")+"]",f8=/((?:WC+[\/:])*)/.source.replace("WC",FE),h8=/(WCOD+)?/.source.replace("WCOD",c8),d8=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",FE),p8=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",FE),g8=new RegExp("^"+f8+h8+d8+p8+"$"),m8=["material","materials","bones","map"];class v8{constructor(e,t,n){const r=n||Hi.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];r!==void 0&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=n.length;r!==s;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class Hi{constructor(e,t,n){this.path=t,this.parsedPath=n||Hi.parseTrackName(t),this.node=Hi.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Hi.Composite(e,t,n):new Hi(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(u8,"")}static parseTrackName(e){const t=g8.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=n.nodeName.substring(r+1);m8.indexOf(s)!==-1&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=s)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(s){for(let a=0;a<s.length;a++){const A=s[a];if(A.name===t||A.uuid===t)return A;const l=n(A.children);if(l)return l}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=Hi.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){sn("PropertyBinding: No target node found for track: "+this.path+".");return}if(n){let c=t.objectIndex;switch(n){case"materials":if(!e.material){Fn("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){Fn("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){Fn("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let h=0;h<e.length;h++)if(e[h].name===c){c=h;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){Fn("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){Fn("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){Fn("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(c!==void 0){if(e[c]===void 0){Fn("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const a=e[r];if(a===void 0){const c=t.nodeName;Fn("PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let A=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?A=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(A=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){Fn("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){Fn("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][A]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Hi.Composite=v8;Hi.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Hi.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Hi.prototype.GetterByBindingType=[Hi.prototype._getValue_direct,Hi.prototype._getValue_array,Hi.prototype._getValue_arrayElement,Hi.prototype._getValue_toArray];Hi.prototype.SetterByBindingTypeAndVersioning=[[Hi.prototype._setValue_direct,Hi.prototype._setValue_direct_setNeedsUpdate,Hi.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Hi.prototype._setValue_array,Hi.prototype._setValue_array_setNeedsUpdate,Hi.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Hi.prototype._setValue_arrayElement,Hi.prototype._setValue_arrayElement_setNeedsUpdate,Hi.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Hi.prototype._setValue_fromArray,Hi.prototype._setValue_fromArray_setNeedsUpdate,Hi.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class y8{constructor(){this.isAnimationObjectGroup=!0,this.uuid=lu(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,s=this._bindings,a=s.length;let A,l=e.length,c=this.nCachedObjects_;for(let h=0,g=arguments.length;h!==g;++h){const v=arguments[h],m=v.uuid;let x=t[m];if(x===void 0){x=l++,t[m]=x,e.push(v);for(let B=0,_=a;B!==_;++B)s[B].push(new Hi(v,n[B],r[B]))}else if(x<c){A=e[x];const B=--c,_=e[B];t[_.uuid]=x,e[x]=_,t[m]=B,e[B]=v;for(let b=0,M=a;b!==M;++b){const T=s[b],U=T[B];let R=T[x];T[x]=U,R===void 0&&(R=new Hi(v,n[b],r[b])),T[B]=R}}else e[x]!==A&&Fn("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let s=this.nCachedObjects_;for(let a=0,A=arguments.length;a!==A;++a){const l=arguments[a],c=l.uuid,h=t[c];if(h!==void 0&&h>=s){const g=s++,v=e[g];t[v.uuid]=h,e[h]=v,t[c]=g,e[g]=l;for(let m=0,x=r;m!==x;++m){const B=n[m],_=B[g],b=B[h];B[h]=_,B[g]=b}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let s=this.nCachedObjects_,a=e.length;for(let A=0,l=arguments.length;A!==l;++A){const c=arguments[A],h=c.uuid,g=t[h];if(g!==void 0)if(delete t[h],g<s){const v=--s,m=e[v],x=--a,B=e[x];t[m.uuid]=g,e[g]=m,t[B.uuid]=v,e[v]=B,e.pop();for(let _=0,b=r;_!==b;++_){const M=n[_],T=M[v],U=M[x];M[g]=T,M[v]=U,M.pop()}}else{const v=--a,m=e[v];v>0&&(t[m.uuid]=g),e[g]=m,e.pop();for(let x=0,B=r;x!==B;++x){const _=n[x];_[g]=_[v],_.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const s=this._bindings;if(r!==void 0)return s[r];const a=this._paths,A=this._parsedPaths,l=this._objects,c=l.length,h=this.nCachedObjects_,g=new Array(c);r=s.length,n[e]=r,a.push(e),A.push(t),s.push(g);for(let v=h,m=l.length;v!==m;++v){const x=l[v];g[v]=new Hi(x,e,t)}return g}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const r=this._paths,s=this._parsedPaths,a=this._bindings,A=a.length-1,l=a[A],c=e[A];t[c]=n,a[n]=l,a.pop(),s[n]=s[A],s.pop(),r[n]=r[A],r.pop()}}}class $L{constructor(e,t,n=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const s=t.tracks,a=s.length,A=new Array(a),l={endingStart:Sp,endingEnd:Sp};for(let c=0;c!==a;++c){const h=s[c].createInterpolant(null);A[c]=h,h.settings=l}this._interpolantSettings=l,this._interpolants=A,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=WF,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n=!1){if(e.fadeOut(t),this.fadeIn(t),n===!0){const r=this._clip.duration,s=e._clip.duration,a=s/r,A=r/s;e.warp(1,a,t),this.warp(A,1,t)}return this}crossFadeTo(e,t,n=!1){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,s=r.time,a=this.timeScale;let A=this._timeScaleInterpolant;A===null&&(A=r._lendControlInterpolant(),this._timeScaleInterpolant=A);const l=A.parameterPositions,c=A.sampleValues;return l[0]=s,l[1]=s+n,c[0]=e/a,c[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*n;l<0||n===0?t=0:(this._startTime=null,t=n*l)}t*=this._updateTimeScale(e);const a=this._updateTime(t),A=this._updateWeight(e);if(A>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case tE:for(let h=0,g=l.length;h!==g;++h)l[h].evaluate(a),c[h].accumulateAdditive(A);break;case kb:default:for(let h=0,g=l.length;h!==g;++h)l[h].evaluate(a),c[h].accumulate(r,A)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,s=this._loopCount;const a=n===qF;if(e===0)return s===-1?r:a&&(s&1)===1?t-r:r;if(n===KF){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),r>=t||r<0){const A=Math.floor(r/t);r-=t*A,s+=Math.abs(A);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:A})}}else this.time=r;if(a&&(s&1)===1)return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=Cp,r.endingEnd=Cp):(e?r.endingStart=this.zeroSlopeAtStart?Cp:Sp:r.endingStart=Q1,t?r.endingEnd=this.zeroSlopeAtEnd?Cp:Sp:r.endingEnd=Q1)}_scheduleFading(e,t,n){const r=this._mixer,s=r.time;let a=this._weightInterpolant;a===null&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);const A=a.parameterPositions,l=a.sampleValues;return A[0]=s,l[0]=t,A[1]=s+e,l[1]=n,this}}const w8=new Float32Array(1);class x8 extends bf{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,s=r.length,a=e._propertyBindings,A=e._interpolants,l=n.uuid,c=this._bindingsByRootAndName;let h=c[l];h===void 0&&(h={},c[l]=h);for(let g=0;g!==s;++g){const v=r[g],m=v.name;let x=h[m];if(x!==void 0)++x.referenceCount,a[g]=x;else{if(x=a[g],x!==void 0){x._cacheIndex===null&&(++x.referenceCount,this._addInactiveBinding(x,l,m));continue}const B=t&&t._propertyBindings[g].binding.parsedPath;x=new ZL(Hi.create(n,m,B),v.ValueTypeName,v.getValueSize()),++x.referenceCount,this._addInactiveBinding(x,l,m),a[g]=x}A[g].resultBuffer=x.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,n)}const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const s=t[n];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const s=t[n];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,s=this._actionsByClip;let a=s[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=a;else{const A=a.knownActions;e._byClipCacheIndex=A.length,A.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,A=a[s],l=A.knownActions,c=l[l.length-1],h=e._byClipCacheIndex;c._byClipCacheIndex=h,l[h]=c,l.pop(),e._byClipCacheIndex=null;const g=A.actionByRoot,v=(e._localRoot||this._root).uuid;delete g[v],l.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const s=t[n];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,s=this._bindings;let a=r[t];a===void 0&&(a={},r[t]=a),a[n]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,s=n.path,a=this._bindingsByRootAndName,A=a[r],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete A[s],Object.keys(A).length===0&&delete a[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new _E(new Float32Array(2),new Float32Array(2),1,w8),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=n,t[n]=s}clipAction(e,t,n){const r=t||this._root,s=r.uuid;let a=typeof e=="string"?J1.findByName(r,e):e;const A=a!==null?a.uuid:e,l=this._actionsByClip[A];let c=null;if(n===void 0&&(a!==null?n=a.blendMode:n=kb),l!==void 0){const g=l.actionByRoot[s];if(g!==void 0&&g.blendMode===n)return g;c=l.knownActions[0],a===null&&(a=c._clip)}if(a===null)return null;const h=new $L(this,a,t,n);return this._bindAction(h,c),this._addInactiveAction(h,A,s),h}existingAction(e,t){const n=t||this._root,r=n.uuid,s=typeof e=="string"?J1.findByName(n,e):e,a=s?s.uuid:e,A=this._actionsByClip[a];return A!==void 0&&A.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let c=0;c!==n;++c)t[c]._update(r,e,s,a);const A=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)A[c].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,s=r[n];if(s!==void 0){const a=s.knownActions;for(let A=0,l=a.length;A!==l;++A){const c=a[A];this._deactivateAction(c);const h=c._cacheIndex,g=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,g._cacheIndex=h,t[h]=g,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const a in n){const A=n[a].actionByRoot,l=A[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const a in s){const A=s[a];A.restoreOriginalState(),this._removeInactiveBinding(A)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class b8 extends rE{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=n,this.texture=new jb(null,e,t,n),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class LE{constructor(e){this.value=e}clone(){return new LE(this.value.clone===void 0?this.value:this.value.clone())}}let _8=0;class B8 extends bf{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:_8++}),this.name="",this.usage=k1,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,r=t.length;n<r;n++){const s=Array.isArray(t[n])?t[n]:[t[n]];for(let a=0;a<s.length;a++)this.uniforms.push(s[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class sb extends Xb{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class S8{constructor(e,t,n,r,s,a=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=s,this.normalized=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const lM=new Vn;class IE{constructor(e,t,n=0,r=1/0){this.ray=new Wp(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new Pm,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):Fn("Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return lM.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(lM),this}intersectObject(e,t=!0,n=[]){return D2(e,this,n,t),n.sort(uM),n}intersectObjects(e,t=!0,n=[]){for(let r=0,s=e.length;r<s;r++)D2(e[r],this,n,t);return n.sort(uM),n}}function uM(i,e){return i.distance-e.distance}function D2(i,e,t,n){let r=!0;if(i.layers.test(e.layers)&&i.raycast(e,t)===!1&&(r=!1),r===!0&&n===!0){const s=i.children;for(let a=0,A=s.length;a<A;a++)D2(s[a],e,t,!0)}}class C8{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=E8.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function E8(){this._document.hidden===!1&&this.reset()}class O2{constructor(e=1,t=0,n=0){this.radius=e,this.phi=t,this.theta=n}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Kn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Kn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class M8{constructor(e=1,t=0,n=0){this.radius=e,this.theta=t,this.y=n}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}class RE{constructor(e,t,n,r){RE.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,n,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let n=0;n<4;n++)this.elements[n]=e[n+t];return this}set(e,t,n,r){const s=this.elements;return s[0]=e,s[2]=t,s[1]=n,s[3]=r,this}}const cM=new Rt;class U8{constructor(e=new Rt(1/0,1/0),t=new Rt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=cM.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,cM).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const fM=new Ce,tw=new Ce,Wg=new Ce,qg=new Ce,ZB=new Ce,T8=new Ce,F8=new Ce;class eI{constructor(e=new Ce,t=new Ce){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){fM.subVectors(e,this.start),tw.subVectors(this.end,this.start);const n=tw.dot(tw);let s=tw.dot(fM)/n;return t&&(s=Kn(s,0,1)),s}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}distanceSqToLine3(e,t=T8,n=F8){const r=10000000000000001e-32;let s,a;const A=this.start,l=e.start,c=this.end,h=e.end;Wg.subVectors(c,A),qg.subVectors(h,l),ZB.subVectors(A,l);const g=Wg.dot(Wg),v=qg.dot(qg),m=qg.dot(ZB);if(g<=r&&v<=r)return t.copy(A),n.copy(l),t.sub(n),t.dot(t);if(g<=r)s=0,a=m/v,a=Kn(a,0,1);else{const x=Wg.dot(ZB);if(v<=r)a=0,s=Kn(-x/g,0,1);else{const B=Wg.dot(qg),_=g*v-B*B;_!==0?s=Kn((B*m-x*v)/_,0,1):s=0,a=(B*s+m)/v,a<0?(a=0,s=Kn(-x/g,0,1)):a>1&&(a=1,s=Kn((B-x)/g,0,1))}}return t.copy(A).add(Wg.multiplyScalar(s)),n.copy(l).add(qg.multiplyScalar(a)),t.sub(n),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const hM=new Ce;class L8 extends rr{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new ui,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,A=1,l=32;a<l;a++,A++){const c=a/l*Math.PI*2,h=A/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(h),Math.sin(h),1)}n.setAttribute("position",new wn(r,3));const s=new XA({fog:!1,toneMapped:!1});this.cone=new _f(n,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),hM.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(hM),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const ed=new Ce,nw=new Vn,$B=new Vn;class I8 extends _f{constructor(e){const t=tI(e),n=new ui,r=[],s=[];for(let c=0;c<t.length;c++){const h=t[c];h.parent&&h.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(0,0,0),s.push(0,0,0))}n.setAttribute("position",new wn(r,3)),n.setAttribute("color",new wn(s,3));const a=new XA({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,a),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const A=new an(255),l=new an(65280);this.setColors(A,l)}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");$B.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<t.length;s++){const A=t[s];A.parent&&A.parent.isBone&&(nw.multiplyMatrices($B,A.matrixWorld),ed.setFromMatrixPosition(nw),r.setXYZ(a,ed.x,ed.y,ed.z),nw.multiplyMatrices($B,A.parent.matrixWorld),ed.setFromMatrixPosition(nw),r.setXYZ(a+1,ed.x,ed.y,ed.z),a+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const r=this.geometry.getAttribute("color");for(let s=0;s<r.count;s+=2)r.setXYZ(s,e.r,e.g,e.b),r.setXYZ(s+1,t.r,t.g,t.b);return r.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function tI(i){const e=[];i.isBone===!0&&e.push(i);for(let t=0;t<i.children.length;t++)e.push(...tI(i.children[t]));return e}class R8 extends xs{constructor(e,t,n){const r=new vv(t,4,2),s=new vh({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const N8=new Ce,dM=new an,pM=new an;class D8 extends rr{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const r=new mv(t);r.rotateY(Math.PI*.5),this.material=new vh({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),a=new Float32Array(s.count*3);r.setAttribute("color",new qi(a,3)),this.add(new xs(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");dM.copy(this.light.color),pM.copy(this.light.groundColor);for(let n=0,r=t.count;n<r;n++){const s=n<r/2?dM:pM;t.setXYZ(n,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(N8.setFromMatrixPosition(this.light.matrixWorld).negate())}}class O8 extends _f{constructor(e=10,t=10,n=4473924,r=8947848){n=new an(n),r=new an(r);const s=t/2,a=e/t,A=e/2,l=[],c=[];for(let v=0,m=0,x=-A;v<=t;v++,x+=a){l.push(-A,0,x,A,0,x),l.push(x,0,-A,x,0,A);const B=v===s?n:r;B.toArray(c,m),m+=3,B.toArray(c,m),m+=3,B.toArray(c,m),m+=3,B.toArray(c,m),m+=3}const h=new ui;h.setAttribute("position",new wn(l,3)),h.setAttribute("color",new wn(c,3));const g=new XA({vertexColors:!0,toneMapped:!1});super(h,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class P8 extends _f{constructor(e=10,t=16,n=8,r=64,s=4473924,a=8947848){s=new an(s),a=new an(a);const A=[],l=[];if(t>1)for(let g=0;g<t;g++){const v=g/t*(Math.PI*2),m=Math.sin(v)*e,x=Math.cos(v)*e;A.push(0,0,0),A.push(m,0,x);const B=g&1?s:a;l.push(B.r,B.g,B.b),l.push(B.r,B.g,B.b)}for(let g=0;g<n;g++){const v=g&1?s:a,m=e-e/n*g;for(let x=0;x<r;x++){let B=x/r*(Math.PI*2),_=Math.sin(B)*m,b=Math.cos(B)*m;A.push(_,0,b),l.push(v.r,v.g,v.b),B=(x+1)/r*(Math.PI*2),_=Math.sin(B)*m,b=Math.cos(B)*m,A.push(_,0,b),l.push(v.r,v.g,v.b)}}const c=new ui;c.setAttribute("position",new wn(A,3)),c.setAttribute("color",new wn(l,3));const h=new XA({vertexColors:!0,toneMapped:!1});super(c,h),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const gM=new Ce,iw=new Ce,mM=new Ce;class Q8 extends rr{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new ui;r.setAttribute("position",new wn([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new XA({fog:!1,toneMapped:!1});this.lightPlane=new bd(r,s),this.add(this.lightPlane),r=new ui,r.setAttribute("position",new wn([0,0,0,0,0,1],3)),this.targetLine=new bd(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),gM.setFromMatrixPosition(this.light.matrixWorld),iw.setFromMatrixPosition(this.light.target.matrixWorld),mM.subVectors(iw,gM),this.lightPlane.lookAt(iw),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(iw),this.targetLine.scale.z=mM.length()}}const rw=new Ce,sa=new Kb;class H8 extends _f{constructor(e){const t=new ui,n=new XA({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],a={};A("n1","n2"),A("n2","n4"),A("n4","n3"),A("n3","n1"),A("f1","f2"),A("f2","f4"),A("f4","f3"),A("f3","f1"),A("n1","f1"),A("n2","f2"),A("n3","f3"),A("n4","f4"),A("p","n1"),A("p","n2"),A("p","n3"),A("p","n4"),A("u1","u2"),A("u2","u3"),A("u3","u1"),A("c","t"),A("p","c"),A("cn1","cn2"),A("cn3","cn4"),A("cf1","cf2"),A("cf3","cf4");function A(x,B){l(x),l(B)}function l(x){r.push(0,0,0),s.push(0,0,0),a[x]===void 0&&(a[x]=[]),a[x].push(r.length/3-1)}t.setAttribute("position",new wn(r,3)),t.setAttribute("color",new wn(s,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const c=new an(16755200),h=new an(16711680),g=new an(43775),v=new an(16777215),m=new an(3355443);this.setColors(c,h,g,v,m)}setColors(e,t,n,r,s){const A=this.geometry.getAttribute("color");return A.setXYZ(0,e.r,e.g,e.b),A.setXYZ(1,e.r,e.g,e.b),A.setXYZ(2,e.r,e.g,e.b),A.setXYZ(3,e.r,e.g,e.b),A.setXYZ(4,e.r,e.g,e.b),A.setXYZ(5,e.r,e.g,e.b),A.setXYZ(6,e.r,e.g,e.b),A.setXYZ(7,e.r,e.g,e.b),A.setXYZ(8,e.r,e.g,e.b),A.setXYZ(9,e.r,e.g,e.b),A.setXYZ(10,e.r,e.g,e.b),A.setXYZ(11,e.r,e.g,e.b),A.setXYZ(12,e.r,e.g,e.b),A.setXYZ(13,e.r,e.g,e.b),A.setXYZ(14,e.r,e.g,e.b),A.setXYZ(15,e.r,e.g,e.b),A.setXYZ(16,e.r,e.g,e.b),A.setXYZ(17,e.r,e.g,e.b),A.setXYZ(18,e.r,e.g,e.b),A.setXYZ(19,e.r,e.g,e.b),A.setXYZ(20,e.r,e.g,e.b),A.setXYZ(21,e.r,e.g,e.b),A.setXYZ(22,e.r,e.g,e.b),A.setXYZ(23,e.r,e.g,e.b),A.setXYZ(24,t.r,t.g,t.b),A.setXYZ(25,t.r,t.g,t.b),A.setXYZ(26,t.r,t.g,t.b),A.setXYZ(27,t.r,t.g,t.b),A.setXYZ(28,t.r,t.g,t.b),A.setXYZ(29,t.r,t.g,t.b),A.setXYZ(30,t.r,t.g,t.b),A.setXYZ(31,t.r,t.g,t.b),A.setXYZ(32,n.r,n.g,n.b),A.setXYZ(33,n.r,n.g,n.b),A.setXYZ(34,n.r,n.g,n.b),A.setXYZ(35,n.r,n.g,n.b),A.setXYZ(36,n.r,n.g,n.b),A.setXYZ(37,n.r,n.g,n.b),A.setXYZ(38,r.r,r.g,r.b),A.setXYZ(39,r.r,r.g,r.b),A.setXYZ(40,s.r,s.g,s.b),A.setXYZ(41,s.r,s.g,s.b),A.setXYZ(42,s.r,s.g,s.b),A.setXYZ(43,s.r,s.g,s.b),A.setXYZ(44,s.r,s.g,s.b),A.setXYZ(45,s.r,s.g,s.b),A.setXYZ(46,s.r,s.g,s.b),A.setXYZ(47,s.r,s.g,s.b),A.setXYZ(48,s.r,s.g,s.b),A.setXYZ(49,s.r,s.g,s.b),A.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,n=1,r=1;let s,a;if(sa.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)s=1,a=0;else if(this.camera.coordinateSystem===su)s=-1,a=1;else if(this.camera.coordinateSystem===Nm)s=0,a=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);Ba("c",t,e,sa,0,0,s),Ba("t",t,e,sa,0,0,a),Ba("n1",t,e,sa,-n,-r,s),Ba("n2",t,e,sa,n,-r,s),Ba("n3",t,e,sa,-n,r,s),Ba("n4",t,e,sa,n,r,s),Ba("f1",t,e,sa,-n,-r,a),Ba("f2",t,e,sa,n,-r,a),Ba("f3",t,e,sa,-n,r,a),Ba("f4",t,e,sa,n,r,a),Ba("u1",t,e,sa,n*.7,r*1.1,s),Ba("u2",t,e,sa,-n*.7,r*1.1,s),Ba("u3",t,e,sa,0,r*2,s),Ba("cf1",t,e,sa,-n,0,a),Ba("cf2",t,e,sa,n,0,a),Ba("cf3",t,e,sa,0,-r,a),Ba("cf4",t,e,sa,0,r,a),Ba("cn1",t,e,sa,-n,0,s),Ba("cn2",t,e,sa,n,0,s),Ba("cn3",t,e,sa,0,-r,s),Ba("cn4",t,e,sa,0,r,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Ba(i,e,t,n,r,s,a){rw.set(r,s,a).unproject(n);const A=e[i];if(A!==void 0){const l=t.getAttribute("position");for(let c=0,h=A.length;c<h;c++)l.setXYZ(A[c],rw.x,rw.y,rw.z)}}const sw=new Fa;class k8 extends _f{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),s=new ui;s.setIndex(new qi(n,1)),s.setAttribute("position",new qi(r,3)),super(s,new XA({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&sw.setFromObject(this.object),sw.isEmpty())return;const e=sw.min,t=sw.max,n=this.geometry.attributes.position,r=n.array;r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=t.y,r[5]=t.z,r[6]=e.x,r[7]=e.y,r[8]=t.z,r[9]=t.x,r[10]=e.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=e.z,r[15]=e.x,r[16]=t.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=t.x,r[22]=e.y,r[23]=e.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class z8 extends _f{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new ui;s.setIndex(new qi(n,1)),s.setAttribute("position",new wn(r,3)),super(s,new XA({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class G8 extends bd{constructor(e,t=1,n=16776960){const r=n,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new ui;a.setAttribute("position",new wn(s,3)),a.computeBoundingSphere(),super(a,new XA({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const A=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new ui;l.setAttribute("position",new wn(A,3)),l.computeBoundingSphere(),this.add(new xs(l,new vh({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const vM=new Ce;let aw,eS;class V8 extends rr{constructor(e=new Ce(0,0,1),t=new Ce(0,0,0),n=1,r=16776960,s=n*.2,a=s*.2){super(),this.type="ArrowHelper",aw===void 0&&(aw=new ui,aw.setAttribute("position",new wn([0,0,0,0,1,0],3)),eS=new gv(.5,1,5,1),eS.translate(0,-.5,0)),this.position.copy(t),this.line=new bd(aw,new XA({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new xs(eS,new vh({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,s,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{vM.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(vM,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class j8 extends _f{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new ui;r.setAttribute("position",new wn(t,3)),r.setAttribute("color",new wn(n,3));const s=new XA({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,n){const r=new an,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(n),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class K8{constructor(){this.type="ShapePath",this.color=new an,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new rb,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,s,a){return this.currentPath.bezierCurveTo(e,t,n,r,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(b){const M=[];for(let T=0,U=b.length;T<U;T++){const R=b[T],O=new Lp;O.curves=R.curves,M.push(O)}return M}function n(b,M){const T=M.length;let U=!1;for(let R=T-1,O=0;O<T;R=O++){let z=M[R],V=M[O],I=V.x-z.x,P=V.y-z.y;if(Math.abs(P)>Number.EPSILON){if(P<0&&(z=M[O],I=-I,V=M[R],P=-P),b.y<z.y||b.y>V.y)continue;if(b.y===z.y){if(b.x===z.x)return!0}else{const k=P*(b.x-z.x)-I*(b.y-z.y);if(k===0)return!0;if(k<0)continue;U=!U}}else{if(b.y!==z.y)continue;if(V.x<=b.x&&b.x<=z.x||z.x<=b.x&&b.x<=V.x)return!0}}return U}const r=wc.isClockWise,s=this.subPaths;if(s.length===0)return[];let a,A,l;const c=[];if(s.length===1)return A=s[0],l=new Lp,l.curves=A.curves,c.push(l),c;let h=!r(s[0].getPoints());h=e?!h:h;const g=[],v=[];let m=[],x=0,B;v[x]=void 0,m[x]=[];for(let b=0,M=s.length;b<M;b++)A=s[b],B=A.getPoints(),a=r(B),a=e?!a:a,a?(!h&&v[x]&&x++,v[x]={s:new Lp,p:B},v[x].s.curves=A.curves,h&&x++,m[x]=[]):m[x].push({h:A,p:B[0]});if(!v[0])return t(s);if(v.length>1){let b=!1,M=0;for(let T=0,U=v.length;T<U;T++)g[T]=[];for(let T=0,U=v.length;T<U;T++){const R=m[T];for(let O=0;O<R.length;O++){const z=R[O];let V=!0;for(let I=0;I<v.length;I++)n(z.p,v[I].p)&&(T!==I&&M++,V?(V=!1,g[I].push(z)):b=!0);V&&g[T].push(z)}}M>0&&b===!1&&(m=g)}let _;for(let b=0,M=v.length;b<M;b++){l=v[b].s,c.push(l),_=m[b];for(let T=0,U=_.length;T<U;T++)l.holes.push(_[T].h)}return c}}class W8 extends bf{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){sn("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function q8(i,e){const t=i.image&&i.image.width?i.image.width/i.image.height:1;return t>e?(i.repeat.x=1,i.repeat.y=t/e,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2):(i.repeat.x=e/t,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0),i}function X8(i,e){const t=i.image&&i.image.width?i.image.width/i.image.height:1;return t>e?(i.repeat.x=e/t,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0):(i.repeat.x=1,i.repeat.y=t/e,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2),i}function Y8(i){return i.repeat.x=1,i.repeat.y=1,i.offset.x=0,i.offset.y=0,i}function P2(i,e,t,n){const r=J8(n);switch(t){case $C:return i*e;case Pb:return i*e/r.components*r.byteLength;case hv:return i*e/r.components*r.byteLength;case Qp:return i*e*2/r.components*r.byteLength;case Qb:return i*e*2/r.components*r.byteLength;case eE:return i*e*3/r.components*r.byteLength;case Vo:return i*e*4/r.components*r.byteLength;case Hb:return i*e*4/r.components*r.byteLength;case g1:case m1:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case v1:case y1:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case Bx:case Cx:return Math.max(i,16)*Math.max(e,8)/4;case _x:case Sx:return Math.max(i,8)*Math.max(e,8)/2;case Ex:case Mx:case Tx:case Fx:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case Ux:case Lx:case Ix:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case Rx:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case Nx:return Math.floor((i+4)/5)*Math.floor((e+3)/4)*16;case Dx:return Math.floor((i+4)/5)*Math.floor((e+4)/5)*16;case Ox:return Math.floor((i+5)/6)*Math.floor((e+4)/5)*16;case Px:return Math.floor((i+5)/6)*Math.floor((e+5)/6)*16;case Qx:return Math.floor((i+7)/8)*Math.floor((e+4)/5)*16;case Hx:return Math.floor((i+7)/8)*Math.floor((e+5)/6)*16;case kx:return Math.floor((i+7)/8)*Math.floor((e+7)/8)*16;case zx:return Math.floor((i+9)/10)*Math.floor((e+4)/5)*16;case Gx:return Math.floor((i+9)/10)*Math.floor((e+5)/6)*16;case Vx:return Math.floor((i+9)/10)*Math.floor((e+7)/8)*16;case jx:return Math.floor((i+9)/10)*Math.floor((e+9)/10)*16;case Kx:return Math.floor((i+11)/12)*Math.floor((e+9)/10)*16;case Wx:return Math.floor((i+11)/12)*Math.floor((e+11)/12)*16;case qx:case Xx:case Yx:return Math.ceil(i/4)*Math.ceil(e/4)*16;case Jx:case Zx:return Math.ceil(i/4)*Math.ceil(e/4)*8;case $x:case eb:return Math.ceil(i/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function J8(i){switch(i){case VA:case XC:return{byteLength:1,components:1};case Lm:case YC:case _c:return{byteLength:2,components:1};case Db:case Ob:return{byteLength:2,components:4};case Vu:case Nb:case yA:return{byteLength:4,components:1};case JC:case ZC:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${i}.`)}class Z8{static contain(e,t){return q8(e,t)}static cover(e,t){return X8(e,t)}static fill(e){return Y8(e)}static getByteLength(e,t,n,r){return P2(e,t,n,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:jm}}));typeof window<"u"&&(window.__THREE__?sn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=jm);function nI(){let i=null,e=!1,t=null,n=null;function r(s,a){t(s,a),n=i.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(n=i.requestAnimationFrame(r),e=!0)},stop:function(){i.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){i=s}}}function $8(i){const e=new WeakMap;function t(A,l){const c=A.array,h=A.usage,g=c.byteLength,v=i.createBuffer();i.bindBuffer(l,v),i.bufferData(l,c,h),A.onUploadCallback();let m;if(c instanceof Float32Array)m=i.FLOAT;else if(typeof Float16Array<"u"&&c instanceof Float16Array)m=i.HALF_FLOAT;else if(c instanceof Uint16Array)A.isFloat16BufferAttribute?m=i.HALF_FLOAT:m=i.UNSIGNED_SHORT;else if(c instanceof Int16Array)m=i.SHORT;else if(c instanceof Uint32Array)m=i.UNSIGNED_INT;else if(c instanceof Int32Array)m=i.INT;else if(c instanceof Int8Array)m=i.BYTE;else if(c instanceof Uint8Array)m=i.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)m=i.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:v,type:m,bytesPerElement:c.BYTES_PER_ELEMENT,version:A.version,size:g}}function n(A,l,c){const h=l.array,g=l.updateRanges;if(i.bindBuffer(c,A),g.length===0)i.bufferSubData(c,0,h);else{g.sort((m,x)=>m.start-x.start);let v=0;for(let m=1;m<g.length;m++){const x=g[v],B=g[m];B.start<=x.start+x.count+1?x.count=Math.max(x.count,B.start+B.count-x.start):(++v,g[v]=B)}g.length=v+1;for(let m=0,x=g.length;m<x;m++){const B=g[m];i.bufferSubData(c,B.start*h.BYTES_PER_ELEMENT,h,B.start,B.count)}l.clearUpdateRanges()}l.onUploadCallback()}function r(A){return A.isInterleavedBufferAttribute&&(A=A.data),e.get(A)}function s(A){A.isInterleavedBufferAttribute&&(A=A.data);const l=e.get(A);l&&(i.deleteBuffer(l.buffer),e.delete(A))}function a(A,l){if(A.isInterleavedBufferAttribute&&(A=A.data),A.isGLBufferAttribute){const h=e.get(A);(!h||h.version<A.version)&&e.set(A,{buffer:A.buffer,type:A.type,bytesPerElement:A.elementSize,version:A.version});return}const c=e.get(A);if(c===void 0)e.set(A,t(A,l));else if(c.version<A.version){if(c.size!==A.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");n(c.buffer,A,l),c.version=A.version}}return{get:r,remove:s,update:a}}var eQ=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,tQ=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,nQ=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,iQ=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,rQ=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,sQ=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aQ=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,oQ=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,AQ=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,lQ=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,uQ=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,cQ=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,fQ=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,hQ=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,dQ=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,pQ=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,gQ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,mQ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,vQ=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,yQ=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,wQ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,xQ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,bQ=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,_Q=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,BQ=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,SQ=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,CQ=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,EQ=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,MQ=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,UQ=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,TQ="gl_FragColor = linearToOutputTexel( gl_FragColor );",FQ=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,LQ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,IQ=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,RQ=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,NQ=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,DQ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,OQ=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,PQ=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,QQ=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,HQ=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,kQ=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,zQ=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,GQ=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,VQ=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,jQ=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,KQ=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,WQ=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,qQ=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,XQ=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,YQ=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,JQ=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.diffuseContribution = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.metalness = metalnessFactor;
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor;
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = vec3( 0.04 );
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.0001, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,ZQ=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	vec3 diffuseContribution;
	vec3 specularColor;
	vec3 specularColorBlended;
	float roughness;
	float metalness;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
		vec3 iridescenceFresnelDielectric;
		vec3 iridescenceFresnelMetallic;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return v;
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColorBlended;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float rInv = 1.0 / ( roughness + 0.1 );
	float a = -1.9362 + 1.0678 * roughness + 0.4573 * r2 - 0.8469 * rInv;
	float b = -0.6014 + 0.5538 * roughness - 0.4670 * r2 - 0.1255 * rInv;
	float DG = exp( a * dotNV + b );
	return saturate( DG );
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = texture2D( dfgLUT, vec2( material.roughness, dotNV ) ).rg;
	vec2 dfgL = texture2D( dfgLUT, vec2( material.roughness, dotNL ) ).rg;
	vec3 FssEss_V = material.specularColorBlended * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColorBlended * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColorBlended + ( 1.0 - material.specularColorBlended ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColorBlended * t2.x + ( vec3( 1.0 ) - material.specularColorBlended ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseContribution * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
 
 		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
 
 		float sheenAlbedoV = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
 		float sheenAlbedoL = IBLSheenBRDF( geometryNormal, directLight.direction, material.sheenRoughness );
 
 		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * max( sheenAlbedoV, sheenAlbedoL );
 
 		irradiance *= sheenEnergyComp;
 
 	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseContribution );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 diffuse = irradiance * BRDF_Lambert( material.diffuseContribution );
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		diffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectDiffuse += diffuse;
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness ) * RECIPROCAL_PI;
 	#endif
	vec3 singleScatteringDielectric = vec3( 0.0 );
	vec3 multiScatteringDielectric = vec3( 0.0 );
	vec3 singleScatteringMetallic = vec3( 0.0 );
	vec3 multiScatteringMetallic = vec3( 0.0 );
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnelDielectric, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.iridescence, material.iridescenceFresnelMetallic, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscattering( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#endif
	vec3 singleScattering = mix( singleScatteringDielectric, singleScatteringMetallic, material.metalness );
	vec3 multiScattering = mix( multiScatteringDielectric, multiScatteringMetallic, material.metalness );
	vec3 totalScatteringDielectric = singleScatteringDielectric + multiScatteringDielectric;
	vec3 diffuse = material.diffuseContribution * ( 1.0 - totalScatteringDielectric );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	vec3 indirectSpecular = radiance * singleScattering;
	indirectSpecular += multiScattering * cosineWeightedIrradiance;
	vec3 indirectDiffuse = diffuse * cosineWeightedIrradiance;
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		indirectSpecular *= sheenEnergyComp;
		indirectDiffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectSpecular += indirectSpecular;
	reflectedLight.indirectDiffuse += indirectDiffuse;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,$Q=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnelDielectric = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceFresnelMetallic = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.diffuseColor );
		material.iridescenceFresnel = mix( material.iridescenceFresnelDielectric, material.iridescenceFresnelMetallic, material.metalness );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS ) && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,eH=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,tH=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,nH=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,iH=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,rH=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,sH=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,aH=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,oH=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,AH=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,lH=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,uH=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,cH=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,fH=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,hH=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,dH=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,pH=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,gH=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,mH=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,vH=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,yH=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,wH=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,xH=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,bH=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,_H=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,BH=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,SH=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,CH=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,EH=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,MH=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,UH=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,TH=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,FH=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,LH=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,IH=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,RH=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,NH=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#else
			uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#endif
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#else
			uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#endif
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform samplerCubeShadow pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#elif defined( SHADOWMAP_TYPE_BASIC )
			uniform samplerCube pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#endif
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float interleavedGradientNoise( vec2 position ) {
			return fract( 52.9829189 * fract( dot( position, vec2( 0.06711056, 0.00583715 ) ) ) );
		}
		vec2 vogelDiskSample( int sampleIndex, int samplesCount, float phi ) {
			const float goldenAngle = 2.399963229728653;
			float r = sqrt( ( float( sampleIndex ) + 0.5 ) / float( samplesCount ) );
			float theta = float( sampleIndex ) * goldenAngle + phi;
			return vec2( cos( theta ), sin( theta ) ) * r;
		}
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float getShadow( sampler2DShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
				float radius = shadowRadius * texelSize.x;
				float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
				shadow = (
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 0, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 1, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 2, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 3, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 4, 5, phi ) * radius, shadowCoord.z ) )
				) * 0.2;
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#elif defined( SHADOWMAP_TYPE_VSM )
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 distribution = texture2D( shadowMap, shadowCoord.xy ).rg;
				float mean = distribution.x;
				float variance = distribution.y * distribution.y;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					float hard_shadow = step( mean, shadowCoord.z );
				#else
					float hard_shadow = step( shadowCoord.z, mean );
				#endif
				if ( hard_shadow == 1.0 ) {
					shadow = 1.0;
				} else {
					variance = max( variance, 0.0000001 );
					float d = shadowCoord.z - mean;
					float p_max = variance / ( variance + d * d );
					p_max = clamp( ( p_max - 0.3 ) / 0.65, 0.0, 1.0 );
					shadow = max( hard_shadow, p_max );
				}
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#else
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				float depth = texture2D( shadowMap, shadowCoord.xy ).r;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					shadow = step( depth, shadowCoord.z );
				#else
					shadow = step( shadowCoord.z, depth );
				#endif
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#if defined( SHADOWMAP_TYPE_PCF )
	float getPointShadow( samplerCubeShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float texelSize = shadowRadius / shadowMapSize.x;
			vec3 absDir = abs( bd3D );
			vec3 tangent = absDir.x > absDir.z ? vec3( 0.0, 1.0, 0.0 ) : vec3( 1.0, 0.0, 0.0 );
			tangent = normalize( cross( bd3D, tangent ) );
			vec3 bitangent = cross( bd3D, tangent );
			float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
			shadow = (
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 0, 5, phi ).x + bitangent * vogelDiskSample( 0, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 1, 5, phi ).x + bitangent * vogelDiskSample( 1, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 2, 5, phi ).x + bitangent * vogelDiskSample( 2, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 3, 5, phi ).x + bitangent * vogelDiskSample( 3, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 4, 5, phi ).x + bitangent * vogelDiskSample( 4, 5, phi ).y ) * texelSize, dp ) )
			) * 0.2;
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#elif defined( SHADOWMAP_TYPE_BASIC )
	float getPointShadow( samplerCube shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float depth = textureCube( shadowMap, bd3D ).r;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadow = step( depth, dp );
			#else
				shadow = step( dp, depth );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#endif
	#endif
#endif`,DH=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,OH=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,PH=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0 && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,QH=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,HH=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,kH=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,zH=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,GH=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,VH=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,jH=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,KH=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,WH=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseContribution, material.specularColorBlended, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,qH=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,XH=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,YH=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,JH=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,ZH=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const $H=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,ek=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,tk=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,nk=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,ik=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,rk=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,sk=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,ak=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,ok=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Ak=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = vec4( dist, 0.0, 0.0, 1.0 );
}`,lk=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,uk=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,ck=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fk=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,hk=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,dk=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pk=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,gk=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mk=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,vk=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,yk=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,wk=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( normalize( normal ) * 0.5 + 0.5, diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,xk=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,bk=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_k=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Bk=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
 
		outgoingLight = outgoingLight + sheenSpecularDirect + sheenSpecularIndirect;
 
 	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Sk=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Ck=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ek=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Mk=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Uk=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Tk=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Fk=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Lk=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,wi={alphahash_fragment:eQ,alphahash_pars_fragment:tQ,alphamap_fragment:nQ,alphamap_pars_fragment:iQ,alphatest_fragment:rQ,alphatest_pars_fragment:sQ,aomap_fragment:aQ,aomap_pars_fragment:oQ,batching_pars_vertex:AQ,batching_vertex:lQ,begin_vertex:uQ,beginnormal_vertex:cQ,bsdfs:fQ,iridescence_fragment:hQ,bumpmap_pars_fragment:dQ,clipping_planes_fragment:pQ,clipping_planes_pars_fragment:gQ,clipping_planes_pars_vertex:mQ,clipping_planes_vertex:vQ,color_fragment:yQ,color_pars_fragment:wQ,color_pars_vertex:xQ,color_vertex:bQ,common:_Q,cube_uv_reflection_fragment:BQ,defaultnormal_vertex:SQ,displacementmap_pars_vertex:CQ,displacementmap_vertex:EQ,emissivemap_fragment:MQ,emissivemap_pars_fragment:UQ,colorspace_fragment:TQ,colorspace_pars_fragment:FQ,envmap_fragment:LQ,envmap_common_pars_fragment:IQ,envmap_pars_fragment:RQ,envmap_pars_vertex:NQ,envmap_physical_pars_fragment:KQ,envmap_vertex:DQ,fog_vertex:OQ,fog_pars_vertex:PQ,fog_fragment:QQ,fog_pars_fragment:HQ,gradientmap_pars_fragment:kQ,lightmap_pars_fragment:zQ,lights_lambert_fragment:GQ,lights_lambert_pars_fragment:VQ,lights_pars_begin:jQ,lights_toon_fragment:WQ,lights_toon_pars_fragment:qQ,lights_phong_fragment:XQ,lights_phong_pars_fragment:YQ,lights_physical_fragment:JQ,lights_physical_pars_fragment:ZQ,lights_fragment_begin:$Q,lights_fragment_maps:eH,lights_fragment_end:tH,logdepthbuf_fragment:nH,logdepthbuf_pars_fragment:iH,logdepthbuf_pars_vertex:rH,logdepthbuf_vertex:sH,map_fragment:aH,map_pars_fragment:oH,map_particle_fragment:AH,map_particle_pars_fragment:lH,metalnessmap_fragment:uH,metalnessmap_pars_fragment:cH,morphinstance_vertex:fH,morphcolor_vertex:hH,morphnormal_vertex:dH,morphtarget_pars_vertex:pH,morphtarget_vertex:gH,normal_fragment_begin:mH,normal_fragment_maps:vH,normal_pars_fragment:yH,normal_pars_vertex:wH,normal_vertex:xH,normalmap_pars_fragment:bH,clearcoat_normal_fragment_begin:_H,clearcoat_normal_fragment_maps:BH,clearcoat_pars_fragment:SH,iridescence_pars_fragment:CH,opaque_fragment:EH,packing:MH,premultiplied_alpha_fragment:UH,project_vertex:TH,dithering_fragment:FH,dithering_pars_fragment:LH,roughnessmap_fragment:IH,roughnessmap_pars_fragment:RH,shadowmap_pars_fragment:NH,shadowmap_pars_vertex:DH,shadowmap_vertex:OH,shadowmask_pars_fragment:PH,skinbase_vertex:QH,skinning_pars_vertex:HH,skinning_vertex:kH,skinnormal_vertex:zH,specularmap_fragment:GH,specularmap_pars_fragment:VH,tonemapping_fragment:jH,tonemapping_pars_fragment:KH,transmission_fragment:WH,transmission_pars_fragment:qH,uv_pars_fragment:XH,uv_pars_vertex:YH,uv_vertex:JH,worldpos_vertex:ZH,background_vert:$H,background_frag:ek,backgroundCube_vert:tk,backgroundCube_frag:nk,cube_vert:ik,cube_frag:rk,depth_vert:sk,depth_frag:ak,distance_vert:ok,distance_frag:Ak,equirect_vert:lk,equirect_frag:uk,linedashed_vert:ck,linedashed_frag:fk,meshbasic_vert:hk,meshbasic_frag:dk,meshlambert_vert:pk,meshlambert_frag:gk,meshmatcap_vert:mk,meshmatcap_frag:vk,meshnormal_vert:yk,meshnormal_frag:wk,meshphong_vert:xk,meshphong_frag:bk,meshphysical_vert:_k,meshphysical_frag:Bk,meshtoon_vert:Sk,meshtoon_frag:Ck,points_vert:Ek,points_frag:Mk,shadow_vert:Uk,shadow_frag:Tk,sprite_vert:Fk,sprite_frag:Lk},rn={common:{diffuse:{value:new an(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Ai},alphaMap:{value:null},alphaMapTransform:{value:new Ai},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Ai}},envmap:{envMap:{value:null},envMapRotation:{value:new Ai},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Ai}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Ai}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Ai},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Ai},normalScale:{value:new Rt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Ai},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Ai}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Ai}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Ai}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new an(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new an(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Ai},alphaTest:{value:0},uvTransform:{value:new Ai}},sprite:{diffuse:{value:new an(16777215)},opacity:{value:1},center:{value:new Rt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Ai},alphaMap:{value:null},alphaMapTransform:{value:new Ai},alphaTest:{value:0}}},gc={basic:{uniforms:zA([rn.common,rn.specularmap,rn.envmap,rn.aomap,rn.lightmap,rn.fog]),vertexShader:wi.meshbasic_vert,fragmentShader:wi.meshbasic_frag},lambert:{uniforms:zA([rn.common,rn.specularmap,rn.envmap,rn.aomap,rn.lightmap,rn.emissivemap,rn.bumpmap,rn.normalmap,rn.displacementmap,rn.fog,rn.lights,{emissive:{value:new an(0)}}]),vertexShader:wi.meshlambert_vert,fragmentShader:wi.meshlambert_frag},phong:{uniforms:zA([rn.common,rn.specularmap,rn.envmap,rn.aomap,rn.lightmap,rn.emissivemap,rn.bumpmap,rn.normalmap,rn.displacementmap,rn.fog,rn.lights,{emissive:{value:new an(0)},specular:{value:new an(1118481)},shininess:{value:30}}]),vertexShader:wi.meshphong_vert,fragmentShader:wi.meshphong_frag},standard:{uniforms:zA([rn.common,rn.envmap,rn.aomap,rn.lightmap,rn.emissivemap,rn.bumpmap,rn.normalmap,rn.displacementmap,rn.roughnessmap,rn.metalnessmap,rn.fog,rn.lights,{emissive:{value:new an(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:wi.meshphysical_vert,fragmentShader:wi.meshphysical_frag},toon:{uniforms:zA([rn.common,rn.aomap,rn.lightmap,rn.emissivemap,rn.bumpmap,rn.normalmap,rn.displacementmap,rn.gradientmap,rn.fog,rn.lights,{emissive:{value:new an(0)}}]),vertexShader:wi.meshtoon_vert,fragmentShader:wi.meshtoon_frag},matcap:{uniforms:zA([rn.common,rn.bumpmap,rn.normalmap,rn.displacementmap,rn.fog,{matcap:{value:null}}]),vertexShader:wi.meshmatcap_vert,fragmentShader:wi.meshmatcap_frag},points:{uniforms:zA([rn.points,rn.fog]),vertexShader:wi.points_vert,fragmentShader:wi.points_frag},dashed:{uniforms:zA([rn.common,rn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:wi.linedashed_vert,fragmentShader:wi.linedashed_frag},depth:{uniforms:zA([rn.common,rn.displacementmap]),vertexShader:wi.depth_vert,fragmentShader:wi.depth_frag},normal:{uniforms:zA([rn.common,rn.bumpmap,rn.normalmap,rn.displacementmap,{opacity:{value:1}}]),vertexShader:wi.meshnormal_vert,fragmentShader:wi.meshnormal_frag},sprite:{uniforms:zA([rn.sprite,rn.fog]),vertexShader:wi.sprite_vert,fragmentShader:wi.sprite_frag},background:{uniforms:{uvTransform:{value:new Ai},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:wi.background_vert,fragmentShader:wi.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Ai}},vertexShader:wi.backgroundCube_vert,fragmentShader:wi.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:wi.cube_vert,fragmentShader:wi.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:wi.equirect_vert,fragmentShader:wi.equirect_frag},distance:{uniforms:zA([rn.common,rn.displacementmap,{referencePosition:{value:new Ce},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:wi.distance_vert,fragmentShader:wi.distance_frag},shadow:{uniforms:zA([rn.lights,rn.fog,{color:{value:new an(0)},opacity:{value:1}}]),vertexShader:wi.shadow_vert,fragmentShader:wi.shadow_frag}};gc.physical={uniforms:zA([gc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Ai},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Ai},clearcoatNormalScale:{value:new Rt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Ai},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Ai},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Ai},sheen:{value:0},sheenColor:{value:new an(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Ai},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Ai},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Ai},transmissionSamplerSize:{value:new Rt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Ai},attenuationDistance:{value:0},attenuationColor:{value:new an(0)},specularColor:{value:new an(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Ai},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Ai},anisotropyVector:{value:new Rt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Ai}}]),vertexShader:wi.meshphysical_vert,fragmentShader:wi.meshphysical_frag};const ow={r:0,b:0,g:0},cp=new uu,Ik=new Vn;function Rk(i,e,t,n,r,s,a){const A=new an(0);let l=s===!0?0:1,c,h,g=null,v=0,m=null;function x(T){let U=T.isScene===!0?T.background:null;return U&&U.isTexture&&(U=(T.backgroundBlurriness>0?t:e).get(U)),U}function B(T){let U=!1;const R=x(T);R===null?b(A,l):R&&R.isColor&&(b(R,1),U=!0);const O=i.xr.getEnvironmentBlendMode();O==="additive"?n.buffers.color.setClear(0,0,0,1,a):O==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,a),(i.autoClear||U)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil))}function _(T,U){const R=x(U);R&&(R.isCubeTexture||R.mapping===Km)?(h===void 0&&(h=new xs(new qp(1,1,1),new qA({name:"BackgroundCubeMaterial",uniforms:Qm(gc.backgroundCube.uniforms),vertexShader:gc.backgroundCube.vertexShader,fragmentShader:gc.backgroundCube.fragmentShader,side:WA,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(O,z,V){this.matrixWorld.copyPosition(V.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(h)),cp.copy(U.backgroundRotation),cp.x*=-1,cp.y*=-1,cp.z*=-1,R.isCubeTexture&&R.isRenderTargetTexture===!1&&(cp.y*=-1,cp.z*=-1),h.material.uniforms.envMap.value=R,h.material.uniforms.flipEnvMap.value=R.isCubeTexture&&R.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=U.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=U.backgroundIntensity,h.material.uniforms.backgroundRotation.value.setFromMatrix4(Ik.makeRotationFromEuler(cp)),h.material.toneMapped=Wi.getTransfer(R.colorSpace)!==Mr,(g!==R||v!==R.version||m!==i.toneMapping)&&(h.material.needsUpdate=!0,g=R,v=R.version,m=i.toneMapping),h.layers.enableAll(),T.unshift(h,h.geometry,h.material,0,0,null)):R&&R.isTexture&&(c===void 0&&(c=new xs(new Bf(2,2),new qA({name:"BackgroundMaterial",uniforms:Qm(gc.background.uniforms),vertexShader:gc.background.vertexShader,fragmentShader:gc.background.fragmentShader,side:dh,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=R,c.material.uniforms.backgroundIntensity.value=U.backgroundIntensity,c.material.toneMapped=Wi.getTransfer(R.colorSpace)!==Mr,R.matrixAutoUpdate===!0&&R.updateMatrix(),c.material.uniforms.uvTransform.value.copy(R.matrix),(g!==R||v!==R.version||m!==i.toneMapping)&&(c.material.needsUpdate=!0,g=R,v=R.version,m=i.toneMapping),c.layers.enableAll(),T.unshift(c,c.geometry,c.material,0,0,null))}function b(T,U){T.getRGB(ow,AL(i)),n.buffers.color.setClear(ow.r,ow.g,ow.b,U,a)}function M(){h!==void 0&&(h.geometry.dispose(),h.material.dispose(),h=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return A},setClearColor:function(T,U=1){A.set(T),l=U,b(A,l)},getClearAlpha:function(){return l},setClearAlpha:function(T){l=T,b(A,l)},render:B,addToRenderList:_,dispose:M}}function Nk(i,e){const t=i.getParameter(i.MAX_VERTEX_ATTRIBS),n={},r=v(null);let s=r,a=!1;function A(P,k,G,q,H){let ae=!1;const Z=g(q,G,k);s!==Z&&(s=Z,c(s.object)),ae=m(P,q,G,H),ae&&x(P,q,G,H),H!==null&&e.update(H,i.ELEMENT_ARRAY_BUFFER),(ae||a)&&(a=!1,U(P,k,G,q),H!==null&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.get(H).buffer))}function l(){return i.createVertexArray()}function c(P){return i.bindVertexArray(P)}function h(P){return i.deleteVertexArray(P)}function g(P,k,G){const q=G.wireframe===!0;let H=n[P.id];H===void 0&&(H={},n[P.id]=H);let ae=H[k.id];ae===void 0&&(ae={},H[k.id]=ae);let Z=ae[q];return Z===void 0&&(Z=v(l()),ae[q]=Z),Z}function v(P){const k=[],G=[],q=[];for(let H=0;H<t;H++)k[H]=0,G[H]=0,q[H]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:k,enabledAttributes:G,attributeDivisors:q,object:P,attributes:{},index:null}}function m(P,k,G,q){const H=s.attributes,ae=k.attributes;let Z=0;const ne=G.getAttributes();for(const oe in ne)if(ne[oe].location>=0){const me=H[oe];let W=ae[oe];if(W===void 0&&(oe==="instanceMatrix"&&P.instanceMatrix&&(W=P.instanceMatrix),oe==="instanceColor"&&P.instanceColor&&(W=P.instanceColor)),me===void 0||me.attribute!==W||W&&me.data!==W.data)return!0;Z++}return s.attributesNum!==Z||s.index!==q}function x(P,k,G,q){const H={},ae=k.attributes;let Z=0;const ne=G.getAttributes();for(const oe in ne)if(ne[oe].location>=0){let me=ae[oe];me===void 0&&(oe==="instanceMatrix"&&P.instanceMatrix&&(me=P.instanceMatrix),oe==="instanceColor"&&P.instanceColor&&(me=P.instanceColor));const W={};W.attribute=me,me&&me.data&&(W.data=me.data),H[oe]=W,Z++}s.attributes=H,s.attributesNum=Z,s.index=q}function B(){const P=s.newAttributes;for(let k=0,G=P.length;k<G;k++)P[k]=0}function _(P){b(P,0)}function b(P,k){const G=s.newAttributes,q=s.enabledAttributes,H=s.attributeDivisors;G[P]=1,q[P]===0&&(i.enableVertexAttribArray(P),q[P]=1),H[P]!==k&&(i.vertexAttribDivisor(P,k),H[P]=k)}function M(){const P=s.newAttributes,k=s.enabledAttributes;for(let G=0,q=k.length;G<q;G++)k[G]!==P[G]&&(i.disableVertexAttribArray(G),k[G]=0)}function T(P,k,G,q,H,ae,Z){Z===!0?i.vertexAttribIPointer(P,k,G,H,ae):i.vertexAttribPointer(P,k,G,q,H,ae)}function U(P,k,G,q){B();const H=q.attributes,ae=G.getAttributes(),Z=k.defaultAttributeValues;for(const ne in ae){const oe=ae[ne];if(oe.location>=0){let fe=H[ne];if(fe===void 0&&(ne==="instanceMatrix"&&P.instanceMatrix&&(fe=P.instanceMatrix),ne==="instanceColor"&&P.instanceColor&&(fe=P.instanceColor)),fe!==void 0){const me=fe.normalized,W=fe.itemSize,Q=e.get(fe);if(Q===void 0)continue;const X=Q.buffer,Y=Q.type,ie=Q.bytesPerElement,te=Y===i.INT||Y===i.UNSIGNED_INT||fe.gpuType===Nb;if(fe.isInterleavedBufferAttribute){const se=fe.data,ye=se.stride,xe=fe.offset;if(se.isInstancedInterleavedBuffer){for(let Fe=0;Fe<oe.locationSize;Fe++)b(oe.location+Fe,se.meshPerAttribute);P.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=se.meshPerAttribute*se.count)}else for(let Fe=0;Fe<oe.locationSize;Fe++)_(oe.location+Fe);i.bindBuffer(i.ARRAY_BUFFER,X);for(let Fe=0;Fe<oe.locationSize;Fe++)T(oe.location+Fe,W/oe.locationSize,Y,me,ye*ie,(xe+W/oe.locationSize*Fe)*ie,te)}else{if(fe.isInstancedBufferAttribute){for(let se=0;se<oe.locationSize;se++)b(oe.location+se,fe.meshPerAttribute);P.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=fe.meshPerAttribute*fe.count)}else for(let se=0;se<oe.locationSize;se++)_(oe.location+se);i.bindBuffer(i.ARRAY_BUFFER,X);for(let se=0;se<oe.locationSize;se++)T(oe.location+se,W/oe.locationSize,Y,me,W*ie,W/oe.locationSize*se*ie,te)}}else if(Z!==void 0){const me=Z[ne];if(me!==void 0)switch(me.length){case 2:i.vertexAttrib2fv(oe.location,me);break;case 3:i.vertexAttrib3fv(oe.location,me);break;case 4:i.vertexAttrib4fv(oe.location,me);break;default:i.vertexAttrib1fv(oe.location,me)}}}}M()}function R(){V();for(const P in n){const k=n[P];for(const G in k){const q=k[G];for(const H in q)h(q[H].object),delete q[H];delete k[G]}delete n[P]}}function O(P){if(n[P.id]===void 0)return;const k=n[P.id];for(const G in k){const q=k[G];for(const H in q)h(q[H].object),delete q[H];delete k[G]}delete n[P.id]}function z(P){for(const k in n){const G=n[k];if(G[P.id]===void 0)continue;const q=G[P.id];for(const H in q)h(q[H].object),delete q[H];delete G[P.id]}}function V(){I(),a=!0,s!==r&&(s=r,c(s.object))}function I(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:A,reset:V,resetDefaultState:I,dispose:R,releaseStatesOfGeometry:O,releaseStatesOfProgram:z,initAttributes:B,enableAttribute:_,disableUnusedAttributes:M}}function Dk(i,e,t){let n;function r(c){n=c}function s(c,h){i.drawArrays(n,c,h),t.update(h,n,1)}function a(c,h,g){g!==0&&(i.drawArraysInstanced(n,c,h,g),t.update(h,n,g))}function A(c,h,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(n,c,0,h,0,g);let m=0;for(let x=0;x<g;x++)m+=h[x];t.update(m,n,1)}function l(c,h,g,v){if(g===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let x=0;x<c.length;x++)a(c[x],h[x],v[x]);else{m.multiDrawArraysInstancedWEBGL(n,c,0,h,0,v,0,g);let x=0;for(let B=0;B<g;B++)x+=h[B]*v[B];t.update(x,n,1)}}this.setMode=r,this.render=s,this.renderInstances=a,this.renderMultiDraw=A,this.renderMultiDrawInstances=l}function Ok(i,e,t,n){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const z=e.get("EXT_texture_filter_anisotropic");r=i.getParameter(z.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(z){return!(z!==Vo&&n.convert(z)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_FORMAT))}function A(z){const V=z===_c&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(z!==VA&&n.convert(z)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_TYPE)&&z!==yA&&!V)}function l(z){if(z==="highp"){if(i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision>0)return"highp";z="mediump"}return z==="mediump"&&i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=t.precision!==void 0?t.precision:"highp";const h=l(c);h!==c&&(sn("WebGLRenderer:",c,"not supported, using",h,"instead."),c=h);const g=t.logarithmicDepthBuffer===!0,v=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),m=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),x=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS),B=i.getParameter(i.MAX_TEXTURE_SIZE),_=i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE),b=i.getParameter(i.MAX_VERTEX_ATTRIBS),M=i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS),T=i.getParameter(i.MAX_VARYING_VECTORS),U=i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS),R=i.getParameter(i.MAX_SAMPLES),O=i.getParameter(i.SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:a,textureTypeReadable:A,precision:c,logarithmicDepthBuffer:g,reversedDepthBuffer:v,maxTextures:m,maxVertexTextures:x,maxTextureSize:B,maxCubemapSize:_,maxAttributes:b,maxVertexUniforms:M,maxVaryings:T,maxFragmentUniforms:U,maxSamples:R,samples:O}}function Pk(i){const e=this;let t=null,n=0,r=!1,s=!1;const a=new ah,A=new Ai,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(g,v){const m=g.length!==0||v||n!==0||r;return r=v,n=g.length,m},this.beginShadows=function(){s=!0,h(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(g,v){t=h(g,v,0)},this.setState=function(g,v,m){const x=g.clippingPlanes,B=g.clipIntersection,_=g.clipShadows,b=i.get(g);if(!r||x===null||x.length===0||s&&!_)s?h(null):c();else{const M=s?0:n,T=M*4;let U=b.clippingState||null;l.value=U,U=h(x,v,T,m);for(let R=0;R!==T;++R)U[R]=t[R];b.clippingState=U,this.numIntersection=B?this.numPlanes:0,this.numPlanes+=M}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function h(g,v,m,x){const B=g!==null?g.length:0;let _=null;if(B!==0){if(_=l.value,x!==!0||_===null){const b=m+B*4,M=v.matrixWorldInverse;A.getNormalMatrix(M),(_===null||_.length<b)&&(_=new Float32Array(b));for(let T=0,U=m;T!==B;++T,U+=4)a.copy(g[T]).applyMatrix4(M,A),a.normal.toArray(_,U),_[U+3]=a.constant}l.value=_,l.needsUpdate=!0}return e.numPlanes=B,e.numIntersection=0,_}}function Qk(i){let e=new WeakMap;function t(a,A){return A===D1?a.mapping=wf:A===O1&&(a.mapping=yd),a}function n(a){if(a&&a.isTexture){const A=a.mapping;if(A===D1||A===O1)if(e.has(a)){const l=e.get(a).texture;return t(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const c=new oE(l.height);return c.fromEquirectangularTexture(i,a),e.set(a,c),a.addEventListener("dispose",r),t(c.texture,a.mapping)}else return null}}return a}function r(a){const A=a.target;A.removeEventListener("dispose",r);const l=e.get(A);l!==void 0&&(e.delete(A),l.dispose())}function s(){e=new WeakMap}return{get:n,dispose:s}}const ld=4,yM=[.125,.215,.35,.446,.526,.582],yp=20,Hk=256,V0=new fh,wM=new an;let tS=null,nS=0,iS=0,rS=!1;const kk=new Ce;class Q2{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,t=0,n=.1,r=100,s={}){const{size:a=256,position:A=kk}=s;tS=this._renderer.getRenderTarget(),nS=this._renderer.getActiveCubeFace(),iS=this._renderer.getActiveMipmapLevel(),rS=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,n,r,l,A),t>0&&this._blur(l,0,0,t),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_M(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=bM(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(tS,nS,iS),this._renderer.xr.enabled=rS,e.scissorTest=!1,Xg(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===wf||e.mapping===yd?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),tS=this._renderer.getRenderTarget(),nS=this._renderer.getActiveCubeFace(),iS=this._renderer.getActiveMipmapLevel(),rS=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Tr,minFilter:Tr,generateMipmaps:!1,type:_c,format:Vo,colorSpace:wd,depthBuffer:!1},r=xM(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=xM(e,t,n);const{_lodMax:s}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=zk(s)),this._blurMaterial=Vk(s,e,t),this._ggxMaterial=Gk(s,e,t)}return r}_compileMaterial(e){const t=new xs(new ui,e);this._renderer.compile(t,V0)}_sceneToCubeUV(e,t,n,r,s){const l=new Ea(90,1,t,n),c=[1,-1,1,1,1,1],h=[1,1,1,-1,-1,-1],g=this._renderer,v=g.autoClear,m=g.toneMapping;g.getClearColor(wM),g.toneMapping=Gu,g.autoClear=!1,g.state.buffers.depth.getReversed()&&(g.setRenderTarget(r),g.clearDepth(),g.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new xs(new qp,new vh({name:"PMREM.Background",side:WA,depthWrite:!1,depthTest:!1})));const B=this._backgroundBox,_=B.material;let b=!1;const M=e.background;M?M.isColor&&(_.color.copy(M),e.background=null,b=!0):(_.color.copy(wM),b=!0);for(let T=0;T<6;T++){const U=T%3;U===0?(l.up.set(0,c[T],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x+h[T],s.y,s.z)):U===1?(l.up.set(0,0,c[T]),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y+h[T],s.z)):(l.up.set(0,c[T],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y,s.z+h[T]));const R=this._cubeSize;Xg(r,U*R,T>2?R:0,R,R),g.setRenderTarget(r),b&&g.render(B,l),g.render(e,l)}g.toneMapping=m,g.autoClear=v,e.background=M}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===wf||e.mapping===yd;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=_M()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=bM());const s=r?this._cubemapMaterial:this._equirectMaterial,a=this._lodMeshes[0];a.material=s;const A=s.uniforms;A.envMap.value=e;const l=this._cubeSize;Xg(t,0,0,3*l,2*l),n.setRenderTarget(t),n.render(a,V0)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const r=this._lodMeshes.length;for(let s=1;s<r;s++)this._applyGGXFilter(e,s-1,s);t.autoClear=n}_applyGGXFilter(e,t,n){const r=this._renderer,s=this._pingPongRenderTarget,a=this._ggxMaterial,A=this._lodMeshes[n];A.material=a;const l=a.uniforms,c=n/(this._lodMeshes.length-1),h=t/(this._lodMeshes.length-1),g=Math.sqrt(c*c-h*h),v=0+c*1.25,m=g*v,{_lodMax:x}=this,B=this._sizeLods[n],_=3*B*(n>x-ld?n-x+ld:0),b=4*(this._cubeSize-B);l.envMap.value=e.texture,l.roughness.value=m,l.mipInt.value=x-t,Xg(s,_,b,3*B,2*B),r.setRenderTarget(s),r.render(A,V0),l.envMap.value=s.texture,l.roughness.value=0,l.mipInt.value=x-n,Xg(e,_,b,3*B,2*B),r.setRenderTarget(e),r.render(A,V0)}_blur(e,t,n,r,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",s),this._halfBlur(a,e,n,n,r,"longitudinal",s)}_halfBlur(e,t,n,r,s,a,A){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&Fn("blur direction must be either latitudinal or longitudinal!");const h=3,g=this._lodMeshes[r];g.material=c;const v=c.uniforms,m=this._sizeLods[n]-1,x=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*yp-1),B=s/x,_=isFinite(s)?1+Math.floor(h*B):yp;_>yp&&sn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${yp}`);const b=[];let M=0;for(let z=0;z<yp;++z){const V=z/B,I=Math.exp(-V*V/2);b.push(I),z===0?M+=I:z<_&&(M+=2*I)}for(let z=0;z<b.length;z++)b[z]=b[z]/M;v.envMap.value=e.texture,v.samples.value=_,v.weights.value=b,v.latitudinal.value=a==="latitudinal",A&&(v.poleAxis.value=A);const{_lodMax:T}=this;v.dTheta.value=x,v.mipInt.value=T-n;const U=this._sizeLods[r],R=3*U*(r>T-ld?r-T+ld:0),O=4*(this._cubeSize-U);Xg(t,R,O,3*U,2*U),l.setRenderTarget(t),l.render(g,V0)}}function zk(i){const e=[],t=[],n=[];let r=i;const s=i-ld+1+yM.length;for(let a=0;a<s;a++){const A=Math.pow(2,r);e.push(A);let l=1/A;a>i-ld?l=yM[a-i+ld-1]:a===0&&(l=0),t.push(l);const c=1/(A-2),h=-c,g=1+c,v=[h,h,g,h,g,g,h,h,g,g,h,g],m=6,x=6,B=3,_=2,b=1,M=new Float32Array(B*x*m),T=new Float32Array(_*x*m),U=new Float32Array(b*x*m);for(let O=0;O<m;O++){const z=O%3*2/3-1,V=O>2?0:-1,I=[z,V,0,z+2/3,V,0,z+2/3,V+1,0,z,V,0,z+2/3,V+1,0,z,V+1,0];M.set(I,B*x*O),T.set(v,_*x*O);const P=[O,O,O,O,O,O];U.set(P,b*x*O)}const R=new ui;R.setAttribute("position",new qi(M,B)),R.setAttribute("uv",new qi(T,_)),R.setAttribute("faceIndex",new qi(U,b)),n.push(new xs(R,null)),r>ld&&r--}return{lodMeshes:n,sizeLods:e,sigmas:t}}function xM(i,e,t){const n=new wA(i,e,t);return n.texture.mapping=Km,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function Xg(i,e,t,n,r){i.viewport.set(e,t,n,r),i.scissor.set(e,t,n,r)}function Gk(i,e,t){return new qA({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:Hk,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:d_(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:yf,depthTest:!1,depthWrite:!1})}function Vk(i,e,t){const n=new Float32Array(yp),r=new Ce(0,1,0);return new qA({name:"SphericalGaussianBlur",defines:{n:yp,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:d_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:yf,depthTest:!1,depthWrite:!1})}function bM(){return new qA({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:d_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:yf,depthTest:!1,depthWrite:!1})}function _M(){return new qA({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:d_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:yf,depthTest:!1,depthWrite:!1})}function d_(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function jk(i){let e=new WeakMap,t=null;function n(A){if(A&&A.isTexture){const l=A.mapping,c=l===D1||l===O1,h=l===wf||l===yd;if(c||h){let g=e.get(A);const v=g!==void 0?g.texture.pmremVersion:0;if(A.isRenderTargetTexture&&A.pmremVersion!==v)return t===null&&(t=new Q2(i)),g=c?t.fromEquirectangular(A,g):t.fromCubemap(A,g),g.texture.pmremVersion=A.pmremVersion,e.set(A,g),g.texture;if(g!==void 0)return g.texture;{const m=A.image;return c&&m&&m.height>0||h&&m&&r(m)?(t===null&&(t=new Q2(i)),g=c?t.fromEquirectangular(A):t.fromCubemap(A),g.texture.pmremVersion=A.pmremVersion,e.set(A,g),A.addEventListener("dispose",s),g.texture):null}}}return A}function r(A){let l=0;const c=6;for(let h=0;h<c;h++)A[h]!==void 0&&l++;return l===c}function s(A){const l=A.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:a}}function Kk(i){const e={};function t(n){if(e[n]!==void 0)return e[n];const r=i.getExtension(n);return e[n]=r,r}return{has:function(n){return t(n)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(n){const r=t(n);return r===null&&Dm("WebGLRenderer: "+n+" extension not supported."),r}}}function Wk(i,e,t,n){const r={},s=new WeakMap;function a(g){const v=g.target;v.index!==null&&e.remove(v.index);for(const x in v.attributes)e.remove(v.attributes[x]);v.removeEventListener("dispose",a),delete r[v.id];const m=s.get(v);m&&(e.remove(m),s.delete(v)),n.releaseStatesOfGeometry(v),v.isInstancedBufferGeometry===!0&&delete v._maxInstanceCount,t.memory.geometries--}function A(g,v){return r[v.id]===!0||(v.addEventListener("dispose",a),r[v.id]=!0,t.memory.geometries++),v}function l(g){const v=g.attributes;for(const m in v)e.update(v[m],i.ARRAY_BUFFER)}function c(g){const v=[],m=g.index,x=g.attributes.position;let B=0;if(m!==null){const M=m.array;B=m.version;for(let T=0,U=M.length;T<U;T+=3){const R=M[T+0],O=M[T+1],z=M[T+2];v.push(R,O,O,z,z,R)}}else if(x!==void 0){const M=x.array;B=x.version;for(let T=0,U=M.length/3-1;T<U;T+=3){const R=T+0,O=T+1,z=T+2;v.push(R,O,O,z,z,R)}}else return;const _=new(rL(v)?aE:sE)(v,1);_.version=B;const b=s.get(g);b&&e.remove(b),s.set(g,_)}function h(g){const v=s.get(g);if(v){const m=g.index;m!==null&&v.version<m.version&&c(g)}else c(g);return s.get(g)}return{get:A,update:l,getWireframeAttribute:h}}function qk(i,e,t){let n;function r(v){n=v}let s,a;function A(v){s=v.type,a=v.bytesPerElement}function l(v,m){i.drawElements(n,m,s,v*a),t.update(m,n,1)}function c(v,m,x){x!==0&&(i.drawElementsInstanced(n,m,s,v*a,x),t.update(m,n,x))}function h(v,m,x){if(x===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(n,m,0,s,v,0,x);let _=0;for(let b=0;b<x;b++)_+=m[b];t.update(_,n,1)}function g(v,m,x,B){if(x===0)return;const _=e.get("WEBGL_multi_draw");if(_===null)for(let b=0;b<v.length;b++)c(v[b]/a,m[b],B[b]);else{_.multiDrawElementsInstancedWEBGL(n,m,0,s,v,0,B,0,x);let b=0;for(let M=0;M<x;M++)b+=m[M]*B[M];t.update(b,n,1)}}this.setMode=r,this.setIndex=A,this.render=l,this.renderInstances=c,this.renderMultiDraw=h,this.renderMultiDrawInstances=g}function Xk(i){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(s,a,A){switch(t.calls++,a){case i.TRIANGLES:t.triangles+=A*(s/3);break;case i.LINES:t.lines+=A*(s/2);break;case i.LINE_STRIP:t.lines+=A*(s-1);break;case i.LINE_LOOP:t.lines+=A*s;break;case i.POINTS:t.points+=A*s;break;default:Fn("WebGLInfo: Unknown draw mode:",a);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:n}}function Yk(i,e,t){const n=new WeakMap,r=new er;function s(a,A,l){const c=a.morphTargetInfluences,h=A.morphAttributes.position||A.morphAttributes.normal||A.morphAttributes.color,g=h!==void 0?h.length:0;let v=n.get(A);if(v===void 0||v.count!==g){let I=function(){z.dispose(),n.delete(A),A.removeEventListener("dispose",I)};v!==void 0&&v.texture.dispose();const m=A.morphAttributes.position!==void 0,x=A.morphAttributes.normal!==void 0,B=A.morphAttributes.color!==void 0,_=A.morphAttributes.position||[],b=A.morphAttributes.normal||[],M=A.morphAttributes.color||[];let T=0;m===!0&&(T=1),x===!0&&(T=2),B===!0&&(T=3);let U=A.attributes.position.count*T,R=1;U>e.maxTextureSize&&(R=Math.ceil(U/e.maxTextureSize),U=e.maxTextureSize);const O=new Float32Array(U*R*4*g),z=new Vb(O,U,R,g);z.type=yA,z.needsUpdate=!0;const V=T*4;for(let P=0;P<g;P++){const k=_[P],G=b[P],q=M[P],H=U*R*4*P;for(let ae=0;ae<k.count;ae++){const Z=ae*V;m===!0&&(r.fromBufferAttribute(k,ae),O[H+Z+0]=r.x,O[H+Z+1]=r.y,O[H+Z+2]=r.z,O[H+Z+3]=0),x===!0&&(r.fromBufferAttribute(G,ae),O[H+Z+4]=r.x,O[H+Z+5]=r.y,O[H+Z+6]=r.z,O[H+Z+7]=0),B===!0&&(r.fromBufferAttribute(q,ae),O[H+Z+8]=r.x,O[H+Z+9]=r.y,O[H+Z+10]=r.z,O[H+Z+11]=q.itemSize===4?r.w:1)}}v={count:g,texture:z,size:new Rt(U,R)},n.set(A,v),A.addEventListener("dispose",I)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)l.getUniforms().setValue(i,"morphTexture",a.morphTexture,t);else{let m=0;for(let B=0;B<c.length;B++)m+=c[B];const x=A.morphTargetsRelative?1:1-m;l.getUniforms().setValue(i,"morphTargetBaseInfluence",x),l.getUniforms().setValue(i,"morphTargetInfluences",c)}l.getUniforms().setValue(i,"morphTargetsTexture",v.texture,t),l.getUniforms().setValue(i,"morphTargetsTextureSize",v.size)}return{update:s}}function Jk(i,e,t,n){let r=new WeakMap;function s(l){const c=n.render.frame,h=l.geometry,g=e.get(l,h);if(r.get(g)!==c&&(e.update(g),r.set(g,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",A)===!1&&l.addEventListener("dispose",A),r.get(l)!==c&&(t.update(l.instanceMatrix,i.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,i.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const v=l.skeleton;r.get(v)!==c&&(v.update(),r.set(v,c))}return g}function a(){r=new WeakMap}function A(l){const c=l.target;c.removeEventListener("dispose",A),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:a}}const Zk={[GC]:"LINEAR_TONE_MAPPING",[VC]:"REINHARD_TONE_MAPPING",[jC]:"CINEON_TONE_MAPPING",[Lb]:"ACES_FILMIC_TONE_MAPPING",[WC]:"AGX_TONE_MAPPING",[qC]:"NEUTRAL_TONE_MAPPING",[KC]:"CUSTOM_TONE_MAPPING"};function $k(i,e,t,n,r){const s=new wA(e,t,{type:i,depthBuffer:n,stencilBuffer:r}),a=new wA(e,t,{type:_c,depthBuffer:!1,stencilBuffer:!1}),A=new ui;A.setAttribute("position",new wn([-1,3,0,-1,-1,0,3,-1,0],3)),A.setAttribute("uv",new wn([0,2,0,0,2,0],2));const l=new wE({uniforms:{tDiffuse:{value:null}},vertexShader:`
			precision highp float;

			uniform mat4 modelViewMatrix;
			uniform mat4 projectionMatrix;

			attribute vec3 position;
			attribute vec2 uv;

			varying vec2 vUv;

			void main() {
				vUv = uv;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}`,fragmentShader:`
			precision highp float;

			uniform sampler2D tDiffuse;

			varying vec2 vUv;

			#include <tonemapping_pars_fragment>
			#include <colorspace_pars_fragment>

			void main() {
				gl_FragColor = texture2D( tDiffuse, vUv );

				#ifdef LINEAR_TONE_MAPPING
					gl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );
				#elif defined( REINHARD_TONE_MAPPING )
					gl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );
				#elif defined( CINEON_TONE_MAPPING )
					gl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );
				#elif defined( ACES_FILMIC_TONE_MAPPING )
					gl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );
				#elif defined( AGX_TONE_MAPPING )
					gl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );
				#elif defined( NEUTRAL_TONE_MAPPING )
					gl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );
				#elif defined( CUSTOM_TONE_MAPPING )
					gl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );
				#endif

				#ifdef SRGB_TRANSFER
					gl_FragColor = sRGBTransferOETF( gl_FragColor );
				#endif
			}`,depthTest:!1,depthWrite:!1}),c=new xs(A,l),h=new fh(-1,1,1,-1,0,1);let g=null,v=null,m=!1,x,B=null,_=[],b=!1;this.setSize=function(M,T){s.setSize(M,T),a.setSize(M,T);for(let U=0;U<_.length;U++){const R=_[U];R.setSize&&R.setSize(M,T)}},this.setEffects=function(M){_=M,b=_.length>0&&_[0].isRenderPass===!0;const T=s.width,U=s.height;for(let R=0;R<_.length;R++){const O=_[R];O.setSize&&O.setSize(T,U)}},this.begin=function(M,T){if(m||M.toneMapping===Gu&&_.length===0)return!1;if(B=T,T!==null){const U=T.width,R=T.height;(s.width!==U||s.height!==R)&&this.setSize(U,R)}return b===!1&&M.setRenderTarget(s),x=M.toneMapping,M.toneMapping=Gu,!0},this.hasRenderPass=function(){return b},this.end=function(M,T){M.toneMapping=x,m=!0;let U=s,R=a;for(let O=0;O<_.length;O++){const z=_[O];if(z.enabled!==!1&&(z.render(M,R,U,T),z.needsSwap!==!1)){const V=U;U=R,R=V}}if(g!==M.outputColorSpace||v!==M.toneMapping){g=M.outputColorSpace,v=M.toneMapping,l.defines={},Wi.getTransfer(g)===Mr&&(l.defines.SRGB_TRANSFER="");const O=Zk[v];O&&(l.defines[O]=""),l.needsUpdate=!0}l.uniforms.tDiffuse.value=U.texture,M.setRenderTarget(B),M.render(c,h),B=null,m=!1},this.isCompositing=function(){return m},this.dispose=function(){s.dispose(),a.dispose(),A.dispose(),l.dispose()}}const iI=new Ys,H2=new kp(1,1),rI=new Vb,sI=new jb,aI=new dv,BM=[],SM=[],CM=new Float32Array(16),EM=new Float32Array(9),MM=new Float32Array(4);function qm(i,e,t){const n=i[0];if(n<=0||n>0)return i;const r=e*t;let s=BM[r];if(s===void 0&&(s=new Float32Array(r),BM[r]=s),e!==0){n.toArray(s,0);for(let a=1,A=0;a!==e;++a)A+=t,i[a].toArray(s,A)}return s}function to(i,e){if(i.length!==e.length)return!1;for(let t=0,n=i.length;t<n;t++)if(i[t]!==e[t])return!1;return!0}function no(i,e){for(let t=0,n=e.length;t<n;t++)i[t]=e[t]}function p_(i,e){let t=SM[e];t===void 0&&(t=new Int32Array(e),SM[e]=t);for(let n=0;n!==e;++n)t[n]=i.allocateTextureUnit();return t}function e7(i,e){const t=this.cache;t[0]!==e&&(i.uniform1f(this.addr,e),t[0]=e)}function t7(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(to(t,e))return;i.uniform2fv(this.addr,e),no(t,e)}}function n7(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(i.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(to(t,e))return;i.uniform3fv(this.addr,e),no(t,e)}}function i7(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(to(t,e))return;i.uniform4fv(this.addr,e),no(t,e)}}function r7(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(to(t,e))return;i.uniformMatrix2fv(this.addr,!1,e),no(t,e)}else{if(to(t,n))return;MM.set(n),i.uniformMatrix2fv(this.addr,!1,MM),no(t,n)}}function s7(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(to(t,e))return;i.uniformMatrix3fv(this.addr,!1,e),no(t,e)}else{if(to(t,n))return;EM.set(n),i.uniformMatrix3fv(this.addr,!1,EM),no(t,n)}}function a7(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(to(t,e))return;i.uniformMatrix4fv(this.addr,!1,e),no(t,e)}else{if(to(t,n))return;CM.set(n),i.uniformMatrix4fv(this.addr,!1,CM),no(t,n)}}function o7(i,e){const t=this.cache;t[0]!==e&&(i.uniform1i(this.addr,e),t[0]=e)}function A7(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(to(t,e))return;i.uniform2iv(this.addr,e),no(t,e)}}function l7(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(to(t,e))return;i.uniform3iv(this.addr,e),no(t,e)}}function u7(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(to(t,e))return;i.uniform4iv(this.addr,e),no(t,e)}}function c7(i,e){const t=this.cache;t[0]!==e&&(i.uniform1ui(this.addr,e),t[0]=e)}function f7(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(to(t,e))return;i.uniform2uiv(this.addr,e),no(t,e)}}function h7(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(to(t,e))return;i.uniform3uiv(this.addr,e),no(t,e)}}function d7(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(to(t,e))return;i.uniform4uiv(this.addr,e),no(t,e)}}function p7(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r);let s;this.type===i.SAMPLER_2D_SHADOW?(H2.compareFunction=t.isReversedDepthBuffer()?Gb:zb,s=H2):s=iI,t.setTexture2D(e||s,r)}function g7(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture3D(e||sI,r)}function m7(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTextureCube(e||aI,r)}function v7(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture2DArray(e||rI,r)}function y7(i){switch(i){case 5126:return e7;case 35664:return t7;case 35665:return n7;case 35666:return i7;case 35674:return r7;case 35675:return s7;case 35676:return a7;case 5124:case 35670:return o7;case 35667:case 35671:return A7;case 35668:case 35672:return l7;case 35669:case 35673:return u7;case 5125:return c7;case 36294:return f7;case 36295:return h7;case 36296:return d7;case 35678:case 36198:case 36298:case 36306:case 35682:return p7;case 35679:case 36299:case 36307:return g7;case 35680:case 36300:case 36308:case 36293:return m7;case 36289:case 36303:case 36311:case 36292:return v7}}function w7(i,e){i.uniform1fv(this.addr,e)}function x7(i,e){const t=qm(e,this.size,2);i.uniform2fv(this.addr,t)}function b7(i,e){const t=qm(e,this.size,3);i.uniform3fv(this.addr,t)}function _7(i,e){const t=qm(e,this.size,4);i.uniform4fv(this.addr,t)}function B7(i,e){const t=qm(e,this.size,4);i.uniformMatrix2fv(this.addr,!1,t)}function S7(i,e){const t=qm(e,this.size,9);i.uniformMatrix3fv(this.addr,!1,t)}function C7(i,e){const t=qm(e,this.size,16);i.uniformMatrix4fv(this.addr,!1,t)}function E7(i,e){i.uniform1iv(this.addr,e)}function M7(i,e){i.uniform2iv(this.addr,e)}function U7(i,e){i.uniform3iv(this.addr,e)}function T7(i,e){i.uniform4iv(this.addr,e)}function F7(i,e){i.uniform1uiv(this.addr,e)}function L7(i,e){i.uniform2uiv(this.addr,e)}function I7(i,e){i.uniform3uiv(this.addr,e)}function R7(i,e){i.uniform4uiv(this.addr,e)}function N7(i,e,t){const n=this.cache,r=e.length,s=p_(t,r);to(n,s)||(i.uniform1iv(this.addr,s),no(n,s));let a;this.type===i.SAMPLER_2D_SHADOW?a=H2:a=iI;for(let A=0;A!==r;++A)t.setTexture2D(e[A]||a,s[A])}function D7(i,e,t){const n=this.cache,r=e.length,s=p_(t,r);to(n,s)||(i.uniform1iv(this.addr,s),no(n,s));for(let a=0;a!==r;++a)t.setTexture3D(e[a]||sI,s[a])}function O7(i,e,t){const n=this.cache,r=e.length,s=p_(t,r);to(n,s)||(i.uniform1iv(this.addr,s),no(n,s));for(let a=0;a!==r;++a)t.setTextureCube(e[a]||aI,s[a])}function P7(i,e,t){const n=this.cache,r=e.length,s=p_(t,r);to(n,s)||(i.uniform1iv(this.addr,s),no(n,s));for(let a=0;a!==r;++a)t.setTexture2DArray(e[a]||rI,s[a])}function Q7(i){switch(i){case 5126:return w7;case 35664:return x7;case 35665:return b7;case 35666:return _7;case 35674:return B7;case 35675:return S7;case 35676:return C7;case 5124:case 35670:return E7;case 35667:case 35671:return M7;case 35668:case 35672:return U7;case 35669:case 35673:return T7;case 5125:return F7;case 36294:return L7;case 36295:return I7;case 36296:return R7;case 35678:case 36198:case 36298:case 36306:case 35682:return N7;case 35679:case 36299:case 36307:return D7;case 35680:case 36300:case 36308:case 36293:return O7;case 36289:case 36303:case 36311:case 36292:return P7}}class H7{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=y7(t.type)}}class k7{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=Q7(t.type)}}class z7{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let s=0,a=r.length;s!==a;++s){const A=r[s];A.setValue(e,t[A.id],n)}}}const sS=/(\w+)(\])?(\[|\.)?/g;function UM(i,e){i.seq.push(e),i.map[e.id]=e}function G7(i,e,t){const n=i.name,r=n.length;for(sS.lastIndex=0;;){const s=sS.exec(n),a=sS.lastIndex;let A=s[1];const l=s[2]==="]",c=s[3];if(l&&(A=A|0),c===void 0||c==="["&&a+2===r){UM(t,c===void 0?new H7(A,i,e):new k7(A,i,e));break}else{let g=t.map[A];g===void 0&&(g=new z7(A),UM(t,g)),t=g}}}class $w{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let a=0;a<n;++a){const A=e.getActiveUniform(t,a),l=e.getUniformLocation(t,A.name);G7(A,l,this)}const r=[],s=[];for(const a of this.seq)a.type===e.SAMPLER_2D_SHADOW||a.type===e.SAMPLER_CUBE_SHADOW||a.type===e.SAMPLER_2D_ARRAY_SHADOW?r.push(a):s.push(a);r.length>0&&(this.seq=r.concat(s))}setValue(e,t,n,r){const s=this.map[t];s!==void 0&&s.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];r!==void 0&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let s=0,a=t.length;s!==a;++s){const A=t[s],l=n[A.id];l.needsUpdate!==!1&&A.setValue(e,l.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,s=e.length;r!==s;++r){const a=e[r];a.id in t&&n.push(a)}return n}}function TM(i,e,t){const n=i.createShader(e);return i.shaderSource(n,t),i.compileShader(n),n}const V7=37297;let j7=0;function K7(i,e){const t=i.split(`
`),n=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let a=r;a<s;a++){const A=a+1;n.push(`${A===e?">":" "} ${A}: ${t[a]}`)}return n.join(`
`)}const FM=new Ai;function W7(i){Wi._getMatrix(FM,Wi.workingColorSpace,i);const e=`mat3( ${FM.elements.map(t=>t.toFixed(4))} )`;switch(Wi.getTransfer(i)){case H1:return[e,"LinearTransferOETF"];case Mr:return[e,"sRGBTransferOETF"];default:return sn("WebGLProgram: Unsupported color space: ",i),[e,"LinearTransferOETF"]}}function LM(i,e,t){const n=i.getShaderParameter(e,i.COMPILE_STATUS),s=(i.getShaderInfoLog(e)||"").trim();if(n&&s==="")return"";const a=/ERROR: 0:(\d+)/.exec(s);if(a){const A=parseInt(a[1]);return t.toUpperCase()+`

`+s+`

`+K7(i.getShaderSource(e),A)}else return s}function q7(i,e){const t=W7(e);return[`vec4 ${i}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}const X7={[GC]:"Linear",[VC]:"Reinhard",[jC]:"Cineon",[Lb]:"ACESFilmic",[WC]:"AgX",[qC]:"Neutral",[KC]:"Custom"};function Y7(i,e){const t=X7[e];return t===void 0?(sn("WebGLProgram: Unsupported toneMapping:",e),"vec3 "+i+"( vec3 color ) { return LinearToneMapping( color ); }"):"vec3 "+i+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const Aw=new Ce;function J7(){Wi.getLuminanceCoefficients(Aw);const i=Aw.x.toFixed(4),e=Aw.y.toFixed(4),t=Aw.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${i}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Z7(i){return[i.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",i.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(r1).join(`
`)}function $7(i){const e=[];for(const t in i){const n=i[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function ez(i,e){const t={},n=i.getProgramParameter(e,i.ACTIVE_ATTRIBUTES);for(let r=0;r<n;r++){const s=i.getActiveAttrib(e,r),a=s.name;let A=1;s.type===i.FLOAT_MAT2&&(A=2),s.type===i.FLOAT_MAT3&&(A=3),s.type===i.FLOAT_MAT4&&(A=4),t[a]={type:s.type,location:i.getAttribLocation(e,a),locationSize:A}}return t}function r1(i){return i!==""}function IM(i,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return i.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function RM(i,e){return i.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const tz=/^[ \t]*#include +<([\w\d./]+)>/gm;function k2(i){return i.replace(tz,iz)}const nz=new Map;function iz(i,e){let t=wi[e];if(t===void 0){const n=nz.get(e);if(n!==void 0)t=wi[n],sn('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,n);else throw new Error("Can not resolve #include <"+e+">")}return k2(t)}const rz=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function NM(i){return i.replace(rz,sz)}function sz(i,e,t,n){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function DM(i){let e=`precision ${i.precision} float;
	precision ${i.precision} int;
	precision ${i.precision} sampler2D;
	precision ${i.precision} samplerCube;
	precision ${i.precision} sampler3D;
	precision ${i.precision} sampler2DArray;
	precision ${i.precision} sampler2DShadow;
	precision ${i.precision} samplerCubeShadow;
	precision ${i.precision} sampler2DArrayShadow;
	precision ${i.precision} isampler2D;
	precision ${i.precision} isampler3D;
	precision ${i.precision} isamplerCube;
	precision ${i.precision} isampler2DArray;
	precision ${i.precision} usampler2D;
	precision ${i.precision} usampler3D;
	precision ${i.precision} usamplerCube;
	precision ${i.precision} usampler2DArray;
	`;return i.precision==="highp"?e+=`
#define HIGH_PRECISION`:i.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:i.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}const az={[ym]:"SHADOWMAP_TYPE_PCF",[_p]:"SHADOWMAP_TYPE_VSM"};function oz(i){return az[i.shadowMapType]||"SHADOWMAP_TYPE_BASIC"}const Az={[wf]:"ENVMAP_TYPE_CUBE",[yd]:"ENVMAP_TYPE_CUBE",[Km]:"ENVMAP_TYPE_CUBE_UV"};function lz(i){return i.envMap===!1?"ENVMAP_TYPE_CUBE":Az[i.envMapMode]||"ENVMAP_TYPE_CUBE"}const uz={[yd]:"ENVMAP_MODE_REFRACTION"};function cz(i){return i.envMap===!1?"ENVMAP_MODE_REFLECTION":uz[i.envMapMode]||"ENVMAP_MODE_REFLECTION"}const fz={[fv]:"ENVMAP_BLENDING_MULTIPLY",[GF]:"ENVMAP_BLENDING_MIX",[VF]:"ENVMAP_BLENDING_ADD"};function hz(i){return i.envMap===!1?"ENVMAP_BLENDING_NONE":fz[i.combine]||"ENVMAP_BLENDING_NONE"}function dz(i){const e=i.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:n,maxMip:t}}function pz(i,e,t,n){const r=i.getContext(),s=t.defines;let a=t.vertexShader,A=t.fragmentShader;const l=oz(t),c=lz(t),h=cz(t),g=hz(t),v=dz(t),m=Z7(t),x=$7(s),B=r.createProgram();let _,b,M=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(_=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x].filter(r1).join(`
`),_.length>0&&(_+=`
`),b=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x].filter(r1).join(`
`),b.length>0&&(b+=`
`)):(_=[DM(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(r1).join(`
`),b=[DM(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+h:"",t.envMap?"#define "+g:"",v?"#define CUBEUV_TEXEL_WIDTH "+v.texelWidth:"",v?"#define CUBEUV_TEXEL_HEIGHT "+v.texelHeight:"",v?"#define CUBEUV_MAX_MIP "+v.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Gu?"#define TONE_MAPPING":"",t.toneMapping!==Gu?wi.tonemapping_pars_fragment:"",t.toneMapping!==Gu?Y7("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",wi.colorspace_pars_fragment,q7("linearToOutputTexel",t.outputColorSpace),J7(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(r1).join(`
`)),a=k2(a),a=IM(a,t),a=RM(a,t),A=k2(A),A=IM(A,t),A=RM(A,t),a=NM(a),A=NM(A),t.isRawShaderMaterial!==!0&&(M=`#version 300 es
`,_=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,b=["#define varying in",t.glslVersion===T2?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===T2?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+b);const T=M+_+a,U=M+b+A,R=TM(r,r.VERTEX_SHADER,T),O=TM(r,r.FRAGMENT_SHADER,U);r.attachShader(B,R),r.attachShader(B,O),t.index0AttributeName!==void 0?r.bindAttribLocation(B,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(B,0,"position"),r.linkProgram(B);function z(k){if(i.debug.checkShaderErrors){const G=r.getProgramInfoLog(B)||"",q=r.getShaderInfoLog(R)||"",H=r.getShaderInfoLog(O)||"",ae=G.trim(),Z=q.trim(),ne=H.trim();let oe=!0,fe=!0;if(r.getProgramParameter(B,r.LINK_STATUS)===!1)if(oe=!1,typeof i.debug.onShaderError=="function")i.debug.onShaderError(r,B,R,O);else{const me=LM(r,R,"vertex"),W=LM(r,O,"fragment");Fn("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(B,r.VALIDATE_STATUS)+`

Material Name: `+k.name+`
Material Type: `+k.type+`

Program Info Log: `+ae+`
`+me+`
`+W)}else ae!==""?sn("WebGLProgram: Program Info Log:",ae):(Z===""||ne==="")&&(fe=!1);fe&&(k.diagnostics={runnable:oe,programLog:ae,vertexShader:{log:Z,prefix:_},fragmentShader:{log:ne,prefix:b}})}r.deleteShader(R),r.deleteShader(O),V=new $w(r,B),I=ez(r,B)}let V;this.getUniforms=function(){return V===void 0&&z(this),V};let I;this.getAttributes=function(){return I===void 0&&z(this),I};let P=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return P===!1&&(P=r.getProgramParameter(B,V7)),P},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(B),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=j7++,this.cacheKey=e,this.usedTimes=1,this.program=B,this.vertexShader=R,this.fragmentShader=O,this}let gz=0;class mz{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return a.has(r)===!1&&(a.add(r),r.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new vz(e),t.set(e,n)),n}}class vz{constructor(e){this.id=gz++,this.code=e,this.usedTimes=0}}function yz(i,e,t,n,r,s,a){const A=new Pm,l=new mz,c=new Set,h=[],g=new Map,v=r.logarithmicDepthBuffer;let m=r.precision;const x={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distance",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function B(I){return c.add(I),I===0?"uv":`uv${I}`}function _(I,P,k,G,q){const H=G.fog,ae=q.geometry,Z=I.isMeshStandardMaterial?G.environment:null,ne=(I.isMeshStandardMaterial?t:e).get(I.envMap||Z),oe=ne&&ne.mapping===Km?ne.image.height:null,fe=x[I.type];I.precision!==null&&(m=r.getMaxPrecision(I.precision),m!==I.precision&&sn("WebGLProgram.getParameters:",I.precision,"not supported, using",m,"instead."));const me=ae.morphAttributes.position||ae.morphAttributes.normal||ae.morphAttributes.color,W=me!==void 0?me.length:0;let Q=0;ae.morphAttributes.position!==void 0&&(Q=1),ae.morphAttributes.normal!==void 0&&(Q=2),ae.morphAttributes.color!==void 0&&(Q=3);let X,Y,ie,te;if(fe){const nn=gc[fe];X=nn.vertexShader,Y=nn.fragmentShader}else X=I.vertexShader,Y=I.fragmentShader,l.update(I),ie=l.getVertexShaderID(I),te=l.getFragmentShaderID(I);const se=i.getRenderTarget(),ye=i.state.buffers.depth.getReversed(),xe=q.isInstancedMesh===!0,Fe=q.isBatchedMesh===!0,Ne=!!I.map,ze=!!I.matcap,it=!!ne,De=!!I.aoMap,re=!!I.lightMap,Le=!!I.bumpMap,rt=!!I.normalMap,ce=!!I.displacementMap,He=!!I.emissiveMap,Xe=!!I.metalnessMap,Oe=!!I.roughnessMap,Ye=I.anisotropy>0,Ae=I.clearcoat>0,$=I.dispersion>0,Se=I.iridescence>0,Ge=I.sheen>0,Ve=I.transmission>0,Re=Ye&&!!I.anisotropyMap,$e=Ae&&!!I.clearcoatMap,At=Ae&&!!I.clearcoatNormalMap,wt=Ae&&!!I.clearcoatRoughnessMap,zt=Se&&!!I.iridescenceMap,at=Se&&!!I.iridescenceThicknessMap,ut=Ge&&!!I.sheenColorMap,ct=Ge&&!!I.sheenRoughnessMap,Ee=!!I.specularMap,Ie=!!I.specularColorMap,Ut=!!I.specularIntensityMap,Be=Ve&&!!I.transmissionMap,Je=Ve&&!!I.thicknessMap,mt=!!I.gradientMap,Et=!!I.alphaMap,tt=I.alphaTest>0,Ze=!!I.alphaHash,Lt=!!I.extensions;let Vt=Gu;I.toneMapped&&(se===null||se.isXRRenderTarget===!0)&&(Vt=i.toneMapping);const Wt={shaderID:fe,shaderType:I.type,shaderName:I.name,vertexShader:X,fragmentShader:Y,defines:I.defines,customVertexShaderID:ie,customFragmentShaderID:te,isRawShaderMaterial:I.isRawShaderMaterial===!0,glslVersion:I.glslVersion,precision:m,batching:Fe,batchingColor:Fe&&q._colorsTexture!==null,instancing:xe,instancingColor:xe&&q.instanceColor!==null,instancingMorph:xe&&q.morphTexture!==null,outputColorSpace:se===null?i.outputColorSpace:se.isXRRenderTarget===!0?se.texture.colorSpace:wd,alphaToCoverage:!!I.alphaToCoverage,map:Ne,matcap:ze,envMap:it,envMapMode:it&&ne.mapping,envMapCubeUVHeight:oe,aoMap:De,lightMap:re,bumpMap:Le,normalMap:rt,displacementMap:ce,emissiveMap:He,normalMapObjectSpace:rt&&I.normalMapType===JF,normalMapTangentSpace:rt&&I.normalMapType===Sd,metalnessMap:Xe,roughnessMap:Oe,anisotropy:Ye,anisotropyMap:Re,clearcoat:Ae,clearcoatMap:$e,clearcoatNormalMap:At,clearcoatRoughnessMap:wt,dispersion:$,iridescence:Se,iridescenceMap:zt,iridescenceThicknessMap:at,sheen:Ge,sheenColorMap:ut,sheenRoughnessMap:ct,specularMap:Ee,specularColorMap:Ie,specularIntensityMap:Ut,transmission:Ve,transmissionMap:Be,thicknessMap:Je,gradientMap:mt,opaque:I.transparent===!1&&I.blending===Up&&I.alphaToCoverage===!1,alphaMap:Et,alphaTest:tt,alphaHash:Ze,combine:I.combine,mapUv:Ne&&B(I.map.channel),aoMapUv:De&&B(I.aoMap.channel),lightMapUv:re&&B(I.lightMap.channel),bumpMapUv:Le&&B(I.bumpMap.channel),normalMapUv:rt&&B(I.normalMap.channel),displacementMapUv:ce&&B(I.displacementMap.channel),emissiveMapUv:He&&B(I.emissiveMap.channel),metalnessMapUv:Xe&&B(I.metalnessMap.channel),roughnessMapUv:Oe&&B(I.roughnessMap.channel),anisotropyMapUv:Re&&B(I.anisotropyMap.channel),clearcoatMapUv:$e&&B(I.clearcoatMap.channel),clearcoatNormalMapUv:At&&B(I.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:wt&&B(I.clearcoatRoughnessMap.channel),iridescenceMapUv:zt&&B(I.iridescenceMap.channel),iridescenceThicknessMapUv:at&&B(I.iridescenceThicknessMap.channel),sheenColorMapUv:ut&&B(I.sheenColorMap.channel),sheenRoughnessMapUv:ct&&B(I.sheenRoughnessMap.channel),specularMapUv:Ee&&B(I.specularMap.channel),specularColorMapUv:Ie&&B(I.specularColorMap.channel),specularIntensityMapUv:Ut&&B(I.specularIntensityMap.channel),transmissionMapUv:Be&&B(I.transmissionMap.channel),thicknessMapUv:Je&&B(I.thicknessMap.channel),alphaMapUv:Et&&B(I.alphaMap.channel),vertexTangents:!!ae.attributes.tangent&&(rt||Ye),vertexColors:I.vertexColors,vertexAlphas:I.vertexColors===!0&&!!ae.attributes.color&&ae.attributes.color.itemSize===4,pointsUvs:q.isPoints===!0&&!!ae.attributes.uv&&(Ne||Et),fog:!!H,useFog:I.fog===!0,fogExp2:!!H&&H.isFogExp2,flatShading:I.flatShading===!0&&I.wireframe===!1,sizeAttenuation:I.sizeAttenuation===!0,logarithmicDepthBuffer:v,reversedDepthBuffer:ye,skinning:q.isSkinnedMesh===!0,morphTargets:ae.morphAttributes.position!==void 0,morphNormals:ae.morphAttributes.normal!==void 0,morphColors:ae.morphAttributes.color!==void 0,morphTargetsCount:W,morphTextureStride:Q,numDirLights:P.directional.length,numPointLights:P.point.length,numSpotLights:P.spot.length,numSpotLightMaps:P.spotLightMap.length,numRectAreaLights:P.rectArea.length,numHemiLights:P.hemi.length,numDirLightShadows:P.directionalShadowMap.length,numPointLightShadows:P.pointShadowMap.length,numSpotLightShadows:P.spotShadowMap.length,numSpotLightShadowsWithMaps:P.numSpotLightShadowsWithMaps,numLightProbes:P.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:I.dithering,shadowMapEnabled:i.shadowMap.enabled&&k.length>0,shadowMapType:i.shadowMap.type,toneMapping:Vt,decodeVideoTexture:Ne&&I.map.isVideoTexture===!0&&Wi.getTransfer(I.map.colorSpace)===Mr,decodeVideoTextureEmissive:He&&I.emissiveMap.isVideoTexture===!0&&Wi.getTransfer(I.emissiveMap.colorSpace)===Mr,premultipliedAlpha:I.premultipliedAlpha,doubleSided:I.side===Pu,flipSided:I.side===WA,useDepthPacking:I.depthPacking>=0,depthPacking:I.depthPacking||0,index0AttributeName:I.index0AttributeName,extensionClipCullDistance:Lt&&I.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Lt&&I.extensions.multiDraw===!0||Fe)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:I.customProgramCacheKey()};return Wt.vertexUv1s=c.has(1),Wt.vertexUv2s=c.has(2),Wt.vertexUv3s=c.has(3),c.clear(),Wt}function b(I){const P=[];if(I.shaderID?P.push(I.shaderID):(P.push(I.customVertexShaderID),P.push(I.customFragmentShaderID)),I.defines!==void 0)for(const k in I.defines)P.push(k),P.push(I.defines[k]);return I.isRawShaderMaterial===!1&&(M(P,I),T(P,I),P.push(i.outputColorSpace)),P.push(I.customProgramCacheKey),P.join()}function M(I,P){I.push(P.precision),I.push(P.outputColorSpace),I.push(P.envMapMode),I.push(P.envMapCubeUVHeight),I.push(P.mapUv),I.push(P.alphaMapUv),I.push(P.lightMapUv),I.push(P.aoMapUv),I.push(P.bumpMapUv),I.push(P.normalMapUv),I.push(P.displacementMapUv),I.push(P.emissiveMapUv),I.push(P.metalnessMapUv),I.push(P.roughnessMapUv),I.push(P.anisotropyMapUv),I.push(P.clearcoatMapUv),I.push(P.clearcoatNormalMapUv),I.push(P.clearcoatRoughnessMapUv),I.push(P.iridescenceMapUv),I.push(P.iridescenceThicknessMapUv),I.push(P.sheenColorMapUv),I.push(P.sheenRoughnessMapUv),I.push(P.specularMapUv),I.push(P.specularColorMapUv),I.push(P.specularIntensityMapUv),I.push(P.transmissionMapUv),I.push(P.thicknessMapUv),I.push(P.combine),I.push(P.fogExp2),I.push(P.sizeAttenuation),I.push(P.morphTargetsCount),I.push(P.morphAttributeCount),I.push(P.numDirLights),I.push(P.numPointLights),I.push(P.numSpotLights),I.push(P.numSpotLightMaps),I.push(P.numHemiLights),I.push(P.numRectAreaLights),I.push(P.numDirLightShadows),I.push(P.numPointLightShadows),I.push(P.numSpotLightShadows),I.push(P.numSpotLightShadowsWithMaps),I.push(P.numLightProbes),I.push(P.shadowMapType),I.push(P.toneMapping),I.push(P.numClippingPlanes),I.push(P.numClipIntersection),I.push(P.depthPacking)}function T(I,P){A.disableAll(),P.instancing&&A.enable(0),P.instancingColor&&A.enable(1),P.instancingMorph&&A.enable(2),P.matcap&&A.enable(3),P.envMap&&A.enable(4),P.normalMapObjectSpace&&A.enable(5),P.normalMapTangentSpace&&A.enable(6),P.clearcoat&&A.enable(7),P.iridescence&&A.enable(8),P.alphaTest&&A.enable(9),P.vertexColors&&A.enable(10),P.vertexAlphas&&A.enable(11),P.vertexUv1s&&A.enable(12),P.vertexUv2s&&A.enable(13),P.vertexUv3s&&A.enable(14),P.vertexTangents&&A.enable(15),P.anisotropy&&A.enable(16),P.alphaHash&&A.enable(17),P.batching&&A.enable(18),P.dispersion&&A.enable(19),P.batchingColor&&A.enable(20),P.gradientMap&&A.enable(21),I.push(A.mask),A.disableAll(),P.fog&&A.enable(0),P.useFog&&A.enable(1),P.flatShading&&A.enable(2),P.logarithmicDepthBuffer&&A.enable(3),P.reversedDepthBuffer&&A.enable(4),P.skinning&&A.enable(5),P.morphTargets&&A.enable(6),P.morphNormals&&A.enable(7),P.morphColors&&A.enable(8),P.premultipliedAlpha&&A.enable(9),P.shadowMapEnabled&&A.enable(10),P.doubleSided&&A.enable(11),P.flipSided&&A.enable(12),P.useDepthPacking&&A.enable(13),P.dithering&&A.enable(14),P.transmission&&A.enable(15),P.sheen&&A.enable(16),P.opaque&&A.enable(17),P.pointsUvs&&A.enable(18),P.decodeVideoTexture&&A.enable(19),P.decodeVideoTextureEmissive&&A.enable(20),P.alphaToCoverage&&A.enable(21),I.push(A.mask)}function U(I){const P=x[I.type];let k;if(P){const G=gc[P];k=j1.clone(G.uniforms)}else k=I.uniforms;return k}function R(I,P){let k=g.get(P);return k!==void 0?++k.usedTimes:(k=new pz(i,P,I,s),h.push(k),g.set(P,k)),k}function O(I){if(--I.usedTimes===0){const P=h.indexOf(I);h[P]=h[h.length-1],h.pop(),g.delete(I.cacheKey),I.destroy()}}function z(I){l.remove(I)}function V(){l.dispose()}return{getParameters:_,getProgramCacheKey:b,getUniforms:U,acquireProgram:R,releaseProgram:O,releaseShaderCache:z,programs:h,dispose:V}}function wz(){let i=new WeakMap;function e(a){return i.has(a)}function t(a){let A=i.get(a);return A===void 0&&(A={},i.set(a,A)),A}function n(a){i.delete(a)}function r(a,A,l){i.get(a)[A]=l}function s(){i=new WeakMap}return{has:e,get:t,remove:n,update:r,dispose:s}}function xz(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.material.id!==e.material.id?i.material.id-e.material.id:i.z!==e.z?i.z-e.z:i.id-e.id}function OM(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.z!==e.z?e.z-i.z:i.id-e.id}function PM(){const i=[];let e=0;const t=[],n=[],r=[];function s(){e=0,t.length=0,n.length=0,r.length=0}function a(g,v,m,x,B,_){let b=i[e];return b===void 0?(b={id:g.id,object:g,geometry:v,material:m,groupOrder:x,renderOrder:g.renderOrder,z:B,group:_},i[e]=b):(b.id=g.id,b.object=g,b.geometry=v,b.material=m,b.groupOrder=x,b.renderOrder=g.renderOrder,b.z=B,b.group=_),e++,b}function A(g,v,m,x,B,_){const b=a(g,v,m,x,B,_);m.transmission>0?n.push(b):m.transparent===!0?r.push(b):t.push(b)}function l(g,v,m,x,B,_){const b=a(g,v,m,x,B,_);m.transmission>0?n.unshift(b):m.transparent===!0?r.unshift(b):t.unshift(b)}function c(g,v){t.length>1&&t.sort(g||xz),n.length>1&&n.sort(v||OM),r.length>1&&r.sort(v||OM)}function h(){for(let g=e,v=i.length;g<v;g++){const m=i[g];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:n,transparent:r,init:s,push:A,unshift:l,finish:h,sort:c}}function bz(){let i=new WeakMap;function e(n,r){const s=i.get(n);let a;return s===void 0?(a=new PM,i.set(n,[a])):r>=s.length?(a=new PM,s.push(a)):a=s[r],a}function t(){i=new WeakMap}return{get:e,dispose:t}}function _z(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Ce,color:new an};break;case"SpotLight":t={position:new Ce,direction:new Ce,color:new an,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Ce,color:new an,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Ce,skyColor:new an,groundColor:new an};break;case"RectAreaLight":t={color:new an,position:new Ce,halfWidth:new Ce,halfHeight:new Ce};break}return i[e.id]=t,t}}}function Bz(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Rt};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Rt};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Rt,shadowCameraNear:1,shadowCameraFar:1e3};break}return i[e.id]=t,t}}}let Sz=0;function Cz(i,e){return(e.castShadow?2:0)-(i.castShadow?2:0)+(e.map?1:0)-(i.map?1:0)}function Ez(i){const e=new _z,t=Bz(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)n.probe.push(new Ce);const r=new Ce,s=new Vn,a=new Vn;function A(c){let h=0,g=0,v=0;for(let I=0;I<9;I++)n.probe[I].set(0,0,0);let m=0,x=0,B=0,_=0,b=0,M=0,T=0,U=0,R=0,O=0,z=0;c.sort(Cz);for(let I=0,P=c.length;I<P;I++){const k=c[I],G=k.color,q=k.intensity,H=k.distance;let ae=null;if(k.shadow&&k.shadow.map&&(k.shadow.map.texture.format===Qp?ae=k.shadow.map.texture:ae=k.shadow.map.depthTexture||k.shadow.map.texture),k.isAmbientLight)h+=G.r*q,g+=G.g*q,v+=G.b*q;else if(k.isLightProbe){for(let Z=0;Z<9;Z++)n.probe[Z].addScaledVector(k.sh.coefficients[Z],q);z++}else if(k.isDirectionalLight){const Z=e.get(k);if(Z.color.copy(k.color).multiplyScalar(k.intensity),k.castShadow){const ne=k.shadow,oe=t.get(k);oe.shadowIntensity=ne.intensity,oe.shadowBias=ne.bias,oe.shadowNormalBias=ne.normalBias,oe.shadowRadius=ne.radius,oe.shadowMapSize=ne.mapSize,n.directionalShadow[m]=oe,n.directionalShadowMap[m]=ae,n.directionalShadowMatrix[m]=k.shadow.matrix,M++}n.directional[m]=Z,m++}else if(k.isSpotLight){const Z=e.get(k);Z.position.setFromMatrixPosition(k.matrixWorld),Z.color.copy(G).multiplyScalar(q),Z.distance=H,Z.coneCos=Math.cos(k.angle),Z.penumbraCos=Math.cos(k.angle*(1-k.penumbra)),Z.decay=k.decay,n.spot[B]=Z;const ne=k.shadow;if(k.map&&(n.spotLightMap[R]=k.map,R++,ne.updateMatrices(k),k.castShadow&&O++),n.spotLightMatrix[B]=ne.matrix,k.castShadow){const oe=t.get(k);oe.shadowIntensity=ne.intensity,oe.shadowBias=ne.bias,oe.shadowNormalBias=ne.normalBias,oe.shadowRadius=ne.radius,oe.shadowMapSize=ne.mapSize,n.spotShadow[B]=oe,n.spotShadowMap[B]=ae,U++}B++}else if(k.isRectAreaLight){const Z=e.get(k);Z.color.copy(G).multiplyScalar(q),Z.halfWidth.set(k.width*.5,0,0),Z.halfHeight.set(0,k.height*.5,0),n.rectArea[_]=Z,_++}else if(k.isPointLight){const Z=e.get(k);if(Z.color.copy(k.color).multiplyScalar(k.intensity),Z.distance=k.distance,Z.decay=k.decay,k.castShadow){const ne=k.shadow,oe=t.get(k);oe.shadowIntensity=ne.intensity,oe.shadowBias=ne.bias,oe.shadowNormalBias=ne.normalBias,oe.shadowRadius=ne.radius,oe.shadowMapSize=ne.mapSize,oe.shadowCameraNear=ne.camera.near,oe.shadowCameraFar=ne.camera.far,n.pointShadow[x]=oe,n.pointShadowMap[x]=ae,n.pointShadowMatrix[x]=k.shadow.matrix,T++}n.point[x]=Z,x++}else if(k.isHemisphereLight){const Z=e.get(k);Z.skyColor.copy(k.color).multiplyScalar(q),Z.groundColor.copy(k.groundColor).multiplyScalar(q),n.hemi[b]=Z,b++}}_>0&&(i.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=rn.LTC_FLOAT_1,n.rectAreaLTC2=rn.LTC_FLOAT_2):(n.rectAreaLTC1=rn.LTC_HALF_1,n.rectAreaLTC2=rn.LTC_HALF_2)),n.ambient[0]=h,n.ambient[1]=g,n.ambient[2]=v;const V=n.hash;(V.directionalLength!==m||V.pointLength!==x||V.spotLength!==B||V.rectAreaLength!==_||V.hemiLength!==b||V.numDirectionalShadows!==M||V.numPointShadows!==T||V.numSpotShadows!==U||V.numSpotMaps!==R||V.numLightProbes!==z)&&(n.directional.length=m,n.spot.length=B,n.rectArea.length=_,n.point.length=x,n.hemi.length=b,n.directionalShadow.length=M,n.directionalShadowMap.length=M,n.pointShadow.length=T,n.pointShadowMap.length=T,n.spotShadow.length=U,n.spotShadowMap.length=U,n.directionalShadowMatrix.length=M,n.pointShadowMatrix.length=T,n.spotLightMatrix.length=U+R-O,n.spotLightMap.length=R,n.numSpotLightShadowsWithMaps=O,n.numLightProbes=z,V.directionalLength=m,V.pointLength=x,V.spotLength=B,V.rectAreaLength=_,V.hemiLength=b,V.numDirectionalShadows=M,V.numPointShadows=T,V.numSpotShadows=U,V.numSpotMaps=R,V.numLightProbes=z,n.version=Sz++)}function l(c,h){let g=0,v=0,m=0,x=0,B=0;const _=h.matrixWorldInverse;for(let b=0,M=c.length;b<M;b++){const T=c[b];if(T.isDirectionalLight){const U=n.directional[g];U.direction.setFromMatrixPosition(T.matrixWorld),r.setFromMatrixPosition(T.target.matrixWorld),U.direction.sub(r),U.direction.transformDirection(_),g++}else if(T.isSpotLight){const U=n.spot[m];U.position.setFromMatrixPosition(T.matrixWorld),U.position.applyMatrix4(_),U.direction.setFromMatrixPosition(T.matrixWorld),r.setFromMatrixPosition(T.target.matrixWorld),U.direction.sub(r),U.direction.transformDirection(_),m++}else if(T.isRectAreaLight){const U=n.rectArea[x];U.position.setFromMatrixPosition(T.matrixWorld),U.position.applyMatrix4(_),a.identity(),s.copy(T.matrixWorld),s.premultiply(_),a.extractRotation(s),U.halfWidth.set(T.width*.5,0,0),U.halfHeight.set(0,T.height*.5,0),U.halfWidth.applyMatrix4(a),U.halfHeight.applyMatrix4(a),x++}else if(T.isPointLight){const U=n.point[v];U.position.setFromMatrixPosition(T.matrixWorld),U.position.applyMatrix4(_),v++}else if(T.isHemisphereLight){const U=n.hemi[B];U.direction.setFromMatrixPosition(T.matrixWorld),U.direction.transformDirection(_),B++}}}return{setup:A,setupView:l,state:n}}function QM(i){const e=new Ez(i),t=[],n=[];function r(h){c.camera=h,t.length=0,n.length=0}function s(h){t.push(h)}function a(h){n.push(h)}function A(){e.setup(t)}function l(h){e.setupView(t,h)}const c={lightsArray:t,shadowsArray:n,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:c,setupLights:A,setupLightsView:l,pushLight:s,pushShadow:a}}function Mz(i){let e=new WeakMap;function t(r,s=0){const a=e.get(r);let A;return a===void 0?(A=new QM(i),e.set(r,[A])):s>=a.length?(A=new QM(i),a.push(A)):A=a[s],A}function n(){e=new WeakMap}return{get:t,dispose:n}}const Uz=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Tz=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ).rg;
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ).r;
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( max( 0.0, squared_mean - mean * mean ) );
	gl_FragColor = vec4( mean, std_dev, 0.0, 1.0 );
}`,Fz=[new Ce(1,0,0),new Ce(-1,0,0),new Ce(0,1,0),new Ce(0,-1,0),new Ce(0,0,1),new Ce(0,0,-1)],Lz=[new Ce(0,-1,0),new Ce(0,-1,0),new Ce(0,0,1),new Ce(0,0,-1),new Ce(0,-1,0),new Ce(0,-1,0)],HM=new Vn,j0=new Ce,aS=new Ce;function Iz(i,e,t){let n=new Wm;const r=new Rt,s=new Rt,a=new er,A=new yv,l=new c_,c={},h=t.maxTextureSize,g={[dh]:WA,[WA]:dh,[Pu]:Pu},v=new qA({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Rt},radius:{value:4}},vertexShader:Uz,fragmentShader:Tz}),m=v.clone();m.defines.HORIZONTAL_PASS=1;const x=new ui;x.setAttribute("position",new qi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const B=new xs(x,v),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=ym;let b=this.type;this.render=function(O,z,V){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||O.length===0)return;O.type===p1&&(sn("WebGLShadowMap: PCFSoftShadowMap has been deprecated. Using PCFShadowMap instead."),O.type=ym);const I=i.getRenderTarget(),P=i.getActiveCubeFace(),k=i.getActiveMipmapLevel(),G=i.state;G.setBlending(yf),G.buffers.depth.getReversed()===!0?G.buffers.color.setClear(0,0,0,0):G.buffers.color.setClear(1,1,1,1),G.buffers.depth.setTest(!0),G.setScissorTest(!1);const q=b!==this.type;q&&z.traverse(function(H){H.material&&(Array.isArray(H.material)?H.material.forEach(ae=>ae.needsUpdate=!0):H.material.needsUpdate=!0)});for(let H=0,ae=O.length;H<ae;H++){const Z=O[H],ne=Z.shadow;if(ne===void 0){sn("WebGLShadowMap:",Z,"has no shadow.");continue}if(ne.autoUpdate===!1&&ne.needsUpdate===!1)continue;r.copy(ne.mapSize);const oe=ne.getFrameExtents();if(r.multiply(oe),s.copy(ne.mapSize),(r.x>h||r.y>h)&&(r.x>h&&(s.x=Math.floor(h/oe.x),r.x=s.x*oe.x,ne.mapSize.x=s.x),r.y>h&&(s.y=Math.floor(h/oe.y),r.y=s.y*oe.y,ne.mapSize.y=s.y)),ne.map===null||q===!0){if(ne.map!==null&&(ne.map.depthTexture!==null&&(ne.map.depthTexture.dispose(),ne.map.depthTexture=null),ne.map.dispose()),this.type===_p){if(Z.isPointLight){sn("WebGLShadowMap: VSM shadow maps are not supported for PointLights. Use PCF or BasicShadowMap instead.");continue}ne.map=new wA(r.x,r.y,{format:Qp,type:_c,minFilter:Tr,magFilter:Tr,generateMipmaps:!1}),ne.map.texture.name=Z.name+".shadowMap",ne.map.depthTexture=new kp(r.x,r.y,yA),ne.map.depthTexture.name=Z.name+".shadowMapDepth",ne.map.depthTexture.format=xf,ne.map.depthTexture.compareFunction=null,ne.map.depthTexture.minFilter=oa,ne.map.depthTexture.magFilter=oa}else{Z.isPointLight?(ne.map=new oE(r.x),ne.map.depthTexture=new yL(r.x,Vu)):(ne.map=new wA(r.x,r.y),ne.map.depthTexture=new kp(r.x,r.y,Vu)),ne.map.depthTexture.name=Z.name+".shadowMap",ne.map.depthTexture.format=xf;const me=i.state.buffers.depth.getReversed();this.type===ym?(ne.map.depthTexture.compareFunction=me?Gb:zb,ne.map.depthTexture.minFilter=Tr,ne.map.depthTexture.magFilter=Tr):(ne.map.depthTexture.compareFunction=null,ne.map.depthTexture.minFilter=oa,ne.map.depthTexture.magFilter=oa)}ne.camera.updateProjectionMatrix()}const fe=ne.map.isWebGLCubeRenderTarget?6:1;for(let me=0;me<fe;me++){if(ne.map.isWebGLCubeRenderTarget)i.setRenderTarget(ne.map,me),i.clear();else{me===0&&(i.setRenderTarget(ne.map),i.clear());const W=ne.getViewport(me);a.set(s.x*W.x,s.y*W.y,s.x*W.z,s.y*W.w),G.viewport(a)}if(Z.isPointLight){const W=ne.camera,Q=ne.matrix,X=Z.distance||W.far;X!==W.far&&(W.far=X,W.updateProjectionMatrix()),j0.setFromMatrixPosition(Z.matrixWorld),W.position.copy(j0),aS.copy(W.position),aS.add(Fz[me]),W.up.copy(Lz[me]),W.lookAt(aS),W.updateMatrixWorld(),Q.makeTranslation(-j0.x,-j0.y,-j0.z),HM.multiplyMatrices(W.projectionMatrix,W.matrixWorldInverse),ne._frustum.setFromProjectionMatrix(HM,W.coordinateSystem,W.reversedDepth)}else ne.updateMatrices(Z);n=ne.getFrustum(),U(z,V,ne.camera,Z,this.type)}ne.isPointLightShadow!==!0&&this.type===_p&&M(ne,V),ne.needsUpdate=!1}b=this.type,_.needsUpdate=!1,i.setRenderTarget(I,P,k)};function M(O,z){const V=e.update(B);v.defines.VSM_SAMPLES!==O.blurSamples&&(v.defines.VSM_SAMPLES=O.blurSamples,m.defines.VSM_SAMPLES=O.blurSamples,v.needsUpdate=!0,m.needsUpdate=!0),O.mapPass===null&&(O.mapPass=new wA(r.x,r.y,{format:Qp,type:_c})),v.uniforms.shadow_pass.value=O.map.depthTexture,v.uniforms.resolution.value=O.mapSize,v.uniforms.radius.value=O.radius,i.setRenderTarget(O.mapPass),i.clear(),i.renderBufferDirect(z,null,V,v,B,null),m.uniforms.shadow_pass.value=O.mapPass.texture,m.uniforms.resolution.value=O.mapSize,m.uniforms.radius.value=O.radius,i.setRenderTarget(O.map),i.clear(),i.renderBufferDirect(z,null,V,m,B,null)}function T(O,z,V,I){let P=null;const k=V.isPointLight===!0?O.customDistanceMaterial:O.customDepthMaterial;if(k!==void 0)P=k;else if(P=V.isPointLight===!0?l:A,i.localClippingEnabled&&z.clipShadows===!0&&Array.isArray(z.clippingPlanes)&&z.clippingPlanes.length!==0||z.displacementMap&&z.displacementScale!==0||z.alphaMap&&z.alphaTest>0||z.map&&z.alphaTest>0||z.alphaToCoverage===!0){const G=P.uuid,q=z.uuid;let H=c[G];H===void 0&&(H={},c[G]=H);let ae=H[q];ae===void 0&&(ae=P.clone(),H[q]=ae,z.addEventListener("dispose",R)),P=ae}if(P.visible=z.visible,P.wireframe=z.wireframe,I===_p?P.side=z.shadowSide!==null?z.shadowSide:z.side:P.side=z.shadowSide!==null?z.shadowSide:g[z.side],P.alphaMap=z.alphaMap,P.alphaTest=z.alphaToCoverage===!0?.5:z.alphaTest,P.map=z.map,P.clipShadows=z.clipShadows,P.clippingPlanes=z.clippingPlanes,P.clipIntersection=z.clipIntersection,P.displacementMap=z.displacementMap,P.displacementScale=z.displacementScale,P.displacementBias=z.displacementBias,P.wireframeLinewidth=z.wireframeLinewidth,P.linewidth=z.linewidth,V.isPointLight===!0&&P.isMeshDistanceMaterial===!0){const G=i.properties.get(P);G.light=V}return P}function U(O,z,V,I,P){if(O.visible===!1)return;if(O.layers.test(z.layers)&&(O.isMesh||O.isLine||O.isPoints)&&(O.castShadow||O.receiveShadow&&P===_p)&&(!O.frustumCulled||n.intersectsObject(O))){O.modelViewMatrix.multiplyMatrices(V.matrixWorldInverse,O.matrixWorld);const q=e.update(O),H=O.material;if(Array.isArray(H)){const ae=q.groups;for(let Z=0,ne=ae.length;Z<ne;Z++){const oe=ae[Z],fe=H[oe.materialIndex];if(fe&&fe.visible){const me=T(O,fe,I,P);O.onBeforeShadow(i,O,z,V,q,me,oe),i.renderBufferDirect(V,null,q,me,O,oe),O.onAfterShadow(i,O,z,V,q,me,oe)}}}else if(H.visible){const ae=T(O,H,I,P);O.onBeforeShadow(i,O,z,V,q,ae,null),i.renderBufferDirect(V,null,q,ae,O,null),O.onAfterShadow(i,O,z,V,q,ae,null)}}const G=O.children;for(let q=0,H=G.length;q<H;q++)U(G[q],z,V,I,P)}function R(O){O.target.removeEventListener("dispose",R);for(const V in c){const I=c[V],P=O.target.uuid;P in I&&(I[P].dispose(),delete I[P])}}}const Rz={[gx]:mx,[vx]:xx,[yx]:bx,[Pp]:wx,[mx]:gx,[xx]:vx,[bx]:yx,[wx]:Pp};function Nz(i,e){function t(){let Be=!1;const Je=new er;let mt=null;const Et=new er(0,0,0,0);return{setMask:function(tt){mt!==tt&&!Be&&(i.colorMask(tt,tt,tt,tt),mt=tt)},setLocked:function(tt){Be=tt},setClear:function(tt,Ze,Lt,Vt,Wt){Wt===!0&&(tt*=Vt,Ze*=Vt,Lt*=Vt),Je.set(tt,Ze,Lt,Vt),Et.equals(Je)===!1&&(i.clearColor(tt,Ze,Lt,Vt),Et.copy(Je))},reset:function(){Be=!1,mt=null,Et.set(-1,0,0,0)}}}function n(){let Be=!1,Je=!1,mt=null,Et=null,tt=null;return{setReversed:function(Ze){if(Je!==Ze){const Lt=e.get("EXT_clip_control");Ze?Lt.clipControlEXT(Lt.LOWER_LEFT_EXT,Lt.ZERO_TO_ONE_EXT):Lt.clipControlEXT(Lt.LOWER_LEFT_EXT,Lt.NEGATIVE_ONE_TO_ONE_EXT),Je=Ze;const Vt=tt;tt=null,this.setClear(Vt)}},getReversed:function(){return Je},setTest:function(Ze){Ze?se(i.DEPTH_TEST):ye(i.DEPTH_TEST)},setMask:function(Ze){mt!==Ze&&!Be&&(i.depthMask(Ze),mt=Ze)},setFunc:function(Ze){if(Je&&(Ze=Rz[Ze]),Et!==Ze){switch(Ze){case gx:i.depthFunc(i.NEVER);break;case mx:i.depthFunc(i.ALWAYS);break;case vx:i.depthFunc(i.LESS);break;case Pp:i.depthFunc(i.LEQUAL);break;case yx:i.depthFunc(i.EQUAL);break;case wx:i.depthFunc(i.GEQUAL);break;case xx:i.depthFunc(i.GREATER);break;case bx:i.depthFunc(i.NOTEQUAL);break;default:i.depthFunc(i.LEQUAL)}Et=Ze}},setLocked:function(Ze){Be=Ze},setClear:function(Ze){tt!==Ze&&(Je&&(Ze=1-Ze),i.clearDepth(Ze),tt=Ze)},reset:function(){Be=!1,mt=null,Et=null,tt=null,Je=!1}}}function r(){let Be=!1,Je=null,mt=null,Et=null,tt=null,Ze=null,Lt=null,Vt=null,Wt=null;return{setTest:function(nn){Be||(nn?se(i.STENCIL_TEST):ye(i.STENCIL_TEST))},setMask:function(nn){Je!==nn&&!Be&&(i.stencilMask(nn),Je=nn)},setFunc:function(nn,qt,Wn){(mt!==nn||Et!==qt||tt!==Wn)&&(i.stencilFunc(nn,qt,Wn),mt=nn,Et=qt,tt=Wn)},setOp:function(nn,qt,Wn){(Ze!==nn||Lt!==qt||Vt!==Wn)&&(i.stencilOp(nn,qt,Wn),Ze=nn,Lt=qt,Vt=Wn)},setLocked:function(nn){Be=nn},setClear:function(nn){Wt!==nn&&(i.clearStencil(nn),Wt=nn)},reset:function(){Be=!1,Je=null,mt=null,Et=null,tt=null,Ze=null,Lt=null,Vt=null,Wt=null}}}const s=new t,a=new n,A=new r,l=new WeakMap,c=new WeakMap;let h={},g={},v=new WeakMap,m=[],x=null,B=!1,_=null,b=null,M=null,T=null,U=null,R=null,O=null,z=new an(0,0,0),V=0,I=!1,P=null,k=null,G=null,q=null,H=null;const ae=i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Z=!1,ne=0;const oe=i.getParameter(i.VERSION);oe.indexOf("WebGL")!==-1?(ne=parseFloat(/^WebGL (\d)/.exec(oe)[1]),Z=ne>=1):oe.indexOf("OpenGL ES")!==-1&&(ne=parseFloat(/^OpenGL ES (\d)/.exec(oe)[1]),Z=ne>=2);let fe=null,me={};const W=i.getParameter(i.SCISSOR_BOX),Q=i.getParameter(i.VIEWPORT),X=new er().fromArray(W),Y=new er().fromArray(Q);function ie(Be,Je,mt,Et){const tt=new Uint8Array(4),Ze=i.createTexture();i.bindTexture(Be,Ze),i.texParameteri(Be,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(Be,i.TEXTURE_MAG_FILTER,i.NEAREST);for(let Lt=0;Lt<mt;Lt++)Be===i.TEXTURE_3D||Be===i.TEXTURE_2D_ARRAY?i.texImage3D(Je,0,i.RGBA,1,1,Et,0,i.RGBA,i.UNSIGNED_BYTE,tt):i.texImage2D(Je+Lt,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,tt);return Ze}const te={};te[i.TEXTURE_2D]=ie(i.TEXTURE_2D,i.TEXTURE_2D,1),te[i.TEXTURE_CUBE_MAP]=ie(i.TEXTURE_CUBE_MAP,i.TEXTURE_CUBE_MAP_POSITIVE_X,6),te[i.TEXTURE_2D_ARRAY]=ie(i.TEXTURE_2D_ARRAY,i.TEXTURE_2D_ARRAY,1,1),te[i.TEXTURE_3D]=ie(i.TEXTURE_3D,i.TEXTURE_3D,1,1),s.setClear(0,0,0,1),a.setClear(1),A.setClear(0),se(i.DEPTH_TEST),a.setFunc(Pp),Le(!1),rt(B2),se(i.CULL_FACE),De(yf);function se(Be){h[Be]!==!0&&(i.enable(Be),h[Be]=!0)}function ye(Be){h[Be]!==!1&&(i.disable(Be),h[Be]=!1)}function xe(Be,Je){return g[Be]!==Je?(i.bindFramebuffer(Be,Je),g[Be]=Je,Be===i.DRAW_FRAMEBUFFER&&(g[i.FRAMEBUFFER]=Je),Be===i.FRAMEBUFFER&&(g[i.DRAW_FRAMEBUFFER]=Je),!0):!1}function Fe(Be,Je){let mt=m,Et=!1;if(Be){mt=v.get(Je),mt===void 0&&(mt=[],v.set(Je,mt));const tt=Be.textures;if(mt.length!==tt.length||mt[0]!==i.COLOR_ATTACHMENT0){for(let Ze=0,Lt=tt.length;Ze<Lt;Ze++)mt[Ze]=i.COLOR_ATTACHMENT0+Ze;mt.length=tt.length,Et=!0}}else mt[0]!==i.BACK&&(mt[0]=i.BACK,Et=!0);Et&&i.drawBuffers(mt)}function Ne(Be){return x!==Be?(i.useProgram(Be),x=Be,!0):!1}const ze={[od]:i.FUNC_ADD,[CF]:i.FUNC_SUBTRACT,[EF]:i.FUNC_REVERSE_SUBTRACT};ze[MF]=i.MIN,ze[UF]=i.MAX;const it={[TF]:i.ZERO,[FF]:i.ONE,[LF]:i.SRC_COLOR,[dx]:i.SRC_ALPHA,[PF]:i.SRC_ALPHA_SATURATE,[DF]:i.DST_COLOR,[RF]:i.DST_ALPHA,[IF]:i.ONE_MINUS_SRC_COLOR,[px]:i.ONE_MINUS_SRC_ALPHA,[OF]:i.ONE_MINUS_DST_COLOR,[NF]:i.ONE_MINUS_DST_ALPHA,[QF]:i.CONSTANT_COLOR,[HF]:i.ONE_MINUS_CONSTANT_COLOR,[kF]:i.CONSTANT_ALPHA,[zF]:i.ONE_MINUS_CONSTANT_ALPHA};function De(Be,Je,mt,Et,tt,Ze,Lt,Vt,Wt,nn){if(Be===yf){B===!0&&(ye(i.BLEND),B=!1);return}if(B===!1&&(se(i.BLEND),B=!0),Be!==SF){if(Be!==_||nn!==I){if((b!==od||U!==od)&&(i.blendEquation(i.FUNC_ADD),b=od,U=od),nn)switch(Be){case Up:i.blendFuncSeparate(i.ONE,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case S2:i.blendFunc(i.ONE,i.ONE);break;case C2:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case E2:i.blendFuncSeparate(i.DST_COLOR,i.ONE_MINUS_SRC_ALPHA,i.ZERO,i.ONE);break;default:Fn("WebGLState: Invalid blending: ",Be);break}else switch(Be){case Up:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case S2:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE,i.ONE,i.ONE);break;case C2:Fn("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case E2:Fn("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:Fn("WebGLState: Invalid blending: ",Be);break}M=null,T=null,R=null,O=null,z.set(0,0,0),V=0,_=Be,I=nn}return}tt=tt||Je,Ze=Ze||mt,Lt=Lt||Et,(Je!==b||tt!==U)&&(i.blendEquationSeparate(ze[Je],ze[tt]),b=Je,U=tt),(mt!==M||Et!==T||Ze!==R||Lt!==O)&&(i.blendFuncSeparate(it[mt],it[Et],it[Ze],it[Lt]),M=mt,T=Et,R=Ze,O=Lt),(Vt.equals(z)===!1||Wt!==V)&&(i.blendColor(Vt.r,Vt.g,Vt.b,Wt),z.copy(Vt),V=Wt),_=Be,I=!1}function re(Be,Je){Be.side===Pu?ye(i.CULL_FACE):se(i.CULL_FACE);let mt=Be.side===WA;Je&&(mt=!mt),Le(mt),Be.blending===Up&&Be.transparent===!1?De(yf):De(Be.blending,Be.blendEquation,Be.blendSrc,Be.blendDst,Be.blendEquationAlpha,Be.blendSrcAlpha,Be.blendDstAlpha,Be.blendColor,Be.blendAlpha,Be.premultipliedAlpha),a.setFunc(Be.depthFunc),a.setTest(Be.depthTest),a.setMask(Be.depthWrite),s.setMask(Be.colorWrite);const Et=Be.stencilWrite;A.setTest(Et),Et&&(A.setMask(Be.stencilWriteMask),A.setFunc(Be.stencilFunc,Be.stencilRef,Be.stencilFuncMask),A.setOp(Be.stencilFail,Be.stencilZFail,Be.stencilZPass)),He(Be.polygonOffset,Be.polygonOffsetFactor,Be.polygonOffsetUnits),Be.alphaToCoverage===!0?se(i.SAMPLE_ALPHA_TO_COVERAGE):ye(i.SAMPLE_ALPHA_TO_COVERAGE)}function Le(Be){P!==Be&&(Be?i.frontFace(i.CW):i.frontFace(i.CCW),P=Be)}function rt(Be){Be!==bF?(se(i.CULL_FACE),Be!==k&&(Be===B2?i.cullFace(i.BACK):Be===_F?i.cullFace(i.FRONT):i.cullFace(i.FRONT_AND_BACK))):ye(i.CULL_FACE),k=Be}function ce(Be){Be!==G&&(Z&&i.lineWidth(Be),G=Be)}function He(Be,Je,mt){Be?(se(i.POLYGON_OFFSET_FILL),(q!==Je||H!==mt)&&(i.polygonOffset(Je,mt),q=Je,H=mt)):ye(i.POLYGON_OFFSET_FILL)}function Xe(Be){Be?se(i.SCISSOR_TEST):ye(i.SCISSOR_TEST)}function Oe(Be){Be===void 0&&(Be=i.TEXTURE0+ae-1),fe!==Be&&(i.activeTexture(Be),fe=Be)}function Ye(Be,Je,mt){mt===void 0&&(fe===null?mt=i.TEXTURE0+ae-1:mt=fe);let Et=me[mt];Et===void 0&&(Et={type:void 0,texture:void 0},me[mt]=Et),(Et.type!==Be||Et.texture!==Je)&&(fe!==mt&&(i.activeTexture(mt),fe=mt),i.bindTexture(Be,Je||te[Be]),Et.type=Be,Et.texture=Je)}function Ae(){const Be=me[fe];Be!==void 0&&Be.type!==void 0&&(i.bindTexture(Be.type,null),Be.type=void 0,Be.texture=void 0)}function $(){try{i.compressedTexImage2D(...arguments)}catch(Be){Fn("WebGLState:",Be)}}function Se(){try{i.compressedTexImage3D(...arguments)}catch(Be){Fn("WebGLState:",Be)}}function Ge(){try{i.texSubImage2D(...arguments)}catch(Be){Fn("WebGLState:",Be)}}function Ve(){try{i.texSubImage3D(...arguments)}catch(Be){Fn("WebGLState:",Be)}}function Re(){try{i.compressedTexSubImage2D(...arguments)}catch(Be){Fn("WebGLState:",Be)}}function $e(){try{i.compressedTexSubImage3D(...arguments)}catch(Be){Fn("WebGLState:",Be)}}function At(){try{i.texStorage2D(...arguments)}catch(Be){Fn("WebGLState:",Be)}}function wt(){try{i.texStorage3D(...arguments)}catch(Be){Fn("WebGLState:",Be)}}function zt(){try{i.texImage2D(...arguments)}catch(Be){Fn("WebGLState:",Be)}}function at(){try{i.texImage3D(...arguments)}catch(Be){Fn("WebGLState:",Be)}}function ut(Be){X.equals(Be)===!1&&(i.scissor(Be.x,Be.y,Be.z,Be.w),X.copy(Be))}function ct(Be){Y.equals(Be)===!1&&(i.viewport(Be.x,Be.y,Be.z,Be.w),Y.copy(Be))}function Ee(Be,Je){let mt=c.get(Je);mt===void 0&&(mt=new WeakMap,c.set(Je,mt));let Et=mt.get(Be);Et===void 0&&(Et=i.getUniformBlockIndex(Je,Be.name),mt.set(Be,Et))}function Ie(Be,Je){const Et=c.get(Je).get(Be);l.get(Je)!==Et&&(i.uniformBlockBinding(Je,Et,Be.__bindingPointIndex),l.set(Je,Et))}function Ut(){i.disable(i.BLEND),i.disable(i.CULL_FACE),i.disable(i.DEPTH_TEST),i.disable(i.POLYGON_OFFSET_FILL),i.disable(i.SCISSOR_TEST),i.disable(i.STENCIL_TEST),i.disable(i.SAMPLE_ALPHA_TO_COVERAGE),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO),i.blendFuncSeparate(i.ONE,i.ZERO,i.ONE,i.ZERO),i.blendColor(0,0,0,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(i.LESS),a.setReversed(!1),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(i.ALWAYS,0,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),i.clearStencil(0),i.cullFace(i.BACK),i.frontFace(i.CCW),i.polygonOffset(0,0),i.activeTexture(i.TEXTURE0),i.bindFramebuffer(i.FRAMEBUFFER,null),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),i.bindFramebuffer(i.READ_FRAMEBUFFER,null),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),h={},fe=null,me={},g={},v=new WeakMap,m=[],x=null,B=!1,_=null,b=null,M=null,T=null,U=null,R=null,O=null,z=new an(0,0,0),V=0,I=!1,P=null,k=null,G=null,q=null,H=null,X.set(0,0,i.canvas.width,i.canvas.height),Y.set(0,0,i.canvas.width,i.canvas.height),s.reset(),a.reset(),A.reset()}return{buffers:{color:s,depth:a,stencil:A},enable:se,disable:ye,bindFramebuffer:xe,drawBuffers:Fe,useProgram:Ne,setBlending:De,setMaterial:re,setFlipSided:Le,setCullFace:rt,setLineWidth:ce,setPolygonOffset:He,setScissorTest:Xe,activeTexture:Oe,bindTexture:Ye,unbindTexture:Ae,compressedTexImage2D:$,compressedTexImage3D:Se,texImage2D:zt,texImage3D:at,updateUBOMapping:Ee,uniformBlockBinding:Ie,texStorage2D:At,texStorage3D:wt,texSubImage2D:Ge,texSubImage3D:Ve,compressedTexSubImage2D:Re,compressedTexSubImage3D:$e,scissor:ut,viewport:ct,reset:Ut}}function Dz(i,e,t,n,r,s,a){const A=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new Rt,h=new WeakMap;let g;const v=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(Ae,$){return m?new OffscreenCanvas(Ae,$):z1("canvas")}function B(Ae,$,Se){let Ge=1;const Ve=Ye(Ae);if((Ve.width>Se||Ve.height>Se)&&(Ge=Se/Math.max(Ve.width,Ve.height)),Ge<1)if(typeof HTMLImageElement<"u"&&Ae instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Ae instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Ae instanceof ImageBitmap||typeof VideoFrame<"u"&&Ae instanceof VideoFrame){const Re=Math.floor(Ge*Ve.width),$e=Math.floor(Ge*Ve.height);g===void 0&&(g=x(Re,$e));const At=$?x(Re,$e):g;return At.width=Re,At.height=$e,At.getContext("2d").drawImage(Ae,0,0,Re,$e),sn("WebGLRenderer: Texture has been resized from ("+Ve.width+"x"+Ve.height+") to ("+Re+"x"+$e+")."),At}else return"data"in Ae&&sn("WebGLRenderer: Image in DataTexture is too big ("+Ve.width+"x"+Ve.height+")."),Ae;return Ae}function _(Ae){return Ae.generateMipmaps}function b(Ae){i.generateMipmap(Ae)}function M(Ae){return Ae.isWebGLCubeRenderTarget?i.TEXTURE_CUBE_MAP:Ae.isWebGL3DRenderTarget?i.TEXTURE_3D:Ae.isWebGLArrayRenderTarget||Ae.isCompressedArrayTexture?i.TEXTURE_2D_ARRAY:i.TEXTURE_2D}function T(Ae,$,Se,Ge,Ve=!1){if(Ae!==null){if(i[Ae]!==void 0)return i[Ae];sn("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Ae+"'")}let Re=$;if($===i.RED&&(Se===i.FLOAT&&(Re=i.R32F),Se===i.HALF_FLOAT&&(Re=i.R16F),Se===i.UNSIGNED_BYTE&&(Re=i.R8)),$===i.RED_INTEGER&&(Se===i.UNSIGNED_BYTE&&(Re=i.R8UI),Se===i.UNSIGNED_SHORT&&(Re=i.R16UI),Se===i.UNSIGNED_INT&&(Re=i.R32UI),Se===i.BYTE&&(Re=i.R8I),Se===i.SHORT&&(Re=i.R16I),Se===i.INT&&(Re=i.R32I)),$===i.RG&&(Se===i.FLOAT&&(Re=i.RG32F),Se===i.HALF_FLOAT&&(Re=i.RG16F),Se===i.UNSIGNED_BYTE&&(Re=i.RG8)),$===i.RG_INTEGER&&(Se===i.UNSIGNED_BYTE&&(Re=i.RG8UI),Se===i.UNSIGNED_SHORT&&(Re=i.RG16UI),Se===i.UNSIGNED_INT&&(Re=i.RG32UI),Se===i.BYTE&&(Re=i.RG8I),Se===i.SHORT&&(Re=i.RG16I),Se===i.INT&&(Re=i.RG32I)),$===i.RGB_INTEGER&&(Se===i.UNSIGNED_BYTE&&(Re=i.RGB8UI),Se===i.UNSIGNED_SHORT&&(Re=i.RGB16UI),Se===i.UNSIGNED_INT&&(Re=i.RGB32UI),Se===i.BYTE&&(Re=i.RGB8I),Se===i.SHORT&&(Re=i.RGB16I),Se===i.INT&&(Re=i.RGB32I)),$===i.RGBA_INTEGER&&(Se===i.UNSIGNED_BYTE&&(Re=i.RGBA8UI),Se===i.UNSIGNED_SHORT&&(Re=i.RGBA16UI),Se===i.UNSIGNED_INT&&(Re=i.RGBA32UI),Se===i.BYTE&&(Re=i.RGBA8I),Se===i.SHORT&&(Re=i.RGBA16I),Se===i.INT&&(Re=i.RGBA32I)),$===i.RGB&&(Se===i.UNSIGNED_INT_5_9_9_9_REV&&(Re=i.RGB9_E5),Se===i.UNSIGNED_INT_10F_11F_11F_REV&&(Re=i.R11F_G11F_B10F)),$===i.RGBA){const $e=Ve?H1:Wi.getTransfer(Ge);Se===i.FLOAT&&(Re=i.RGBA32F),Se===i.HALF_FLOAT&&(Re=i.RGBA16F),Se===i.UNSIGNED_BYTE&&(Re=$e===Mr?i.SRGB8_ALPHA8:i.RGBA8),Se===i.UNSIGNED_SHORT_4_4_4_4&&(Re=i.RGBA4),Se===i.UNSIGNED_SHORT_5_5_5_1&&(Re=i.RGB5_A1)}return(Re===i.R16F||Re===i.R32F||Re===i.RG16F||Re===i.RG32F||Re===i.RGBA16F||Re===i.RGBA32F)&&e.get("EXT_color_buffer_float"),Re}function U(Ae,$){let Se;return Ae?$===null||$===Vu||$===Im?Se=i.DEPTH24_STENCIL8:$===yA?Se=i.DEPTH32F_STENCIL8:$===Lm&&(Se=i.DEPTH24_STENCIL8,sn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):$===null||$===Vu||$===Im?Se=i.DEPTH_COMPONENT24:$===yA?Se=i.DEPTH_COMPONENT32F:$===Lm&&(Se=i.DEPTH_COMPONENT16),Se}function R(Ae,$){return _(Ae)===!0||Ae.isFramebufferTexture&&Ae.minFilter!==oa&&Ae.minFilter!==Tr?Math.log2(Math.max($.width,$.height))+1:Ae.mipmaps!==void 0&&Ae.mipmaps.length>0?Ae.mipmaps.length:Ae.isCompressedTexture&&Array.isArray(Ae.image)?$.mipmaps.length:1}function O(Ae){const $=Ae.target;$.removeEventListener("dispose",O),V($),$.isVideoTexture&&h.delete($)}function z(Ae){const $=Ae.target;$.removeEventListener("dispose",z),P($)}function V(Ae){const $=n.get(Ae);if($.__webglInit===void 0)return;const Se=Ae.source,Ge=v.get(Se);if(Ge){const Ve=Ge[$.__cacheKey];Ve.usedTimes--,Ve.usedTimes===0&&I(Ae),Object.keys(Ge).length===0&&v.delete(Se)}n.remove(Ae)}function I(Ae){const $=n.get(Ae);i.deleteTexture($.__webglTexture);const Se=Ae.source,Ge=v.get(Se);delete Ge[$.__cacheKey],a.memory.textures--}function P(Ae){const $=n.get(Ae);if(Ae.depthTexture&&(Ae.depthTexture.dispose(),n.remove(Ae.depthTexture)),Ae.isWebGLCubeRenderTarget)for(let Ge=0;Ge<6;Ge++){if(Array.isArray($.__webglFramebuffer[Ge]))for(let Ve=0;Ve<$.__webglFramebuffer[Ge].length;Ve++)i.deleteFramebuffer($.__webglFramebuffer[Ge][Ve]);else i.deleteFramebuffer($.__webglFramebuffer[Ge]);$.__webglDepthbuffer&&i.deleteRenderbuffer($.__webglDepthbuffer[Ge])}else{if(Array.isArray($.__webglFramebuffer))for(let Ge=0;Ge<$.__webglFramebuffer.length;Ge++)i.deleteFramebuffer($.__webglFramebuffer[Ge]);else i.deleteFramebuffer($.__webglFramebuffer);if($.__webglDepthbuffer&&i.deleteRenderbuffer($.__webglDepthbuffer),$.__webglMultisampledFramebuffer&&i.deleteFramebuffer($.__webglMultisampledFramebuffer),$.__webglColorRenderbuffer)for(let Ge=0;Ge<$.__webglColorRenderbuffer.length;Ge++)$.__webglColorRenderbuffer[Ge]&&i.deleteRenderbuffer($.__webglColorRenderbuffer[Ge]);$.__webglDepthRenderbuffer&&i.deleteRenderbuffer($.__webglDepthRenderbuffer)}const Se=Ae.textures;for(let Ge=0,Ve=Se.length;Ge<Ve;Ge++){const Re=n.get(Se[Ge]);Re.__webglTexture&&(i.deleteTexture(Re.__webglTexture),a.memory.textures--),n.remove(Se[Ge])}n.remove(Ae)}let k=0;function G(){k=0}function q(){const Ae=k;return Ae>=r.maxTextures&&sn("WebGLTextures: Trying to use "+Ae+" texture units while this GPU supports only "+r.maxTextures),k+=1,Ae}function H(Ae){const $=[];return $.push(Ae.wrapS),$.push(Ae.wrapT),$.push(Ae.wrapR||0),$.push(Ae.magFilter),$.push(Ae.minFilter),$.push(Ae.anisotropy),$.push(Ae.internalFormat),$.push(Ae.format),$.push(Ae.type),$.push(Ae.generateMipmaps),$.push(Ae.premultiplyAlpha),$.push(Ae.flipY),$.push(Ae.unpackAlignment),$.push(Ae.colorSpace),$.join()}function ae(Ae,$){const Se=n.get(Ae);if(Ae.isVideoTexture&&Xe(Ae),Ae.isRenderTargetTexture===!1&&Ae.isExternalTexture!==!0&&Ae.version>0&&Se.__version!==Ae.version){const Ge=Ae.image;if(Ge===null)sn("WebGLRenderer: Texture marked for update but no image data found.");else if(Ge.complete===!1)sn("WebGLRenderer: Texture marked for update but image is incomplete");else{te(Se,Ae,$);return}}else Ae.isExternalTexture&&(Se.__webglTexture=Ae.sourceTexture?Ae.sourceTexture:null);t.bindTexture(i.TEXTURE_2D,Se.__webglTexture,i.TEXTURE0+$)}function Z(Ae,$){const Se=n.get(Ae);if(Ae.isRenderTargetTexture===!1&&Ae.version>0&&Se.__version!==Ae.version){te(Se,Ae,$);return}else Ae.isExternalTexture&&(Se.__webglTexture=Ae.sourceTexture?Ae.sourceTexture:null);t.bindTexture(i.TEXTURE_2D_ARRAY,Se.__webglTexture,i.TEXTURE0+$)}function ne(Ae,$){const Se=n.get(Ae);if(Ae.isRenderTargetTexture===!1&&Ae.version>0&&Se.__version!==Ae.version){te(Se,Ae,$);return}t.bindTexture(i.TEXTURE_3D,Se.__webglTexture,i.TEXTURE0+$)}function oe(Ae,$){const Se=n.get(Ae);if(Ae.isCubeDepthTexture!==!0&&Ae.version>0&&Se.__version!==Ae.version){se(Se,Ae,$);return}t.bindTexture(i.TEXTURE_CUBE_MAP,Se.__webglTexture,i.TEXTURE0+$)}const fe={[Tm]:i.REPEAT,[KA]:i.CLAMP_TO_EDGE,[Fm]:i.MIRRORED_REPEAT},me={[oa]:i.NEAREST,[Rb]:i.NEAREST_MIPMAP_NEAREST,[Bp]:i.NEAREST_MIPMAP_LINEAR,[Tr]:i.LINEAR,[wm]:i.LINEAR_MIPMAP_NEAREST,[yc]:i.LINEAR_MIPMAP_LINEAR},W={[ZF]:i.NEVER,[iL]:i.ALWAYS,[$F]:i.LESS,[zb]:i.LEQUAL,[eL]:i.EQUAL,[Gb]:i.GEQUAL,[tL]:i.GREATER,[nL]:i.NOTEQUAL};function Q(Ae,$){if($.type===yA&&e.has("OES_texture_float_linear")===!1&&($.magFilter===Tr||$.magFilter===wm||$.magFilter===Bp||$.magFilter===yc||$.minFilter===Tr||$.minFilter===wm||$.minFilter===Bp||$.minFilter===yc)&&sn("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),i.texParameteri(Ae,i.TEXTURE_WRAP_S,fe[$.wrapS]),i.texParameteri(Ae,i.TEXTURE_WRAP_T,fe[$.wrapT]),(Ae===i.TEXTURE_3D||Ae===i.TEXTURE_2D_ARRAY)&&i.texParameteri(Ae,i.TEXTURE_WRAP_R,fe[$.wrapR]),i.texParameteri(Ae,i.TEXTURE_MAG_FILTER,me[$.magFilter]),i.texParameteri(Ae,i.TEXTURE_MIN_FILTER,me[$.minFilter]),$.compareFunction&&(i.texParameteri(Ae,i.TEXTURE_COMPARE_MODE,i.COMPARE_REF_TO_TEXTURE),i.texParameteri(Ae,i.TEXTURE_COMPARE_FUNC,W[$.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if($.magFilter===oa||$.minFilter!==Bp&&$.minFilter!==yc||$.type===yA&&e.has("OES_texture_float_linear")===!1)return;if($.anisotropy>1||n.get($).__currentAnisotropy){const Se=e.get("EXT_texture_filter_anisotropic");i.texParameterf(Ae,Se.TEXTURE_MAX_ANISOTROPY_EXT,Math.min($.anisotropy,r.getMaxAnisotropy())),n.get($).__currentAnisotropy=$.anisotropy}}}function X(Ae,$){let Se=!1;Ae.__webglInit===void 0&&(Ae.__webglInit=!0,$.addEventListener("dispose",O));const Ge=$.source;let Ve=v.get(Ge);Ve===void 0&&(Ve={},v.set(Ge,Ve));const Re=H($);if(Re!==Ae.__cacheKey){Ve[Re]===void 0&&(Ve[Re]={texture:i.createTexture(),usedTimes:0},a.memory.textures++,Se=!0),Ve[Re].usedTimes++;const $e=Ve[Ae.__cacheKey];$e!==void 0&&(Ve[Ae.__cacheKey].usedTimes--,$e.usedTimes===0&&I($)),Ae.__cacheKey=Re,Ae.__webglTexture=Ve[Re].texture}return Se}function Y(Ae,$,Se){return Math.floor(Math.floor(Ae/Se)/$)}function ie(Ae,$,Se,Ge){const Re=Ae.updateRanges;if(Re.length===0)t.texSubImage2D(i.TEXTURE_2D,0,0,0,$.width,$.height,Se,Ge,$.data);else{Re.sort((at,ut)=>at.start-ut.start);let $e=0;for(let at=1;at<Re.length;at++){const ut=Re[$e],ct=Re[at],Ee=ut.start+ut.count,Ie=Y(ct.start,$.width,4),Ut=Y(ut.start,$.width,4);ct.start<=Ee+1&&Ie===Ut&&Y(ct.start+ct.count-1,$.width,4)===Ie?ut.count=Math.max(ut.count,ct.start+ct.count-ut.start):(++$e,Re[$e]=ct)}Re.length=$e+1;const At=i.getParameter(i.UNPACK_ROW_LENGTH),wt=i.getParameter(i.UNPACK_SKIP_PIXELS),zt=i.getParameter(i.UNPACK_SKIP_ROWS);i.pixelStorei(i.UNPACK_ROW_LENGTH,$.width);for(let at=0,ut=Re.length;at<ut;at++){const ct=Re[at],Ee=Math.floor(ct.start/4),Ie=Math.ceil(ct.count/4),Ut=Ee%$.width,Be=Math.floor(Ee/$.width),Je=Ie,mt=1;i.pixelStorei(i.UNPACK_SKIP_PIXELS,Ut),i.pixelStorei(i.UNPACK_SKIP_ROWS,Be),t.texSubImage2D(i.TEXTURE_2D,0,Ut,Be,Je,mt,Se,Ge,$.data)}Ae.clearUpdateRanges(),i.pixelStorei(i.UNPACK_ROW_LENGTH,At),i.pixelStorei(i.UNPACK_SKIP_PIXELS,wt),i.pixelStorei(i.UNPACK_SKIP_ROWS,zt)}}function te(Ae,$,Se){let Ge=i.TEXTURE_2D;($.isDataArrayTexture||$.isCompressedArrayTexture)&&(Ge=i.TEXTURE_2D_ARRAY),$.isData3DTexture&&(Ge=i.TEXTURE_3D);const Ve=X(Ae,$),Re=$.source;t.bindTexture(Ge,Ae.__webglTexture,i.TEXTURE0+Se);const $e=n.get(Re);if(Re.version!==$e.__version||Ve===!0){t.activeTexture(i.TEXTURE0+Se);const At=Wi.getPrimaries(Wi.workingColorSpace),wt=$.colorSpace===pf?null:Wi.getPrimaries($.colorSpace),zt=$.colorSpace===pf||At===wt?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,$.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,$.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,$.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,zt);let at=B($.image,!1,r.maxTextureSize);at=Oe($,at);const ut=s.convert($.format,$.colorSpace),ct=s.convert($.type);let Ee=T($.internalFormat,ut,ct,$.colorSpace,$.isVideoTexture);Q(Ge,$);let Ie;const Ut=$.mipmaps,Be=$.isVideoTexture!==!0,Je=$e.__version===void 0||Ve===!0,mt=Re.dataReady,Et=R($,at);if($.isDepthTexture)Ee=U($.format===Ad,$.type),Je&&(Be?t.texStorage2D(i.TEXTURE_2D,1,Ee,at.width,at.height):t.texImage2D(i.TEXTURE_2D,0,Ee,at.width,at.height,0,ut,ct,null));else if($.isDataTexture)if(Ut.length>0){Be&&Je&&t.texStorage2D(i.TEXTURE_2D,Et,Ee,Ut[0].width,Ut[0].height);for(let tt=0,Ze=Ut.length;tt<Ze;tt++)Ie=Ut[tt],Be?mt&&t.texSubImage2D(i.TEXTURE_2D,tt,0,0,Ie.width,Ie.height,ut,ct,Ie.data):t.texImage2D(i.TEXTURE_2D,tt,Ee,Ie.width,Ie.height,0,ut,ct,Ie.data);$.generateMipmaps=!1}else Be?(Je&&t.texStorage2D(i.TEXTURE_2D,Et,Ee,at.width,at.height),mt&&ie($,at,ut,ct)):t.texImage2D(i.TEXTURE_2D,0,Ee,at.width,at.height,0,ut,ct,at.data);else if($.isCompressedTexture)if($.isCompressedArrayTexture){Be&&Je&&t.texStorage3D(i.TEXTURE_2D_ARRAY,Et,Ee,Ut[0].width,Ut[0].height,at.depth);for(let tt=0,Ze=Ut.length;tt<Ze;tt++)if(Ie=Ut[tt],$.format!==Vo)if(ut!==null)if(Be){if(mt)if($.layerUpdates.size>0){const Lt=P2(Ie.width,Ie.height,$.format,$.type);for(const Vt of $.layerUpdates){const Wt=Ie.data.subarray(Vt*Lt/Ie.data.BYTES_PER_ELEMENT,(Vt+1)*Lt/Ie.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,tt,0,0,Vt,Ie.width,Ie.height,1,ut,Wt)}$.clearLayerUpdates()}else t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,tt,0,0,0,Ie.width,Ie.height,at.depth,ut,Ie.data)}else t.compressedTexImage3D(i.TEXTURE_2D_ARRAY,tt,Ee,Ie.width,Ie.height,at.depth,0,Ie.data,0,0);else sn("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Be?mt&&t.texSubImage3D(i.TEXTURE_2D_ARRAY,tt,0,0,0,Ie.width,Ie.height,at.depth,ut,ct,Ie.data):t.texImage3D(i.TEXTURE_2D_ARRAY,tt,Ee,Ie.width,Ie.height,at.depth,0,ut,ct,Ie.data)}else{Be&&Je&&t.texStorage2D(i.TEXTURE_2D,Et,Ee,Ut[0].width,Ut[0].height);for(let tt=0,Ze=Ut.length;tt<Ze;tt++)Ie=Ut[tt],$.format!==Vo?ut!==null?Be?mt&&t.compressedTexSubImage2D(i.TEXTURE_2D,tt,0,0,Ie.width,Ie.height,ut,Ie.data):t.compressedTexImage2D(i.TEXTURE_2D,tt,Ee,Ie.width,Ie.height,0,Ie.data):sn("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Be?mt&&t.texSubImage2D(i.TEXTURE_2D,tt,0,0,Ie.width,Ie.height,ut,ct,Ie.data):t.texImage2D(i.TEXTURE_2D,tt,Ee,Ie.width,Ie.height,0,ut,ct,Ie.data)}else if($.isDataArrayTexture)if(Be){if(Je&&t.texStorage3D(i.TEXTURE_2D_ARRAY,Et,Ee,at.width,at.height,at.depth),mt)if($.layerUpdates.size>0){const tt=P2(at.width,at.height,$.format,$.type);for(const Ze of $.layerUpdates){const Lt=at.data.subarray(Ze*tt/at.data.BYTES_PER_ELEMENT,(Ze+1)*tt/at.data.BYTES_PER_ELEMENT);t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,Ze,at.width,at.height,1,ut,ct,Lt)}$.clearLayerUpdates()}else t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,0,at.width,at.height,at.depth,ut,ct,at.data)}else t.texImage3D(i.TEXTURE_2D_ARRAY,0,Ee,at.width,at.height,at.depth,0,ut,ct,at.data);else if($.isData3DTexture)Be?(Je&&t.texStorage3D(i.TEXTURE_3D,Et,Ee,at.width,at.height,at.depth),mt&&t.texSubImage3D(i.TEXTURE_3D,0,0,0,0,at.width,at.height,at.depth,ut,ct,at.data)):t.texImage3D(i.TEXTURE_3D,0,Ee,at.width,at.height,at.depth,0,ut,ct,at.data);else if($.isFramebufferTexture){if(Je)if(Be)t.texStorage2D(i.TEXTURE_2D,Et,Ee,at.width,at.height);else{let tt=at.width,Ze=at.height;for(let Lt=0;Lt<Et;Lt++)t.texImage2D(i.TEXTURE_2D,Lt,Ee,tt,Ze,0,ut,ct,null),tt>>=1,Ze>>=1}}else if(Ut.length>0){if(Be&&Je){const tt=Ye(Ut[0]);t.texStorage2D(i.TEXTURE_2D,Et,Ee,tt.width,tt.height)}for(let tt=0,Ze=Ut.length;tt<Ze;tt++)Ie=Ut[tt],Be?mt&&t.texSubImage2D(i.TEXTURE_2D,tt,0,0,ut,ct,Ie):t.texImage2D(i.TEXTURE_2D,tt,Ee,ut,ct,Ie);$.generateMipmaps=!1}else if(Be){if(Je){const tt=Ye(at);t.texStorage2D(i.TEXTURE_2D,Et,Ee,tt.width,tt.height)}mt&&t.texSubImage2D(i.TEXTURE_2D,0,0,0,ut,ct,at)}else t.texImage2D(i.TEXTURE_2D,0,Ee,ut,ct,at);_($)&&b(Ge),$e.__version=Re.version,$.onUpdate&&$.onUpdate($)}Ae.__version=$.version}function se(Ae,$,Se){if($.image.length!==6)return;const Ge=X(Ae,$),Ve=$.source;t.bindTexture(i.TEXTURE_CUBE_MAP,Ae.__webglTexture,i.TEXTURE0+Se);const Re=n.get(Ve);if(Ve.version!==Re.__version||Ge===!0){t.activeTexture(i.TEXTURE0+Se);const $e=Wi.getPrimaries(Wi.workingColorSpace),At=$.colorSpace===pf?null:Wi.getPrimaries($.colorSpace),wt=$.colorSpace===pf||$e===At?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,$.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,$.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,$.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,wt);const zt=$.isCompressedTexture||$.image[0].isCompressedTexture,at=$.image[0]&&$.image[0].isDataTexture,ut=[];for(let Ze=0;Ze<6;Ze++)!zt&&!at?ut[Ze]=B($.image[Ze],!0,r.maxCubemapSize):ut[Ze]=at?$.image[Ze].image:$.image[Ze],ut[Ze]=Oe($,ut[Ze]);const ct=ut[0],Ee=s.convert($.format,$.colorSpace),Ie=s.convert($.type),Ut=T($.internalFormat,Ee,Ie,$.colorSpace),Be=$.isVideoTexture!==!0,Je=Re.__version===void 0||Ge===!0,mt=Ve.dataReady;let Et=R($,ct);Q(i.TEXTURE_CUBE_MAP,$);let tt;if(zt){Be&&Je&&t.texStorage2D(i.TEXTURE_CUBE_MAP,Et,Ut,ct.width,ct.height);for(let Ze=0;Ze<6;Ze++){tt=ut[Ze].mipmaps;for(let Lt=0;Lt<tt.length;Lt++){const Vt=tt[Lt];$.format!==Vo?Ee!==null?Be?mt&&t.compressedTexSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ze,Lt,0,0,Vt.width,Vt.height,Ee,Vt.data):t.compressedTexImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ze,Lt,Ut,Vt.width,Vt.height,0,Vt.data):sn("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Be?mt&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ze,Lt,0,0,Vt.width,Vt.height,Ee,Ie,Vt.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ze,Lt,Ut,Vt.width,Vt.height,0,Ee,Ie,Vt.data)}}}else{if(tt=$.mipmaps,Be&&Je){tt.length>0&&Et++;const Ze=Ye(ut[0]);t.texStorage2D(i.TEXTURE_CUBE_MAP,Et,Ut,Ze.width,Ze.height)}for(let Ze=0;Ze<6;Ze++)if(at){Be?mt&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ze,0,0,0,ut[Ze].width,ut[Ze].height,Ee,Ie,ut[Ze].data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ze,0,Ut,ut[Ze].width,ut[Ze].height,0,Ee,Ie,ut[Ze].data);for(let Lt=0;Lt<tt.length;Lt++){const Wt=tt[Lt].image[Ze].image;Be?mt&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ze,Lt+1,0,0,Wt.width,Wt.height,Ee,Ie,Wt.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ze,Lt+1,Ut,Wt.width,Wt.height,0,Ee,Ie,Wt.data)}}else{Be?mt&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ze,0,0,0,Ee,Ie,ut[Ze]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ze,0,Ut,Ee,Ie,ut[Ze]);for(let Lt=0;Lt<tt.length;Lt++){const Vt=tt[Lt];Be?mt&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ze,Lt+1,0,0,Ee,Ie,Vt.image[Ze]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ze,Lt+1,Ut,Ee,Ie,Vt.image[Ze])}}}_($)&&b(i.TEXTURE_CUBE_MAP),Re.__version=Ve.version,$.onUpdate&&$.onUpdate($)}Ae.__version=$.version}function ye(Ae,$,Se,Ge,Ve,Re){const $e=s.convert(Se.format,Se.colorSpace),At=s.convert(Se.type),wt=T(Se.internalFormat,$e,At,Se.colorSpace),zt=n.get($),at=n.get(Se);if(at.__renderTarget=$,!zt.__hasExternalTextures){const ut=Math.max(1,$.width>>Re),ct=Math.max(1,$.height>>Re);Ve===i.TEXTURE_3D||Ve===i.TEXTURE_2D_ARRAY?t.texImage3D(Ve,Re,wt,ut,ct,$.depth,0,$e,At,null):t.texImage2D(Ve,Re,wt,ut,ct,0,$e,At,null)}t.bindFramebuffer(i.FRAMEBUFFER,Ae),He($)?A.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,Ge,Ve,at.__webglTexture,0,ce($)):(Ve===i.TEXTURE_2D||Ve>=i.TEXTURE_CUBE_MAP_POSITIVE_X&&Ve<=i.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&i.framebufferTexture2D(i.FRAMEBUFFER,Ge,Ve,at.__webglTexture,Re),t.bindFramebuffer(i.FRAMEBUFFER,null)}function xe(Ae,$,Se){if(i.bindRenderbuffer(i.RENDERBUFFER,Ae),$.depthBuffer){const Ge=$.depthTexture,Ve=Ge&&Ge.isDepthTexture?Ge.type:null,Re=U($.stencilBuffer,Ve),$e=$.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;He($)?A.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,ce($),Re,$.width,$.height):Se?i.renderbufferStorageMultisample(i.RENDERBUFFER,ce($),Re,$.width,$.height):i.renderbufferStorage(i.RENDERBUFFER,Re,$.width,$.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,$e,i.RENDERBUFFER,Ae)}else{const Ge=$.textures;for(let Ve=0;Ve<Ge.length;Ve++){const Re=Ge[Ve],$e=s.convert(Re.format,Re.colorSpace),At=s.convert(Re.type),wt=T(Re.internalFormat,$e,At,Re.colorSpace);He($)?A.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,ce($),wt,$.width,$.height):Se?i.renderbufferStorageMultisample(i.RENDERBUFFER,ce($),wt,$.width,$.height):i.renderbufferStorage(i.RENDERBUFFER,wt,$.width,$.height)}}i.bindRenderbuffer(i.RENDERBUFFER,null)}function Fe(Ae,$,Se){const Ge=$.isWebGLCubeRenderTarget===!0;if(t.bindFramebuffer(i.FRAMEBUFFER,Ae),!($.depthTexture&&$.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ve=n.get($.depthTexture);if(Ve.__renderTarget=$,(!Ve.__webglTexture||$.depthTexture.image.width!==$.width||$.depthTexture.image.height!==$.height)&&($.depthTexture.image.width=$.width,$.depthTexture.image.height=$.height,$.depthTexture.needsUpdate=!0),Ge){if(Ve.__webglInit===void 0&&(Ve.__webglInit=!0,$.depthTexture.addEventListener("dispose",O)),Ve.__webglTexture===void 0){Ve.__webglTexture=i.createTexture(),t.bindTexture(i.TEXTURE_CUBE_MAP,Ve.__webglTexture),Q(i.TEXTURE_CUBE_MAP,$.depthTexture);const zt=s.convert($.depthTexture.format),at=s.convert($.depthTexture.type);let ut;$.depthTexture.format===xf?ut=i.DEPTH_COMPONENT24:$.depthTexture.format===Ad&&(ut=i.DEPTH24_STENCIL8);for(let ct=0;ct<6;ct++)i.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+ct,0,ut,$.width,$.height,0,zt,at,null)}}else ae($.depthTexture,0);const Re=Ve.__webglTexture,$e=ce($),At=Ge?i.TEXTURE_CUBE_MAP_POSITIVE_X+Se:i.TEXTURE_2D,wt=$.depthTexture.format===Ad?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;if($.depthTexture.format===xf)He($)?A.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,wt,At,Re,0,$e):i.framebufferTexture2D(i.FRAMEBUFFER,wt,At,Re,0);else if($.depthTexture.format===Ad)He($)?A.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,wt,At,Re,0,$e):i.framebufferTexture2D(i.FRAMEBUFFER,wt,At,Re,0);else throw new Error("Unknown depthTexture format")}function Ne(Ae){const $=n.get(Ae),Se=Ae.isWebGLCubeRenderTarget===!0;if($.__boundDepthTexture!==Ae.depthTexture){const Ge=Ae.depthTexture;if($.__depthDisposeCallback&&$.__depthDisposeCallback(),Ge){const Ve=()=>{delete $.__boundDepthTexture,delete $.__depthDisposeCallback,Ge.removeEventListener("dispose",Ve)};Ge.addEventListener("dispose",Ve),$.__depthDisposeCallback=Ve}$.__boundDepthTexture=Ge}if(Ae.depthTexture&&!$.__autoAllocateDepthBuffer)if(Se)for(let Ge=0;Ge<6;Ge++)Fe($.__webglFramebuffer[Ge],Ae,Ge);else{const Ge=Ae.texture.mipmaps;Ge&&Ge.length>0?Fe($.__webglFramebuffer[0],Ae,0):Fe($.__webglFramebuffer,Ae,0)}else if(Se){$.__webglDepthbuffer=[];for(let Ge=0;Ge<6;Ge++)if(t.bindFramebuffer(i.FRAMEBUFFER,$.__webglFramebuffer[Ge]),$.__webglDepthbuffer[Ge]===void 0)$.__webglDepthbuffer[Ge]=i.createRenderbuffer(),xe($.__webglDepthbuffer[Ge],Ae,!1);else{const Ve=Ae.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Re=$.__webglDepthbuffer[Ge];i.bindRenderbuffer(i.RENDERBUFFER,Re),i.framebufferRenderbuffer(i.FRAMEBUFFER,Ve,i.RENDERBUFFER,Re)}}else{const Ge=Ae.texture.mipmaps;if(Ge&&Ge.length>0?t.bindFramebuffer(i.FRAMEBUFFER,$.__webglFramebuffer[0]):t.bindFramebuffer(i.FRAMEBUFFER,$.__webglFramebuffer),$.__webglDepthbuffer===void 0)$.__webglDepthbuffer=i.createRenderbuffer(),xe($.__webglDepthbuffer,Ae,!1);else{const Ve=Ae.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Re=$.__webglDepthbuffer;i.bindRenderbuffer(i.RENDERBUFFER,Re),i.framebufferRenderbuffer(i.FRAMEBUFFER,Ve,i.RENDERBUFFER,Re)}}t.bindFramebuffer(i.FRAMEBUFFER,null)}function ze(Ae,$,Se){const Ge=n.get(Ae);$!==void 0&&ye(Ge.__webglFramebuffer,Ae,Ae.texture,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,0),Se!==void 0&&Ne(Ae)}function it(Ae){const $=Ae.texture,Se=n.get(Ae),Ge=n.get($);Ae.addEventListener("dispose",z);const Ve=Ae.textures,Re=Ae.isWebGLCubeRenderTarget===!0,$e=Ve.length>1;if($e||(Ge.__webglTexture===void 0&&(Ge.__webglTexture=i.createTexture()),Ge.__version=$.version,a.memory.textures++),Re){Se.__webglFramebuffer=[];for(let At=0;At<6;At++)if($.mipmaps&&$.mipmaps.length>0){Se.__webglFramebuffer[At]=[];for(let wt=0;wt<$.mipmaps.length;wt++)Se.__webglFramebuffer[At][wt]=i.createFramebuffer()}else Se.__webglFramebuffer[At]=i.createFramebuffer()}else{if($.mipmaps&&$.mipmaps.length>0){Se.__webglFramebuffer=[];for(let At=0;At<$.mipmaps.length;At++)Se.__webglFramebuffer[At]=i.createFramebuffer()}else Se.__webglFramebuffer=i.createFramebuffer();if($e)for(let At=0,wt=Ve.length;At<wt;At++){const zt=n.get(Ve[At]);zt.__webglTexture===void 0&&(zt.__webglTexture=i.createTexture(),a.memory.textures++)}if(Ae.samples>0&&He(Ae)===!1){Se.__webglMultisampledFramebuffer=i.createFramebuffer(),Se.__webglColorRenderbuffer=[],t.bindFramebuffer(i.FRAMEBUFFER,Se.__webglMultisampledFramebuffer);for(let At=0;At<Ve.length;At++){const wt=Ve[At];Se.__webglColorRenderbuffer[At]=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,Se.__webglColorRenderbuffer[At]);const zt=s.convert(wt.format,wt.colorSpace),at=s.convert(wt.type),ut=T(wt.internalFormat,zt,at,wt.colorSpace,Ae.isXRRenderTarget===!0),ct=ce(Ae);i.renderbufferStorageMultisample(i.RENDERBUFFER,ct,ut,Ae.width,Ae.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+At,i.RENDERBUFFER,Se.__webglColorRenderbuffer[At])}i.bindRenderbuffer(i.RENDERBUFFER,null),Ae.depthBuffer&&(Se.__webglDepthRenderbuffer=i.createRenderbuffer(),xe(Se.__webglDepthRenderbuffer,Ae,!0)),t.bindFramebuffer(i.FRAMEBUFFER,null)}}if(Re){t.bindTexture(i.TEXTURE_CUBE_MAP,Ge.__webglTexture),Q(i.TEXTURE_CUBE_MAP,$);for(let At=0;At<6;At++)if($.mipmaps&&$.mipmaps.length>0)for(let wt=0;wt<$.mipmaps.length;wt++)ye(Se.__webglFramebuffer[At][wt],Ae,$,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+At,wt);else ye(Se.__webglFramebuffer[At],Ae,$,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+At,0);_($)&&b(i.TEXTURE_CUBE_MAP),t.unbindTexture()}else if($e){for(let At=0,wt=Ve.length;At<wt;At++){const zt=Ve[At],at=n.get(zt);let ut=i.TEXTURE_2D;(Ae.isWebGL3DRenderTarget||Ae.isWebGLArrayRenderTarget)&&(ut=Ae.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),t.bindTexture(ut,at.__webglTexture),Q(ut,zt),ye(Se.__webglFramebuffer,Ae,zt,i.COLOR_ATTACHMENT0+At,ut,0),_(zt)&&b(ut)}t.unbindTexture()}else{let At=i.TEXTURE_2D;if((Ae.isWebGL3DRenderTarget||Ae.isWebGLArrayRenderTarget)&&(At=Ae.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),t.bindTexture(At,Ge.__webglTexture),Q(At,$),$.mipmaps&&$.mipmaps.length>0)for(let wt=0;wt<$.mipmaps.length;wt++)ye(Se.__webglFramebuffer[wt],Ae,$,i.COLOR_ATTACHMENT0,At,wt);else ye(Se.__webglFramebuffer,Ae,$,i.COLOR_ATTACHMENT0,At,0);_($)&&b(At),t.unbindTexture()}Ae.depthBuffer&&Ne(Ae)}function De(Ae){const $=Ae.textures;for(let Se=0,Ge=$.length;Se<Ge;Se++){const Ve=$[Se];if(_(Ve)){const Re=M(Ae),$e=n.get(Ve).__webglTexture;t.bindTexture(Re,$e),b(Re),t.unbindTexture()}}}const re=[],Le=[];function rt(Ae){if(Ae.samples>0){if(He(Ae)===!1){const $=Ae.textures,Se=Ae.width,Ge=Ae.height;let Ve=i.COLOR_BUFFER_BIT;const Re=Ae.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,$e=n.get(Ae),At=$.length>1;if(At)for(let zt=0;zt<$.length;zt++)t.bindFramebuffer(i.FRAMEBUFFER,$e.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+zt,i.RENDERBUFFER,null),t.bindFramebuffer(i.FRAMEBUFFER,$e.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+zt,i.TEXTURE_2D,null,0);t.bindFramebuffer(i.READ_FRAMEBUFFER,$e.__webglMultisampledFramebuffer);const wt=Ae.texture.mipmaps;wt&&wt.length>0?t.bindFramebuffer(i.DRAW_FRAMEBUFFER,$e.__webglFramebuffer[0]):t.bindFramebuffer(i.DRAW_FRAMEBUFFER,$e.__webglFramebuffer);for(let zt=0;zt<$.length;zt++){if(Ae.resolveDepthBuffer&&(Ae.depthBuffer&&(Ve|=i.DEPTH_BUFFER_BIT),Ae.stencilBuffer&&Ae.resolveStencilBuffer&&(Ve|=i.STENCIL_BUFFER_BIT)),At){i.framebufferRenderbuffer(i.READ_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,$e.__webglColorRenderbuffer[zt]);const at=n.get($[zt]).__webglTexture;i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,at,0)}i.blitFramebuffer(0,0,Se,Ge,0,0,Se,Ge,Ve,i.NEAREST),l===!0&&(re.length=0,Le.length=0,re.push(i.COLOR_ATTACHMENT0+zt),Ae.depthBuffer&&Ae.resolveDepthBuffer===!1&&(re.push(Re),Le.push(Re),i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,Le)),i.invalidateFramebuffer(i.READ_FRAMEBUFFER,re))}if(t.bindFramebuffer(i.READ_FRAMEBUFFER,null),t.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),At)for(let zt=0;zt<$.length;zt++){t.bindFramebuffer(i.FRAMEBUFFER,$e.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+zt,i.RENDERBUFFER,$e.__webglColorRenderbuffer[zt]);const at=n.get($[zt]).__webglTexture;t.bindFramebuffer(i.FRAMEBUFFER,$e.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+zt,i.TEXTURE_2D,at,0)}t.bindFramebuffer(i.DRAW_FRAMEBUFFER,$e.__webglMultisampledFramebuffer)}else if(Ae.depthBuffer&&Ae.resolveDepthBuffer===!1&&l){const $=Ae.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,[$])}}}function ce(Ae){return Math.min(r.maxSamples,Ae.samples)}function He(Ae){const $=n.get(Ae);return Ae.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&$.__useRenderToTexture!==!1}function Xe(Ae){const $=a.render.frame;h.get(Ae)!==$&&(h.set(Ae,$),Ae.update())}function Oe(Ae,$){const Se=Ae.colorSpace,Ge=Ae.format,Ve=Ae.type;return Ae.isCompressedTexture===!0||Ae.isVideoTexture===!0||Se!==wd&&Se!==pf&&(Wi.getTransfer(Se)===Mr?(Ge!==Vo||Ve!==VA)&&sn("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):Fn("WebGLTextures: Unsupported texture color space:",Se)),$}function Ye(Ae){return typeof HTMLImageElement<"u"&&Ae instanceof HTMLImageElement?(c.width=Ae.naturalWidth||Ae.width,c.height=Ae.naturalHeight||Ae.height):typeof VideoFrame<"u"&&Ae instanceof VideoFrame?(c.width=Ae.displayWidth,c.height=Ae.displayHeight):(c.width=Ae.width,c.height=Ae.height),c}this.allocateTextureUnit=q,this.resetTextureUnits=G,this.setTexture2D=ae,this.setTexture2DArray=Z,this.setTexture3D=ne,this.setTextureCube=oe,this.rebindTextures=ze,this.setupRenderTarget=it,this.updateRenderTargetMipmap=De,this.updateMultisampleRenderTarget=rt,this.setupDepthRenderbuffer=Ne,this.setupFrameBufferTexture=ye,this.useMultisampledRTT=He,this.isReversedDepthBuffer=function(){return t.buffers.depth.getReversed()}}function oI(i,e){function t(n,r=pf){let s;const a=Wi.getTransfer(r);if(n===VA)return i.UNSIGNED_BYTE;if(n===Db)return i.UNSIGNED_SHORT_4_4_4_4;if(n===Ob)return i.UNSIGNED_SHORT_5_5_5_1;if(n===JC)return i.UNSIGNED_INT_5_9_9_9_REV;if(n===ZC)return i.UNSIGNED_INT_10F_11F_11F_REV;if(n===XC)return i.BYTE;if(n===YC)return i.SHORT;if(n===Lm)return i.UNSIGNED_SHORT;if(n===Nb)return i.INT;if(n===Vu)return i.UNSIGNED_INT;if(n===yA)return i.FLOAT;if(n===_c)return i.HALF_FLOAT;if(n===$C)return i.ALPHA;if(n===eE)return i.RGB;if(n===Vo)return i.RGBA;if(n===xf)return i.DEPTH_COMPONENT;if(n===Ad)return i.DEPTH_STENCIL;if(n===Pb)return i.RED;if(n===hv)return i.RED_INTEGER;if(n===Qp)return i.RG;if(n===Qb)return i.RG_INTEGER;if(n===Hb)return i.RGBA_INTEGER;if(n===g1||n===m1||n===v1||n===y1)if(a===Mr)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(n===g1)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===m1)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===v1)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===y1)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(n===g1)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===m1)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===v1)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===y1)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===_x||n===Bx||n===Sx||n===Cx)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(n===_x)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===Bx)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===Sx)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===Cx)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===Ex||n===Mx||n===Ux||n===Tx||n===Fx||n===Lx||n===Ix)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(n===Ex||n===Mx)return a===Mr?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(n===Ux)return a===Mr?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC;if(n===Tx)return s.COMPRESSED_R11_EAC;if(n===Fx)return s.COMPRESSED_SIGNED_R11_EAC;if(n===Lx)return s.COMPRESSED_RG11_EAC;if(n===Ix)return s.COMPRESSED_SIGNED_RG11_EAC}else return null;if(n===Rx||n===Nx||n===Dx||n===Ox||n===Px||n===Qx||n===Hx||n===kx||n===zx||n===Gx||n===Vx||n===jx||n===Kx||n===Wx)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(n===Rx)return a===Mr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===Nx)return a===Mr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===Dx)return a===Mr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===Ox)return a===Mr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===Px)return a===Mr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===Qx)return a===Mr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===Hx)return a===Mr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===kx)return a===Mr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===zx)return a===Mr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===Gx)return a===Mr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===Vx)return a===Mr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===jx)return a===Mr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===Kx)return a===Mr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===Wx)return a===Mr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===qx||n===Xx||n===Yx)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(n===qx)return a===Mr?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===Xx)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===Yx)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===Jx||n===Zx||n===$x||n===eb)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(n===Jx)return s.COMPRESSED_RED_RGTC1_EXT;if(n===Zx)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===$x)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===eb)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===Im?i.UNSIGNED_INT_24_8:i[n]!==void 0?i[n]:null}return{convert:t}}const Oz=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Pz=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Qz{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const n=new cE(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=n}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,n=new qA({vertexShader:Oz,fragmentShader:Pz,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new xs(new Bf(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Hz extends bf{constructor(e,t){super();const n=this;let r=null,s=1,a=null,A="local-floor",l=1,c=null,h=null,g=null,v=null,m=null,x=null;const B=typeof XRWebGLBinding<"u",_=new Qz,b={},M=t.getContextAttributes();let T=null,U=null;const R=[],O=[],z=new Rt;let V=null;const I=new Ea;I.viewport=new er;const P=new Ea;P.viewport=new er;const k=[I,P],G=new YL;let q=null,H=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(te){let se=R[te];return se===void 0&&(se=new Zw,R[te]=se),se.getTargetRaySpace()},this.getControllerGrip=function(te){let se=R[te];return se===void 0&&(se=new Zw,R[te]=se),se.getGripSpace()},this.getHand=function(te){let se=R[te];return se===void 0&&(se=new Zw,R[te]=se),se.getHandSpace()};function ae(te){const se=O.indexOf(te.inputSource);if(se===-1)return;const ye=R[se];ye!==void 0&&(ye.update(te.inputSource,te.frame,c||a),ye.dispatchEvent({type:te.type,data:te.inputSource}))}function Z(){r.removeEventListener("select",ae),r.removeEventListener("selectstart",ae),r.removeEventListener("selectend",ae),r.removeEventListener("squeeze",ae),r.removeEventListener("squeezestart",ae),r.removeEventListener("squeezeend",ae),r.removeEventListener("end",Z),r.removeEventListener("inputsourceschange",ne);for(let te=0;te<R.length;te++){const se=O[te];se!==null&&(O[te]=null,R[te].disconnect(se))}q=null,H=null,_.reset();for(const te in b)delete b[te];e.setRenderTarget(T),m=null,v=null,g=null,r=null,U=null,ie.stop(),n.isPresenting=!1,e.setPixelRatio(V),e.setSize(z.width,z.height,!1),n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(te){s=te,n.isPresenting===!0&&sn("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(te){A=te,n.isPresenting===!0&&sn("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(te){c=te},this.getBaseLayer=function(){return v!==null?v:m},this.getBinding=function(){return g===null&&B&&(g=new XRWebGLBinding(r,t)),g},this.getFrame=function(){return x},this.getSession=function(){return r},this.setSession=async function(te){if(r=te,r!==null){if(T=e.getRenderTarget(),r.addEventListener("select",ae),r.addEventListener("selectstart",ae),r.addEventListener("selectend",ae),r.addEventListener("squeeze",ae),r.addEventListener("squeezestart",ae),r.addEventListener("squeezeend",ae),r.addEventListener("end",Z),r.addEventListener("inputsourceschange",ne),M.xrCompatible!==!0&&await t.makeXRCompatible(),V=e.getPixelRatio(),e.getSize(z),B&&"createProjectionLayer"in XRWebGLBinding.prototype){let ye=null,xe=null,Fe=null;M.depth&&(Fe=M.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,ye=M.stencil?Ad:xf,xe=M.stencil?Im:Vu);const Ne={colorFormat:t.RGBA8,depthFormat:Fe,scaleFactor:s};g=this.getBinding(),v=g.createProjectionLayer(Ne),r.updateRenderState({layers:[v]}),e.setPixelRatio(1),e.setSize(v.textureWidth,v.textureHeight,!1),U=new wA(v.textureWidth,v.textureHeight,{format:Vo,type:VA,depthTexture:new kp(v.textureWidth,v.textureHeight,xe,void 0,void 0,void 0,void 0,void 0,void 0,ye),stencilBuffer:M.stencil,colorSpace:e.outputColorSpace,samples:M.antialias?4:0,resolveDepthBuffer:v.ignoreDepthValues===!1,resolveStencilBuffer:v.ignoreDepthValues===!1})}else{const ye={antialias:M.antialias,alpha:!0,depth:M.depth,stencil:M.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,t,ye),r.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),U=new wA(m.framebufferWidth,m.framebufferHeight,{format:Vo,type:VA,colorSpace:e.outputColorSpace,stencilBuffer:M.stencil,resolveDepthBuffer:m.ignoreDepthValues===!1,resolveStencilBuffer:m.ignoreDepthValues===!1})}U.isXRRenderTarget=!0,this.setFoveation(l),c=null,a=await r.requestReferenceSpace(A),ie.setContext(r),ie.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return _.getDepthTexture()};function ne(te){for(let se=0;se<te.removed.length;se++){const ye=te.removed[se],xe=O.indexOf(ye);xe>=0&&(O[xe]=null,R[xe].disconnect(ye))}for(let se=0;se<te.added.length;se++){const ye=te.added[se];let xe=O.indexOf(ye);if(xe===-1){for(let Ne=0;Ne<R.length;Ne++)if(Ne>=O.length){O.push(ye),xe=Ne;break}else if(O[Ne]===null){O[Ne]=ye,xe=Ne;break}if(xe===-1)break}const Fe=R[xe];Fe&&Fe.connect(ye)}}const oe=new Ce,fe=new Ce;function me(te,se,ye){oe.setFromMatrixPosition(se.matrixWorld),fe.setFromMatrixPosition(ye.matrixWorld);const xe=oe.distanceTo(fe),Fe=se.projectionMatrix.elements,Ne=ye.projectionMatrix.elements,ze=Fe[14]/(Fe[10]-1),it=Fe[14]/(Fe[10]+1),De=(Fe[9]+1)/Fe[5],re=(Fe[9]-1)/Fe[5],Le=(Fe[8]-1)/Fe[0],rt=(Ne[8]+1)/Ne[0],ce=ze*Le,He=ze*rt,Xe=xe/(-Le+rt),Oe=Xe*-Le;if(se.matrixWorld.decompose(te.position,te.quaternion,te.scale),te.translateX(Oe),te.translateZ(Xe),te.matrixWorld.compose(te.position,te.quaternion,te.scale),te.matrixWorldInverse.copy(te.matrixWorld).invert(),Fe[10]===-1)te.projectionMatrix.copy(se.projectionMatrix),te.projectionMatrixInverse.copy(se.projectionMatrixInverse);else{const Ye=ze+Xe,Ae=it+Xe,$=ce-Oe,Se=He+(xe-Oe),Ge=De*it/Ae*Ye,Ve=re*it/Ae*Ye;te.projectionMatrix.makePerspective($,Se,Ge,Ve,Ye,Ae),te.projectionMatrixInverse.copy(te.projectionMatrix).invert()}}function W(te,se){se===null?te.matrixWorld.copy(te.matrix):te.matrixWorld.multiplyMatrices(se.matrixWorld,te.matrix),te.matrixWorldInverse.copy(te.matrixWorld).invert()}this.updateCamera=function(te){if(r===null)return;let se=te.near,ye=te.far;_.texture!==null&&(_.depthNear>0&&(se=_.depthNear),_.depthFar>0&&(ye=_.depthFar)),G.near=P.near=I.near=se,G.far=P.far=I.far=ye,(q!==G.near||H!==G.far)&&(r.updateRenderState({depthNear:G.near,depthFar:G.far}),q=G.near,H=G.far),G.layers.mask=te.layers.mask|6,I.layers.mask=G.layers.mask&3,P.layers.mask=G.layers.mask&5;const xe=te.parent,Fe=G.cameras;W(G,xe);for(let Ne=0;Ne<Fe.length;Ne++)W(Fe[Ne],xe);Fe.length===2?me(G,I,P):G.projectionMatrix.copy(I.projectionMatrix),Q(te,G,xe)};function Q(te,se,ye){ye===null?te.matrix.copy(se.matrixWorld):(te.matrix.copy(ye.matrixWorld),te.matrix.invert(),te.matrix.multiply(se.matrixWorld)),te.matrix.decompose(te.position,te.quaternion,te.scale),te.updateMatrixWorld(!0),te.projectionMatrix.copy(se.projectionMatrix),te.projectionMatrixInverse.copy(se.projectionMatrixInverse),te.isPerspectiveCamera&&(te.fov=Om*2*Math.atan(1/te.projectionMatrix.elements[5]),te.zoom=1)}this.getCamera=function(){return G},this.getFoveation=function(){if(!(v===null&&m===null))return l},this.setFoveation=function(te){l=te,v!==null&&(v.fixedFoveation=te),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=te)},this.hasDepthSensing=function(){return _.texture!==null},this.getDepthSensingMesh=function(){return _.getMesh(G)},this.getCameraTexture=function(te){return b[te]};let X=null;function Y(te,se){if(h=se.getViewerPose(c||a),x=se,h!==null){const ye=h.views;m!==null&&(e.setRenderTargetFramebuffer(U,m.framebuffer),e.setRenderTarget(U));let xe=!1;ye.length!==G.cameras.length&&(G.cameras.length=0,xe=!0);for(let it=0;it<ye.length;it++){const De=ye[it];let re=null;if(m!==null)re=m.getViewport(De);else{const rt=g.getViewSubImage(v,De);re=rt.viewport,it===0&&(e.setRenderTargetTextures(U,rt.colorTexture,rt.depthStencilTexture),e.setRenderTarget(U))}let Le=k[it];Le===void 0&&(Le=new Ea,Le.layers.enable(it),Le.viewport=new er,k[it]=Le),Le.matrix.fromArray(De.transform.matrix),Le.matrix.decompose(Le.position,Le.quaternion,Le.scale),Le.projectionMatrix.fromArray(De.projectionMatrix),Le.projectionMatrixInverse.copy(Le.projectionMatrix).invert(),Le.viewport.set(re.x,re.y,re.width,re.height),it===0&&(G.matrix.copy(Le.matrix),G.matrix.decompose(G.position,G.quaternion,G.scale)),xe===!0&&G.cameras.push(Le)}const Fe=r.enabledFeatures;if(Fe&&Fe.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&B){g=n.getBinding();const it=g.getDepthInformation(ye[0]);it&&it.isValid&&it.texture&&_.init(it,r.renderState)}if(Fe&&Fe.includes("camera-access")&&B){e.state.unbindTexture(),g=n.getBinding();for(let it=0;it<ye.length;it++){const De=ye[it].camera;if(De){let re=b[De];re||(re=new cE,b[De]=re);const Le=g.getCameraImage(De);re.sourceTexture=Le}}}}for(let ye=0;ye<R.length;ye++){const xe=O[ye],Fe=R[ye];xe!==null&&Fe!==void 0&&Fe.update(xe,se,c||a)}X&&X(te,se),se.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:se}),x=null}const ie=new nI;ie.setAnimationLoop(Y),this.setAnimationLoop=function(te){X=te},this.dispose=function(){}}}const fp=new uu,kz=new Vn;function zz(i,e){function t(_,b){_.matrixAutoUpdate===!0&&_.updateMatrix(),b.value.copy(_.matrix)}function n(_,b){b.color.getRGB(_.fogColor.value,AL(i)),b.isFog?(_.fogNear.value=b.near,_.fogFar.value=b.far):b.isFogExp2&&(_.fogDensity.value=b.density)}function r(_,b,M,T,U){b.isMeshBasicMaterial||b.isMeshLambertMaterial?s(_,b):b.isMeshToonMaterial?(s(_,b),g(_,b)):b.isMeshPhongMaterial?(s(_,b),h(_,b)):b.isMeshStandardMaterial?(s(_,b),v(_,b),b.isMeshPhysicalMaterial&&m(_,b,U)):b.isMeshMatcapMaterial?(s(_,b),x(_,b)):b.isMeshDepthMaterial?s(_,b):b.isMeshDistanceMaterial?(s(_,b),B(_,b)):b.isMeshNormalMaterial?s(_,b):b.isLineBasicMaterial?(a(_,b),b.isLineDashedMaterial&&A(_,b)):b.isPointsMaterial?l(_,b,M,T):b.isSpriteMaterial?c(_,b):b.isShadowMaterial?(_.color.value.copy(b.color),_.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}function s(_,b){_.opacity.value=b.opacity,b.color&&_.diffuse.value.copy(b.color),b.emissive&&_.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(_.map.value=b.map,t(b.map,_.mapTransform)),b.alphaMap&&(_.alphaMap.value=b.alphaMap,t(b.alphaMap,_.alphaMapTransform)),b.bumpMap&&(_.bumpMap.value=b.bumpMap,t(b.bumpMap,_.bumpMapTransform),_.bumpScale.value=b.bumpScale,b.side===WA&&(_.bumpScale.value*=-1)),b.normalMap&&(_.normalMap.value=b.normalMap,t(b.normalMap,_.normalMapTransform),_.normalScale.value.copy(b.normalScale),b.side===WA&&_.normalScale.value.negate()),b.displacementMap&&(_.displacementMap.value=b.displacementMap,t(b.displacementMap,_.displacementMapTransform),_.displacementScale.value=b.displacementScale,_.displacementBias.value=b.displacementBias),b.emissiveMap&&(_.emissiveMap.value=b.emissiveMap,t(b.emissiveMap,_.emissiveMapTransform)),b.specularMap&&(_.specularMap.value=b.specularMap,t(b.specularMap,_.specularMapTransform)),b.alphaTest>0&&(_.alphaTest.value=b.alphaTest);const M=e.get(b),T=M.envMap,U=M.envMapRotation;T&&(_.envMap.value=T,fp.copy(U),fp.x*=-1,fp.y*=-1,fp.z*=-1,T.isCubeTexture&&T.isRenderTargetTexture===!1&&(fp.y*=-1,fp.z*=-1),_.envMapRotation.value.setFromMatrix4(kz.makeRotationFromEuler(fp)),_.flipEnvMap.value=T.isCubeTexture&&T.isRenderTargetTexture===!1?-1:1,_.reflectivity.value=b.reflectivity,_.ior.value=b.ior,_.refractionRatio.value=b.refractionRatio),b.lightMap&&(_.lightMap.value=b.lightMap,_.lightMapIntensity.value=b.lightMapIntensity,t(b.lightMap,_.lightMapTransform)),b.aoMap&&(_.aoMap.value=b.aoMap,_.aoMapIntensity.value=b.aoMapIntensity,t(b.aoMap,_.aoMapTransform))}function a(_,b){_.diffuse.value.copy(b.color),_.opacity.value=b.opacity,b.map&&(_.map.value=b.map,t(b.map,_.mapTransform))}function A(_,b){_.dashSize.value=b.dashSize,_.totalSize.value=b.dashSize+b.gapSize,_.scale.value=b.scale}function l(_,b,M,T){_.diffuse.value.copy(b.color),_.opacity.value=b.opacity,_.size.value=b.size*M,_.scale.value=T*.5,b.map&&(_.map.value=b.map,t(b.map,_.uvTransform)),b.alphaMap&&(_.alphaMap.value=b.alphaMap,t(b.alphaMap,_.alphaMapTransform)),b.alphaTest>0&&(_.alphaTest.value=b.alphaTest)}function c(_,b){_.diffuse.value.copy(b.color),_.opacity.value=b.opacity,_.rotation.value=b.rotation,b.map&&(_.map.value=b.map,t(b.map,_.mapTransform)),b.alphaMap&&(_.alphaMap.value=b.alphaMap,t(b.alphaMap,_.alphaMapTransform)),b.alphaTest>0&&(_.alphaTest.value=b.alphaTest)}function h(_,b){_.specular.value.copy(b.specular),_.shininess.value=Math.max(b.shininess,1e-4)}function g(_,b){b.gradientMap&&(_.gradientMap.value=b.gradientMap)}function v(_,b){_.metalness.value=b.metalness,b.metalnessMap&&(_.metalnessMap.value=b.metalnessMap,t(b.metalnessMap,_.metalnessMapTransform)),_.roughness.value=b.roughness,b.roughnessMap&&(_.roughnessMap.value=b.roughnessMap,t(b.roughnessMap,_.roughnessMapTransform)),b.envMap&&(_.envMapIntensity.value=b.envMapIntensity)}function m(_,b,M){_.ior.value=b.ior,b.sheen>0&&(_.sheenColor.value.copy(b.sheenColor).multiplyScalar(b.sheen),_.sheenRoughness.value=b.sheenRoughness,b.sheenColorMap&&(_.sheenColorMap.value=b.sheenColorMap,t(b.sheenColorMap,_.sheenColorMapTransform)),b.sheenRoughnessMap&&(_.sheenRoughnessMap.value=b.sheenRoughnessMap,t(b.sheenRoughnessMap,_.sheenRoughnessMapTransform))),b.clearcoat>0&&(_.clearcoat.value=b.clearcoat,_.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(_.clearcoatMap.value=b.clearcoatMap,t(b.clearcoatMap,_.clearcoatMapTransform)),b.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap,t(b.clearcoatRoughnessMap,_.clearcoatRoughnessMapTransform)),b.clearcoatNormalMap&&(_.clearcoatNormalMap.value=b.clearcoatNormalMap,t(b.clearcoatNormalMap,_.clearcoatNormalMapTransform),_.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),b.side===WA&&_.clearcoatNormalScale.value.negate())),b.dispersion>0&&(_.dispersion.value=b.dispersion),b.iridescence>0&&(_.iridescence.value=b.iridescence,_.iridescenceIOR.value=b.iridescenceIOR,_.iridescenceThicknessMinimum.value=b.iridescenceThicknessRange[0],_.iridescenceThicknessMaximum.value=b.iridescenceThicknessRange[1],b.iridescenceMap&&(_.iridescenceMap.value=b.iridescenceMap,t(b.iridescenceMap,_.iridescenceMapTransform)),b.iridescenceThicknessMap&&(_.iridescenceThicknessMap.value=b.iridescenceThicknessMap,t(b.iridescenceThicknessMap,_.iridescenceThicknessMapTransform))),b.transmission>0&&(_.transmission.value=b.transmission,_.transmissionSamplerMap.value=M.texture,_.transmissionSamplerSize.value.set(M.width,M.height),b.transmissionMap&&(_.transmissionMap.value=b.transmissionMap,t(b.transmissionMap,_.transmissionMapTransform)),_.thickness.value=b.thickness,b.thicknessMap&&(_.thicknessMap.value=b.thicknessMap,t(b.thicknessMap,_.thicknessMapTransform)),_.attenuationDistance.value=b.attenuationDistance,_.attenuationColor.value.copy(b.attenuationColor)),b.anisotropy>0&&(_.anisotropyVector.value.set(b.anisotropy*Math.cos(b.anisotropyRotation),b.anisotropy*Math.sin(b.anisotropyRotation)),b.anisotropyMap&&(_.anisotropyMap.value=b.anisotropyMap,t(b.anisotropyMap,_.anisotropyMapTransform))),_.specularIntensity.value=b.specularIntensity,_.specularColor.value.copy(b.specularColor),b.specularColorMap&&(_.specularColorMap.value=b.specularColorMap,t(b.specularColorMap,_.specularColorMapTransform)),b.specularIntensityMap&&(_.specularIntensityMap.value=b.specularIntensityMap,t(b.specularIntensityMap,_.specularIntensityMapTransform))}function x(_,b){b.matcap&&(_.matcap.value=b.matcap)}function B(_,b){const M=e.get(b).light;_.referencePosition.value.setFromMatrixPosition(M.matrixWorld),_.nearDistance.value=M.shadow.camera.near,_.farDistance.value=M.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function Gz(i,e,t,n){let r={},s={},a=[];const A=i.getParameter(i.MAX_UNIFORM_BUFFER_BINDINGS);function l(M,T){const U=T.program;n.uniformBlockBinding(M,U)}function c(M,T){let U=r[M.id];U===void 0&&(x(M),U=h(M),r[M.id]=U,M.addEventListener("dispose",_));const R=T.program;n.updateUBOMapping(M,R);const O=e.render.frame;s[M.id]!==O&&(v(M),s[M.id]=O)}function h(M){const T=g();M.__bindingPointIndex=T;const U=i.createBuffer(),R=M.__size,O=M.usage;return i.bindBuffer(i.UNIFORM_BUFFER,U),i.bufferData(i.UNIFORM_BUFFER,R,O),i.bindBuffer(i.UNIFORM_BUFFER,null),i.bindBufferBase(i.UNIFORM_BUFFER,T,U),U}function g(){for(let M=0;M<A;M++)if(a.indexOf(M)===-1)return a.push(M),M;return Fn("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function v(M){const T=r[M.id],U=M.uniforms,R=M.__cache;i.bindBuffer(i.UNIFORM_BUFFER,T);for(let O=0,z=U.length;O<z;O++){const V=Array.isArray(U[O])?U[O]:[U[O]];for(let I=0,P=V.length;I<P;I++){const k=V[I];if(m(k,O,I,R)===!0){const G=k.__offset,q=Array.isArray(k.value)?k.value:[k.value];let H=0;for(let ae=0;ae<q.length;ae++){const Z=q[ae],ne=B(Z);typeof Z=="number"||typeof Z=="boolean"?(k.__data[0]=Z,i.bufferSubData(i.UNIFORM_BUFFER,G+H,k.__data)):Z.isMatrix3?(k.__data[0]=Z.elements[0],k.__data[1]=Z.elements[1],k.__data[2]=Z.elements[2],k.__data[3]=0,k.__data[4]=Z.elements[3],k.__data[5]=Z.elements[4],k.__data[6]=Z.elements[5],k.__data[7]=0,k.__data[8]=Z.elements[6],k.__data[9]=Z.elements[7],k.__data[10]=Z.elements[8],k.__data[11]=0):(Z.toArray(k.__data,H),H+=ne.storage/Float32Array.BYTES_PER_ELEMENT)}i.bufferSubData(i.UNIFORM_BUFFER,G,k.__data)}}}i.bindBuffer(i.UNIFORM_BUFFER,null)}function m(M,T,U,R){const O=M.value,z=T+"_"+U;if(R[z]===void 0)return typeof O=="number"||typeof O=="boolean"?R[z]=O:R[z]=O.clone(),!0;{const V=R[z];if(typeof O=="number"||typeof O=="boolean"){if(V!==O)return R[z]=O,!0}else if(V.equals(O)===!1)return V.copy(O),!0}return!1}function x(M){const T=M.uniforms;let U=0;const R=16;for(let z=0,V=T.length;z<V;z++){const I=Array.isArray(T[z])?T[z]:[T[z]];for(let P=0,k=I.length;P<k;P++){const G=I[P],q=Array.isArray(G.value)?G.value:[G.value];for(let H=0,ae=q.length;H<ae;H++){const Z=q[H],ne=B(Z),oe=U%R,fe=oe%ne.boundary,me=oe+fe;U+=fe,me!==0&&R-me<ne.storage&&(U+=R-me),G.__data=new Float32Array(ne.storage/Float32Array.BYTES_PER_ELEMENT),G.__offset=U,U+=ne.storage}}}const O=U%R;return O>0&&(U+=R-O),M.__size=U,M.__cache={},this}function B(M){const T={boundary:0,storage:0};return typeof M=="number"||typeof M=="boolean"?(T.boundary=4,T.storage=4):M.isVector2?(T.boundary=8,T.storage=8):M.isVector3||M.isColor?(T.boundary=16,T.storage=12):M.isVector4?(T.boundary=16,T.storage=16):M.isMatrix3?(T.boundary=48,T.storage=48):M.isMatrix4?(T.boundary=64,T.storage=64):M.isTexture?sn("WebGLRenderer: Texture samplers can not be part of an uniforms group."):sn("WebGLRenderer: Unsupported uniform value type.",M),T}function _(M){const T=M.target;T.removeEventListener("dispose",_);const U=a.indexOf(T.__bindingPointIndex);a.splice(U,1),i.deleteBuffer(r[T.id]),delete r[T.id],delete s[T.id]}function b(){for(const M in r)i.deleteBuffer(r[M]);a=[],r={},s={}}return{bind:l,update:c,dispose:b}}const Vz=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]);let of=null;function jz(){return of===null&&(of=new bc(Vz,16,16,Qp,_c),of.name="DFG_LUT",of.minFilter=Tr,of.magFilter=Tr,of.wrapS=KA,of.wrapT=KA,of.generateMipmaps=!1,of.needsUpdate=!0),of}class AI{constructor(e={}){const{canvas:t=aL(),context:n=null,depth:r=!0,stencil:s=!1,alpha:a=!1,antialias:A=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:h="default",failIfMajorPerformanceCaveat:g=!1,reversedDepthBuffer:v=!1,outputBufferType:m=VA}=e;this.isWebGLRenderer=!0;let x;if(n!==null){if(typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");x=n.getContextAttributes().alpha}else x=a;const B=m,_=new Set([Hb,Qb,hv]),b=new Set([VA,Vu,Lm,Im,Db,Ob]),M=new Uint32Array(4),T=new Int32Array(4);let U=null,R=null;const O=[],z=[];let V=null;this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Gu,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const I=this;let P=!1;this._outputColorSpace=Go;let k=0,G=0,q=null,H=-1,ae=null;const Z=new er,ne=new er;let oe=null;const fe=new an(0);let me=0,W=t.width,Q=t.height,X=1,Y=null,ie=null;const te=new er(0,0,W,Q),se=new er(0,0,W,Q);let ye=!1;const xe=new Wm;let Fe=!1,Ne=!1;const ze=new Vn,it=new Ce,De=new er,re={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Le=!1;function rt(){return q===null?X:1}let ce=n;function He(pe,We){return t.getContext(pe,We)}try{const pe={alpha:!0,depth:r,stencil:s,antialias:A,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:h,failIfMajorPerformanceCaveat:g};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${jm}`),t.addEventListener("webglcontextlost",Vt,!1),t.addEventListener("webglcontextrestored",Wt,!1),t.addEventListener("webglcontextcreationerror",nn,!1),ce===null){const We="webgl2";if(ce=He(We,pe),ce===null)throw He(We)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(pe){throw Fn("WebGLRenderer: "+pe.message),pe}let Xe,Oe,Ye,Ae,$,Se,Ge,Ve,Re,$e,At,wt,zt,at,ut,ct,Ee,Ie,Ut,Be,Je,mt,Et,tt;function Ze(){Xe=new Kk(ce),Xe.init(),mt=new oI(ce,Xe),Oe=new Ok(ce,Xe,e,mt),Ye=new Nz(ce,Xe),Oe.reversedDepthBuffer&&v&&Ye.buffers.depth.setReversed(!0),Ae=new Xk(ce),$=new wz,Se=new Dz(ce,Xe,Ye,$,Oe,mt,Ae),Ge=new Qk(I),Ve=new jk(I),Re=new $8(ce),Et=new Nk(ce,Re),$e=new Wk(ce,Re,Ae,Et),At=new Jk(ce,$e,Re,Ae),Ut=new Yk(ce,Oe,Se),ct=new Pk($),wt=new yz(I,Ge,Ve,Xe,Oe,Et,ct),zt=new zz(I,$),at=new bz,ut=new Mz(Xe),Ie=new Rk(I,Ge,Ve,Ye,At,x,l),Ee=new Iz(I,At,Oe),tt=new Gz(ce,Ae,Oe,Ye),Be=new Dk(ce,Xe,Ae),Je=new qk(ce,Xe,Ae),Ae.programs=wt.programs,I.capabilities=Oe,I.extensions=Xe,I.properties=$,I.renderLists=at,I.shadowMap=Ee,I.state=Ye,I.info=Ae}Ze(),B!==VA&&(V=new $k(B,t.width,t.height,r,s));const Lt=new Hz(I,ce);this.xr=Lt,this.getContext=function(){return ce},this.getContextAttributes=function(){return ce.getContextAttributes()},this.forceContextLoss=function(){const pe=Xe.get("WEBGL_lose_context");pe&&pe.loseContext()},this.forceContextRestore=function(){const pe=Xe.get("WEBGL_lose_context");pe&&pe.restoreContext()},this.getPixelRatio=function(){return X},this.setPixelRatio=function(pe){pe!==void 0&&(X=pe,this.setSize(W,Q,!1))},this.getSize=function(pe){return pe.set(W,Q)},this.setSize=function(pe,We,dt=!0){if(Lt.isPresenting){sn("WebGLRenderer: Can't change size while VR device is presenting.");return}W=pe,Q=We,t.width=Math.floor(pe*X),t.height=Math.floor(We*X),dt===!0&&(t.style.width=pe+"px",t.style.height=We+"px"),V!==null&&V.setSize(t.width,t.height),this.setViewport(0,0,pe,We)},this.getDrawingBufferSize=function(pe){return pe.set(W*X,Q*X).floor()},this.setDrawingBufferSize=function(pe,We,dt){W=pe,Q=We,X=dt,t.width=Math.floor(pe*dt),t.height=Math.floor(We*dt),this.setViewport(0,0,pe,We)},this.setEffects=function(pe){if(B===VA){console.error("THREE.WebGLRenderer: setEffects() requires outputBufferType set to HalfFloatType or FloatType.");return}if(pe){for(let We=0;We<pe.length;We++)if(pe[We].isOutputPass===!0){console.warn("THREE.WebGLRenderer: OutputPass is not needed in setEffects(). Tone mapping and color space conversion are applied automatically.");break}}V.setEffects(pe||[])},this.getCurrentViewport=function(pe){return pe.copy(Z)},this.getViewport=function(pe){return pe.copy(te)},this.setViewport=function(pe,We,dt,pt){pe.isVector4?te.set(pe.x,pe.y,pe.z,pe.w):te.set(pe,We,dt,pt),Ye.viewport(Z.copy(te).multiplyScalar(X).round())},this.getScissor=function(pe){return pe.copy(se)},this.setScissor=function(pe,We,dt,pt){pe.isVector4?se.set(pe.x,pe.y,pe.z,pe.w):se.set(pe,We,dt,pt),Ye.scissor(ne.copy(se).multiplyScalar(X).round())},this.getScissorTest=function(){return ye},this.setScissorTest=function(pe){Ye.setScissorTest(ye=pe)},this.setOpaqueSort=function(pe){Y=pe},this.setTransparentSort=function(pe){ie=pe},this.getClearColor=function(pe){return pe.copy(Ie.getClearColor())},this.setClearColor=function(){Ie.setClearColor(...arguments)},this.getClearAlpha=function(){return Ie.getClearAlpha()},this.setClearAlpha=function(){Ie.setClearAlpha(...arguments)},this.clear=function(pe=!0,We=!0,dt=!0){let pt=0;if(pe){let nt=!1;if(q!==null){const Gt=q.texture.format;nt=_.has(Gt)}if(nt){const Gt=q.texture.type,Zt=b.has(Gt),Qt=Ie.getClearColor(),on=Ie.getClearAlpha(),$t=Qt.r,xn=Qt.g,un=Qt.b;Zt?(M[0]=$t,M[1]=xn,M[2]=un,M[3]=on,ce.clearBufferuiv(ce.COLOR,0,M)):(T[0]=$t,T[1]=xn,T[2]=un,T[3]=on,ce.clearBufferiv(ce.COLOR,0,T))}else pt|=ce.COLOR_BUFFER_BIT}We&&(pt|=ce.DEPTH_BUFFER_BIT),dt&&(pt|=ce.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ce.clear(pt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Vt,!1),t.removeEventListener("webglcontextrestored",Wt,!1),t.removeEventListener("webglcontextcreationerror",nn,!1),Ie.dispose(),at.dispose(),ut.dispose(),$.dispose(),Ge.dispose(),Ve.dispose(),At.dispose(),Et.dispose(),tt.dispose(),wt.dispose(),Lt.dispose(),Lt.removeEventListener("sessionstart",Ui),Lt.removeEventListener("sessionend",Yi),ki.stop()};function Vt(pe){pe.preventDefault(),G1("WebGLRenderer: Context Lost."),P=!0}function Wt(){G1("WebGLRenderer: Context Restored."),P=!1;const pe=Ae.autoReset,We=Ee.enabled,dt=Ee.autoUpdate,pt=Ee.needsUpdate,nt=Ee.type;Ze(),Ae.autoReset=pe,Ee.enabled=We,Ee.autoUpdate=dt,Ee.needsUpdate=pt,Ee.type=nt}function nn(pe){Fn("WebGLRenderer: A WebGL context could not be created. Reason: ",pe.statusMessage)}function qt(pe){const We=pe.target;We.removeEventListener("dispose",qt),Wn(We)}function Wn(pe){Bi(pe),$.remove(pe)}function Bi(pe){const We=$.get(pe).programs;We!==void 0&&(We.forEach(function(dt){wt.releaseProgram(dt)}),pe.isShaderMaterial&&wt.releaseShaderCache(pe))}this.renderBufferDirect=function(pe,We,dt,pt,nt,Gt){We===null&&(We=re);const Zt=nt.isMesh&&nt.matrixWorld.determinant()<0,Qt=Ds(pe,We,dt,pt,nt);Ye.setMaterial(pt,Zt);let on=dt.index,$t=1;if(pt.wireframe===!0){if(on=$e.getWireframeAttribute(dt),on===void 0)return;$t=2}const xn=dt.drawRange,un=dt.attributes.position;let An=xn.start*$t,Zn=(xn.start+xn.count)*$t;Gt!==null&&(An=Math.max(An,Gt.start*$t),Zn=Math.min(Zn,(Gt.start+Gt.count)*$t)),on!==null?(An=Math.max(An,0),Zn=Math.min(Zn,on.count)):un!=null&&(An=Math.max(An,0),Zn=Math.min(Zn,un.count));const fi=Zn-An;if(fi<0||fi===1/0)return;Et.setup(nt,pt,Qt,dt,on);let ri,Rn=Be;if(on!==null&&(ri=Re.get(on),Rn=Je,Rn.setIndex(ri)),nt.isMesh)pt.wireframe===!0?(Ye.setLineWidth(pt.wireframeLinewidth*rt()),Rn.setMode(ce.LINES)):Rn.setMode(ce.TRIANGLES);else if(nt.isLine){let Kt=pt.linewidth;Kt===void 0&&(Kt=1),Ye.setLineWidth(Kt*rt()),nt.isLineSegments?Rn.setMode(ce.LINES):nt.isLineLoop?Rn.setMode(ce.LINE_LOOP):Rn.setMode(ce.LINE_STRIP)}else nt.isPoints?Rn.setMode(ce.POINTS):nt.isSprite&&Rn.setMode(ce.TRIANGLES);if(nt.isBatchedMesh)if(nt._multiDrawInstances!==null)Dm("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Rn.renderMultiDrawInstances(nt._multiDrawStarts,nt._multiDrawCounts,nt._multiDrawCount,nt._multiDrawInstances);else if(Xe.get("WEBGL_multi_draw"))Rn.renderMultiDraw(nt._multiDrawStarts,nt._multiDrawCounts,nt._multiDrawCount);else{const Kt=nt._multiDrawStarts,Cn=nt._multiDrawCounts,dn=nt._multiDrawCount,Lr=on?Re.get(on).bytesPerElement:1,Zs=$.get(pt).currentProgram.getUniforms();for(let Ni=0;Ni<dn;Ni++)Zs.setValue(ce,"_gl_DrawID",Ni),Rn.render(Kt[Ni]/Lr,Cn[Ni])}else if(nt.isInstancedMesh)Rn.renderInstances(An,fi,nt.count);else if(dt.isInstancedBufferGeometry){const Kt=dt._maxInstanceCount!==void 0?dt._maxInstanceCount:1/0,Cn=Math.min(dt.instanceCount,Kt);Rn.renderInstances(An,fi,Cn)}else Rn.render(An,fi)};function Xi(pe,We,dt){pe.transparent===!0&&pe.side===Pu&&pe.forceSinglePass===!1?(pe.side=WA,pe.needsUpdate=!0,cr(pe,We,dt),pe.side=dh,pe.needsUpdate=!0,cr(pe,We,dt),pe.side=Pu):cr(pe,We,dt)}this.compile=function(pe,We,dt=null){dt===null&&(dt=pe),R=ut.get(dt),R.init(We),z.push(R),dt.traverseVisible(function(nt){nt.isLight&&nt.layers.test(We.layers)&&(R.pushLight(nt),nt.castShadow&&R.pushShadow(nt))}),pe!==dt&&pe.traverseVisible(function(nt){nt.isLight&&nt.layers.test(We.layers)&&(R.pushLight(nt),nt.castShadow&&R.pushShadow(nt))}),R.setupLights();const pt=new Set;return pe.traverse(function(nt){if(!(nt.isMesh||nt.isPoints||nt.isLine||nt.isSprite))return;const Gt=nt.material;if(Gt)if(Array.isArray(Gt))for(let Zt=0;Zt<Gt.length;Zt++){const Qt=Gt[Zt];Xi(Qt,dt,nt),pt.add(Qt)}else Xi(Gt,dt,nt),pt.add(Gt)}),R=z.pop(),pt},this.compileAsync=function(pe,We,dt=null){const pt=this.compile(pe,We,dt);return new Promise(nt=>{function Gt(){if(pt.forEach(function(Zt){$.get(Zt).currentProgram.isReady()&&pt.delete(Zt)}),pt.size===0){nt(pe);return}setTimeout(Gt,10)}Xe.get("KHR_parallel_shader_compile")!==null?Gt():setTimeout(Gt,10)})};let lr=null;function ci(pe){lr&&lr(pe)}function Ui(){ki.stop()}function Yi(){ki.start()}const ki=new nI;ki.setAnimationLoop(ci),typeof self<"u"&&ki.setContext(self),this.setAnimationLoop=function(pe){lr=pe,Lt.setAnimationLoop(pe),pe===null?ki.stop():ki.start()},Lt.addEventListener("sessionstart",Ui),Lt.addEventListener("sessionend",Yi),this.render=function(pe,We){if(We!==void 0&&We.isCamera!==!0){Fn("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(P===!0)return;const dt=Lt.enabled===!0&&Lt.isPresenting===!0,pt=V!==null&&(q===null||dt)&&V.begin(I,q);if(pe.matrixWorldAutoUpdate===!0&&pe.updateMatrixWorld(),We.parent===null&&We.matrixWorldAutoUpdate===!0&&We.updateMatrixWorld(),Lt.enabled===!0&&Lt.isPresenting===!0&&(V===null||V.isCompositing()===!1)&&(Lt.cameraAutoUpdate===!0&&Lt.updateCamera(We),We=Lt.getCamera()),pe.isScene===!0&&pe.onBeforeRender(I,pe,We,q),R=ut.get(pe,z.length),R.init(We),z.push(R),ze.multiplyMatrices(We.projectionMatrix,We.matrixWorldInverse),xe.setFromProjectionMatrix(ze,su,We.reversedDepth),Ne=this.localClippingEnabled,Fe=ct.init(this.clippingPlanes,Ne),U=at.get(pe,O.length),U.init(),O.push(U),Lt.enabled===!0&&Lt.isPresenting===!0){const Zt=I.xr.getDepthSensingMesh();Zt!==null&&Si(Zt,We,-1/0,I.sortObjects)}Si(pe,We,0,I.sortObjects),U.finish(),I.sortObjects===!0&&U.sort(Y,ie),Le=Lt.enabled===!1||Lt.isPresenting===!1||Lt.hasDepthSensing()===!1,Le&&Ie.addToRenderList(U,pe),this.info.render.frame++,Fe===!0&&ct.beginShadows();const nt=R.state.shadowsArray;if(Ee.render(nt,pe,We),Fe===!0&&ct.endShadows(),this.info.autoReset===!0&&this.info.reset(),(pt&&V.hasRenderPass())===!1){const Zt=U.opaque,Qt=U.transmissive;if(R.setupLights(),We.isArrayCamera){const on=We.cameras;if(Qt.length>0)for(let $t=0,xn=on.length;$t<xn;$t++){const un=on[$t];Ji(Zt,Qt,pe,un)}Le&&Ie.render(pe);for(let $t=0,xn=on.length;$t<xn;$t++){const un=on[$t];ei(U,pe,un,un.viewport)}}else Qt.length>0&&Ji(Zt,Qt,pe,We),Le&&Ie.render(pe),ei(U,pe,We)}q!==null&&G===0&&(Se.updateMultisampleRenderTarget(q),Se.updateRenderTargetMipmap(q)),pt&&V.end(I),pe.isScene===!0&&pe.onAfterRender(I,pe,We),Et.resetDefaultState(),H=-1,ae=null,z.pop(),z.length>0?(R=z[z.length-1],Fe===!0&&ct.setGlobalState(I.clippingPlanes,R.state.camera)):R=null,O.pop(),O.length>0?U=O[O.length-1]:U=null};function Si(pe,We,dt,pt){if(pe.visible===!1)return;if(pe.layers.test(We.layers)){if(pe.isGroup)dt=pe.renderOrder;else if(pe.isLOD)pe.autoUpdate===!0&&pe.update(We);else if(pe.isLight)R.pushLight(pe),pe.castShadow&&R.pushShadow(pe);else if(pe.isSprite){if(!pe.frustumCulled||xe.intersectsSprite(pe)){pt&&De.setFromMatrixPosition(pe.matrixWorld).applyMatrix4(ze);const Zt=At.update(pe),Qt=pe.material;Qt.visible&&U.push(pe,Zt,Qt,dt,De.z,null)}}else if((pe.isMesh||pe.isLine||pe.isPoints)&&(!pe.frustumCulled||xe.intersectsObject(pe))){const Zt=At.update(pe),Qt=pe.material;if(pt&&(pe.boundingSphere!==void 0?(pe.boundingSphere===null&&pe.computeBoundingSphere(),De.copy(pe.boundingSphere.center)):(Zt.boundingSphere===null&&Zt.computeBoundingSphere(),De.copy(Zt.boundingSphere.center)),De.applyMatrix4(pe.matrixWorld).applyMatrix4(ze)),Array.isArray(Qt)){const on=Zt.groups;for(let $t=0,xn=on.length;$t<xn;$t++){const un=on[$t],An=Qt[un.materialIndex];An&&An.visible&&U.push(pe,Zt,An,dt,De.z,un)}}else Qt.visible&&U.push(pe,Zt,Qt,dt,De.z,null)}}const Gt=pe.children;for(let Zt=0,Qt=Gt.length;Zt<Qt;Zt++)Si(Gt[Zt],We,dt,pt)}function ei(pe,We,dt,pt){const{opaque:nt,transmissive:Gt,transparent:Zt}=pe;R.setupLightsView(dt),Fe===!0&&ct.setGlobalState(I.clippingPlanes,dt),pt&&Ye.viewport(Z.copy(pt)),nt.length>0&&ur(nt,We,dt),Gt.length>0&&ur(Gt,We,dt),Zt.length>0&&ur(Zt,We,dt),Ye.buffers.depth.setTest(!0),Ye.buffers.depth.setMask(!0),Ye.buffers.color.setMask(!0),Ye.setPolygonOffset(!1)}function Ji(pe,We,dt,pt){if((dt.isScene===!0?dt.overrideMaterial:null)!==null)return;if(R.state.transmissionRenderTarget[pt.id]===void 0){const An=Xe.has("EXT_color_buffer_half_float")||Xe.has("EXT_color_buffer_float");R.state.transmissionRenderTarget[pt.id]=new wA(1,1,{generateMipmaps:!0,type:An?_c:VA,minFilter:yc,samples:Oe.samples,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Wi.workingColorSpace})}const Gt=R.state.transmissionRenderTarget[pt.id],Zt=pt.viewport||Z;Gt.setSize(Zt.z*I.transmissionResolutionScale,Zt.w*I.transmissionResolutionScale);const Qt=I.getRenderTarget(),on=I.getActiveCubeFace(),$t=I.getActiveMipmapLevel();I.setRenderTarget(Gt),I.getClearColor(fe),me=I.getClearAlpha(),me<1&&I.setClearColor(16777215,.5),I.clear(),Le&&Ie.render(dt);const xn=I.toneMapping;I.toneMapping=Gu;const un=pt.viewport;if(pt.viewport!==void 0&&(pt.viewport=void 0),R.setupLightsView(pt),Fe===!0&&ct.setGlobalState(I.clippingPlanes,pt),ur(pe,dt,pt),Se.updateMultisampleRenderTarget(Gt),Se.updateRenderTargetMipmap(Gt),Xe.has("WEBGL_multisampled_render_to_texture")===!1){let An=!1;for(let Zn=0,fi=We.length;Zn<fi;Zn++){const ri=We[Zn],{object:Rn,geometry:Kt,material:Cn,group:dn}=ri;if(Cn.side===Pu&&Rn.layers.test(pt.layers)){const Lr=Cn.side;Cn.side=WA,Cn.needsUpdate=!0,Fr(Rn,dt,pt,Kt,Cn,dn),Cn.side=Lr,Cn.needsUpdate=!0,An=!0}}An===!0&&(Se.updateMultisampleRenderTarget(Gt),Se.updateRenderTargetMipmap(Gt))}I.setRenderTarget(Qt,on,$t),I.setClearColor(fe,me),un!==void 0&&(pt.viewport=un),I.toneMapping=xn}function ur(pe,We,dt){const pt=We.isScene===!0?We.overrideMaterial:null;for(let nt=0,Gt=pe.length;nt<Gt;nt++){const Zt=pe[nt],{object:Qt,geometry:on,group:$t}=Zt;let xn=Zt.material;xn.allowOverride===!0&&pt!==null&&(xn=pt),Qt.layers.test(dt.layers)&&Fr(Qt,We,dt,on,xn,$t)}}function Fr(pe,We,dt,pt,nt,Gt){pe.onBeforeRender(I,We,dt,pt,nt,Gt),pe.modelViewMatrix.multiplyMatrices(dt.matrixWorldInverse,pe.matrixWorld),pe.normalMatrix.getNormalMatrix(pe.modelViewMatrix),nt.onBeforeRender(I,We,dt,pt,pe,Gt),nt.transparent===!0&&nt.side===Pu&&nt.forceSinglePass===!1?(nt.side=WA,nt.needsUpdate=!0,I.renderBufferDirect(dt,We,pt,nt,pe,Gt),nt.side=dh,nt.needsUpdate=!0,I.renderBufferDirect(dt,We,pt,nt,pe,Gt),nt.side=Pu):I.renderBufferDirect(dt,We,pt,nt,pe,Gt),pe.onAfterRender(I,We,dt,pt,nt,Gt)}function cr(pe,We,dt){We.isScene!==!0&&(We=re);const pt=$.get(pe),nt=R.state.lights,Gt=R.state.shadowsArray,Zt=nt.state.version,Qt=wt.getParameters(pe,nt.state,Gt,We,dt),on=wt.getProgramCacheKey(Qt);let $t=pt.programs;pt.environment=pe.isMeshStandardMaterial?We.environment:null,pt.fog=We.fog,pt.envMap=(pe.isMeshStandardMaterial?Ve:Ge).get(pe.envMap||pt.environment),pt.envMapRotation=pt.environment!==null&&pe.envMap===null?We.environmentRotation:pe.envMapRotation,$t===void 0&&(pe.addEventListener("dispose",qt),$t=new Map,pt.programs=$t);let xn=$t.get(on);if(xn!==void 0){if(pt.currentProgram===xn&&pt.lightsStateVersion===Zt)return bs(pe,Qt),xn}else Qt.uniforms=wt.getUniforms(pe),pe.onBeforeCompile(Qt,I),xn=wt.acquireProgram(Qt,on),$t.set(on,xn),pt.uniforms=Qt.uniforms;const un=pt.uniforms;return(!pe.isShaderMaterial&&!pe.isRawShaderMaterial||pe.clipping===!0)&&(un.clippingPlanes=ct.uniform),bs(pe,Qt),pt.needsLights=Os(pe),pt.lightsStateVersion=Zt,pt.needsLights&&(un.ambientLightColor.value=nt.state.ambient,un.lightProbe.value=nt.state.probe,un.directionalLights.value=nt.state.directional,un.directionalLightShadows.value=nt.state.directionalShadow,un.spotLights.value=nt.state.spot,un.spotLightShadows.value=nt.state.spotShadow,un.rectAreaLights.value=nt.state.rectArea,un.ltc_1.value=nt.state.rectAreaLTC1,un.ltc_2.value=nt.state.rectAreaLTC2,un.pointLights.value=nt.state.point,un.pointLightShadows.value=nt.state.pointShadow,un.hemisphereLights.value=nt.state.hemi,un.directionalShadowMap.value=nt.state.directionalShadowMap,un.directionalShadowMatrix.value=nt.state.directionalShadowMatrix,un.spotShadowMap.value=nt.state.spotShadowMap,un.spotLightMatrix.value=nt.state.spotLightMatrix,un.spotLightMap.value=nt.state.spotLightMap,un.pointShadowMap.value=nt.state.pointShadowMap,un.pointShadowMatrix.value=nt.state.pointShadowMatrix),pt.currentProgram=xn,pt.uniformsList=null,xn}function Ns(pe){if(pe.uniformsList===null){const We=pe.currentProgram.getUniforms();pe.uniformsList=$w.seqWithValue(We.seq,pe.uniforms)}return pe.uniformsList}function bs(pe,We){const dt=$.get(pe);dt.outputColorSpace=We.outputColorSpace,dt.batching=We.batching,dt.batchingColor=We.batchingColor,dt.instancing=We.instancing,dt.instancingColor=We.instancingColor,dt.instancingMorph=We.instancingMorph,dt.skinning=We.skinning,dt.morphTargets=We.morphTargets,dt.morphNormals=We.morphNormals,dt.morphColors=We.morphColors,dt.morphTargetsCount=We.morphTargetsCount,dt.numClippingPlanes=We.numClippingPlanes,dt.numIntersection=We.numClipIntersection,dt.vertexAlphas=We.vertexAlphas,dt.vertexTangents=We.vertexTangents,dt.toneMapping=We.toneMapping}function Ds(pe,We,dt,pt,nt){We.isScene!==!0&&(We=re),Se.resetTextureUnits();const Gt=We.fog,Zt=pt.isMeshStandardMaterial?We.environment:null,Qt=q===null?I.outputColorSpace:q.isXRRenderTarget===!0?q.texture.colorSpace:wd,on=(pt.isMeshStandardMaterial?Ve:Ge).get(pt.envMap||Zt),$t=pt.vertexColors===!0&&!!dt.attributes.color&&dt.attributes.color.itemSize===4,xn=!!dt.attributes.tangent&&(!!pt.normalMap||pt.anisotropy>0),un=!!dt.morphAttributes.position,An=!!dt.morphAttributes.normal,Zn=!!dt.morphAttributes.color;let fi=Gu;pt.toneMapped&&(q===null||q.isXRRenderTarget===!0)&&(fi=I.toneMapping);const ri=dt.morphAttributes.position||dt.morphAttributes.normal||dt.morphAttributes.color,Rn=ri!==void 0?ri.length:0,Kt=$.get(pt),Cn=R.state.lights;if(Fe===!0&&(Ne===!0||pe!==ae)){const dr=pe===ae&&pt.id===H;ct.setState(pt,pe,dr)}let dn=!1;pt.version===Kt.__version?(Kt.needsLights&&Kt.lightsStateVersion!==Cn.state.version||Kt.outputColorSpace!==Qt||nt.isBatchedMesh&&Kt.batching===!1||!nt.isBatchedMesh&&Kt.batching===!0||nt.isBatchedMesh&&Kt.batchingColor===!0&&nt.colorTexture===null||nt.isBatchedMesh&&Kt.batchingColor===!1&&nt.colorTexture!==null||nt.isInstancedMesh&&Kt.instancing===!1||!nt.isInstancedMesh&&Kt.instancing===!0||nt.isSkinnedMesh&&Kt.skinning===!1||!nt.isSkinnedMesh&&Kt.skinning===!0||nt.isInstancedMesh&&Kt.instancingColor===!0&&nt.instanceColor===null||nt.isInstancedMesh&&Kt.instancingColor===!1&&nt.instanceColor!==null||nt.isInstancedMesh&&Kt.instancingMorph===!0&&nt.morphTexture===null||nt.isInstancedMesh&&Kt.instancingMorph===!1&&nt.morphTexture!==null||Kt.envMap!==on||pt.fog===!0&&Kt.fog!==Gt||Kt.numClippingPlanes!==void 0&&(Kt.numClippingPlanes!==ct.numPlanes||Kt.numIntersection!==ct.numIntersection)||Kt.vertexAlphas!==$t||Kt.vertexTangents!==xn||Kt.morphTargets!==un||Kt.morphNormals!==An||Kt.morphColors!==Zn||Kt.toneMapping!==fi||Kt.morphTargetsCount!==Rn)&&(dn=!0):(dn=!0,Kt.__version=pt.version);let Lr=Kt.currentProgram;dn===!0&&(Lr=cr(pt,We,nt));let Zs=!1,Ni=!1,fr=!1;const hi=Lr.getUniforms(),hr=Kt.uniforms;if(Ye.useProgram(Lr.program)&&(Zs=!0,Ni=!0,fr=!0),pt.id!==H&&(H=pt.id,Ni=!0),Zs||ae!==pe){Ye.buffers.depth.getReversed()&&pe.reversedDepth!==!0&&(pe._reversedDepth=!0,pe.updateProjectionMatrix()),hi.setValue(ce,"projectionMatrix",pe.projectionMatrix),hi.setValue(ce,"viewMatrix",pe.matrixWorldInverse);const Vr=hi.map.cameraPosition;Vr!==void 0&&Vr.setValue(ce,it.setFromMatrixPosition(pe.matrixWorld)),Oe.logarithmicDepthBuffer&&hi.setValue(ce,"logDepthBufFC",2/(Math.log(pe.far+1)/Math.LN2)),(pt.isMeshPhongMaterial||pt.isMeshToonMaterial||pt.isMeshLambertMaterial||pt.isMeshBasicMaterial||pt.isMeshStandardMaterial||pt.isShaderMaterial)&&hi.setValue(ce,"isOrthographic",pe.isOrthographicCamera===!0),ae!==pe&&(ae=pe,Ni=!0,fr=!0)}if(Kt.needsLights&&(Cn.state.directionalShadowMap.length>0&&hi.setValue(ce,"directionalShadowMap",Cn.state.directionalShadowMap,Se),Cn.state.spotShadowMap.length>0&&hi.setValue(ce,"spotShadowMap",Cn.state.spotShadowMap,Se),Cn.state.pointShadowMap.length>0&&hi.setValue(ce,"pointShadowMap",Cn.state.pointShadowMap,Se)),nt.isSkinnedMesh){hi.setOptional(ce,nt,"bindMatrix"),hi.setOptional(ce,nt,"bindMatrixInverse");const dr=nt.skeleton;dr&&(dr.boneTexture===null&&dr.computeBoneTexture(),hi.setValue(ce,"boneTexture",dr.boneTexture,Se))}nt.isBatchedMesh&&(hi.setOptional(ce,nt,"batchingTexture"),hi.setValue(ce,"batchingTexture",nt._matricesTexture,Se),hi.setOptional(ce,nt,"batchingIdTexture"),hi.setValue(ce,"batchingIdTexture",nt._indirectTexture,Se),hi.setOptional(ce,nt,"batchingColorTexture"),nt._colorsTexture!==null&&hi.setValue(ce,"batchingColorTexture",nt._colorsTexture,Se));const nr=dt.morphAttributes;if((nr.position!==void 0||nr.normal!==void 0||nr.color!==void 0)&&Ut.update(nt,dt,Lr),(Ni||Kt.receiveShadow!==nt.receiveShadow)&&(Kt.receiveShadow=nt.receiveShadow,hi.setValue(ce,"receiveShadow",nt.receiveShadow)),pt.isMeshGouraudMaterial&&pt.envMap!==null&&(hr.envMap.value=on,hr.flipEnvMap.value=on.isCubeTexture&&on.isRenderTargetTexture===!1?-1:1),pt.isMeshStandardMaterial&&pt.envMap===null&&We.environment!==null&&(hr.envMapIntensity.value=We.environmentIntensity),hr.dfgLUT!==void 0&&(hr.dfgLUT.value=jz()),Ni&&(hi.setValue(ce,"toneMappingExposure",I.toneMappingExposure),Kt.needsLights&&Aa(hr,fr),Gt&&pt.fog===!0&&zt.refreshFogUniforms(hr,Gt),zt.refreshMaterialUniforms(hr,pt,X,Q,R.state.transmissionRenderTarget[pe.id]),$w.upload(ce,Ns(Kt),hr,Se)),pt.isShaderMaterial&&pt.uniformsNeedUpdate===!0&&($w.upload(ce,Ns(Kt),hr,Se),pt.uniformsNeedUpdate=!1),pt.isSpriteMaterial&&hi.setValue(ce,"center",nt.center),hi.setValue(ce,"modelViewMatrix",nt.modelViewMatrix),hi.setValue(ce,"normalMatrix",nt.normalMatrix),hi.setValue(ce,"modelMatrix",nt.matrixWorld),pt.isShaderMaterial||pt.isRawShaderMaterial){const dr=pt.uniformsGroups;for(let Vr=0,xo=dr.length;Vr<xo;Vr++){const _s=dr[Vr];tt.update(_s,Lr),tt.bind(_s,Lr)}}return Lr}function Aa(pe,We){pe.ambientLightColor.needsUpdate=We,pe.lightProbe.needsUpdate=We,pe.directionalLights.needsUpdate=We,pe.directionalLightShadows.needsUpdate=We,pe.pointLights.needsUpdate=We,pe.pointLightShadows.needsUpdate=We,pe.spotLights.needsUpdate=We,pe.spotLightShadows.needsUpdate=We,pe.rectAreaLights.needsUpdate=We,pe.hemisphereLights.needsUpdate=We}function Os(pe){return pe.isMeshLambertMaterial||pe.isMeshToonMaterial||pe.isMeshPhongMaterial||pe.isMeshStandardMaterial||pe.isShadowMaterial||pe.isShaderMaterial&&pe.lights===!0}this.getActiveCubeFace=function(){return k},this.getActiveMipmapLevel=function(){return G},this.getRenderTarget=function(){return q},this.setRenderTargetTextures=function(pe,We,dt){const pt=$.get(pe);pt.__autoAllocateDepthBuffer=pe.resolveDepthBuffer===!1,pt.__autoAllocateDepthBuffer===!1&&(pt.__useRenderToTexture=!1),$.get(pe.texture).__webglTexture=We,$.get(pe.depthTexture).__webglTexture=pt.__autoAllocateDepthBuffer?void 0:dt,pt.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(pe,We){const dt=$.get(pe);dt.__webglFramebuffer=We,dt.__useDefaultFramebuffer=We===void 0};const Js=ce.createFramebuffer();this.setRenderTarget=function(pe,We=0,dt=0){q=pe,k=We,G=dt;let pt=null,nt=!1,Gt=!1;if(pe){const Qt=$.get(pe);if(Qt.__useDefaultFramebuffer!==void 0){Ye.bindFramebuffer(ce.FRAMEBUFFER,Qt.__webglFramebuffer),Z.copy(pe.viewport),ne.copy(pe.scissor),oe=pe.scissorTest,Ye.viewport(Z),Ye.scissor(ne),Ye.setScissorTest(oe),H=-1;return}else if(Qt.__webglFramebuffer===void 0)Se.setupRenderTarget(pe);else if(Qt.__hasExternalTextures)Se.rebindTextures(pe,$.get(pe.texture).__webglTexture,$.get(pe.depthTexture).__webglTexture);else if(pe.depthBuffer){const xn=pe.depthTexture;if(Qt.__boundDepthTexture!==xn){if(xn!==null&&$.has(xn)&&(pe.width!==xn.image.width||pe.height!==xn.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Se.setupDepthRenderbuffer(pe)}}const on=pe.texture;(on.isData3DTexture||on.isDataArrayTexture||on.isCompressedArrayTexture)&&(Gt=!0);const $t=$.get(pe).__webglFramebuffer;pe.isWebGLCubeRenderTarget?(Array.isArray($t[We])?pt=$t[We][dt]:pt=$t[We],nt=!0):pe.samples>0&&Se.useMultisampledRTT(pe)===!1?pt=$.get(pe).__webglMultisampledFramebuffer:Array.isArray($t)?pt=$t[dt]:pt=$t,Z.copy(pe.viewport),ne.copy(pe.scissor),oe=pe.scissorTest}else Z.copy(te).multiplyScalar(X).floor(),ne.copy(se).multiplyScalar(X).floor(),oe=ye;if(dt!==0&&(pt=Js),Ye.bindFramebuffer(ce.FRAMEBUFFER,pt)&&Ye.drawBuffers(pe,pt),Ye.viewport(Z),Ye.scissor(ne),Ye.setScissorTest(oe),nt){const Qt=$.get(pe.texture);ce.framebufferTexture2D(ce.FRAMEBUFFER,ce.COLOR_ATTACHMENT0,ce.TEXTURE_CUBE_MAP_POSITIVE_X+We,Qt.__webglTexture,dt)}else if(Gt){const Qt=We;for(let on=0;on<pe.textures.length;on++){const $t=$.get(pe.textures[on]);ce.framebufferTextureLayer(ce.FRAMEBUFFER,ce.COLOR_ATTACHMENT0+on,$t.__webglTexture,dt,Qt)}}else if(pe!==null&&dt!==0){const Qt=$.get(pe.texture);ce.framebufferTexture2D(ce.FRAMEBUFFER,ce.COLOR_ATTACHMENT0,ce.TEXTURE_2D,Qt.__webglTexture,dt)}H=-1},this.readRenderTargetPixels=function(pe,We,dt,pt,nt,Gt,Zt,Qt=0){if(!(pe&&pe.isWebGLRenderTarget)){Fn("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let on=$.get(pe).__webglFramebuffer;if(pe.isWebGLCubeRenderTarget&&Zt!==void 0&&(on=on[Zt]),on){Ye.bindFramebuffer(ce.FRAMEBUFFER,on);try{const $t=pe.textures[Qt],xn=$t.format,un=$t.type;if(!Oe.textureFormatReadable(xn)){Fn("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Oe.textureTypeReadable(un)){Fn("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}We>=0&&We<=pe.width-pt&&dt>=0&&dt<=pe.height-nt&&(pe.textures.length>1&&ce.readBuffer(ce.COLOR_ATTACHMENT0+Qt),ce.readPixels(We,dt,pt,nt,mt.convert(xn),mt.convert(un),Gt))}finally{const $t=q!==null?$.get(q).__webglFramebuffer:null;Ye.bindFramebuffer(ce.FRAMEBUFFER,$t)}}},this.readRenderTargetPixelsAsync=async function(pe,We,dt,pt,nt,Gt,Zt,Qt=0){if(!(pe&&pe.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let on=$.get(pe).__webglFramebuffer;if(pe.isWebGLCubeRenderTarget&&Zt!==void 0&&(on=on[Zt]),on)if(We>=0&&We<=pe.width-pt&&dt>=0&&dt<=pe.height-nt){Ye.bindFramebuffer(ce.FRAMEBUFFER,on);const $t=pe.textures[Qt],xn=$t.format,un=$t.type;if(!Oe.textureFormatReadable(xn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Oe.textureTypeReadable(un))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const An=ce.createBuffer();ce.bindBuffer(ce.PIXEL_PACK_BUFFER,An),ce.bufferData(ce.PIXEL_PACK_BUFFER,Gt.byteLength,ce.STREAM_READ),pe.textures.length>1&&ce.readBuffer(ce.COLOR_ATTACHMENT0+Qt),ce.readPixels(We,dt,pt,nt,mt.convert(xn),mt.convert(un),0);const Zn=q!==null?$.get(q).__webglFramebuffer:null;Ye.bindFramebuffer(ce.FRAMEBUFFER,Zn);const fi=ce.fenceSync(ce.SYNC_GPU_COMMANDS_COMPLETE,0);return ce.flush(),await iO(ce,fi,4),ce.bindBuffer(ce.PIXEL_PACK_BUFFER,An),ce.getBufferSubData(ce.PIXEL_PACK_BUFFER,0,Gt),ce.deleteBuffer(An),ce.deleteSync(fi),Gt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(pe,We=null,dt=0){const pt=Math.pow(2,-dt),nt=Math.floor(pe.image.width*pt),Gt=Math.floor(pe.image.height*pt),Zt=We!==null?We.x:0,Qt=We!==null?We.y:0;Se.setTexture2D(pe,0),ce.copyTexSubImage2D(ce.TEXTURE_2D,dt,0,0,Zt,Qt,nt,Gt),Ye.unbindTexture()};const io=ce.createFramebuffer(),ln=ce.createFramebuffer();this.copyTextureToTexture=function(pe,We,dt=null,pt=null,nt=0,Gt=null){Gt===null&&(nt!==0?(Dm("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Gt=nt,nt=0):Gt=0);let Zt,Qt,on,$t,xn,un,An,Zn,fi;const ri=pe.isCompressedTexture?pe.mipmaps[Gt]:pe.image;if(dt!==null)Zt=dt.max.x-dt.min.x,Qt=dt.max.y-dt.min.y,on=dt.isBox3?dt.max.z-dt.min.z:1,$t=dt.min.x,xn=dt.min.y,un=dt.isBox3?dt.min.z:0;else{const nr=Math.pow(2,-nt);Zt=Math.floor(ri.width*nr),Qt=Math.floor(ri.height*nr),pe.isDataArrayTexture?on=ri.depth:pe.isData3DTexture?on=Math.floor(ri.depth*nr):on=1,$t=0,xn=0,un=0}pt!==null?(An=pt.x,Zn=pt.y,fi=pt.z):(An=0,Zn=0,fi=0);const Rn=mt.convert(We.format),Kt=mt.convert(We.type);let Cn;We.isData3DTexture?(Se.setTexture3D(We,0),Cn=ce.TEXTURE_3D):We.isDataArrayTexture||We.isCompressedArrayTexture?(Se.setTexture2DArray(We,0),Cn=ce.TEXTURE_2D_ARRAY):(Se.setTexture2D(We,0),Cn=ce.TEXTURE_2D),ce.pixelStorei(ce.UNPACK_FLIP_Y_WEBGL,We.flipY),ce.pixelStorei(ce.UNPACK_PREMULTIPLY_ALPHA_WEBGL,We.premultiplyAlpha),ce.pixelStorei(ce.UNPACK_ALIGNMENT,We.unpackAlignment);const dn=ce.getParameter(ce.UNPACK_ROW_LENGTH),Lr=ce.getParameter(ce.UNPACK_IMAGE_HEIGHT),Zs=ce.getParameter(ce.UNPACK_SKIP_PIXELS),Ni=ce.getParameter(ce.UNPACK_SKIP_ROWS),fr=ce.getParameter(ce.UNPACK_SKIP_IMAGES);ce.pixelStorei(ce.UNPACK_ROW_LENGTH,ri.width),ce.pixelStorei(ce.UNPACK_IMAGE_HEIGHT,ri.height),ce.pixelStorei(ce.UNPACK_SKIP_PIXELS,$t),ce.pixelStorei(ce.UNPACK_SKIP_ROWS,xn),ce.pixelStorei(ce.UNPACK_SKIP_IMAGES,un);const hi=pe.isDataArrayTexture||pe.isData3DTexture,hr=We.isDataArrayTexture||We.isData3DTexture;if(pe.isDepthTexture){const nr=$.get(pe),dr=$.get(We),Vr=$.get(nr.__renderTarget),xo=$.get(dr.__renderTarget);Ye.bindFramebuffer(ce.READ_FRAMEBUFFER,Vr.__webglFramebuffer),Ye.bindFramebuffer(ce.DRAW_FRAMEBUFFER,xo.__webglFramebuffer);for(let _s=0;_s<on;_s++)hi&&(ce.framebufferTextureLayer(ce.READ_FRAMEBUFFER,ce.COLOR_ATTACHMENT0,$.get(pe).__webglTexture,nt,un+_s),ce.framebufferTextureLayer(ce.DRAW_FRAMEBUFFER,ce.COLOR_ATTACHMENT0,$.get(We).__webglTexture,Gt,fi+_s)),ce.blitFramebuffer($t,xn,Zt,Qt,An,Zn,Zt,Qt,ce.DEPTH_BUFFER_BIT,ce.NEAREST);Ye.bindFramebuffer(ce.READ_FRAMEBUFFER,null),Ye.bindFramebuffer(ce.DRAW_FRAMEBUFFER,null)}else if(nt!==0||pe.isRenderTargetTexture||$.has(pe)){const nr=$.get(pe),dr=$.get(We);Ye.bindFramebuffer(ce.READ_FRAMEBUFFER,io),Ye.bindFramebuffer(ce.DRAW_FRAMEBUFFER,ln);for(let Vr=0;Vr<on;Vr++)hi?ce.framebufferTextureLayer(ce.READ_FRAMEBUFFER,ce.COLOR_ATTACHMENT0,nr.__webglTexture,nt,un+Vr):ce.framebufferTexture2D(ce.READ_FRAMEBUFFER,ce.COLOR_ATTACHMENT0,ce.TEXTURE_2D,nr.__webglTexture,nt),hr?ce.framebufferTextureLayer(ce.DRAW_FRAMEBUFFER,ce.COLOR_ATTACHMENT0,dr.__webglTexture,Gt,fi+Vr):ce.framebufferTexture2D(ce.DRAW_FRAMEBUFFER,ce.COLOR_ATTACHMENT0,ce.TEXTURE_2D,dr.__webglTexture,Gt),nt!==0?ce.blitFramebuffer($t,xn,Zt,Qt,An,Zn,Zt,Qt,ce.COLOR_BUFFER_BIT,ce.NEAREST):hr?ce.copyTexSubImage3D(Cn,Gt,An,Zn,fi+Vr,$t,xn,Zt,Qt):ce.copyTexSubImage2D(Cn,Gt,An,Zn,$t,xn,Zt,Qt);Ye.bindFramebuffer(ce.READ_FRAMEBUFFER,null),Ye.bindFramebuffer(ce.DRAW_FRAMEBUFFER,null)}else hr?pe.isDataTexture||pe.isData3DTexture?ce.texSubImage3D(Cn,Gt,An,Zn,fi,Zt,Qt,on,Rn,Kt,ri.data):We.isCompressedArrayTexture?ce.compressedTexSubImage3D(Cn,Gt,An,Zn,fi,Zt,Qt,on,Rn,ri.data):ce.texSubImage3D(Cn,Gt,An,Zn,fi,Zt,Qt,on,Rn,Kt,ri):pe.isDataTexture?ce.texSubImage2D(ce.TEXTURE_2D,Gt,An,Zn,Zt,Qt,Rn,Kt,ri.data):pe.isCompressedTexture?ce.compressedTexSubImage2D(ce.TEXTURE_2D,Gt,An,Zn,ri.width,ri.height,Rn,ri.data):ce.texSubImage2D(ce.TEXTURE_2D,Gt,An,Zn,Zt,Qt,Rn,Kt,ri);ce.pixelStorei(ce.UNPACK_ROW_LENGTH,dn),ce.pixelStorei(ce.UNPACK_IMAGE_HEIGHT,Lr),ce.pixelStorei(ce.UNPACK_SKIP_PIXELS,Zs),ce.pixelStorei(ce.UNPACK_SKIP_ROWS,Ni),ce.pixelStorei(ce.UNPACK_SKIP_IMAGES,fr),Gt===0&&We.generateMipmaps&&ce.generateMipmap(Cn),Ye.unbindTexture()},this.initRenderTarget=function(pe){$.get(pe).__webglFramebuffer===void 0&&Se.setupRenderTarget(pe)},this.initTexture=function(pe){pe.isCubeTexture?Se.setTextureCube(pe,0):pe.isData3DTexture?Se.setTexture3D(pe,0):pe.isDataArrayTexture||pe.isCompressedArrayTexture?Se.setTexture2DArray(pe,0):Se.setTexture2D(pe,0),Ye.unbindTexture()},this.resetState=function(){k=0,G=0,q=null,Ye.reset(),Et.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return su}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Wi._getDrawingBufferColorSpace(e),t.unpackColorSpace=Wi._getUnpackColorSpace()}}const lI=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Lb,AddEquation:od,AddOperation:VF,AdditiveAnimationBlendMode:tE,AdditiveBlending:S2,AgXToneMapping:WC,AlphaFormat:$C,AlwaysCompare:iL,AlwaysDepth:mx,AlwaysStencilFunc:U2,AmbientLight:KL,AnimationAction:$L,AnimationClip:J1,AnimationLoader:KP,AnimationMixer:x8,AnimationObjectGroup:y8,AnimationUtils:zP,ArcCurve:wL,ArrayCamera:YL,ArrowHelper:V8,AttachedBindMode:M2,Audio:JL,AudioAnalyser:l8,AudioContext:ME,AudioListener:a8,AudioLoader:i8,AxesHelper:j8,BackSide:WA,BasicDepthPacking:XF,BasicShadowMap:BF,BatchedMesh:pL,Bone:lE,BooleanKeyframeTrack:Xp,Box2:U8,Box3:Fa,Box3Helper:z8,BoxGeometry:qp,BoxHelper:k8,BufferAttribute:qi,BufferGeometry:ui,BufferGeometryLoader:XL,ByteType:XC,Cache:mf,Camera:Kb,CameraHelper:H8,CanvasTexture:cP,CapsuleGeometry:Zb,CatmullRomCurve3:xL,CineonToneMapping:jC,CircleGeometry:$b,ClampToEdgeWrapping:KA,Clock:UE,Color:an,ColorKeyframeTrack:BE,ColorManagement:Wi,CompressedArrayTexture:lP,CompressedCubeTexture:uP,CompressedTexture:Fp,CompressedTextureLoader:WP,ConeGeometry:gv,ConstantAlphaFactor:kF,ConstantColorFactor:QF,Controls:W8,CubeCamera:lL,CubeDepthTexture:yL,CubeReflectionMapping:wf,CubeRefractionMapping:yd,CubeTexture:dv,CubeTextureLoader:qP,CubeUVReflectionMapping:Km,CubicBezierCurve:dE,CubicBezierCurve3:bL,CubicInterpolant:PL,CullFaceBack:B2,CullFaceFront:_F,CullFaceFrontBack:d6,CullFaceNone:bF,Curve:Cc,CurvePath:BL,CustomBlending:SF,CustomToneMapping:KC,CylinderGeometry:pv,Cylindrical:M8,Data3DTexture:jb,DataArrayTexture:Vb,DataTexture:bc,DataTextureLoader:XP,DataUtils:RO,DecrementStencilOp:F6,DecrementWrapStencilOp:I6,DefaultLoadingManager:kL,DepthFormat:xf,DepthStencilFormat:Ad,DepthTexture:kp,DetachedBindMode:jF,DirectionalLight:jL,DirectionalLightHelper:Q8,DiscreteInterpolant:QL,DodecahedronGeometry:e_,DoubleSide:Pu,DstAlphaFactor:RF,DstColorFactor:DF,DynamicCopyUsage:q6,DynamicDrawUsage:z6,DynamicReadUsage:j6,EdgesGeometry:fE,EllipseCurve:t_,EqualCompare:eL,EqualDepth:yx,EqualStencilFunc:O6,EquirectangularReflectionMapping:D1,EquirectangularRefractionMapping:O1,Euler:uu,EventDispatcher:bf,ExternalTexture:cE,ExtrudeGeometry:n_,FileLoader:ph,Float16BufferAttribute:kO,Float32BufferAttribute:wn,FloatType:yA,Fog:qb,FogExp2:Wb,FramebufferTexture:AP,FrontSide:dh,Frustum:Wm,FrustumArray:Jb,GLBufferAttribute:S8,GLSL1:Y6,GLSL3:T2,GreaterCompare:tL,GreaterDepth:xx,GreaterEqualCompare:Gb,GreaterEqualDepth:wx,GreaterEqualStencilFunc:k6,GreaterStencilFunc:Q6,GridHelper:O8,Group:pm,HalfFloatType:_c,HemisphereLight:zL,HemisphereLightHelper:D8,IcosahedronGeometry:i_,ImageBitmapLoader:n8,ImageLoader:Z1,ImageUtils:iE,IncrementStencilOp:T6,IncrementWrapStencilOp:L6,InstancedBufferAttribute:Hp,InstancedBufferGeometry:h_,InstancedInterleavedBuffer:sb,InstancedMesh:dL,Int16BufferAttribute:QO,Int32BufferAttribute:HO,Int8BufferAttribute:DO,IntType:Nb,InterleavedBuffer:Xb,InterleavedBufferAttribute:au,Interpolant:wv,InterpolateDiscrete:Rm,InterpolateLinear:P1,InterpolateSmooth:Jw,InterpolationSamplingMode:$6,InterpolationSamplingType:Z6,InvertStencilOp:R6,KeepStencilOp:mp,KeyframeTrack:Ku,LOD:fL,LatheGeometry:r_,Layers:Pm,LessCompare:$F,LessDepth:vx,LessEqualCompare:zb,LessEqualDepth:Pp,LessEqualStencilFunc:P6,LessStencilFunc:D6,Light:Ed,LightProbe:qL,Line:bd,Line3:eI,LineBasicMaterial:XA,LineCurve:pE,LineCurve3:_L,LineDashedMaterial:DL,LineLoop:gL,LineSegments:_f,LinearFilter:Tr,LinearInterpolant:_E,LinearMipMapLinearFilter:v6,LinearMipMapNearestFilter:m6,LinearMipmapLinearFilter:yc,LinearMipmapNearestFilter:wm,LinearSRGBColorSpace:wd,LinearToneMapping:GC,LinearTransfer:H1,Loader:Ml,LoaderUtils:N2,LoadingManager:SE,LoopOnce:KF,LoopPingPong:qF,LoopRepeat:WF,MOUSE:pp,Material:xA,MaterialLoader:f_,MathUtils:V1,Matrix2:RE,Matrix3:Ai,Matrix4:Vn,MaxEquation:UF,Mesh:xs,MeshBasicMaterial:vh,MeshDepthMaterial:yv,MeshDistanceMaterial:c_,MeshLambertMaterial:RL,MeshMatcapMaterial:NL,MeshNormalMaterial:IL,MeshPhongMaterial:FL,MeshPhysicalMaterial:TL,MeshStandardMaterial:xE,MeshToonMaterial:LL,MinEquation:MF,MirroredRepeatWrapping:Fm,MixOperation:GF,MultiplyBlending:E2,MultiplyOperation:fv,NearestFilter:oa,NearestMipMapLinearFilter:g6,NearestMipMapNearestFilter:p6,NearestMipmapLinearFilter:Bp,NearestMipmapNearestFilter:Rb,NeutralToneMapping:qC,NeverCompare:ZF,NeverDepth:gx,NeverStencilFunc:N6,NoBlending:yf,NoColorSpace:pf,NoNormalPacking:S6,NoToneMapping:Gu,NormalAnimationBlendMode:kb,NormalBlending:Up,NormalGAPacking:E6,NormalRGPacking:C6,NotEqualCompare:nL,NotEqualDepth:bx,NotEqualStencilFunc:H6,NumberKeyframeTrack:X1,Object3D:rr,ObjectLoader:e8,ObjectSpaceNormalMap:JF,OctahedronGeometry:mv,OneFactor:FF,OneMinusConstantAlphaFactor:zF,OneMinusConstantColorFactor:HF,OneMinusDstAlphaFactor:NF,OneMinusDstColorFactor:OF,OneMinusSrcAlphaFactor:px,OneMinusSrcColorFactor:IF,OrthographicCamera:fh,PCFShadowMap:ym,PCFSoftShadowMap:p1,PMREMGenerator:Q2,Path:rb,PerspectiveCamera:Ea,Plane:ah,PlaneGeometry:Bf,PlaneHelper:G8,PointLight:VL,PointLightHelper:R8,Points:mL,PointsMaterial:uE,PolarGridHelper:P8,PolyhedronGeometry:Cd,PositionalAudio:A8,PropertyBinding:Hi,PropertyMixer:ZL,QuadraticBezierCurve:gE,QuadraticBezierCurve3:mE,Quaternion:Ko,QuaternionKeyframeTrack:xv,QuaternionLinearInterpolant:HL,R11_EAC_Format:Tx,RED_GREEN_RGTC2_Format:$x,RED_RGTC1_Format:Jx,REVISION:jm,RG11_EAC_Format:Lx,RGBADepthPacking:YF,RGBAFormat:Vo,RGBAIntegerFormat:Hb,RGBA_ASTC_10x10_Format:jx,RGBA_ASTC_10x5_Format:zx,RGBA_ASTC_10x6_Format:Gx,RGBA_ASTC_10x8_Format:Vx,RGBA_ASTC_12x10_Format:Kx,RGBA_ASTC_12x12_Format:Wx,RGBA_ASTC_4x4_Format:Rx,RGBA_ASTC_5x4_Format:Nx,RGBA_ASTC_5x5_Format:Dx,RGBA_ASTC_6x5_Format:Ox,RGBA_ASTC_6x6_Format:Px,RGBA_ASTC_8x5_Format:Qx,RGBA_ASTC_8x6_Format:Hx,RGBA_ASTC_8x8_Format:kx,RGBA_BPTC_Format:qx,RGBA_ETC2_EAC_Format:Ux,RGBA_PVRTC_2BPPV1_Format:Cx,RGBA_PVRTC_4BPPV1_Format:Sx,RGBA_S3TC_DXT1_Format:m1,RGBA_S3TC_DXT3_Format:v1,RGBA_S3TC_DXT5_Format:y1,RGBDepthPacking:_6,RGBFormat:eE,RGBIntegerFormat:y6,RGB_BPTC_SIGNED_Format:Xx,RGB_BPTC_UNSIGNED_Format:Yx,RGB_ETC1_Format:Ex,RGB_ETC2_Format:Mx,RGB_PVRTC_2BPPV1_Format:Bx,RGB_PVRTC_4BPPV1_Format:_x,RGB_S3TC_DXT1_Format:g1,RGDepthPacking:B6,RGFormat:Qp,RGIntegerFormat:Qb,RawShaderMaterial:wE,Ray:Wp,Raycaster:IE,RectAreaLight:WL,RedFormat:Pb,RedIntegerFormat:hv,ReinhardToneMapping:VC,RenderTarget:rE,RenderTarget3D:b8,RepeatWrapping:Tm,ReplaceStencilOp:U6,ReverseSubtractEquation:EF,RingGeometry:s_,SIGNED_R11_EAC_Format:Fx,SIGNED_RED_GREEN_RGTC2_Format:eb,SIGNED_RED_RGTC1_Format:Zx,SIGNED_RG11_EAC_Format:Ix,SRGBColorSpace:Go,SRGBTransfer:Mr,Scene:Hm,ShaderChunk:wi,ShaderLib:gc,ShaderMaterial:qA,ShadowMaterial:UL,Shape:Lp,ShapeGeometry:a_,ShapePath:K8,ShapeUtils:wc,ShortType:YC,Skeleton:Yb,SkeletonHelper:I8,SkinnedMesh:hL,Source:uh,Sphere:Va,SphereGeometry:vv,Spherical:O2,SphericalHarmonics3:EE,SplineCurve:vE,SpotLight:GL,SpotLightHelper:L8,Sprite:cL,SpriteMaterial:AE,SrcAlphaFactor:dx,SrcAlphaSaturateFactor:PF,SrcColorFactor:LF,StaticCopyUsage:W6,StaticDrawUsage:k1,StaticReadUsage:V6,StereoCamera:r8,StreamCopyUsage:X6,StreamDrawUsage:G6,StreamReadUsage:K6,StringKeyframeTrack:Yp,SubtractEquation:CF,SubtractiveBlending:C2,TOUCH:gp,TangentSpaceNormalMap:Sd,TetrahedronGeometry:o_,Texture:Ys,TextureLoader:YP,TextureUtils:Z8,Timer:C8,TimestampQuery:J6,TorusGeometry:A_,TorusKnotGeometry:l_,Triangle:Cl,TriangleFanDrawMode:b6,TriangleStripDrawMode:x6,TrianglesDrawMode:w6,TubeGeometry:u_,UVMapping:Ib,Uint16BufferAttribute:sE,Uint32BufferAttribute:aE,Uint8BufferAttribute:OO,Uint8ClampedBufferAttribute:PO,Uniform:LE,UniformsGroup:B8,UniformsLib:rn,UniformsUtils:j1,UnsignedByteType:VA,UnsignedInt101111Type:ZC,UnsignedInt248Type:Im,UnsignedInt5999Type:JC,UnsignedIntType:Vu,UnsignedShort4444Type:Db,UnsignedShort5551Type:Ob,UnsignedShortType:Lm,VSMShadowMap:_p,Vector2:Rt,Vector3:Ce,Vector4:er,VectorKeyframeTrack:Y1,VideoFrameTexture:oP,VideoTexture:vL,WebGL3DRenderTarget:BO,WebGLArrayRenderTarget:_O,WebGLCoordinateSystem:su,WebGLCubeRenderTarget:oE,WebGLRenderTarget:wA,WebGLRenderer:AI,WebGLUtils:oI,WebGPUCoordinateSystem:Nm,WebXRController:Zw,WireframeGeometry:yE,WrapAroundEnding:Q1,ZeroCurvatureEnding:Sp,ZeroFactor:TF,ZeroSlopeEnding:Cp,ZeroStencilOp:M6,createCanvasElement:aL,error:Fn,getConsoleFunction:nO,log:G1,setConsoleFunction:tO,warn:sn,warnOnce:Dm},Symbol.toStringTag,{value:"Module"}));var oS={exports:{}},AS={},lS={exports:{}},uS={};var kM;function Kz(){if(kM)return uS;kM=1;var i=cv();function e(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var t=typeof Object.is=="function"?Object.is:e,n=i.useState,r=i.useEffect,s=i.useLayoutEffect,a=i.useDebugValue;function A(g,v){var m=v(),x=n({inst:{value:m,getSnapshot:v}}),B=x[0].inst,_=x[1];return s(function(){B.value=m,B.getSnapshot=v,l(B)&&_({inst:B})},[g,m,v]),r(function(){return l(B)&&_({inst:B}),g(function(){l(B)&&_({inst:B})})},[g]),a(m),m}function l(g){var v=g.getSnapshot;g=g.value;try{var m=v();return!t(g,m)}catch{return!0}}function c(g,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:A;return uS.useSyncExternalStore=i.useSyncExternalStore!==void 0?i.useSyncExternalStore:h,uS}var zM;function Wz(){return zM||(zM=1,lS.exports=Kz()),lS.exports}var GM;function qz(){if(GM)return AS;GM=1;var i=cv(),e=Wz();function t(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=i.useRef,a=i.useEffect,A=i.useMemo,l=i.useDebugValue;return AS.useSyncExternalStoreWithSelector=function(c,h,g,v,m){var x=s(null);if(x.current===null){var B={hasValue:!1,value:null};x.current=B}else B=x.current;x=A(function(){function b(O){if(!M){if(M=!0,T=O,O=v(O),m!==void 0&&B.hasValue){var z=B.value;if(m(z,O))return U=z}return U=O}if(z=U,n(T,O))return z;var V=v(O);return m!==void 0&&m(z,V)?(T=O,z):(T=O,U=V)}var M=!1,T,U,R=g===void 0?null:g;return[function(){return b(h())},R===null?void 0:function(){return b(R())}]},[h,g,v,m]);var _=r(c,x[0],x[1]);return a(function(){B.hasValue=!0,B.value=_},[_]),l(_),_},AS}var VM;function Xz(){return VM||(VM=1,oS.exports=qz()),oS.exports}var Yz=Xz();const uI=zC(Yz),jM=i=>{let e;const t=new Set,n=(c,h)=>{const g=typeof c=="function"?c(e):c;if(!Object.is(g,e)){const v=e;e=h??(typeof g!="object"||g===null)?g:Object.assign({},e,g),t.forEach(m=>m(e,v))}},r=()=>e,A={setState:n,getState:r,getInitialState:()=>l,subscribe:c=>(t.add(c),()=>t.delete(c))},l=e=i(n,r,A);return A},cI=(i=>i?jM(i):jM),{useSyncExternalStoreWithSelector:Jz}=uI,Zz=i=>i;function $z(i,e=Zz,t){const n=Jz(i.subscribe,i.getState,i.getInitialState,e,t);return vc.useDebugValue(n),n}const KM=(i,e)=>{const t=cI(i),n=(r,s=e)=>$z(t,r,s);return Object.assign(n,t),n},fI=((i,e)=>i?KM(i,e):KM),e9=i=>typeof i=="object"&&typeof i.then=="function",lw=[];function t9(i,e,t=(n,r)=>n===r){if(i===e)return!0;if(!i||!e)return!1;const n=i.length;if(e.length!==n)return!1;for(let r=0;r<n;r++)if(!t(i[r],e[r]))return!1;return!0}function n9(i,e=null,t=!1,n={}){e===null&&(e=[i]);for(const s of lw)if(t9(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return n.lifespan&&n.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,n.lifespan)),s.response;if(!t)throw s.promise}const r={keys:e,equal:n.equal,remove:()=>{const s=lw.indexOf(r);s!==-1&&lw.splice(s,1)},promise:(e9(i)?i:i(...e)).then(s=>{r.response=s,n.lifespan&&n.lifespan>0&&(r.timeout=setTimeout(r.remove,n.lifespan))}).catch(s=>r.error=s)};if(lw.push(r),!t)throw r.promise}const i9=(i,e,t)=>n9(i,e,!1,t);var z2=xF();const r9=zC(z2);function NE(i,e,t){if(!i)return;if(t(i)===!0)return i;let n=e?i.return:i.child;for(;n;){const r=NE(n,e,t);if(r)return r;n=e?null:n.sibling}}function hI(i){try{return Object.defineProperties(i,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return i}}const DE=hI(ht.createContext(null));let dI=class extends ht.Component{render(){return ht.createElement(DE.Provider,{value:this._reactInternals},this.props.children)}};function pI(){const i=ht.useContext(DE);if(i===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=ht.useId();return ht.useMemo(()=>{for(const t of[i,i?.alternate]){if(!t)continue;const n=NE(t,!1,r=>{let s=r.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(n)return n}},[i,e])}const s9=Symbol.for("react.context"),a9=i=>i!==null&&typeof i=="object"&&"$$typeof"in i&&i.$$typeof===s9;function o9(){const i=pI(),[e]=ht.useState(()=>new Map);e.clear();let t=i;for(;t;){const n=t.type;a9(n)&&n!==DE&&!e.has(n)&&e.set(n,ht.use(hI(n))),t=t.return}return e}function A9(){const i=o9();return ht.useMemo(()=>Array.from(i.keys()).reduce((e,t)=>n=>ht.createElement(e,null,ht.createElement(t.Provider,{...n,value:i.get(t)})),e=>ht.createElement(dI,{...e})),[i])}function gI(i){let e=i.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const mI=i=>i&&i.isOrthographicCamera,l9=i=>i&&i.hasOwnProperty("current"),u9=i=>i!=null&&(typeof i=="string"||typeof i=="number"||i.isColor),bv=((i,e)=>typeof window<"u"&&(((i=window.document)==null?void 0:i.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?ht.useLayoutEffect:ht.useEffect;function OE(i){const e=ht.useRef(i);return bv(()=>{e.current=i},[i]),e}function c9(){const i=pI(),e=A9();return ht.useMemo(()=>({children:t})=>{const r=!!NE(i,!0,s=>s.type===ht.StrictMode)?ht.StrictMode:ht.Fragment;return Me.jsx(r,{children:Me.jsx(e,{children:t})})},[i,e])}function f9({set:i}){return bv(()=>(i(new Promise(()=>null)),()=>i(!1)),[i]),null}const h9=(i=>(i=class extends ht.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},i.getDerivedStateFromError=()=>({error:!0}),i))();function vI(i){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(i)?Math.min(Math.max(i[0],t),i[1]):i}function Yg(i){var e;return(e=i.__r3f)==null?void 0:e.root.getState()}const Ws={obj:i=>i===Object(i)&&!Ws.arr(i)&&typeof i!="function",fun:i=>typeof i=="function",str:i=>typeof i=="string",num:i=>typeof i=="number",boo:i=>typeof i=="boolean",und:i=>i===void 0,nul:i=>i===null,arr:i=>Array.isArray(i),equ(i,e,{arrays:t="shallow",objects:n="reference",strict:r=!0}={}){if(typeof i!=typeof e||!!i!=!!e)return!1;if(Ws.str(i)||Ws.num(i)||Ws.boo(i))return i===e;const s=Ws.obj(i);if(s&&n==="reference")return i===e;const a=Ws.arr(i);if(a&&t==="reference")return i===e;if((a||s)&&i===e)return!0;let A;for(A in i)if(!(A in e))return!1;if(s&&t==="shallow"&&n==="shallow"){for(A in r?e:i)if(!Ws.equ(i[A],e[A],{strict:r,objects:"reference"}))return!1}else for(A in r?e:i)if(i[A]!==e[A])return!1;if(Ws.und(A)){if(a&&i.length===0&&e.length===0||s&&Object.keys(i).length===0&&Object.keys(e).length===0)return!0;if(i!==e)return!1}return!0}};function d9(i){i.type!=="Scene"&&(i.dispose==null||i.dispose());for(const e in i){const t=i[e];t?.type!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const yI=["children","key","ref"];function p9(i){const e={};for(const t in i)yI.includes(t)||(e[t]=i[t]);return e}function ab(i,e,t,n){const r=i;let s=r?.__r3f;return s||(s={root:e,type:t,parent:null,children:[],props:p9(n),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=s)),s}function $1(i,e){if(!e.includes("-"))return{root:i,key:e,target:i[e]};if(e in i)return{root:i,key:e,target:i[e]};let t=i;const n=e.split("-");for(const r of n){if(typeof t!="object"||t===null){if(t!==void 0){const s=n.slice(n.indexOf(r)).join("-");return{root:t,key:s,target:void 0}}return{root:i,key:e,target:void 0}}e=r,i=t,t=t[e]}return{root:i,key:e,target:t}}const WM=/-\d+$/;function ob(i,e){if(Ws.str(e.props.attach)){if(WM.test(e.props.attach)){const r=e.props.attach.replace(WM,""),{root:s,key:a}=$1(i.object,r);Array.isArray(s[a])||(s[a]=[])}const{root:t,key:n}=$1(i.object,e.props.attach);e.previousAttach=t[n],t[n]=e.object}else Ws.fun(e.props.attach)&&(e.previousAttach=e.props.attach(i.object,e.object))}function Ab(i,e){if(Ws.str(e.props.attach)){const{root:t,key:n}=$1(i.object,e.props.attach),r=e.previousAttach;r===void 0?delete t[n]:t[n]=r}else e.previousAttach==null||e.previousAttach(i.object,e.object);delete e.previousAttach}const G2=[...yI,"args","dispose","attach","object","onUpdate","dispose"],qM=new Map;function g9(i){let e=qM.get(i.constructor);try{e||(e=new i.constructor,qM.set(i.constructor,e))}catch{}return e}function m9(i,e){const t={};for(const n in e)if(!G2.includes(n)&&!Ws.equ(e[n],i.props[n])){t[n]=e[n];for(const r in e)r.startsWith(`${n}-`)&&(t[r]=e[r])}for(const n in i.props){if(G2.includes(n)||e.hasOwnProperty(n))continue;const{root:r,key:s}=$1(i.object,n);if(r.constructor&&r.constructor.length===0){const a=g9(r);Ws.und(a)||(t[s]=a[s])}else t[s]=0}return t}const v9=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],y9=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function lh(i,e){var t;const n=i.__r3f,r=n&&gI(n).getState(),s=n?.eventCount;for(const A in e){let l=e[A];if(G2.includes(A))continue;if(n&&y9.test(A)){typeof l=="function"?n.handlers[A]=l:delete n.handlers[A],n.eventCount=Object.keys(n.handlers).length;continue}if(l===void 0)continue;let{root:c,key:h,target:g}=$1(i,A);if(g===void 0&&(typeof c!="object"||c===null))throw Error(`R3F: Cannot set "${A}". Ensure it is an object before setting "${h}".`);if(g instanceof Pm&&l instanceof Pm)g.mask=l.mask;else if(g instanceof an&&u9(l))g.set(l);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof g.copy=="function"&&l!=null&&l.constructor&&g.constructor===l.constructor)g.copy(l);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&Array.isArray(l))typeof g.fromArray=="function"?g.fromArray(l):g.set(...l);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof l=="number")typeof g.setScalar=="function"?g.setScalar(l):g.set(l);else{var a;c[h]=l,r&&!r.linear&&v9.includes(h)&&(a=c[h])!=null&&a.isTexture&&c[h].format===Vo&&c[h].type===VA&&(c[h].colorSpace=Go)}}if(n!=null&&n.parent&&r!=null&&r.internal&&(t=n.object)!=null&&t.isObject3D&&s!==n.eventCount){const A=n.object,l=r.internal.interaction.indexOf(A);l>-1&&r.internal.interaction.splice(l,1),n.eventCount&&A.raycast!==null&&r.internal.interaction.push(A)}return n&&n.props.attach===void 0&&(n.object.isBufferGeometry?n.props.attach="geometry":n.object.isMaterial&&(n.props.attach="material")),n&&Xm(n),i}function Xm(i){var e;if(!i.parent)return;i.props.onUpdate==null||i.props.onUpdate(i.object);const t=(e=i.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function wI(i,e){i.manual||(mI(i)?(i.left=e.width/-2,i.right=e.width/2,i.top=e.height/2,i.bottom=e.height/-2):i.aspect=e.width/e.height,i.updateProjectionMatrix())}const Bl=i=>i?.isObject3D;function uw(i){return(i.eventObject||i.object).uuid+"/"+i.index+i.instanceId}function xI(i,e,t,n){const r=t.get(e);r&&(t.delete(e),t.size===0&&(i.delete(n),r.target.releasePointerCapture(n)))}function w9(i,e){const{internal:t}=i.getState();t.interaction=t.interaction.filter(n=>n!==e),t.initialHits=t.initialHits.filter(n=>n!==e),t.hovered.forEach((n,r)=>{(n.eventObject===e||n.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((n,r)=>{xI(t.capturedMap,e,n,r)})}function x9(i){function e(l){const{internal:c}=i.getState(),h=l.offsetX-c.initialClick[0],g=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(h*h+g*g))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(h=>{var g;return(g=c.__r3f)==null?void 0:g.handlers["onPointer"+h]}))}function n(l,c){const h=i.getState(),g=new Set,v=[],m=c?c(h.internal.interaction):h.internal.interaction;for(let b=0;b<m.length;b++){const M=Yg(m[b]);M&&(M.raycaster.camera=void 0)}h.previousRoot||h.events.compute==null||h.events.compute(l,h);function x(b){const M=Yg(b);if(!M||!M.events.enabled||M.raycaster.camera===null)return[];if(M.raycaster.camera===void 0){var T;M.events.compute==null||M.events.compute(l,M,(T=M.previousRoot)==null?void 0:T.getState()),M.raycaster.camera===void 0&&(M.raycaster.camera=null)}return M.raycaster.camera?M.raycaster.intersectObject(b,!0):[]}let B=m.flatMap(x).sort((b,M)=>{const T=Yg(b.object),U=Yg(M.object);return!T||!U?b.distance-M.distance:U.events.priority-T.events.priority||b.distance-M.distance}).filter(b=>{const M=uw(b);return g.has(M)?!1:(g.add(M),!0)});h.events.filter&&(B=h.events.filter(B,h));for(const b of B){let M=b.object;for(;M;){var _;(_=M.__r3f)!=null&&_.eventCount&&v.push({...b,eventObject:M}),M=M.parent}}if("pointerId"in l&&h.internal.capturedMap.has(l.pointerId))for(let b of h.internal.capturedMap.get(l.pointerId).values())g.has(uw(b.intersection))||v.push(b.intersection);return v}function r(l,c,h,g){if(l.length){const v={stopped:!1};for(const m of l){let x=Yg(m.object);if(x||m.object.traverseAncestors(B=>{const _=Yg(B);if(_)return x=_,!1}),x){const{raycaster:B,pointer:_,camera:b,internal:M}=x,T=new Ce(_.x,_.y,0).unproject(b),U=I=>{var P,k;return(P=(k=M.capturedMap.get(I))==null?void 0:k.has(m.eventObject))!=null?P:!1},R=I=>{const P={intersection:m,target:c.target};M.capturedMap.has(I)?M.capturedMap.get(I).set(m.eventObject,P):M.capturedMap.set(I,new Map([[m.eventObject,P]])),c.target.setPointerCapture(I)},O=I=>{const P=M.capturedMap.get(I);P&&xI(M.capturedMap,m.eventObject,P,I)};let z={};for(let I in c){let P=c[I];typeof P!="function"&&(z[I]=P)}let V={...m,...z,pointer:_,intersections:l,stopped:v.stopped,delta:h,unprojectedPoint:T,ray:B.ray,camera:b,stopPropagation(){const I="pointerId"in c&&M.capturedMap.get(c.pointerId);if((!I||I.has(m.eventObject))&&(V.stopped=v.stopped=!0,M.hovered.size&&Array.from(M.hovered.values()).find(P=>P.eventObject===m.eventObject))){const P=l.slice(0,l.indexOf(m));s([...P,m])}},target:{hasPointerCapture:U,setPointerCapture:R,releasePointerCapture:O},currentTarget:{hasPointerCapture:U,setPointerCapture:R,releasePointerCapture:O},nativeEvent:c};if(g(V),v.stopped===!0)break}}}return l}function s(l){const{internal:c}=i.getState();for(const h of c.hovered.values())if(!l.length||!l.find(g=>g.object===h.object&&g.index===h.index&&g.instanceId===h.instanceId)){const v=h.eventObject.__r3f;if(c.hovered.delete(uw(h)),v!=null&&v.eventCount){const m=v.handlers,x={...h,intersections:l};m.onPointerOut==null||m.onPointerOut(x),m.onPointerLeave==null||m.onPointerLeave(x)}}}function a(l,c){for(let h=0;h<c.length;h++){const g=c[h].__r3f;g==null||g.handlers.onPointerMissed==null||g.handlers.onPointerMissed(l)}}function A(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:h}=i.getState();"pointerId"in c&&h.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{h.capturedMap.has(c.pointerId)&&(h.capturedMap.delete(c.pointerId),s([]))})}}return function(h){const{onPointerMissed:g,internal:v}=i.getState();v.lastEvent.current=h;const m=l==="onPointerMove",x=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",_=n(h,m?t:void 0),b=x?e(h):0;l==="onPointerDown"&&(v.initialClick=[h.offsetX,h.offsetY],v.initialHits=_.map(T=>T.eventObject)),x&&!_.length&&b<=2&&(a(h,v.interaction),g&&g(h)),m&&s(_);function M(T){const U=T.eventObject,R=U.__r3f;if(!(R!=null&&R.eventCount))return;const O=R.handlers;if(m){if(O.onPointerOver||O.onPointerEnter||O.onPointerOut||O.onPointerLeave){const z=uw(T),V=v.hovered.get(z);V?V.stopped&&T.stopPropagation():(v.hovered.set(z,T),O.onPointerOver==null||O.onPointerOver(T),O.onPointerEnter==null||O.onPointerEnter(T))}O.onPointerMove==null||O.onPointerMove(T)}else{const z=O[l];z?(!x||v.initialHits.includes(U))&&(a(h,v.interaction.filter(V=>!v.initialHits.includes(V))),z(T)):x&&v.initialHits.includes(U)&&a(h,v.interaction.filter(V=>!v.initialHits.includes(V)))}}r(_,h,b,M)}}return{handlePointer:A}}const XM=i=>!!(i!=null&&i.render),g_=ht.createContext(null),b9=(i,e)=>{const t=fI((A,l)=>{const c=new Ce,h=new Ce,g=new Ce;function v(b=l().camera,M=h,T=l().size){const{width:U,height:R,top:O,left:z}=T,V=U/R;M.isVector3?g.copy(M):g.set(...M);const I=b.getWorldPosition(c).distanceTo(g);if(mI(b))return{width:U/b.zoom,height:R/b.zoom,top:O,left:z,factor:1,distance:I,aspect:V};{const P=b.fov*Math.PI/180,k=2*Math.tan(P/2)*I,G=k*(U/R);return{width:G,height:k,top:O,left:z,factor:U/G,distance:I,aspect:V}}}let m;const x=b=>A(M=>({performance:{...M.performance,current:b}})),B=new Rt;return{set:A,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(b=1)=>i(l(),b),advance:(b,M)=>e(b,M,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new UE,pointer:B,mouse:B,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const b=l();m&&clearTimeout(m),b.performance.current!==b.performance.min&&x(b.performance.min),m=setTimeout(()=>x(l().performance.max),b.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:v},setEvents:b=>A(M=>({...M,events:{...M.events,...b}})),setSize:(b,M,T=0,U=0)=>{const R=l().camera,O={width:b,height:M,top:T,left:U};A(z=>({size:O,viewport:{...z.viewport,...v(R,h,O)}}))},setDpr:b=>A(M=>{const T=vI(b);return{viewport:{...M.viewport,dpr:T,initialDpr:M.viewport.initialDpr||T}}}),setFrameloop:(b="always")=>{const M=l().clock;M.stop(),M.elapsedTime=0,b!=="never"&&(M.start(),M.elapsedTime=0),A(()=>({frameloop:b}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:ht.createRef(),active:!1,frames:0,priority:0,subscribe:(b,M,T)=>{const U=l().internal;return U.priority=U.priority+(M>0?1:0),U.subscribers.push({ref:b,priority:M,store:T}),U.subscribers=U.subscribers.sort((R,O)=>R.priority-O.priority),()=>{const R=l().internal;R!=null&&R.subscribers&&(R.priority=R.priority-(M>0?1:0),R.subscribers=R.subscribers.filter(O=>O.ref!==b))}}}}}),n=t.getState();let r=n.size,s=n.viewport.dpr,a=n.camera;return t.subscribe(()=>{const{camera:A,size:l,viewport:c,gl:h,set:g}=t.getState();if(l.width!==r.width||l.height!==r.height||c.dpr!==s){r=l,s=c.dpr,wI(A,l),c.dpr>0&&h.setPixelRatio(c.dpr);const v=typeof HTMLCanvasElement<"u"&&h.domElement instanceof HTMLCanvasElement;h.setSize(l.width,l.height,v)}A!==a&&(a=A,g(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(A)}})))}),t.subscribe(A=>i(A)),t};function PE(){const i=ht.useContext(g_);if(!i)throw new Error("R3F: Hooks can only be used within the Canvas component!");return i}function qs(i=t=>t,e){return PE()(i,e)}function _v(i,e=0){const t=PE(),n=t.getState().internal.subscribe,r=OE(i);return bv(()=>n(r,e,t),[e,n,t]),null}const _9=1,B9=8,S9=32,C9=2;var E9={version:"9.5.0"};function M9(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var YM={exports:{}},JM={exports:{}},ZM;function U9(){return ZM||(ZM=1,(function(i){i.exports=function(e){function t(f,d,w,C){return new Hc(f,d,w,C)}function n(){}function r(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)d+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(f){var d=f,w=f;if(f.alternate)for(;d.return;)d=d.return;else{f=d;do d=f,(d.flags&4098)!==0&&(w=d.return),f=d.return;while(f)}return d.tag===3?w:null}function a(f){if(s(f)!==f)throw Error(r(188))}function A(f){var d=f.alternate;if(!d){if(d=s(f),d===null)throw Error(r(188));return d!==f?null:f}for(var w=f,C=d;;){var N=w.return;if(N===null)break;var K=N.alternate;if(K===null){if(C=N.return,C!==null){w=C;continue}break}if(N.child===K.child){for(K=N.child;K;){if(K===w)return a(N),f;if(K===C)return a(N),d;K=K.sibling}throw Error(r(188))}if(w.return!==C.return)w=N,C=K;else{for(var ge=!1,ke=N.child;ke;){if(ke===w){ge=!0,w=N,C=K;break}if(ke===C){ge=!0,C=N,w=K;break}ke=ke.sibling}if(!ge){for(ke=K.child;ke;){if(ke===w){ge=!0,w=K,C=N;break}if(ke===C){ge=!0,C=K,w=N;break}ke=ke.sibling}if(!ge)throw Error(r(189))}}if(w.alternate!==C)throw Error(r(190))}if(w.tag!==3)throw Error(r(188));return w.stateNode.current===w?f:d}function l(f){var d=f.tag;if(d===5||d===26||d===27||d===6)return f;for(f=f.child;f!==null;){if(d=l(f),d!==null)return d;f=f.sibling}return null}function c(f){var d=f.tag;if(d===5||d===26||d===27||d===6)return f;for(f=f.child;f!==null;){if(f.tag!==4&&(d=c(f),d!==null))return d;f=f.sibling}return null}function h(f){return f===null||typeof f!="object"?null:(f=Nn&&f[Nn]||f["@@iterator"],typeof f=="function"?f:null)}function g(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===ti?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case Ht:return"Fragment";case yn:return"Profiler";case Dt:return"StrictMode";case gi:return"Suspense";case gr:return"SuspenseList";case Jt:return"Activity"}if(typeof f=="object")switch(f.$$typeof){case Tt:return"Portal";case In:return f.displayName||"Context";case cn:return(f._context.displayName||"Context")+".Consumer";case gn:var d=f.render;return f=f.displayName,f||(f=d.displayName||d.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case qn:return d=f.displayName||null,d!==null?d:g(f.type)||"Memo";case tn:d=f._payload,f=f._init;try{return g(f(d))}catch{}}return null}function v(f){return{current:f}}function m(f){0>Pf||(f.current=cg[Pf],cg[Pf]=null,Pf--)}function x(f,d){Pf++,cg[Pf]=f.current,f.current=d}function B(f){return f>>>=0,f===0?32:31-(fg(f)/Zv|0)|0}function _(f){var d=f&42;if(d!==0)return d;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return f&261888;case 262144:case 524288:case 1048576:case 2097152:return f&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function b(f,d,w){var C=f.pendingLanes;if(C===0)return 0;var N=0,K=f.suspendedLanes,ge=f.pingedLanes;f=f.warmLanes;var ke=C&134217727;return ke!==0?(C=ke&~K,C!==0?N=_(C):(ge&=ke,ge!==0?N=_(ge):w||(w=ke&~f,w!==0&&(N=_(w))))):(ke=C&~K,ke!==0?N=_(ke):ge!==0?N=_(ge):w||(w=C&~f,w!==0&&(N=_(w)))),N===0?0:d!==0&&d!==N&&(d&K)===0&&(K=N&-N,w=d&-d,K>=w||K===32&&(w&4194048)!==0)?d:N}function M(f,d){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&d)===0}function T(f,d){switch(f){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function U(){var f=Lh;return Lh<<=1,(Lh&62914560)===0&&(Lh=4194304),f}function R(f){for(var d=[],w=0;31>w;w++)d.push(f);return d}function O(f,d){f.pendingLanes|=d,d!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function z(f,d,w,C,N,K){var ge=f.pendingLanes;f.pendingLanes=w,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=w,f.entangledLanes&=w,f.errorRecoveryDisabledLanes&=w,f.shellSuspendCounter=0;var ke=f.entanglements,Bt=f.expirationTimes,kt=f.hiddenUpdates;for(w=ge&~w;0<w;){var Yt=31-iA(w),jt=1<<Yt;ke[Yt]=0,Bt[Yt]=-1;var hn=kt[Yt];if(hn!==null)for(kt[Yt]=null,Yt=0;Yt<hn.length;Yt++){var ni=hn[Yt];ni!==null&&(ni.lane&=-536870913)}w&=~jt}C!==0&&V(f,C,0),K!==0&&N===0&&f.tag!==0&&(f.suspendedLanes|=K&~(ge&~d))}function V(f,d,w){f.pendingLanes|=d,f.suspendedLanes&=~d;var C=31-iA(d);f.entangledLanes|=d,f.entanglements[C]=f.entanglements[C]|1073741824|w&261930}function I(f,d){var w=f.entangledLanes|=d;for(f=f.entanglements;w;){var C=31-iA(w),N=1<<C;N&d|f[C]&d&&(f[C]|=d),w&=~N}}function P(f,d){var w=d&-d;return w=(w&42)!==0?1:k(w),(w&(f.suspendedLanes|d))!==0?0:w}function k(f){switch(f){case 2:f=1;break;case 8:f=4;break;case 32:f=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:f=128;break;case 268435456:f=134217728;break;default:f=0}return f}function G(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function q(f){if(typeof g0=="function"&&ty(f),rA&&typeof rA.setStrictMode=="function")try{rA.setStrictMode(Hf,f)}catch{}}function H(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}function ae(f){if(vg===void 0)try{throw Error()}catch(w){var d=w.stack.trim().match(/\n( *(at )?)/);vg=d&&d[1]||"",Bu=-1<w.stack.indexOf(`
    at`)?" (<anonymous>)":-1<w.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vg+f+Bu}function Z(f,d){if(!f||Gd)return"";Gd=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var C={DetermineComponentFrameRoot:function(){try{if(d){var jt=function(){throw Error()};if(Object.defineProperty(jt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(jt,[])}catch(ni){var hn=ni}Reflect.construct(f,[],jt)}else{try{jt.call()}catch(ni){hn=ni}f.call(jt.prototype)}}else{try{throw Error()}catch(ni){hn=ni}(jt=f())&&typeof jt.catch=="function"&&jt.catch(function(){})}}catch(ni){if(ni&&hn&&typeof ni.stack=="string")return[ni.stack,hn.stack]}return[null,null]}};C.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var N=Object.getOwnPropertyDescriptor(C.DetermineComponentFrameRoot,"name");N&&N.configurable&&Object.defineProperty(C.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var K=C.DetermineComponentFrameRoot(),ge=K[0],ke=K[1];if(ge&&ke){var Bt=ge.split(`
`),kt=ke.split(`
`);for(N=C=0;C<Bt.length&&!Bt[C].includes("DetermineComponentFrameRoot");)C++;for(;N<kt.length&&!kt[N].includes("DetermineComponentFrameRoot");)N++;if(C===Bt.length||N===kt.length)for(C=Bt.length-1,N=kt.length-1;1<=C&&0<=N&&Bt[C]!==kt[N];)N--;for(;1<=C&&0<=N;C--,N--)if(Bt[C]!==kt[N]){if(C!==1||N!==1)do if(C--,N--,0>N||Bt[C]!==kt[N]){var Yt=`
`+Bt[C].replace(" at new "," at ");return f.displayName&&Yt.includes("<anonymous>")&&(Yt=Yt.replace("<anonymous>",f.displayName)),Yt}while(1<=C&&0<=N);break}}}finally{Gd=!1,Error.prepareStackTrace=w}return(w=f?f.displayName||f.name:"")?ae(w):""}function ne(f,d){switch(f.tag){case 26:case 27:case 5:return ae(f.type);case 16:return ae("Lazy");case 13:return f.child!==d&&d!==null?ae("Suspense Fallback"):ae("Suspense");case 19:return ae("SuspenseList");case 0:case 15:return Z(f.type,!1);case 11:return Z(f.type.render,!1);case 1:return Z(f.type,!0);case 31:return ae("Activity");default:return""}}function oe(f){try{var d="",w=null;do d+=ne(f,w),w=f,f=f.return;while(f);return d}catch(C){return`
Error generating stack: `+C.message+`
`+C.stack}}function fe(f,d){if(typeof f=="object"&&f!==null){var w=m0.get(f);return w!==void 0?w:(d={value:f,source:d,stack:oe(d)},m0.set(f,d),d)}return{value:f,source:d,stack:oe(d)}}function me(f,d){rc[Su++]=Vd,rc[Su++]=Cr,Cr=f,Vd=d}function W(f,d,w){hl[DA++]=Ya,hl[DA++]=Jl,hl[DA++]=dl,dl=f;var C=Ya;f=Jl;var N=32-iA(C)-1;C&=~(1<<N),w+=1;var K=32-iA(d)+N;if(30<K){var ge=N-N%5;K=(C&(1<<ge)-1).toString(32),C>>=ge,N-=ge,Ya=1<<32-iA(d)+N|w<<N|C,Jl=K+f}else Ya=1<<K|w<<N|C,Jl=f}function Q(f){f.return!==null&&(me(f,1),W(f,1,0))}function X(f){for(;f===Cr;)Cr=rc[--Su],rc[Su]=null,Vd=rc[--Su],rc[Su]=null;for(;f===dl;)dl=hl[--DA],hl[DA]=null,Jl=hl[--DA],hl[DA]=null,Ya=hl[--DA],hl[DA]=null}function Y(f,d){hl[DA++]=Ya,hl[DA++]=Jl,hl[DA++]=dl,Ya=d.id,Jl=d.overflow,dl=f}function ie(f,d){x(Ja,d),x(sc,f),x(Qa,null),f=Es(d),m(Qa),x(Qa,f)}function te(){m(Qa),m(sc),m(Ja)}function se(f){f.memoizedState!==null&&x(jd,f);var d=Qa.current,w=mi(d,f.type);d!==w&&(x(sc,f),x(Qa,w))}function ye(f){sc.current===f&&(m(Qa),m(sc)),jd.current===f&&(m(jd),Li?tc._currentValue=ho:tc._currentValue2=ho)}function xe(f){var d=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw re(fe(d,f)),yg}function Fe(f,d){if(!bi)throw Error(r(175));Hv(f.stateNode,f.type,f.memoizedProps,d,f)||xe(f,!0)}function Ne(f){for(xa=f.return;xa;)switch(xa.tag){case 5:case 31:case 13:Io=!1;return;case 27:case 3:Io=!0;return;default:xa=xa.return}}function ze(f){if(!bi||f!==xa)return!1;if(!Ii)return Ne(f),Ii=!0,!1;var d=f.tag;if(wa?d!==3&&d!==27&&(d!==5||Fh(f.type)&&!Fi(f.type,f.memoizedProps))&&os&&xe(f):d!==3&&(d!==5||Fh(f.type)&&!Fi(f.type,f.memoizedProps))&&os&&xe(f),Ne(f),d===13){if(!bi)throw Error(r(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));os=s0(f)}else if(d===31){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));os=zv(f)}else os=wa&&d===27?Lv(f.type,os):xa?Fv(f.stateNode):null;return!0}function it(){bi&&(os=xa=null,Ii=!1)}function De(){var f=Cu;return f!==null&&(oA===null?oA=f:oA.push.apply(oA,f),Cu=null),f}function re(f){Cu===null?Cu=[f]:Cu.push(f)}function Le(f,d,w){Li?(x(pl,d._currentValue),d._currentValue=w):(x(pl,d._currentValue2),d._currentValue2=w)}function rt(f){var d=pl.current;Li?f._currentValue=d:f._currentValue2=d,m(pl)}function ce(f,d,w){for(;f!==null;){var C=f.alternate;if((f.childLanes&d)!==d?(f.childLanes|=d,C!==null&&(C.childLanes|=d)):C!==null&&(C.childLanes&d)!==d&&(C.childLanes|=d),f===w)break;f=f.return}}function He(f,d,w,C){var N=f.child;for(N!==null&&(N.return=f);N!==null;){var K=N.dependencies;if(K!==null){var ge=N.child;K=K.firstContext;e:for(;K!==null;){var ke=K;K=N;for(var Bt=0;Bt<d.length;Bt++)if(ke.context===d[Bt]){K.lanes|=w,ke=K.alternate,ke!==null&&(ke.lanes|=w),ce(K.return,w,f),C||(ge=null);break e}K=ke.next}}else if(N.tag===18){if(ge=N.return,ge===null)throw Error(r(341));ge.lanes|=w,K=ge.alternate,K!==null&&(K.lanes|=w),ce(ge,w,f),ge=null}else ge=N.child;if(ge!==null)ge.return=N;else for(ge=N;ge!==null;){if(ge===f){ge=null;break}if(N=ge.sibling,N!==null){N.return=ge.return,ge=N;break}ge=ge.return}N=ge}}function Xe(f,d,w,C){f=null;for(var N=d,K=!1;N!==null;){if(!K){if((N.flags&524288)!==0)K=!0;else if((N.flags&262144)!==0)break}if(N.tag===10){var ge=N.alternate;if(ge===null)throw Error(r(387));if(ge=ge.memoizedProps,ge!==null){var ke=N.type;Gs(N.pendingProps.value,ge.value)||(f!==null?f.push(ke):f=[ke])}}else if(N===jd.current){if(ge=N.alternate,ge===null)throw Error(r(387));ge.memoizedState.memoizedState!==N.memoizedState.memoizedState&&(f!==null?f.push(tc):f=[tc])}N=N.return}f!==null&&He(d,f,w,C),d.flags|=262144}function Oe(f){for(f=f.firstContext;f!==null;){var d=f.context;if(!Gs(Li?d._currentValue:d._currentValue2,f.memoizedValue))return!0;f=f.next}return!1}function Ye(f){Hr=f,Zl=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function Ae(f){return Se(Hr,f)}function $(f,d){return Hr===null&&Ye(f),Se(f,d)}function Se(f,d){var w=Li?d._currentValue:d._currentValue2;if(d={context:d,memoizedValue:w,next:null},Zl===null){if(f===null)throw Error(r(308));Zl=d,f.dependencies={lanes:0,firstContext:d},f.flags|=524288}else Zl=Zl.next=d;return w}function Ge(){return{controller:new ny,data:new Map,refCount:0}}function Ve(f){f.refCount--,f.refCount===0&&Ha(G_,function(){f.controller.abort()})}function Re(){}function $e(f){f!==vr&&f.next===null&&(vr===null?Kd=vr=f:vr=vr.next=f),gl=!0,go||(go=!0,Ee())}function At(f,d){if(!wg&&gl){wg=!0;do for(var w=!1,C=Kd;C!==null;){if(f!==0){var N=C.pendingLanes;if(N===0)var K=0;else{var ge=C.suspendedLanes,ke=C.pingedLanes;K=(1<<31-iA(42|f)+1)-1,K&=N&~(ge&~ke),K=K&201326741?K&201326741|1:K?K|2:0}K!==0&&(w=!0,ct(C,K))}else K=Ri,K=b(C,C===yi?K:0,C.cancelPendingCommit!==null||C.timeoutHandle!==Sr),(K&3)===0||M(C,K)||(w=!0,ct(C,K));C=C.next}while(w);wg=!1}}function wt(){zt()}function zt(){gl=go=!1;var f=0;Wc!==0&&Xa()&&(f=Wc);for(var d=po(),w=null,C=Kd;C!==null;){var N=C.next,K=at(C,d);K===0?(C.next=null,w===null?Kd=N:w.next=N,N===null&&(vr=w)):(w=C,(f!==0||(K&3)!==0)&&(gl=!0)),C=N}ra!==0&&ra!==5||At(f),Wc!==0&&(Wc=0)}function at(f,d){for(var w=f.suspendedLanes,C=f.pingedLanes,N=f.expirationTimes,K=f.pendingLanes&-62914561;0<K;){var ge=31-iA(K),ke=1<<ge,Bt=N[ge];Bt===-1?((ke&w)===0||(ke&C)!==0)&&(N[ge]=T(ke,d)):Bt<=d&&(f.expiredLanes|=ke),K&=~ke}if(d=yi,w=Ri,w=b(f,f===d?w:0,f.cancelPendingCommit!==null||f.timeoutHandle!==Sr),C=f.callbackNode,w===0||f===d&&(wr===2||wr===9)||f.cancelPendingCommit!==null)return C!==null&&C!==null&&dg(C),f.callbackNode=null,f.callbackPriority=0;if((w&3)===0||M(f,w)){if(d=w&-w,d===f.callbackPriority)return d;switch(C!==null&&dg(C),G(w)){case 2:case 8:w=ey;break;case 32:w=zd;break;case 268435456:w=gg;break;default:w=zd}return C=ut.bind(null,f),w=kd(w,C),f.callbackPriority=d,f.callbackNode=w,d}return C!==null&&C!==null&&dg(C),f.callbackPriority=2,f.callbackNode=null,2}function ut(f,d){if(ra!==0&&ra!==5)return f.callbackNode=null,f.callbackPriority=0,null;var w=f.callbackNode;if(tA()&&f.callbackNode!==w)return null;var C=Ri;return C=b(f,f===yi?C:0,f.cancelPendingCommit!==null||f.timeoutHandle!==Sr),C===0?null:(To(f,C,d),at(f,po()),f.callbackNode!=null&&f.callbackNode===w?ut.bind(null,f):null)}function ct(f,d){if(tA())return null;To(f,d,!0)}function Ee(){Id?Sh(function(){(Ei&6)!==0?kd(pg,wt):zt()}):kd(pg,wt)}function Ie(){if(Wc===0){var f=ac;f===0&&(f=hg,hg<<=1,(hg&261888)===0&&(hg=256)),Wc=f}return Wc}function Ut(f,d){if(Ih===null){var w=Ih=[];v0=0,ac=Ie(),ba={status:"pending",value:void 0,then:function(C){w.push(C)}}}return v0++,d.then(Be,Be),d}function Be(){if(--v0===0&&Ih!==null){ba!==null&&(ba.status="fulfilled");var f=Ih;Ih=null,ac=0,ba=null;for(var d=0;d<f.length;d++)(0,f[d])()}}function Je(f,d){var w=[],C={status:"pending",value:null,reason:null,then:function(N){w.push(N)}};return f.then(function(){C.status="fulfilled",C.value=d;for(var N=0;N<w.length;N++)(0,w[N])(d)},function(N){for(C.status="rejected",C.reason=N,N=0;N<w.length;N++)(0,w[N])(void 0)}),C}function mt(){var f=qc.current;return f!==null?f:yi.pooledCache}function Et(f,d){d===null?x(qc,qc.current):x(qc,d.pool)}function tt(){var f=mt();return f===null?null:{parent:Li?As._currentValue:As._currentValue2,pool:f}}function Ze(f,d){if(Gs(f,d))return!0;if(typeof f!="object"||f===null||typeof d!="object"||d===null)return!1;var w=Object.keys(f),C=Object.keys(d);if(w.length!==C.length)return!1;for(C=0;C<w.length;C++){var N=w[C];if(!z_.call(d,N)||!Gs(f[N],d[N]))return!1}return!0}function Lt(f){return f=f.status,f==="fulfilled"||f==="rejected"}function Vt(f,d,w){switch(w=f[w],w===void 0?f.push(d):w!==d&&(d.then(Re,Re),d=w),d.status){case"fulfilled":return d.value;case"rejected":throw f=d.reason,qt(f),f;default:if(typeof d.status=="string")d.then(Re,Re);else{if(f=yi,f!==null&&100<f.shellSuspendCounter)throw Error(r(482));f=d,f.status="pending",f.then(function(C){if(d.status==="pending"){var N=d;N.status="fulfilled",N.value=C}},function(C){if(d.status==="pending"){var N=d;N.status="rejected",N.reason=C}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw f=d.reason,qt(f),f}throw Ro=d,_a}}function Wt(f){try{var d=f._init;return d(f._payload)}catch(w){throw w!==null&&typeof w=="object"&&typeof w.then=="function"?(Ro=w,_a):w}}function nn(){if(Ro===null)throw Error(r(459));var f=Ro;return Ro=null,f}function qt(f){if(f===_a||f===vl)throw Error(r(483))}function Wn(f){var d=kf;return kf+=1,Xc===null&&(Xc=[]),Vt(Xc,f,d)}function Bi(f,d){d=d.props.ref,f.ref=d!==void 0?d:null}function Xi(f,d){throw d.$$typeof===ft?Error(r(525)):(f=Object.prototype.toString.call(d),Error(r(31,f==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":f)))}function lr(f){function d(xt,lt){if(f){var _t=xt.deletions;_t===null?(xt.deletions=[lt],xt.flags|=16):_t.push(lt)}}function w(xt,lt){if(!f)return null;for(;lt!==null;)d(xt,lt),lt=lt.sibling;return null}function C(xt){for(var lt=new Map;xt!==null;)xt.key!==null?lt.set(xt.key,xt):lt.set(xt.index,xt),xt=xt.sibling;return lt}function N(xt,lt){return xt=Lo(xt,lt),xt.index=0,xt.sibling=null,xt}function K(xt,lt,_t){return xt.index=_t,f?(_t=xt.alternate,_t!==null?(_t=_t.index,_t<lt?(xt.flags|=67108866,lt):_t):(xt.flags|=67108866,lt)):(xt.flags|=1048576,lt)}function ge(xt){return f&&xt.alternate===null&&(xt.flags|=67108866),xt}function ke(xt,lt,_t,Xt){return lt===null||lt.tag!==6?(lt=j(_t,xt.mode,Xt),lt.return=xt,lt):(lt=N(lt,_t),lt.return=xt,lt)}function Bt(xt,lt,_t,Xt){var On=_t.type;return On===Ht?Yt(xt,lt,_t.props.children,Xt,_t.key):lt!==null&&(lt.elementType===On||typeof On=="object"&&On!==null&&On.$$typeof===tn&&Wt(On)===lt.type)?(lt=N(lt,_t.props),Bi(lt,_t),lt.return=xt,lt):(lt=S(_t.type,_t.key,_t.props,null,xt.mode,Xt),Bi(lt,_t),lt.return=xt,lt)}function kt(xt,lt,_t,Xt){return lt===null||lt.tag!==4||lt.stateNode.containerInfo!==_t.containerInfo||lt.stateNode.implementation!==_t.implementation?(lt=ue(_t,xt.mode,Xt),lt.return=xt,lt):(lt=N(lt,_t.children||[]),lt.return=xt,lt)}function Yt(xt,lt,_t,Xt,On){return lt===null||lt.tag!==7?(lt=F(_t,xt.mode,Xt,On),lt.return=xt,lt):(lt=N(lt,_t),lt.return=xt,lt)}function jt(xt,lt,_t){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return lt=j(""+lt,xt.mode,_t),lt.return=xt,lt;if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case Ct:return _t=S(lt.type,lt.key,lt.props,null,xt.mode,_t),Bi(_t,lt),_t.return=xt,_t;case Tt:return lt=ue(lt,xt.mode,_t),lt.return=xt,lt;case tn:return lt=Wt(lt),jt(xt,lt,_t)}if(zi(lt)||h(lt))return lt=F(lt,xt.mode,_t,null),lt.return=xt,lt;if(typeof lt.then=="function")return jt(xt,Wn(lt),_t);if(lt.$$typeof===In)return jt(xt,$(xt,lt),_t);Xi(xt,lt)}return null}function hn(xt,lt,_t,Xt){var On=lt!==null?lt.key:null;if(typeof _t=="string"&&_t!==""||typeof _t=="number"||typeof _t=="bigint")return On!==null?null:ke(xt,lt,""+_t,Xt);if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case Ct:return _t.key===On?Bt(xt,lt,_t,Xt):null;case Tt:return _t.key===On?kt(xt,lt,_t,Xt):null;case tn:return _t=Wt(_t),hn(xt,lt,_t,Xt)}if(zi(_t)||h(_t))return On!==null?null:Yt(xt,lt,_t,Xt,null);if(typeof _t.then=="function")return hn(xt,lt,Wn(_t),Xt);if(_t.$$typeof===In)return hn(xt,lt,$(xt,_t),Xt);Xi(xt,_t)}return null}function ni(xt,lt,_t,Xt,On){if(typeof Xt=="string"&&Xt!==""||typeof Xt=="number"||typeof Xt=="bigint")return xt=xt.get(_t)||null,ke(lt,xt,""+Xt,On);if(typeof Xt=="object"&&Xt!==null){switch(Xt.$$typeof){case Ct:return xt=xt.get(Xt.key===null?_t:Xt.key)||null,Bt(lt,xt,Xt,On);case Tt:return xt=xt.get(Xt.key===null?_t:Xt.key)||null,kt(lt,xt,Xt,On);case tn:return Xt=Wt(Xt),ni(xt,lt,_t,Xt,On)}if(zi(Xt)||h(Xt))return xt=xt.get(_t)||null,Yt(lt,xt,Xt,On,null);if(typeof Xt.then=="function")return ni(xt,lt,_t,Wn(Xt),On);if(Xt.$$typeof===In)return ni(xt,lt,_t,$(lt,Xt),On);Xi(lt,Xt)}return null}function Ks(xt,lt,_t,Xt){for(var On=null,ys=null,zn=lt,Vi=lt=0,ka=null;zn!==null&&Vi<_t.length;Vi++){zn.index>Vi?(ka=zn,zn=null):ka=zn.sibling;var tr=hn(xt,zn,_t[Vi],Xt);if(tr===null){zn===null&&(zn=ka);break}f&&zn&&tr.alternate===null&&d(xt,zn),lt=K(tr,lt,Vi),ys===null?On=tr:ys.sibling=tr,ys=tr,zn=ka}if(Vi===_t.length)return w(xt,zn),Ii&&me(xt,Vi),On;if(zn===null){for(;Vi<_t.length;Vi++)zn=jt(xt,_t[Vi],Xt),zn!==null&&(lt=K(zn,lt,Vi),ys===null?On=zn:ys.sibling=zn,ys=zn);return Ii&&me(xt,Vi),On}for(zn=C(zn);Vi<_t.length;Vi++)ka=ni(zn,xt,Vi,_t[Vi],Xt),ka!==null&&(f&&ka.alternate!==null&&zn.delete(ka.key===null?Vi:ka.key),lt=K(ka,lt,Vi),ys===null?On=ka:ys.sibling=ka,ys=ka);return f&&zn.forEach(function(xl){return d(xt,xl)}),Ii&&me(xt,Vi),On}function kh(xt,lt,_t,Xt){if(_t==null)throw Error(r(151));for(var On=null,ys=null,zn=lt,Vi=lt=0,ka=null,tr=_t.next();zn!==null&&!tr.done;Vi++,tr=_t.next()){zn.index>Vi?(ka=zn,zn=null):ka=zn.sibling;var xl=hn(xt,zn,tr.value,Xt);if(xl===null){zn===null&&(zn=ka);break}f&&zn&&xl.alternate===null&&d(xt,zn),lt=K(xl,lt,Vi),ys===null?On=xl:ys.sibling=xl,ys=xl,zn=ka}if(tr.done)return w(xt,zn),Ii&&me(xt,Vi),On;if(zn===null){for(;!tr.done;Vi++,tr=_t.next())tr=jt(xt,tr.value,Xt),tr!==null&&(lt=K(tr,lt,Vi),ys===null?On=tr:ys.sibling=tr,ys=tr);return Ii&&me(xt,Vi),On}for(zn=C(zn);!tr.done;Vi++,tr=_t.next())tr=ni(zn,xt,Vi,tr.value,Xt),tr!==null&&(f&&tr.alternate!==null&&zn.delete(tr.key===null?Vi:tr.key),lt=K(tr,lt,Vi),ys===null?On=tr:ys.sibling=tr,ys=tr);return f&&zn.forEach(function(V_){return d(xt,V_)}),Ii&&me(xt,Vi),On}function rf(xt,lt,_t,Xt){if(typeof _t=="object"&&_t!==null&&_t.type===Ht&&_t.key===null&&(_t=_t.props.children),typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case Ct:e:{for(var On=_t.key;lt!==null;){if(lt.key===On){if(On=_t.type,On===Ht){if(lt.tag===7){w(xt,lt.sibling),Xt=N(lt,_t.props.children),Xt.return=xt,xt=Xt;break e}}else if(lt.elementType===On||typeof On=="object"&&On!==null&&On.$$typeof===tn&&Wt(On)===lt.type){w(xt,lt.sibling),Xt=N(lt,_t.props),Bi(Xt,_t),Xt.return=xt,xt=Xt;break e}w(xt,lt);break}else d(xt,lt);lt=lt.sibling}_t.type===Ht?(Xt=F(_t.props.children,xt.mode,Xt,_t.key),Xt.return=xt,xt=Xt):(Xt=S(_t.type,_t.key,_t.props,null,xt.mode,Xt),Bi(Xt,_t),Xt.return=xt,xt=Xt)}return ge(xt);case Tt:e:{for(On=_t.key;lt!==null;){if(lt.key===On)if(lt.tag===4&&lt.stateNode.containerInfo===_t.containerInfo&&lt.stateNode.implementation===_t.implementation){w(xt,lt.sibling),Xt=N(lt,_t.children||[]),Xt.return=xt,xt=Xt;break e}else{w(xt,lt);break}else d(xt,lt);lt=lt.sibling}Xt=ue(_t,xt.mode,Xt),Xt.return=xt,xt=Xt}return ge(xt);case tn:return _t=Wt(_t),rf(xt,lt,_t,Xt)}if(zi(_t))return Ks(xt,lt,_t,Xt);if(h(_t)){if(On=h(_t),typeof On!="function")throw Error(r(150));return _t=On.call(_t),kh(xt,lt,_t,Xt)}if(typeof _t.then=="function")return rf(xt,lt,Wn(_t),Xt);if(_t.$$typeof===In)return rf(xt,lt,$(xt,_t),Xt);Xi(xt,_t)}return typeof _t=="string"&&_t!==""||typeof _t=="number"||typeof _t=="bigint"?(_t=""+_t,lt!==null&&lt.tag===6?(w(xt,lt.sibling),Xt=N(lt,_t),Xt.return=xt,xt=Xt):(w(xt,lt),Xt=j(_t,xt.mode,Xt),Xt.return=xt,xt=Xt),ge(xt)):w(xt,lt)}return function(xt,lt,_t,Xt){try{kf=0;var On=rf(xt,lt,_t,Xt);return Xc=null,On}catch(zn){if(zn===_a||zn===vl)throw zn;var ys=t(29,zn,null,xt.mode);return ys.lanes=Xt,ys.return=xt,ys}}}function ci(){for(var f=Mu,d=zf=Mu=0;d<f;){var w=$a[d];$a[d++]=null;var C=$a[d];$a[d++]=null;var N=$a[d];$a[d++]=null;var K=$a[d];if($a[d++]=null,C!==null&&N!==null){var ge=C.pending;ge===null?N.next=N:(N.next=ge.next,ge.next=N),C.pending=N}K!==0&&Si(w,N,K)}}function Ui(f,d,w,C){$a[Mu++]=f,$a[Mu++]=d,$a[Mu++]=w,$a[Mu++]=C,zf|=C,f.lanes|=C,f=f.alternate,f!==null&&(f.lanes|=C)}function Yi(f,d,w,C){return Ui(f,d,w,C),ei(f)}function ki(f,d){return Ui(f,null,null,d),ei(f)}function Si(f,d,w){f.lanes|=w;var C=f.alternate;C!==null&&(C.lanes|=w);for(var N=!1,K=f.return;K!==null;)K.childLanes|=w,C=K.alternate,C!==null&&(C.childLanes|=w),K.tag===22&&(f=K.stateNode,f===null||f._visibility&1||(N=!0)),f=K,K=K.return;return f.tag===3?(K=f.stateNode,N&&d!==null&&(N=31-iA(w),f=K.hiddenUpdates,C=f[N],C===null?f[N]=[d]:C.push(d),d.lane=w|536870912),K):null}function ei(f){if(50<$i)throw $i=0,Zd=null,Error(r(185));for(var d=f.return;d!==null;)f=d,d=f.return;return f.tag===3?f.stateNode:null}function Ji(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ur(f,d){f=f.updateQueue,d.updateQueue===f&&(d.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function Fr(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function cr(f,d,w){var C=f.updateQueue;if(C===null)return null;if(C=C.shared,(Ei&2)!==0){var N=C.pending;return N===null?d.next=d:(d.next=N.next,N.next=d),C.pending=d,d=ei(f),Si(f,null,w),d}return Ui(f,C,d,w),ei(f)}function Ns(f,d,w){if(d=d.updateQueue,d!==null&&(d=d.shared,(w&4194048)!==0)){var C=d.lanes;C&=f.pendingLanes,w|=C,d.lanes=w,I(f,w)}}function bs(f,d){var w=f.updateQueue,C=f.alternate;if(C!==null&&(C=C.updateQueue,w===C)){var N=null,K=null;if(w=w.firstBaseUpdate,w!==null){do{var ge={lane:w.lane,tag:w.tag,payload:w.payload,callback:null,next:null};K===null?N=K=ge:K=K.next=ge,w=w.next}while(w!==null);K===null?N=K=d:K=K.next=d}else N=K=d;w={baseState:C.baseState,firstBaseUpdate:N,lastBaseUpdate:K,shared:C.shared,callbacks:C.callbacks},f.updateQueue=w;return}f=w.lastBaseUpdate,f===null?w.firstBaseUpdate=d:f.next=d,w.lastBaseUpdate=d}function Ds(){if(bg){var f=ba;if(f!==null)throw f}}function Aa(f,d,w,C){bg=!1;var N=f.updateQueue;OA=!1;var K=N.firstBaseUpdate,ge=N.lastBaseUpdate,ke=N.shared.pending;if(ke!==null){N.shared.pending=null;var Bt=ke,kt=Bt.next;Bt.next=null,ge===null?K=kt:ge.next=kt,ge=Bt;var Yt=f.alternate;Yt!==null&&(Yt=Yt.updateQueue,ke=Yt.lastBaseUpdate,ke!==ge&&(ke===null?Yt.firstBaseUpdate=kt:ke.next=kt,Yt.lastBaseUpdate=Bt))}if(K!==null){var jt=N.baseState;ge=0,Yt=kt=Bt=null,ke=K;do{var hn=ke.lane&-536870913,ni=hn!==ke.lane;if(ni?(Ri&hn)===hn:(C&hn)===hn){hn!==0&&hn===ac&&(bg=!0),Yt!==null&&(Yt=Yt.next={lane:0,tag:ke.tag,payload:ke.payload,callback:null,next:null});e:{var Ks=f,kh=ke;hn=d;var rf=w;switch(kh.tag){case 1:if(Ks=kh.payload,typeof Ks=="function"){jt=Ks.call(rf,jt,hn);break e}jt=Ks;break e;case 3:Ks.flags=Ks.flags&-65537|128;case 0:if(Ks=kh.payload,hn=typeof Ks=="function"?Ks.call(rf,jt,hn):Ks,hn==null)break e;jt=Mt({},jt,hn);break e;case 2:OA=!0}}hn=ke.callback,hn!==null&&(f.flags|=64,ni&&(f.flags|=8192),ni=N.callbacks,ni===null?N.callbacks=[hn]:ni.push(hn))}else ni={lane:hn,tag:ke.tag,payload:ke.payload,callback:ke.callback,next:null},Yt===null?(kt=Yt=ni,Bt=jt):Yt=Yt.next=ni,ge|=hn;if(ke=ke.next,ke===null){if(ke=N.shared.pending,ke===null)break;ni=ke,ke=ni.next,ni.next=null,N.lastBaseUpdate=ni,N.shared.pending=null}}while(!0);Yt===null&&(Bt=jt),N.baseState=Bt,N.firstBaseUpdate=kt,N.lastBaseUpdate=Yt,K===null&&(N.shared.lanes=0),Ac|=ge,f.lanes=ge,f.memoizedState=jt}}function Os(f,d){if(typeof f!="function")throw Error(r(191,f));f.call(d)}function Js(f,d){var w=f.callbacks;if(w!==null)for(f.callbacks=null,f=0;f<w.length;f++)Os(w[f],d)}function io(f,d){f=Tu,x(Yc,f),x(Gf,d),Tu=f|d.baseLanes}function ln(){x(Yc,Tu),x(Gf,Gf.current)}function pe(){Tu=Yc.current,m(Gf),m(Yc)}function We(f){var d=f.alternate;x(Ts,Ts.current&1),x(sA,f),aA===null&&(d===null||Gf.current!==null||d.memoizedState!==null)&&(aA=f)}function dt(f){x(Ts,Ts.current),x(sA,f),aA===null&&(aA=f)}function pt(f){f.tag===22?(x(Ts,Ts.current),x(sA,f),aA===null&&(aA=f)):nt()}function nt(){x(Ts,Ts.current),x(sA,sA.current)}function Gt(f){m(sA),aA===f&&(aA=null),m(Ts)}function Zt(f){for(var d=f;d!==null;){if(d.tag===13){var w=d.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||Yl(w)||Th(w)))return d}else if(d.tag===19&&(d.memoizedProps.revealOrder==="forwards"||d.memoizedProps.revealOrder==="backwards"||d.memoizedProps.revealOrder==="unstable_legacy-backwards"||d.memoizedProps.revealOrder==="together")){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break;for(;d.sibling===null;){if(d.return===null||d.return===f)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function Qt(){throw Error(r(321))}function on(f,d){if(d===null)return!1;for(var w=0;w<d.length&&w<f.length;w++)if(!Gs(f[w],d[w]))return!1;return!0}function $t(f,d,w,C,N,K){return oc=K,si=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,fn.H=f===null||f.memoizedState===null?gs:Uu,Oi=!1,K=w(C,N),Oi=!1,pi&&(K=un(d,w,C,N)),xn(f),K}function xn(f){fn.H=PA;var d=Mn!==null&&Mn.next!==null;if(oc=0,Xn=Mn=si=null,vi=!1,yl=0,$l=null,d)throw Error(r(300));f===null||Jr||(f=f.dependencies,f!==null&&Oe(f)&&(Jr=!0))}function un(f,d,w,C){si=f;var N=0;do{if(pi&&($l=null),yl=0,pi=!1,25<=N)throw Error(r(301));if(N+=1,Xn=Mn=null,f.updateQueue!=null){var K=f.updateQueue;K.lastEffect=null,K.events=null,K.stores=null,K.memoCache!=null&&(K.memoCache.index=0)}fn.H=Jc,K=d(w,C)}while(pi);return K}function An(){var f=fn.H,d=f.useState()[0];return d=typeof d.then=="function"?dn(d):d,f=f.useState()[0],(Mn!==null?Mn.memoizedState:null)!==f&&(si.flags|=1024),d}function Zn(){var f=mo!==0;return mo=0,f}function fi(f,d,w){d.updateQueue=f.updateQueue,d.flags&=-2053,f.lanes&=~w}function ri(f){if(vi){for(f=f.memoizedState;f!==null;){var d=f.queue;d!==null&&(d.pending=null),f=f.next}vi=!1}oc=0,Xn=Mn=si=null,pi=!1,yl=mo=0,$l=null}function Rn(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xn===null?si.memoizedState=Xn=f:Xn=Xn.next=f,Xn}function Kt(){if(Mn===null){var f=si.alternate;f=f!==null?f.memoizedState:null}else f=Mn.next;var d=Xn===null?si.memoizedState:Xn.next;if(d!==null)Xn=d,Mn=f;else{if(f===null)throw si.alternate===null?Error(r(467)):Error(r(310));Mn=f,f={memoizedState:Mn.memoizedState,baseState:Mn.baseState,baseQueue:Mn.baseQueue,queue:Mn.queue,next:null},Xn===null?si.memoizedState=Xn=f:Xn=Xn.next=f}return Xn}function Cn(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dn(f){var d=yl;return yl+=1,$l===null&&($l=[]),f=Vt($l,f,d),d=si,(Xn===null?d.memoizedState:Xn.next)===null&&(d=d.alternate,fn.H=d===null||d.memoizedState===null?gs:Uu),f}function Lr(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return dn(f);if(f.$$typeof===In)return Ae(f)}throw Error(r(438,String(f)))}function Zs(f){var d=null,w=si.updateQueue;if(w!==null&&(d=w.memoCache),d==null){var C=si.alternate;C!==null&&(C=C.updateQueue,C!==null&&(C=C.memoCache,C!=null&&(d={data:C.data.map(function(N){return N.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),w===null&&(w=Cn(),si.updateQueue=w),w.memoCache=d,w=d.data[d.index],w===void 0)for(w=d.data[d.index]=Array(f),C=0;C<f;C++)w[C]=Xr;return d.index++,w}function Ni(f,d){return typeof d=="function"?d(f):d}function fr(f){var d=Kt();return hi(d,Mn,f)}function hi(f,d,w){var C=f.queue;if(C===null)throw Error(r(311));C.lastRenderedReducer=w;var N=f.baseQueue,K=C.pending;if(K!==null){if(N!==null){var ge=N.next;N.next=K.next,K.next=ge}d.baseQueue=N=K,C.pending=null}if(K=f.baseState,N===null)f.memoizedState=K;else{d=N.next;var ke=ge=null,Bt=null,kt=d,Yt=!1;do{var jt=kt.lane&-536870913;if(jt!==kt.lane?(Ri&jt)===jt:(oc&jt)===jt){var hn=kt.revertLane;if(hn===0)Bt!==null&&(Bt=Bt.next={lane:0,revertLane:0,gesture:null,action:kt.action,hasEagerState:kt.hasEagerState,eagerState:kt.eagerState,next:null}),jt===ac&&(Yt=!0);else if((oc&hn)===hn){kt=kt.next,hn===ac&&(Yt=!0);continue}else jt={lane:0,revertLane:kt.revertLane,gesture:null,action:kt.action,hasEagerState:kt.hasEagerState,eagerState:kt.eagerState,next:null},Bt===null?(ke=Bt=jt,ge=K):Bt=Bt.next=jt,si.lanes|=hn,Ac|=hn;jt=kt.action,Oi&&w(K,jt),K=kt.hasEagerState?kt.eagerState:w(K,jt)}else hn={lane:jt,revertLane:kt.revertLane,gesture:kt.gesture,action:kt.action,hasEagerState:kt.hasEagerState,eagerState:kt.eagerState,next:null},Bt===null?(ke=Bt=hn,ge=K):Bt=Bt.next=hn,si.lanes|=jt,Ac|=jt;kt=kt.next}while(kt!==null&&kt!==d);if(Bt===null?ge=K:Bt.next=ke,!Gs(K,f.memoizedState)&&(Jr=!0,Yt&&(w=ba,w!==null)))throw w;f.memoizedState=K,f.baseState=ge,f.baseQueue=Bt,C.lastRenderedState=K}return N===null&&(C.lanes=0),[f.memoizedState,C.dispatch]}function hr(f){var d=Kt(),w=d.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=f;var C=w.dispatch,N=w.pending,K=d.memoizedState;if(N!==null){w.pending=null;var ge=N=N.next;do K=f(K,ge.action),ge=ge.next;while(ge!==N);Gs(K,d.memoizedState)||(Jr=!0),d.memoizedState=K,d.baseQueue===null&&(d.baseState=K),w.lastRenderedState=K}return[K,C]}function nr(f,d,w){var C=si,N=Kt(),K=Ii;if(K){if(w===void 0)throw Error(r(407));w=w()}else w=d();var ge=!Gs((Mn||N).memoizedState,w);if(ge&&(N.memoizedState=w,Jr=!0),N=N.queue,ro(xo.bind(null,C,N,f),[f]),N.getSnapshot!==d||ge||Xn!==null&&Xn.memoizedState.tag&1){if(C.flags|=2048,cs(9,{destroy:void 0},Vr.bind(null,C,N,w,d),null),yi===null)throw Error(r(349));K||(oc&127)!==0||dr(C,d,w)}return w}function dr(f,d,w){f.flags|=16384,f={getSnapshot:d,value:w},d=si.updateQueue,d===null?(d=Cn(),si.updateQueue=d,d.stores=[f]):(w=d.stores,w===null?d.stores=[f]:w.push(f))}function Vr(f,d,w,C){d.value=w,d.getSnapshot=C,_s(d)&&Tl(f)}function xo(f,d,w){return w(function(){_s(d)&&Tl(f)})}function _s(f){var d=f.getSnapshot;f=f.value;try{var w=d();return!Gs(f,w)}catch{return!0}}function Tl(f){var d=ki(f,2);d!==null&&Rr(d,f,2)}function bA(f){var d=Rn();if(typeof f=="function"){var w=f;if(f=w(),Oi){q(!0);try{w()}finally{q(!1)}}}return d.memoizedState=d.baseState=f,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:f},d}function $r(f,d,w,C){return f.baseState=w,hi(f,Mn,typeof C=="function"?C:Ni)}function $s(f,d,w,C,N){if(Ft(f))throw Error(r(485));if(f=d.action,f!==null){var K={payload:N,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ge){K.listeners.push(ge)}};fn.T!==null?w(!0):K.isTransition=!1,C(K),w=d.pending,w===null?(K.next=d.pending=K,La(d,K)):(K.next=w.next,d.pending=w.next=K)}}function La(f,d){var w=d.action,C=d.payload,N=f.state;if(d.isTransition){var K=fn.T,ge={};fn.T=ge;try{var ke=w(N,C),Bt=fn.S;Bt!==null&&Bt(ge,ke),_A(f,d,ke)}catch(kt){En(f,d,kt)}finally{K!==null&&ge.types!==null&&(K.types=ge.types),fn.T=K}}else try{K=w(N,C),_A(f,d,K)}catch(kt){En(f,d,kt)}}function _A(f,d,w){w!==null&&typeof w=="object"&&typeof w.then=="function"?w.then(function(C){ja(f,d,C)},function(C){return En(f,d,C)}):ja(f,d,w)}function ja(f,d,w){d.status="fulfilled",d.value=w,Fl(d),f.state=w,d=f.pending,d!==null&&(w=d.next,w===d?f.pending=null:(w=w.next,d.next=w,La(f,w)))}function En(f,d,w){var C=f.pending;if(f.pending=null,C!==null){C=C.next;do d.status="rejected",d.reason=w,Fl(d),d=d.next;while(d!==C)}f.action=null}function Fl(f){f=f.listeners;for(var d=0;d<f.length;d++)(0,f[d])()}function Ll(f,d){return d}function YA(f,d){if(Ii){var w=yi.formState;if(w!==null){e:{var C=si;if(Ii){if(os){var N=Tv(os,Io);if(N){os=Fv(N),C=t0(N);break e}}xe(C)}C=!1}C&&(d=w[0])}}w=Rn(),w.memoizedState=w.baseState=d,C={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ll,lastRenderedState:d},w.queue=C,w=Ue.bind(null,si,C),C.dispatch=w,C=bA(!1);var K=st.bind(null,si,!1,C.queue);return C=Rn(),N={state:d,dispatch:null,action:f,pending:null},C.queue=N,w=$s.bind(null,si,N,K,w),N.dispatch=w,C.memoizedState=f,[d,w,!1]}function ea(f){var d=Kt();return us(d,Mn,f)}function us(f,d,w){if(d=hi(f,d,Ll)[0],f=fr(Ni)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var C=dn(d)}catch(ge){throw ge===_a?vl:ge}else C=d;d=Kt();var N=d.queue,K=N.dispatch;return w!==d.memoizedState&&(si.flags|=2048,cs(9,{destroy:void 0},la.bind(null,N,w),null)),[C,K,f]}function la(f,d){f.action=d}function Wo(f){var d=Kt(),w=Mn;if(w!==null)return us(d,w,f);Kt(),d=d.memoizedState,w=Kt();var C=w.queue.dispatch;return w.memoizedState=f,[d,C,!1]}function cs(f,d,w,C){return f={tag:f,create:w,deps:C,inst:d,next:null},d=si.updateQueue,d===null&&(d=Cn(),si.updateQueue=d),w=d.lastEffect,w===null?d.lastEffect=f.next=f:(C=w.next,w.next=f,f.next=C,d.lastEffect=f),f}function BA(){return Kt().memoizedState}function ua(f,d,w,C){var N=Rn();si.flags|=f,N.memoizedState=cs(1|d,{destroy:void 0},w,C===void 0?null:C)}function JA(f,d,w,C){var N=Kt();C=C===void 0?null:C;var K=N.memoizedState.inst;Mn!==null&&C!==null&&on(C,Mn.memoizedState.deps)?N.memoizedState=cs(d,K,w,C):(si.flags|=f,N.memoizedState=cs(1|d,K,w,C))}function Ia(f,d){ua(8390656,8,f,d)}function ro(f,d){JA(2048,8,f,d)}function qo(f){si.flags|=4;var d=si.updateQueue;if(d===null)d=Cn(),si.updateQueue=d,d.events=[f];else{var w=d.events;w===null?d.events=[f]:w.push(f)}}function sr(f){var d=Kt().memoizedState;return qo({ref:d,nextImpl:f}),function(){if((Ei&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}function so(f,d){return JA(4,2,f,d)}function ca(f,d){return JA(4,4,f,d)}function ao(f,d){if(typeof d=="function"){f=f();var w=d(f);return function(){typeof w=="function"?w():d(null)}}if(d!=null)return f=f(),d.current=f,function(){d.current=null}}function bo(f,d,w){w=w!=null?w.concat([f]):null,JA(4,4,ao.bind(null,d,f),w)}function Xo(){}function Ra(f,d){var w=Kt();d=d===void 0?null:d;var C=w.memoizedState;return d!==null&&on(d,C[1])?C[0]:(w.memoizedState=[f,d],f)}function oo(f,d){var w=Kt();d=d===void 0?null:d;var C=w.memoizedState;if(d!==null&&on(d,C[1]))return C[0];if(C=f(),Oi){q(!0);try{f()}finally{q(!1)}}return w.memoizedState=[C,d],C}function jr(f,d,w){return w===void 0||(oc&1073741824)!==0&&(Ri&261930)===0?f.memoizedState=d:(f.memoizedState=w,f=Gl(),si.lanes|=f,Ac|=f,w)}function cu(f,d,w,C){return Gs(w,d)?w:Gf.current!==null?(f=jr(f,w,C),Gs(f,d)||(Jr=!0),f):(oc&42)===0||(oc&1073741824)!==0&&(Ri&261930)===0?(Jr=!0,f.memoizedState=w):(f=Gl(),si.lanes|=f,Ac|=f,d)}function Ka(f,d,w,C,N){var K=rs();Qn(K!==0&&8>K?K:8);var ge=fn.T,ke={};fn.T=ke,st(f,!1,d,w);try{var Bt=N(),kt=fn.S;if(kt!==null&&kt(ke,Bt),Bt!==null&&typeof Bt=="object"&&typeof Bt.then=="function"){var Yt=Je(Bt,C);Pe(f,d,Yt,Pr(f))}else Pe(f,d,C,Pr(f))}catch(jt){Pe(f,d,{then:function(){},status:"rejected",reason:jt},Pr())}finally{Qn(K),ge!==null&&ke.types!==null&&(ge.types=ke.types),fn.T=ge}}function Wa(f){var d=f.memoizedState;if(d!==null)return d;d={memoizedState:ho,baseState:ho,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:ho},next:null};var w={};return d.next={memoizedState:w,baseState:w,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:w},next:null},f.memoizedState=d,f=f.alternate,f!==null&&(f.memoizedState=d),d}function Il(){return Ae(tc)}function Yo(){return Kt().memoizedState}function Bs(){return Kt().memoizedState}function D(f){for(var d=f.return;d!==null;){switch(d.tag){case 24:case 3:var w=Pr();f=Fr(w);var C=cr(d,f,w);C!==null&&(Rr(C,d,w),Ns(C,d,w)),d={cache:Ge()},f.payload=d;return}d=d.return}}function le(f,d,w){var C=Pr();w={lane:C,revertLane:0,gesture:null,action:w,hasEagerState:!1,eagerState:null,next:null},Ft(f)?Pt(d,w):(w=Yi(f,d,w,C),w!==null&&(Rr(w,f,C),vn(w,d,C)))}function Ue(f,d,w){var C=Pr();Pe(f,d,w,C)}function Pe(f,d,w,C){var N={lane:C,revertLane:0,gesture:null,action:w,hasEagerState:!1,eagerState:null,next:null};if(Ft(f))Pt(d,N);else{var K=f.alternate;if(f.lanes===0&&(K===null||K.lanes===0)&&(K=d.lastRenderedReducer,K!==null))try{var ge=d.lastRenderedState,ke=K(ge,w);if(N.hasEagerState=!0,N.eagerState=ke,Gs(ke,ge))return Ui(f,d,N,0),yi===null&&ci(),!1}catch{}if(w=Yi(f,d,N,C),w!==null)return Rr(w,f,C),vn(w,d,C),!0}return!1}function st(f,d,w,C){if(C={lane:2,revertLane:Ie(),gesture:null,action:C,hasEagerState:!1,eagerState:null,next:null},Ft(f)){if(d)throw Error(r(479))}else d=Yi(f,w,C,2),d!==null&&Rr(d,f,2)}function Ft(f){var d=f.alternate;return f===si||d!==null&&d===si}function Pt(f,d){pi=vi=!0;var w=f.pending;w===null?d.next=d:(d.next=w.next,w.next=d),f.pending=d}function vn(f,d,w){if((w&4194048)!==0){var C=d.lanes;C&=f.pendingLanes,w|=C,d.lanes=w,I(f,w)}}function bn(f,d,w,C){d=f.memoizedState,w=w(C,d),w=w==null?d:Mt({},d,w),f.memoizedState=w,f.lanes===0&&(f.updateQueue.baseState=w)}function Pn(f,d,w,C,N,K,ge){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(C,K,ge):d.prototype&&d.prototype.isPureReactComponent?!Ze(w,C)||!Ze(N,K):!0}function Yn(f,d,w,C){f=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(w,C),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(w,C),d.state!==f&&Wd.enqueueReplaceState(d,d.state,null)}function di(f,d){var w=d;if("ref"in d){w={};for(var C in d)C!=="ref"&&(w[C]=d[C])}if(f=f.defaultProps){w===d&&(w=Mt({},w));for(var N in f)w[N]===void 0&&(w[N]=f[N])}return w}function xr(f,d){try{var w=f.onUncaughtError;w(d.value,{componentStack:d.stack})}catch(C){setTimeout(function(){throw C})}}function es(f,d,w){try{var C=f.onCaughtError;C(w.value,{componentStack:w.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(N){setTimeout(function(){throw N})}}function ar(f,d,w){return w=Fr(w),w.tag=3,w.payload={element:null},w.callback=function(){xr(f,d)},w}function Ss(f){return f=Fr(f),f.tag=3,f}function fs(f,d,w,C){var N=w.type.getDerivedStateFromError;if(typeof N=="function"){var K=C.value;f.payload=function(){return N(K)},f.callback=function(){es(d,w,C)}}var ge=w.stateNode;ge!==null&&typeof ge.componentDidCatch=="function"&&(f.callback=function(){es(d,w,C),typeof N!="function"&&(lc===null?lc=new Set([this]):lc.add(this));var ke=C.stack;this.componentDidCatch(C.value,{componentStack:ke!==null?ke:""})})}function fa(f,d,w,C,N){if(w.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){if(d=w.alternate,d!==null&&Xe(d,w,N,!0),w=sA.current,w!==null){switch(w.tag){case 31:case 13:return aA===null?fo():w.alternate===null&&vs===0&&(vs=3),w.flags&=-257,w.flags|=65536,w.lanes=N,C===Eu?w.flags|=16384:(d=w.updateQueue,d===null?w.updateQueue=new Set([C]):d.add(C),Qc(f,C,N)),!1;case 22:return w.flags|=65536,C===Eu?w.flags|=16384:(d=w.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([C])},w.updateQueue=d):(w=d.retryQueue,w===null?d.retryQueue=new Set([C]):w.add(C)),Qc(f,C,N)),!1}throw Error(r(435,w.tag))}return Qc(f,C,N),fo(),!1}if(Ii)return d=sA.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=N,C!==yg&&(f=Error(r(422),{cause:C}),re(fe(f,w)))):(C!==yg&&(d=Error(r(423),{cause:C}),re(fe(d,w))),f=f.current.alternate,f.flags|=65536,N&=-N,f.lanes|=N,C=fe(C,w),N=ar(f.stateNode,C,N),bs(f,N),vs!==4&&(vs=2)),!1;var K=Error(r(520),{cause:C});if(K=fe(K,w),Xd===null?Xd=[K]:Xd.push(K),vs!==4&&(vs=2),d===null)return!0;C=fe(C,w),w=d;do{switch(w.tag){case 3:return w.flags|=65536,f=N&-N,w.lanes|=f,f=ar(w.stateNode,C,f),bs(w,f),!1;case 1:if(d=w.type,K=w.stateNode,(w.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(lc===null||!lc.has(K))))return w.flags|=65536,N&=-N,w.lanes|=N,N=Ss(N),fs(N,f,w,C),bs(w,N),!1}w=w.return}while(w!==null);return!1}function Ir(f,d,w,C){d.child=f===null?y0(d,null,w,C):Za(d,f.child,w,C)}function Jo(f,d,w,C,N){w=w.render;var K=d.ref;if("ref"in C){var ge={};for(var ke in C)ke!=="ref"&&(ge[ke]=C[ke])}else ge=C;return Ye(d),C=$t(f,d,w,ge,K,N),ke=Zn(),f!==null&&!Jr?(fi(f,d,N),ts(f,d,N)):(Ii&&ke&&Q(d),d.flags|=1,Ir(f,d,C,N),d.child)}function ZA(f,d,w,C,N){if(f===null){var K=w.type;return typeof K=="function"&&!ec(K)&&K.defaultProps===void 0&&w.compare===null?(d.tag=15,d.type=K,Tc(f,d,K,C,N)):(f=S(w.type,null,C,d,d.mode,N),f.ref=d.ref,f.return=d,d.child=f)}if(K=f.child,!ha(f,N)){var ge=K.memoizedProps;if(w=w.compare,w=w!==null?w:Ze,w(ge,C)&&f.ref===d.ref)return ts(f,d,N)}return d.flags|=1,f=Lo(K,C),f.ref=d.ref,f.return=d,d.child=f}function Tc(f,d,w,C,N){if(f!==null){var K=f.memoizedProps;if(Ze(K,C)&&f.ref===d.ref)if(Jr=!1,d.pendingProps=C=K,ha(f,N))(f.flags&131072)!==0&&(Jr=!0);else return d.lanes=f.lanes,ts(f,d,N)}return tl(f,d,w,C,N)}function Wu(f,d,w,C){var N=C.children,K=f!==null?f.memoizedState:null;if(f===null&&d.stateNode===null&&(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),C.mode==="hidden"){if((d.flags&128)!==0){if(K=K!==null?K.baseLanes|w:w,f!==null){for(C=d.child=f.child,N=0;C!==null;)N=N|C.lanes|C.childLanes,C=C.sibling;C=N&~K}else C=0,d.child=null;return Zo(f,d,K,w,C)}if((w&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},f!==null&&Et(d,K!==null?K.cachePool:null),K!==null?io(d,K):ln(),pt(d);else return C=d.lanes=536870912,Zo(f,d,K!==null?K.baseLanes|w:w,w,C)}else K!==null?(Et(d,K.cachePool),io(d,K),nt(),d.memoizedState=null):(f!==null&&Et(d,null),ln(),nt());return Ir(f,d,N,w),d.child}function Ao(f,d){return f!==null&&f.tag===22||d.stateNode!==null||(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.sibling}function Zo(f,d,w,C,N){var K=mt();return K=K===null?null:{parent:Li?As._currentValue:As._currentValue2,pool:K},d.memoizedState={baseLanes:w,cachePool:K},f!==null&&Et(d,null),ln(),pt(d),f!==null&&Xe(f,d,C,!0),d.childLanes=N,null}function $A(f,d){return d=lo({mode:d.mode,children:d.children},f.mode),d.ref=f.ref,f.child=d,d.return=f,d}function el(f,d,w){return Za(d,f.child,null,w),f=$A(d,d.pendingProps),f.flags|=2,Gt(d),d.memoizedState=null,f}function ta(f,d,w){var C=d.pendingProps,N=(d.flags&128)!==0;if(d.flags&=-129,f===null){if(Ii){if(C.mode==="hidden")return f=$A(d,C),d.lanes=536870912,Ao(null,f);if(dt(d),(f=os)?(f=i0(f,Io),f!==null&&(d.memoizedState={dehydrated:f,treeContext:dl!==null?{id:Ya,overflow:Jl}:null,retryLane:536870912,hydrationErrors:null},w=J(f),w.return=d,d.child=w,xa=d,os=null)):f=null,f===null)throw xe(d);return d.lanes=536870912,null}return $A(d,C)}var K=f.memoizedState;if(K!==null){var ge=K.dehydrated;if(dt(d),N)if(d.flags&256)d.flags&=-257,d=el(f,d,w);else if(d.memoizedState!==null)d.child=f.child,d.flags|=128,d=null;else throw Error(r(558));else if(Jr||Xe(f,d,w,!1),N=(w&f.childLanes)!==0,Jr||N){if(C=yi,C!==null&&(ge=P(C,w),ge!==0&&ge!==K.retryLane))throw K.retryLane=ge,ki(f,ge),Rr(C,f,ge),No;fo(),d=el(f,d,w)}else f=K.treeContext,bi&&(os=Nv(ge),xa=d,Ii=!0,Cu=null,Io=!1,f!==null&&Y(d,f)),d=$A(d,C),d.flags|=4096;return d}return f=Lo(f.child,{mode:C.mode,children:C.children}),f.ref=d.ref,d.child=f,f.return=d,f}function SA(f,d){var w=d.ref;if(w===null)f!==null&&f.ref!==null&&(d.flags|=4194816);else{if(typeof w!="function"&&typeof w!="object")throw Error(r(284));(f===null||f.ref!==w)&&(d.flags|=4194816)}}function tl(f,d,w,C,N){return Ye(d),w=$t(f,d,w,C,void 0,N),C=Zn(),f!==null&&!Jr?(fi(f,d,N),ts(f,d,N)):(Ii&&C&&Q(d),d.flags|=1,Ir(f,d,w,N),d.child)}function qu(f,d,w,C,N,K){return Ye(d),d.updateQueue=null,w=un(d,C,w,N),xn(f),C=Zn(),f!==null&&!Jr?(fi(f,d,K),ts(f,d,K)):(Ii&&C&&Q(d),d.flags|=1,Ir(f,d,w,K),d.child)}function CA(f,d,w,C,N){if(Ye(d),d.stateNode===null){var K=_u,ge=w.contextType;typeof ge=="object"&&ge!==null&&(K=Ae(ge)),K=new w(C,K),d.memoizedState=K.state!==null&&K.state!==void 0?K.state:null,K.updater=Wd,d.stateNode=K,K._reactInternals=d,K=d.stateNode,K.props=C,K.state=d.memoizedState,K.refs={},Ji(d),ge=w.contextType,K.context=typeof ge=="object"&&ge!==null?Ae(ge):_u,K.state=d.memoizedState,ge=w.getDerivedStateFromProps,typeof ge=="function"&&(bn(d,w,ge,C),K.state=d.memoizedState),typeof w.getDerivedStateFromProps=="function"||typeof K.getSnapshotBeforeUpdate=="function"||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(ge=K.state,typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount(),ge!==K.state&&Wd.enqueueReplaceState(K,K.state,null),Aa(d,C,K,N),Ds(),K.state=d.memoizedState),typeof K.componentDidMount=="function"&&(d.flags|=4194308),C=!0}else if(f===null){K=d.stateNode;var ke=d.memoizedProps,Bt=di(w,ke);K.props=Bt;var kt=K.context,Yt=w.contextType;ge=_u,typeof Yt=="object"&&Yt!==null&&(ge=Ae(Yt));var jt=w.getDerivedStateFromProps;Yt=typeof jt=="function"||typeof K.getSnapshotBeforeUpdate=="function",ke=d.pendingProps!==ke,Yt||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(ke||kt!==ge)&&Yn(d,K,C,ge),OA=!1;var hn=d.memoizedState;K.state=hn,Aa(d,C,K,N),Ds(),kt=d.memoizedState,ke||hn!==kt||OA?(typeof jt=="function"&&(bn(d,w,jt,C),kt=d.memoizedState),(Bt=OA||Pn(d,w,Bt,C,hn,kt,ge))?(Yt||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount()),typeof K.componentDidMount=="function"&&(d.flags|=4194308)):(typeof K.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=C,d.memoizedState=kt),K.props=C,K.state=kt,K.context=ge,C=Bt):(typeof K.componentDidMount=="function"&&(d.flags|=4194308),C=!1)}else{K=d.stateNode,ur(f,d),ge=d.memoizedProps,Yt=di(w,ge),K.props=Yt,jt=d.pendingProps,hn=K.context,kt=w.contextType,Bt=_u,typeof kt=="object"&&kt!==null&&(Bt=Ae(kt)),ke=w.getDerivedStateFromProps,(kt=typeof ke=="function"||typeof K.getSnapshotBeforeUpdate=="function")||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(ge!==jt||hn!==Bt)&&Yn(d,K,C,Bt),OA=!1,hn=d.memoizedState,K.state=hn,Aa(d,C,K,N),Ds();var ni=d.memoizedState;ge!==jt||hn!==ni||OA||f!==null&&f.dependencies!==null&&Oe(f.dependencies)?(typeof ke=="function"&&(bn(d,w,ke,C),ni=d.memoizedState),(Yt=OA||Pn(d,w,Yt,C,hn,ni,Bt)||f!==null&&f.dependencies!==null&&Oe(f.dependencies))?(kt||typeof K.UNSAFE_componentWillUpdate!="function"&&typeof K.componentWillUpdate!="function"||(typeof K.componentWillUpdate=="function"&&K.componentWillUpdate(C,ni,Bt),typeof K.UNSAFE_componentWillUpdate=="function"&&K.UNSAFE_componentWillUpdate(C,ni,Bt)),typeof K.componentDidUpdate=="function"&&(d.flags|=4),typeof K.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof K.componentDidUpdate!="function"||ge===f.memoizedProps&&hn===f.memoizedState||(d.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||ge===f.memoizedProps&&hn===f.memoizedState||(d.flags|=1024),d.memoizedProps=C,d.memoizedState=ni),K.props=C,K.state=ni,K.context=Bt,C=Yt):(typeof K.componentDidUpdate!="function"||ge===f.memoizedProps&&hn===f.memoizedState||(d.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||ge===f.memoizedProps&&hn===f.memoizedState||(d.flags|=1024),C=!1)}return K=C,SA(f,d),C=(d.flags&128)!==0,K||C?(K=d.stateNode,w=C&&typeof w.getDerivedStateFromError!="function"?null:K.render(),d.flags|=1,f!==null&&C?(d.child=Za(d,f.child,null,N),d.child=Za(d,null,w,N)):Ir(f,d,w,N),d.memoizedState=K.state,f=d.child):f=ts(f,d,N),f}function Na(f,d,w,C){return it(),d.flags|=256,Ir(f,d,w,C),d.child}function EA(f){return{baseLanes:f,cachePool:tt()}}function fu(f,d,w){return f=f!==null?f.childLanes&~w:0,d&&(f|=Do),f}function Fc(f,d,w){var C=d.pendingProps,N=!1,K=(d.flags&128)!==0,ge;if((ge=K)||(ge=f!==null&&f.memoizedState===null?!1:(Ts.current&2)!==0),ge&&(N=!0,d.flags&=-129),ge=(d.flags&32)!==0,d.flags&=-33,f===null){if(Ii){if(N?We(d):nt(),(f=os)?(f=Qv(f,Io),f!==null&&(d.memoizedState={dehydrated:f,treeContext:dl!==null?{id:Ya,overflow:Jl}:null,retryLane:536870912,hydrationErrors:null},w=J(f),w.return=d,d.child=w,xa=d,os=null)):f=null,f===null)throw xe(d);return Th(f)?d.lanes=32:d.lanes=536870912,null}var ke=C.children;return C=C.fallback,N?(nt(),N=d.mode,ke=lo({mode:"hidden",children:ke},N),C=F(C,N,w,null),ke.return=d,C.return=d,ke.sibling=C,d.child=ke,C=d.child,C.memoizedState=EA(w),C.childLanes=fu(f,ge,w),d.memoizedState=Vf,Ao(null,C)):(We(d),qa(d,ke))}var Bt=f.memoizedState;if(Bt!==null&&(ke=Bt.dehydrated,ke!==null)){if(K)d.flags&256?(We(d),d.flags&=-257,d=MA(f,d,w)):d.memoizedState!==null?(nt(),d.child=f.child,d.flags|=128,d=null):(nt(),ke=C.fallback,N=d.mode,C=lo({mode:"visible",children:C.children},N),ke=F(ke,N,w,null),ke.flags|=2,C.return=d,ke.return=d,C.sibling=ke,d.child=C,Za(d,f.child,null,w),C=d.child,C.memoizedState=EA(w),C.childLanes=fu(f,ge,w),d.memoizedState=Vf,d=Ao(null,C));else if(We(d),Th(ke))ge=Vc(ke).digest,C=Error(r(419)),C.stack="",C.digest=ge,re({value:C,source:null,stack:null}),d=MA(f,d,w);else if(Jr||Xe(f,d,w,!1),ge=(w&f.childLanes)!==0,Jr||ge){if(ge=yi,ge!==null&&(C=P(ge,w),C!==0&&C!==Bt.retryLane))throw Bt.retryLane=C,ki(f,C),Rr(ge,f,C),No;Yl(ke)||fo(),d=MA(f,d,w)}else Yl(ke)?(d.flags|=192,d.child=f.child,d=null):(f=Bt.treeContext,bi&&(os=Dv(ke),xa=d,Ii=!0,Cu=null,Io=!1,f!==null&&Y(d,f)),d=qa(d,C.children),d.flags|=4096);return d}return N?(nt(),ke=C.fallback,N=d.mode,Bt=f.child,K=Bt.sibling,C=Lo(Bt,{mode:"hidden",children:C.children}),C.subtreeFlags=Bt.subtreeFlags&65011712,K!==null?ke=Lo(K,ke):(ke=F(ke,N,w,null),ke.flags|=2),ke.return=d,C.return=d,C.sibling=ke,d.child=C,Ao(null,C),C=d.child,ke=f.child.memoizedState,ke===null?ke=EA(w):(N=ke.cachePool,N!==null?(Bt=Li?As._currentValue:As._currentValue2,N=N.parent!==Bt?{parent:Bt,pool:Bt}:N):N=tt(),ke={baseLanes:ke.baseLanes|w,cachePool:N}),C.memoizedState=ke,C.childLanes=fu(f,ge,w),d.memoizedState=Vf,Ao(f.child,C)):(We(d),w=f.child,f=w.sibling,w=Lo(w,{mode:"visible",children:C.children}),w.return=d,w.sibling=null,f!==null&&(ge=d.deletions,ge===null?(d.deletions=[f],d.flags|=16):ge.push(f)),d.child=w,d.memoizedState=null,w)}function qa(f,d){return d=lo({mode:"visible",children:d},f.mode),d.return=f,f.child=d}function lo(f,d){return f=t(22,f,null,d),f.lanes=0,f}function MA(f,d,w){return Za(d,f.child,null,w),f=qa(d,d.pendingProps.children),f.flags|=2,d.memoizedState=null,f}function Lc(f,d,w){f.lanes|=d;var C=f.alternate;C!==null&&(C.lanes|=d),ce(f.return,d,w)}function _o(f,d,w,C,N,K){var ge=f.memoizedState;ge===null?f.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:C,tail:w,tailMode:N,treeForkCount:K}:(ge.isBackwards=d,ge.rendering=null,ge.renderingStartTime=0,ge.last=C,ge.tail=w,ge.tailMode=N,ge.treeForkCount=K)}function Rl(f,d,w){var C=d.pendingProps,N=C.revealOrder,K=C.tail;C=C.children;var ge=Ts.current,ke=(ge&2)!==0;if(ke?(ge=ge&1|2,d.flags|=128):ge&=1,x(Ts,ge),Ir(f,d,C,w),C=Ii?Vd:0,!ke&&f!==null&&(f.flags&128)!==0)e:for(f=d.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&Lc(f,w,d);else if(f.tag===19)Lc(f,w,d);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break e;for(;f.sibling===null;){if(f.return===null||f.return===d)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}switch(N){case"forwards":for(w=d.child,N=null;w!==null;)f=w.alternate,f!==null&&Zt(f)===null&&(N=w),w=w.sibling;w=N,w===null?(N=d.child,d.child=null):(N=w.sibling,w.sibling=null),_o(d,!1,N,w,K,C);break;case"backwards":case"unstable_legacy-backwards":for(w=null,N=d.child,d.child=null;N!==null;){if(f=N.alternate,f!==null&&Zt(f)===null){d.child=N;break}f=N.sibling,N.sibling=w,w=N,N=f}_o(d,!0,w,null,K,C);break;case"together":_o(d,!1,null,null,void 0,C);break;default:d.memoizedState=null}return d.child}function ts(f,d,w){if(f!==null&&(d.dependencies=f.dependencies),Ac|=d.lanes,(w&d.childLanes)===0)if(f!==null){if(Xe(f,d,w,!1),(w&d.childLanes)===0)return null}else return null;if(f!==null&&d.child!==f.child)throw Error(r(153));if(d.child!==null){for(f=d.child,w=Lo(f,f.pendingProps),d.child=w,w.return=d;f.sibling!==null;)f=f.sibling,w=w.sibling=Lo(f,f.pendingProps),w.return=d;w.sibling=null}return d.child}function ha(f,d){return(f.lanes&d)!==0?!0:(f=f.dependencies,!!(f!==null&&Oe(f)))}function nl(f,d,w){switch(d.tag){case 3:ie(d,d.stateNode.containerInfo),Le(d,As,f.memoizedState.cache),it();break;case 27:case 5:se(d);break;case 4:ie(d,d.stateNode.containerInfo);break;case 10:Le(d,d.type,d.memoizedProps.value);break;case 31:if(d.memoizedState!==null)return d.flags|=128,dt(d),null;break;case 13:var C=d.memoizedState;if(C!==null)return C.dehydrated!==null?(We(d),d.flags|=128,null):(w&d.child.childLanes)!==0?Fc(f,d,w):(We(d),f=ts(f,d,w),f!==null?f.sibling:null);We(d);break;case 19:var N=(f.flags&128)!==0;if(C=(w&d.childLanes)!==0,C||(Xe(f,d,w,!1),C=(w&d.childLanes)!==0),N){if(C)return Rl(f,d,w);d.flags|=128}if(N=d.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),x(Ts,Ts.current),C)break;return null;case 22:return d.lanes=0,Wu(f,d,w,d.pendingProps);case 24:Le(d,As,f.memoizedState.cache)}return ts(f,d,w)}function UA(f,d,w){if(f!==null)if(f.memoizedProps!==d.pendingProps)Jr=!0;else{if(!ha(f,w)&&(d.flags&128)===0)return Jr=!1,nl(f,d,w);Jr=(f.flags&131072)!==0}else Jr=!1,Ii&&(d.flags&1048576)!==0&&W(d,Vd,d.index);switch(d.lanes=0,d.tag){case 16:e:{var C=d.pendingProps;if(f=Wt(d.elementType),d.type=f,typeof f=="function")ec(f)?(C=di(f,C),d.tag=1,d=CA(null,d,f,C,w)):(d.tag=0,d=tl(null,d,f,C,w));else{if(f!=null){var N=f.$$typeof;if(N===gn){d.tag=11,d=Jo(null,d,f,C,w);break e}else if(N===qn){d.tag=14,d=ZA(null,d,f,C,w);break e}}throw d=g(f)||f,Error(r(306,d,""))}}return d;case 0:return tl(f,d,d.type,d.pendingProps,w);case 1:return C=d.type,N=di(C,d.pendingProps),CA(f,d,C,N,w);case 3:e:{if(ie(d,d.stateNode.containerInfo),f===null)throw Error(r(387));var K=d.pendingProps;N=d.memoizedState,C=N.element,ur(f,d),Aa(d,K,null,w);var ge=d.memoizedState;if(K=ge.cache,Le(d,As,K),K!==N.cache&&He(d,[As],w,!0),Ds(),K=ge.element,bi&&N.isDehydrated)if(N={element:K,isDehydrated:!1,cache:ge.cache},d.updateQueue.baseState=N,d.memoizedState=N,d.flags&256){d=Na(f,d,K,w);break e}else if(K!==C){C=fe(Error(r(424)),d),re(C),d=Na(f,d,K,w);break e}else for(bi&&(os=Rv(d.stateNode.containerInfo),xa=d,Ii=!0,Cu=null,Io=!0),w=y0(d,null,K,w),d.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(it(),K===C){d=ts(f,d,w);break e}Ir(f,d,K,w)}d=d.child}return d;case 26:if(fl)return SA(f,d),f===null?(w=A0(d.type,null,d.pendingProps,null))?d.memoizedState=w:Ii||(d.stateNode=lg(d.type,d.pendingProps,Ja.current,d)):d.memoizedState=A0(d.type,f.memoizedProps,d.pendingProps,f.memoizedState),null;case 27:if(wa)return se(d),f===null&&wa&&Ii&&(C=d.stateNode=ug(d.type,d.pendingProps,Ja.current,Qa.current,!1),xa=d,Io=!0,os=n0(d.type,C,os)),Ir(f,d,d.pendingProps.children,w),SA(f,d),f===null&&(d.flags|=4194304),d.child;case 5:return f===null&&Ii&&(qv(d.type,d.pendingProps,Qa.current),(N=C=os)&&(C=Ov(C,d.type,d.pendingProps,Io),C!==null?(d.stateNode=C,xa=d,os=Iv(C),Io=!1,N=!0):N=!1),N||xe(d)),se(d),N=d.type,K=d.pendingProps,ge=f!==null?f.memoizedProps:null,C=K.children,Fi(N,K)?C=null:ge!==null&&Fi(N,ge)&&(d.flags|=32),d.memoizedState!==null&&(N=$t(f,d,An,null,null,w),Li?tc._currentValue=N:tc._currentValue2=N),SA(f,d),Ir(f,d,C,w),d.child;case 6:return f===null&&Ii&&(o0(d.pendingProps,Qa.current),(f=w=os)&&(w=Pv(w,d.pendingProps,Io),w!==null?(d.stateNode=w,xa=d,os=null,f=!0):f=!1),f||xe(d)),null;case 13:return Fc(f,d,w);case 4:return ie(d,d.stateNode.containerInfo),C=d.pendingProps,f===null?d.child=Za(d,null,C,w):Ir(f,d,C,w),d.child;case 11:return Jo(f,d,d.type,d.pendingProps,w);case 7:return Ir(f,d,d.pendingProps,w),d.child;case 8:return Ir(f,d,d.pendingProps.children,w),d.child;case 12:return Ir(f,d,d.pendingProps.children,w),d.child;case 10:return C=d.pendingProps,Le(d,d.type,C.value),Ir(f,d,C.children,w),d.child;case 9:return N=d.type._context,C=d.pendingProps.children,Ye(d),N=Ae(N),C=C(N),d.flags|=1,Ir(f,d,C,w),d.child;case 14:return ZA(f,d,d.type,d.pendingProps,w);case 15:return Tc(f,d,d.type,d.pendingProps,w);case 19:return Rl(f,d,w);case 31:return ta(f,d,w);case 22:return Wu(f,d,w,d.pendingProps);case 24:return Ye(d),C=Ae(As),f===null?(N=mt(),N===null&&(N=yi,K=Ge(),N.pooledCache=K,K.refCount++,K!==null&&(N.pooledCacheLanes|=w),N=K),d.memoizedState={parent:C,cache:N},Ji(d),Le(d,As,N)):((f.lanes&w)!==0&&(ur(f,d),Aa(d,null,null,w),Ds()),N=f.memoizedState,K=d.memoizedState,N.parent!==C?(N={parent:C,cache:C},d.memoizedState=N,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=N),Le(d,As,C)):(C=K.cache,Le(d,As,C),C!==N.cache&&He(d,[As],w,!0))),Ir(f,d,d.pendingProps.children,w),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function Ps(f){f.flags|=4}function Nl(f){Nr&&(f.flags|=8)}function Xu(f,d){if(f!==null&&f.child===d.child)return!1;if((d.flags&16)!==0)return!0;for(f=d.child;f!==null;){if((f.flags&8218)!==0||(f.subtreeFlags&8218)!==0)return!0;f=f.sibling}return!1}function Kr(f,d,w,C){if(kn)for(w=d.child;w!==null;){if(w.tag===5||w.tag===6)ps(f,w.stateNode);else if(!(w.tag===4||wa&&w.tag===27)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===d)break;for(;w.sibling===null;){if(w.return===null||w.return===d)return;w=w.return}w.sibling.return=w.return,w=w.sibling}else if(Nr)for(var N=d.child;N!==null;){if(N.tag===5){var K=N.stateNode;w&&C&&(K=Nf(K,N.type,N.memoizedProps)),ps(f,K)}else if(N.tag===6)K=N.stateNode,w&&C&&(K=Df(K,N.memoizedProps)),ps(f,K);else if(N.tag!==4){if(N.tag===22&&N.memoizedState!==null)K=N.child,K!==null&&(K.return=N),Kr(f,N,!0,!0);else if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===d)break;for(;N.sibling===null;){if(N.return===null||N.return===d)return;N=N.return}N.sibling.return=N.return,N=N.sibling}}function Mf(f,d,w,C){var N=!1;if(Nr)for(var K=d.child;K!==null;){if(K.tag===5){var ge=K.stateNode;w&&C&&(ge=Nf(ge,K.type,K.memoizedProps)),NA(f,ge)}else if(K.tag===6)ge=K.stateNode,w&&C&&(ge=Df(ge,K.memoizedProps)),NA(f,ge);else if(K.tag!==4){if(K.tag===22&&K.memoizedState!==null)N=K.child,N!==null&&(N.return=K),Mf(f,K,!0,!0),N=!0;else if(K.child!==null){K.child.return=K,K=K.child;continue}}if(K===d)break;for(;K.sibling===null;){if(K.return===null||K.return===d)return N;K=K.return}K.sibling.return=K.return,K=K.sibling}return N}function TA(f,d){if(Nr&&Xu(f,d)){f=d.stateNode;var w=f.containerInfo,C=Gc();Mf(C,d,!1,!1),f.pendingChildren=C,Ps(d),Xl(w,C)}}function $o(f,d,w,C){if(kn)f.memoizedProps!==C&&Ps(d);else if(Nr){var N=f.stateNode,K=f.memoizedProps;if((f=Xu(f,d))||K!==C){var ge=Qa.current;K=Uh(N,w,K,C,!f,null),K===N?d.stateNode=N:(Nl(d),Qr(K,w,C,ge)&&Ps(d),d.stateNode=K,f&&Kr(K,d,!1,!1))}else d.stateNode=N}}function Qs(f,d,w,C,N){if((f.mode&32)!==0&&(w===null?yu(d,C):wu(d,w,C))){if(f.flags|=16777216,(N&335544128)===N||kc(d,C))if(mr(f.stateNode,d,C))f.flags|=8192;else if(Ci())f.flags|=8192;else throw Ro=Eu,xg}else f.flags&=-16777217}function il(f,d){if(f0(d)){if(f.flags|=16777216,!h0(d))if(Ci())f.flags|=8192;else throw Ro=Eu,xg}else f.flags&=-16777217}function Dl(f,d){d!==null&&(f.flags|=4),f.flags&16384&&(d=f.tag!==22?U():536870912,f.lanes|=d,Qh|=d)}function rl(f,d){if(!Ii)switch(f.tailMode){case"hidden":d=f.tail;for(var w=null;d!==null;)d.alternate!==null&&(w=d),d=d.sibling;w===null?f.tail=null:w.sibling=null;break;case"collapsed":w=f.tail;for(var C=null;w!==null;)w.alternate!==null&&(C=w),w=w.sibling;C===null?d||f.tail===null?f.tail=null:f.tail.sibling=null:C.sibling=null}}function Di(f){var d=f.alternate!==null&&f.alternate.child===f.child,w=0,C=0;if(d)for(var N=f.child;N!==null;)w|=N.lanes|N.childLanes,C|=N.subtreeFlags&65011712,C|=N.flags&65011712,N.return=f,N=N.sibling;else for(N=f.child;N!==null;)w|=N.lanes|N.childLanes,C|=N.subtreeFlags,C|=N.flags,N.return=f,N=N.sibling;return f.subtreeFlags|=C,f.childLanes=w,d}function Ol(f,d,w){var C=d.pendingProps;switch(X(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Di(d),null;case 1:return Di(d),null;case 3:return w=d.stateNode,C=null,f!==null&&(C=f.memoizedState.cache),d.memoizedState.cache!==C&&(d.flags|=2048),rt(As),te(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(f===null||f.child===null)&&(ze(d)?Ps(d):f===null||f.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,De())),TA(f,d),Di(d),null;case 26:if(fl){var N=d.type,K=d.memoizedState;return f===null?(Ps(d),K!==null?(Di(d),il(d,K)):(Di(d),Qs(d,N,null,C,w))):K?K!==f.memoizedState?(Ps(d),Di(d),il(d,K)):(Di(d),d.flags&=-16777217):(K=f.memoizedProps,kn?K!==C&&Ps(d):$o(f,d,N,C),Di(d),Qs(d,N,K,C,w)),null}case 27:if(wa){if(ye(d),w=Ja.current,N=d.type,f!==null&&d.stateNode!=null)kn?f.memoizedProps!==C&&Ps(d):$o(f,d,N,C);else{if(!C){if(d.stateNode===null)throw Error(r(166));return Di(d),null}f=Qa.current,ze(d)?Fe(d,f):(f=ug(N,C,w,f,!0),d.stateNode=f,Ps(d))}return Di(d),null}case 5:if(ye(d),N=d.type,f!==null&&d.stateNode!=null)$o(f,d,N,C);else{if(!C){if(d.stateNode===null)throw Error(r(166));return Di(d),null}if(K=Qa.current,ze(d))Fe(d,K),jv(d.stateNode,N,C,K)&&(d.flags|=64);else{var ge=Zi(N,C,Ja.current,K,d);Nl(d),Kr(ge,d,!1,!1),d.stateNode=ge,Qr(ge,N,C,K)&&Ps(d)}}return Di(d),Qs(d,d.type,f===null?null:f.memoizedProps,d.pendingProps,w),null;case 6:if(f&&d.stateNode!=null)w=f.memoizedProps,kn?w!==C&&Ps(d):Nr&&(w!==C?(f=Ja.current,w=Qa.current,Nl(d),d.stateNode=is(C,f,w,d)):d.stateNode=f.stateNode);else{if(typeof C!="string"&&d.stateNode===null)throw Error(r(166));if(f=Ja.current,w=Qa.current,ze(d)){if(!bi)throw Error(r(176));if(f=d.stateNode,w=d.memoizedProps,C=null,N=xa,N!==null)switch(N.tag){case 27:case 5:C=N.memoizedProps}Q_(f,w,d,C)||xe(d,!0)}else Nl(d),d.stateNode=is(C,f,w,d)}return Di(d),null;case 31:if(w=d.memoizedState,f===null||f.memoizedState!==null){if(C=ze(d),w!==null){if(f===null){if(!C)throw Error(r(318));if(!bi)throw Error(r(556));if(f=d.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(557));r0(f,d)}else it(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Di(d),f=!1}else w=De(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=w),f=!0;if(!f)return d.flags&256?(Gt(d),d):(Gt(d),null);if((d.flags&128)!==0)throw Error(r(558))}return Di(d),null;case 13:if(C=d.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(N=ze(d),C!==null&&C.dehydrated!==null){if(f===null){if(!N)throw Error(r(318));if(!bi)throw Error(r(344));if(N=d.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(r(317));kv(N,d)}else it(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Di(d),N=!1}else N=De(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=N),N=!0;if(!N)return d.flags&256?(Gt(d),d):(Gt(d),null)}return Gt(d),(d.flags&128)!==0?(d.lanes=w,d):(w=C!==null,f=f!==null&&f.memoizedState!==null,w&&(C=d.child,N=null,C.alternate!==null&&C.alternate.memoizedState!==null&&C.alternate.memoizedState.cachePool!==null&&(N=C.alternate.memoizedState.cachePool.pool),K=null,C.memoizedState!==null&&C.memoizedState.cachePool!==null&&(K=C.memoizedState.cachePool.pool),K!==N&&(C.flags|=2048)),w!==f&&w&&(d.child.flags|=8192),Dl(d,d.updateQueue),Di(d),null);case 4:return te(),TA(f,d),f===null&&Ln(d.stateNode.containerInfo),Di(d),null;case 10:return rt(d.type),Di(d),null;case 19:if(m(Ts),C=d.memoizedState,C===null)return Di(d),null;if(N=(d.flags&128)!==0,K=C.rendering,K===null)if(N)rl(C,!1);else{if(vs!==0||f!==null&&(f.flags&128)!==0)for(f=d.child;f!==null;){if(K=Zt(f),K!==null){for(d.flags|=128,rl(C,!1),f=K.updateQueue,d.updateQueue=f,Dl(d,f),d.subtreeFlags=0,f=w,w=d.child;w!==null;)If(w,f),w=w.sibling;return x(Ts,Ts.current&1|2),Ii&&me(d,C.treeForkCount),d.child}f=f.sibling}C.tail!==null&&po()>nf&&(d.flags|=128,N=!0,rl(C,!1),d.lanes=4194304)}else{if(!N)if(f=Zt(K),f!==null){if(d.flags|=128,N=!0,f=f.updateQueue,d.updateQueue=f,Dl(d,f),rl(C,!0),C.tail===null&&C.tailMode==="hidden"&&!K.alternate&&!Ii)return Di(d),null}else 2*po()-C.renderingStartTime>nf&&w!==536870912&&(d.flags|=128,N=!0,rl(C,!1),d.lanes=4194304);C.isBackwards?(K.sibling=d.child,d.child=K):(f=C.last,f!==null?f.sibling=K:d.child=K,C.last=K)}return C.tail!==null?(f=C.tail,C.rendering=f,C.tail=f.sibling,C.renderingStartTime=po(),f.sibling=null,w=Ts.current,x(Ts,N?w&1|2:w&1),Ii&&me(d,C.treeForkCount),f):(Di(d),null);case 22:case 23:return Gt(d),pe(),C=d.memoizedState!==null,f!==null?f.memoizedState!==null!==C&&(d.flags|=8192):C&&(d.flags|=8192),C?(w&536870912)!==0&&(d.flags&128)===0&&(Di(d),d.subtreeFlags&6&&(d.flags|=8192)):Di(d),w=d.updateQueue,w!==null&&Dl(d,w.retryQueue),w=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(w=f.memoizedState.cachePool.pool),C=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(C=d.memoizedState.cachePool.pool),C!==w&&(d.flags|=2048),f!==null&&m(qc),null;case 24:return w=null,f!==null&&(w=f.memoizedState.cache),d.memoizedState.cache!==w&&(d.flags|=2048),rt(As),Di(d),null;case 25:return null;case 30:return null}throw Error(r(156,d.tag))}function sl(f,d){switch(X(d),d.tag){case 1:return f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 3:return rt(As),te(),f=d.flags,(f&65536)!==0&&(f&128)===0?(d.flags=f&-65537|128,d):null;case 26:case 27:case 5:return ye(d),null;case 31:if(d.memoizedState!==null){if(Gt(d),d.alternate===null)throw Error(r(340));it()}return f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 13:if(Gt(d),f=d.memoizedState,f!==null&&f.dehydrated!==null){if(d.alternate===null)throw Error(r(340));it()}return f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 19:return m(Ts),null;case 4:return te(),null;case 10:return rt(d.type),null;case 22:case 23:return Gt(d),pe(),f!==null&&m(qc),f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 24:return rt(As),null;case 25:return null;default:return null}}function hu(f,d){switch(X(d),d.tag){case 3:rt(As),te();break;case 26:case 27:case 5:ye(d);break;case 4:te();break;case 31:d.memoizedState!==null&&Gt(d);break;case 13:Gt(d);break;case 19:m(Ts);break;case 10:rt(d.type);break;case 22:case 23:Gt(d),pe(),f!==null&&m(qc);break;case 24:rt(As)}}function da(f,d){try{var w=d.updateQueue,C=w!==null?w.lastEffect:null;if(C!==null){var N=C.next;w=N;do{if((w.tag&f)===f){C=void 0;var K=w.create,ge=w.inst;C=K(),ge.destroy=C}w=w.next}while(w!==N)}}catch(ke){Hn(d,d.return,ke)}}function Da(f,d,w){try{var C=d.updateQueue,N=C!==null?C.lastEffect:null;if(N!==null){var K=N.next;C=K;do{if((C.tag&f)===f){var ge=C.inst,ke=ge.destroy;if(ke!==void 0){ge.destroy=void 0,N=d;var Bt=w,kt=ke;try{kt()}catch(Yt){Hn(N,Bt,Yt)}}}C=C.next}while(C!==K)}}catch(Yt){Hn(d,d.return,Yt)}}function pa(f){var d=f.updateQueue;if(d!==null){var w=f.stateNode;try{Js(d,w)}catch(C){Hn(f,f.return,C)}}}function Bo(f,d,w){w.props=di(f.type,f.memoizedProps),w.state=f.memoizedState;try{w.componentWillUnmount()}catch(C){Hn(f,d,C)}}function Ti(f,d){try{var w=f.ref;if(w!==null){switch(f.tag){case 26:case 27:case 5:var C=Cs(f.stateNode);break;case 30:C=f.stateNode;break;default:C=f.stateNode}typeof w=="function"?f.refCleanup=w(C):w.current=C}}catch(N){Hn(f,d,N)}}function $n(f,d){var w=f.ref,C=f.refCleanup;if(w!==null)if(typeof C=="function")try{C()}catch(N){Hn(f,d,N)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof w=="function")try{w(null)}catch(N){Hn(f,d,N)}else w.current=null}function pr(f){var d=f.type,w=f.memoizedProps,C=f.stateNode;try{ql(C,d,w,f)}catch(N){Hn(f,f.return,N)}}function Wr(f,d,w){try{Rd(f.stateNode,f.type,w,d,f)}catch(C){Hn(f,f.return,C)}}function FA(f){return f.tag===5||f.tag===3||(fl?f.tag===26:!1)||(wa?f.tag===27&&Of(f.type):!1)||f.tag===4}function So(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||FA(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(wa&&f.tag===27&&Of(f.type)||f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function Pl(f,d,w){var C=f.tag;if(C===5||C===6)f=f.stateNode,d?ig(w,f,d):Eh(w,f);else if(C!==4&&(wa&&C===27&&Of(f.type)&&(w=f.stateNode,d=null),f=f.child,f!==null))for(Pl(f,d,w),f=f.sibling;f!==null;)Pl(f,d,w),f=f.sibling}function du(f,d,w){var C=f.tag;if(C===5||C===6)f=f.stateNode,d?Nd(w,f,d):zc(w,f);else if(C!==4&&(wa&&C===27&&Of(f.type)&&(w=f.stateNode),f=f.child,f!==null))for(du(f,d,w),f=f.sibling;f!==null;)du(f,d,w),f=f.sibling}function yh(f,d,w){f=f.containerInfo;try{cl(f,w)}catch(C){Hn(d,d.return,C)}}function Md(f){var d=f.stateNode,w=f.memoizedProps;try{na(f.type,w,d,f)}catch(C){Hn(f,f.return,C)}}function $p(f,d){for(Gi(f.containerInfo),Vs=d;Vs!==null;)if(f=Vs,d=f.child,(f.subtreeFlags&1028)!==0&&d!==null)d.return=f,Vs=d;else for(;Vs!==null;){f=Vs;var w=f.alternate;switch(d=f.flags,f.tag){case 0:if((d&4)!==0&&(d=f.updateQueue,d=d!==null?d.events:null,d!==null))for(var C=0;C<d.length;C++){var N=d[C];N.ref.impl=N.nextImpl}break;case 11:case 15:break;case 1:if((d&1024)!==0&&w!==null){d=void 0,C=f,N=w.memoizedProps,w=w.memoizedState;var K=C.stateNode;try{var ge=di(C.type,N);d=K.getSnapshotBeforeUpdate(ge,w),K.__reactInternalSnapshotBeforeUpdate=d}catch(ke){Hn(C,C.return,ke)}}break;case 3:(d&1024)!==0&&kn&&ic(f.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(r(163))}if(d=f.sibling,d!==null){d.return=f.return,Vs=d;break}Vs=f.return}}function Ud(f,d,w){var C=w.flags;switch(w.tag){case 0:case 11:case 15:ga(f,w),C&4&&da(5,w);break;case 1:if(ga(f,w),C&4)if(f=w.stateNode,d===null)try{f.componentDidMount()}catch(ge){Hn(w,w.return,ge)}else{var N=di(w.type,d.memoizedProps);d=d.memoizedState;try{f.componentDidUpdate(N,d,f.__reactInternalSnapshotBeforeUpdate)}catch(ge){Hn(w,w.return,ge)}}C&64&&pa(w),C&512&&Ti(w,w.return);break;case 3:if(ga(f,w),C&64&&(C=w.updateQueue,C!==null)){if(f=null,w.child!==null)switch(w.child.tag){case 27:case 5:f=Cs(w.child.stateNode);break;case 1:f=w.child.stateNode}try{Js(C,f)}catch(ge){Hn(w,w.return,ge)}}break;case 27:wa&&d===null&&C&4&&Md(w);case 26:case 5:if(ga(f,w),d===null){if(C&4)pr(w);else if(C&64){f=w.type,d=w.memoizedProps,N=w.stateNode;try{Gv(N,f,d,w)}catch(ge){Hn(w,w.return,ge)}}}C&512&&Ti(w,w.return);break;case 12:ga(f,w);break;case 31:ga(f,w),C&4&&Eo(f,w);break;case 13:ga(f,w),C&4&&Ic(f,w),C&64&&(C=w.memoizedState,C!==null&&(C=C.dehydrated,C!==null&&(w=$m.bind(null,w),jc(C,w))));break;case 22:if(C=w.memoizedState!==null||Fs,!C){d=d!==null&&d.memoizedState!==null||Ls,N=Fs;var K=Ls;Fs=C,(Ls=d)&&!K?Or(f,w,(w.subtreeFlags&8772)!==0):ga(f,w),Fs=N,Ls=K}break;case 30:break;default:ga(f,w)}}function wh(f){var d=f.alternate;d!==null&&(f.alternate=null,wh(d)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(d=f.stateNode,d!==null&&Us(d)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function Co(f,d,w){for(w=w.child;w!==null;)Ql(f,d,w),w=w.sibling}function Ql(f,d,w){if(rA&&typeof rA.onCommitFiberUnmount=="function")try{rA.onCommitFiberUnmount(Hf,w)}catch{}switch(w.tag){case 26:if(fl){Ls||$n(w,d),Co(f,d,w),w.memoizedState?Kc(w.memoizedState):w.stateNode&&c0(w.stateNode);break}case 27:if(wa){Ls||$n(w,d);var C=ms,N=js;Of(w.type)&&(ms=w.stateNode,js=!1),Co(f,d,w),Pa(w.stateNode),ms=C,js=N;break}case 5:Ls||$n(w,d);case 6:if(kn){if(C=ms,N=js,ms=null,Co(f,d,w),ms=C,js=N,ms!==null)if(js)try{bu(ms,w.stateNode)}catch(K){Hn(w,d,K)}else try{Dd(ms,w.stateNode)}catch(K){Hn(w,d,K)}}else Co(f,d,w);break;case 18:kn&&ms!==null&&(js?og(ms,w.stateNode):a0(ms,w.stateNode));break;case 4:kn?(C=ms,N=js,ms=w.stateNode.containerInfo,js=!0,Co(f,d,w),ms=C,js=N):(Nr&&yh(w.stateNode,w,Gc()),Co(f,d,w));break;case 0:case 11:case 14:case 15:Da(2,w,d),Ls||Da(4,w,d),Co(f,d,w);break;case 1:Ls||($n(w,d),C=w.stateNode,typeof C.componentWillUnmount=="function"&&Bo(w,d,C)),Co(f,d,w);break;case 21:Co(f,d,w);break;case 22:Ls=(C=Ls)||w.memoizedState!==null,Co(f,d,w),Ls=C;break;default:Co(f,d,w)}}function Eo(f,d){if(bi&&d.memoizedState===null&&(f=d.alternate,f!==null&&(f=f.memoizedState,f!==null))){f=f.dehydrated;try{H_(f)}catch(w){Hn(d,d.return,w)}}}function Ic(f,d){if(bi&&d.memoizedState===null&&(f=d.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{k_(f)}catch(w){Hn(d,d.return,w)}}function Mo(f){switch(f.tag){case 31:case 13:case 19:var d=f.stateNode;return d===null&&(d=f.stateNode=new x0),d;case 22:return f=f.stateNode,d=f._retryCache,d===null&&(d=f._retryCache=new x0),d;default:throw Error(r(435,f.tag))}}function al(f,d){var w=Mo(f);d.forEach(function(C){if(!w.has(C)){w.add(C);var N=e0.bind(null,f,C);C.then(N,N)}})}function Hs(f,d){var w=d.deletions;if(w!==null)for(var C=0;C<w.length;C++){var N=w[C],K=f,ge=d;if(kn){var ke=ge;e:for(;ke!==null;){switch(ke.tag){case 27:if(wa){if(Of(ke.type)){ms=ke.stateNode,js=!1;break e}break}case 5:ms=ke.stateNode,js=!1;break e;case 3:case 4:ms=ke.stateNode.containerInfo,js=!0;break e}ke=ke.return}if(ms===null)throw Error(r(160));Ql(K,ge,N),ms=null,js=!1}else Ql(K,ge,N);K=N.alternate,K!==null&&(K.return=null),N.return=null}if(d.subtreeFlags&13886)for(d=d.child;d!==null;)Rc(d,f),d=d.sibling}function Rc(f,d){var w=f.alternate,C=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:Hs(d,f),ks(f),C&4&&(Da(3,f,f.return),da(3,f),Da(5,f,f.return));break;case 1:Hs(d,f),ks(f),C&512&&(Ls||w===null||$n(w,w.return)),C&64&&Fs&&(f=f.updateQueue,f!==null&&(C=f.callbacks,C!==null&&(w=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=w===null?C:w.concat(C))));break;case 26:if(fl){var N=yr;if(Hs(d,f),ks(f),C&512&&(Ls||w===null||$n(w,w.return)),C&4){C=w!==null?w.memoizedState:null;var K=f.memoizedState;w===null?K===null?f.stateNode===null?f.stateNode=Xv(N,f.type,f.memoizedProps,f):u0(N,f.type,f.stateNode):f.stateNode=l0(N,K,f.memoizedProps):C!==K?(C===null?w.stateNode!==null&&c0(w.stateNode):Kc(C),K===null?u0(N,f.type,f.stateNode):l0(N,K,f.memoizedProps)):K===null&&f.stateNode!==null&&Wr(f,f.memoizedProps,w.memoizedProps)}break}case 27:if(wa){Hs(d,f),ks(f),C&512&&(Ls||w===null||$n(w,w.return)),w!==null&&C&4&&Wr(f,f.memoizedProps,w.memoizedProps);break}case 5:if(Hs(d,f),ks(f),C&512&&(Ls||w===null||$n(w,w.return)),kn){if(f.flags&32){N=f.stateNode;try{Od(N)}catch(jt){Hn(f,f.return,jt)}}C&4&&f.stateNode!=null&&(N=f.memoizedProps,Wr(f,N,w!==null?w.memoizedProps:N)),C&1024&&(Rh=!0)}else Nr&&f.alternate!==null&&(f.alternate.stateNode=f.stateNode);break;case 6:if(Hs(d,f),ks(f),C&4&&kn){if(f.stateNode===null)throw Error(r(162));C=f.memoizedProps,w=w!==null?w.memoizedProps:C,N=f.stateNode;try{Mh(N,w,C)}catch(jt){Hn(f,f.return,jt)}}break;case 3:if(fl?(Yv(),N=yr,yr=Hd(d.containerInfo),Hs(d,f),yr=N):Hs(d,f),ks(f),C&4){if(kn&&bi&&w!==null&&w.memoizedState.isDehydrated)try{Vv(d.containerInfo)}catch(jt){Hn(f,f.return,jt)}if(Nr){C=d.containerInfo,w=d.pendingChildren;try{cl(C,w)}catch(jt){Hn(f,f.return,jt)}}}Rh&&(Rh=!1,Uf(f));break;case 4:fl?(w=yr,yr=Hd(f.stateNode.containerInfo),Hs(d,f),ks(f),yr=w):(Hs(d,f),ks(f)),C&4&&Nr&&yh(f.stateNode,f,f.stateNode.pendingChildren);break;case 12:Hs(d,f),ks(f);break;case 31:Hs(d,f),ks(f),C&4&&(C=f.updateQueue,C!==null&&(f.updateQueue=null,al(f,C)));break;case 13:Hs(d,f),ks(f),f.child.flags&8192&&f.memoizedState!==null!=(w!==null&&w.memoizedState!==null)&&(Yd=po()),C&4&&(C=f.updateQueue,C!==null&&(f.updateQueue=null,al(f,C)));break;case 22:N=f.memoizedState!==null;var ge=w!==null&&w.memoizedState!==null,ke=Fs,Bt=Ls;if(Fs=ke||N,Ls=Bt||ge,Hs(d,f),Ls=Bt,Fs=ke,ks(f),C&8192&&(d=f.stateNode,d._visibility=N?d._visibility&-2:d._visibility|1,N&&(w===null||ge||Fs||Ls||LA(f)),kn)){e:if(w=null,kn)for(d=f;;){if(d.tag===5||fl&&d.tag===26){if(w===null){ge=w=d;try{K=ge.stateNode,N?rg(K):Pd(ge.stateNode,ge.memoizedProps)}catch(jt){Hn(ge,ge.return,jt)}}}else if(d.tag===6){if(w===null){ge=d;try{var kt=ge.stateNode;N?sg(kt):ag(kt,ge.memoizedProps)}catch(jt){Hn(ge,ge.return,jt)}}}else if(d.tag===18){if(w===null){ge=d;try{var Yt=ge.stateNode;N?Kv(Yt):Wv(ge.stateNode)}catch(jt){Hn(ge,ge.return,jt)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===f)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break e;for(;d.sibling===null;){if(d.return===null||d.return===f)break e;w===d&&(w=null),d=d.return}w===d&&(w=null),d.sibling.return=d.return,d=d.sibling}}C&4&&(C=f.updateQueue,C!==null&&(w=C.retryQueue,w!==null&&(C.retryQueue=null,al(f,w))));break;case 19:Hs(d,f),ks(f),C&4&&(C=f.updateQueue,C!==null&&(f.updateQueue=null,al(f,C)));break;case 30:break;case 21:break;default:Hs(d,f),ks(f)}}function ks(f){var d=f.flags;if(d&2){try{for(var w,C=f.return;C!==null;){if(FA(C)){w=C;break}C=C.return}if(kn){if(w==null)throw Error(r(160));switch(w.tag){case 27:if(wa){var N=w.stateNode,K=So(f);du(f,K,N);break}case 5:var ge=w.stateNode;w.flags&32&&(Od(ge),w.flags&=-33);var ke=So(f);du(f,ke,ge);break;case 3:case 4:var Bt=w.stateNode.containerInfo,kt=So(f);Pl(f,kt,Bt);break;default:throw Error(r(161))}}}catch(Yt){Hn(f,f.return,Yt)}f.flags&=-3}d&4096&&(f.flags&=-4097)}function Uf(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var d=f;Uf(d),d.tag===5&&d.flags&1024&&Ld(d.stateNode),f=f.sibling}}function ga(f,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)Ud(f,d.alternate,d),d=d.sibling}function LA(f){for(f=f.child;f!==null;){var d=f;switch(d.tag){case 0:case 11:case 14:case 15:Da(4,d,d.return),LA(d);break;case 1:$n(d,d.return);var w=d.stateNode;typeof w.componentWillUnmount=="function"&&Bo(d,d.return,w),LA(d);break;case 27:wa&&Pa(d.stateNode);case 26:case 5:$n(d,d.return),LA(d);break;case 22:d.memoizedState===null&&LA(d);break;case 30:LA(d);break;default:LA(d)}f=f.sibling}}function Or(f,d,w){for(w=w&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var C=d.alternate,N=f,K=d,ge=K.flags;switch(K.tag){case 0:case 11:case 15:Or(N,K,w),da(4,K);break;case 1:if(Or(N,K,w),C=K,N=C.stateNode,typeof N.componentDidMount=="function")try{N.componentDidMount()}catch(kt){Hn(C,C.return,kt)}if(C=K,N=C.updateQueue,N!==null){var ke=C.stateNode;try{var Bt=N.shared.hiddenCallbacks;if(Bt!==null)for(N.shared.hiddenCallbacks=null,N=0;N<Bt.length;N++)Os(Bt[N],ke)}catch(kt){Hn(C,C.return,kt)}}w&&ge&64&&pa(K),Ti(K,K.return);break;case 27:wa&&Md(K);case 26:case 5:Or(N,K,w),w&&C===null&&ge&4&&pr(K),Ti(K,K.return);break;case 12:Or(N,K,w);break;case 31:Or(N,K,w),w&&ge&4&&Eo(N,K);break;case 13:Or(N,K,w),w&&ge&4&&Ic(N,K);break;case 22:K.memoizedState===null&&Or(N,K,w),Ti(K,K.return);break;case 30:break;default:Or(N,K,w)}d=d.sibling}}function zs(f,d){var w=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(w=f.memoizedState.cachePool.pool),f=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(f=d.memoizedState.cachePool.pool),f!==w&&(f!=null&&f.refCount++,w!=null&&Ve(w))}function Nc(f,d){f=null,d.alternate!==null&&(f=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==f&&(d.refCount++,f!=null&&Ve(f))}function br(f,d,w,C){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)Tf(f,d,w,C),d=d.sibling}function Tf(f,d,w,C){var N=d.flags;switch(d.tag){case 0:case 11:case 15:br(f,d,w,C),N&2048&&da(9,d);break;case 1:br(f,d,w,C);break;case 3:br(f,d,w,C),N&2048&&(f=null,d.alternate!==null&&(f=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==f&&(d.refCount++,f!=null&&Ve(f)));break;case 12:if(N&2048){br(f,d,w,C),f=d.stateNode;try{var K=d.memoizedProps,ge=K.id,ke=K.onPostCommit;typeof ke=="function"&&ke(ge,d.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(Bt){Hn(d,d.return,Bt)}}else br(f,d,w,C);break;case 31:br(f,d,w,C);break;case 13:br(f,d,w,C);break;case 23:break;case 22:K=d.stateNode,ge=d.alternate,d.memoizedState!==null?K._visibility&2?br(f,d,w,C):Hl(f,d):K._visibility&2?br(f,d,w,C):(K._visibility|=2,ma(f,d,w,C,(d.subtreeFlags&10256)!==0||!1)),N&2048&&zs(ge,d);break;case 24:br(f,d,w,C),N&2048&&Nc(d.alternate,d);break;default:br(f,d,w,C)}}function ma(f,d,w,C,N){for(N=N&&((d.subtreeFlags&10256)!==0||!1),d=d.child;d!==null;){var K=f,ge=d,ke=w,Bt=C,kt=ge.flags;switch(ge.tag){case 0:case 11:case 15:ma(K,ge,ke,Bt,N),da(8,ge);break;case 23:break;case 22:var Yt=ge.stateNode;ge.memoizedState!==null?Yt._visibility&2?ma(K,ge,ke,Bt,N):Hl(K,ge):(Yt._visibility|=2,ma(K,ge,ke,Bt,N)),N&&kt&2048&&zs(ge.alternate,ge);break;case 24:ma(K,ge,ke,Bt,N),N&&kt&2048&&Nc(ge.alternate,ge);break;default:ma(K,ge,ke,Bt,N)}d=d.sibling}}function Hl(f,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var w=f,C=d,N=C.flags;switch(C.tag){case 22:Hl(w,C),N&2048&&zs(C.alternate,C);break;case 24:Hl(w,C),N&2048&&Nc(C.alternate,C);break;default:Hl(w,C)}d=d.sibling}}function eA(f,d,w){if(f.subtreeFlags&QA)for(f=f.child;f!==null;)kl(f,d,w),f=f.sibling}function kl(f,d,w){switch(f.tag){case 26:if(eA(f,d,w),f.flags&QA)if(f.memoizedState!==null)Jv(w,yr,f.memoizedState,f.memoizedProps);else{var C=f.stateNode,N=f.type;f=f.memoizedProps,((d&335544128)===d||kc(N,f))&&_h(w,C,N,f)}break;case 5:eA(f,d,w),f.flags&QA&&(C=f.stateNode,N=f.type,f=f.memoizedProps,((d&335544128)===d||kc(N,f))&&_h(w,C,N,f));break;case 3:case 4:fl?(C=yr,yr=Hd(f.stateNode.containerInfo),eA(f,d,w),yr=C):eA(f,d,w);break;case 22:f.memoizedState===null&&(C=f.alternate,C!==null&&C.memoizedState!==null?(C=QA,QA=16777216,eA(f,d,w),QA=C):eA(f,d,w));break;default:eA(f,d,w)}}function Dc(f){var d=f.alternate;if(d!==null&&(f=d.child,f!==null)){d.child=null;do d=f.sibling,f.sibling=null,f=d;while(f!==null)}}function pu(f){var d=f.deletions;if((f.flags&16)!==0){if(d!==null)for(var w=0;w<d.length;w++){var C=d[w];Vs=C,Uo(C,f)}Dc(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)Yu(f),f=f.sibling}function Yu(f){switch(f.tag){case 0:case 11:case 15:pu(f),f.flags&2048&&Da(9,f,f.return);break;case 3:pu(f);break;case 12:pu(f);break;case 22:var d=f.stateNode;f.memoizedState!==null&&d._visibility&2&&(f.return===null||f.return.tag!==13)?(d._visibility&=-3,Ju(f)):pu(f);break;default:pu(f)}}function Ju(f){var d=f.deletions;if((f.flags&16)!==0){if(d!==null)for(var w=0;w<d.length;w++){var C=d[w];Vs=C,Uo(C,f)}Dc(f)}for(f=f.child;f!==null;){switch(d=f,d.tag){case 0:case 11:case 15:Da(8,d,d.return),Ju(d);break;case 22:w=d.stateNode,w._visibility&2&&(w._visibility&=-3,Ju(d));break;default:Ju(d)}f=f.sibling}}function Uo(f,d){for(;Vs!==null;){var w=Vs;switch(w.tag){case 0:case 11:case 15:Da(8,w,d);break;case 23:case 22:if(w.memoizedState!==null&&w.memoizedState.cachePool!==null){var C=w.memoizedState.cachePool.pool;C!=null&&C.refCount++}break;case 24:Ve(w.memoizedState.cache)}if(C=w.child,C!==null)C.return=w,Vs=C;else e:for(w=f;Vs!==null;){C=Vs;var N=C.sibling,K=C.return;if(wh(C),C===w){Vs=null;break e}if(N!==null){N.return=K,Vs=N;break e}Vs=K}}}function gu(f){var d=Un(f);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(r(364));return d}if(f=as(f),f===null)throw Error(r(362));return f.stateNode.current}function zl(f,d){var w=f.tag;switch(d.$$typeof){case wl:if(f.type===d.value)return!0;break;case Dh:e:{for(d=d.value,f=[f,0],w=0;w<f.length;){var C=f[w++],N=C.tag,K=f[w++],ge=d[K];if(N!==5&&N!==26&&N!==27||!ll(C)){for(;ge!=null&&zl(C,ge);)K++,ge=d[K];if(K===d.length){d=!0;break e}else for(C=C.child;C!==null;)f.push(C,K),C=C.sibling}}d=!1}return d;case Oh:if((w===5||w===26||w===27)&&nc(f.stateNode,d.value))return!0;break;case Zc:if((w===5||w===6||w===26||w===27)&&(f=xu(f),f!==null&&0<=f.indexOf(d.value)))return!0;break;case qd:if((w===5||w===26||w===27)&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function Oc(f){switch(f.$$typeof){case wl:return"<"+(g(f.value)||"Unknown")+">";case Dh:return":has("+(Oc(f)||"")+")";case Oh:return'[role="'+f.value+'"]';case Zc:return'"'+f.value+'"';case qd:return'[data-testname="'+f.value+'"]';default:throw Error(r(365))}}function Pc(f,d){var w=[];f=[f,0];for(var C=0;C<f.length;){var N=f[C++],K=N.tag,ge=f[C++],ke=d[ge];if(K!==5&&K!==26&&K!==27||!ll(N)){for(;ke!=null&&zl(N,ke);)ge++,ke=d[ge];if(ge===d.length)w.push(N);else for(N=N.child;N!==null;)f.push(N,ge),N=N.sibling}}return w}function uo(f,d){if(!ss)throw Error(r(363));f=gu(f),f=Pc(f,d),d=[],f=Array.from(f);for(var w=0;w<f.length;){var C=f[w++],N=C.tag;if(N===5||N===26||N===27)ll(C)||d.push(C.stateNode);else for(C=C.child;C!==null;)f.push(C),C=C.sibling}return d}function Pr(){return(Ei&2)!==0&&Ri!==0?Ri&-Ri:fn.T!==null?Ie():nA()}function Gl(){if(Do===0)if((Ri&536870912)===0||Ii){var f=Qf;Qf<<=1,(Qf&3932160)===0&&(Qf=262144),Do=f}else Do=536870912;return f=sA.current,f!==null&&(f.flags|=32),Do}function Rr(f,d,w){(f===yi&&(wr===2||wr===9)||f.cancelPendingCommit!==null)&&(ns(f,0),ol(f,Ri,Do,!1)),O(f,w),((Ei&2)===0||f!==yi)&&(f===yi&&((Ei&2)===0&&(tf|=w),vs===4&&ol(f,Ri,Do,!1)),$e(f))}function To(f,d,w){if((Ei&6)!==0)throw Error(r(327));var C=!w&&(d&127)===0&&(d&f.expiredLanes)===0||M(f,d),N=C?Vl(f,d):Al(f,d,!0),K=C;do{if(N===0){$c&&!C&&ol(f,d,0,!1);break}else{if(w=f.current.alternate,K&&!eg(w)){N=Al(f,d,!1),K=!1;continue}if(N===2){if(K=d,f.errorRecoveryDisabledLanes&K)var ge=0;else ge=f.pendingLanes&-536870913,ge=ge!==0?ge:ge&536870912?536870912:0;if(ge!==0){d=ge;e:{var ke=f;N=Xd;var Bt=bi&&ke.current.memoizedState.isDehydrated;if(Bt&&(ns(ke,ge).flags|=256),ge=Al(ke,ge,!1),ge!==2){if(ef&&!Bt){ke.errorRecoveryDisabledLanes|=K,tf|=K,N=4;break e}K=oA,oA=N,K!==null&&(oA===null?oA=K:oA.push.apply(oA,K))}N=ge}if(K=!1,N!==2)continue}}if(N===1){ns(f,0),ol(f,d,0,!0);break}e:{switch(C=f,K=N,K){case 0:case 1:throw Error(r(345));case 4:if((d&4194048)!==d)break;case 6:ol(C,d,Do,!eu);break e;case 2:oA=null;break;case 3:case 5:break;default:throw Error(r(329))}if((d&62914560)===d&&(N=Yd+300-po(),10<N)){if(ol(C,d,Do,!eu),b(C,0,!0)!==0)break e;Fu=d,C.timeoutHandle=ir(co.bind(null,C,w,oA,Jd,_g,d,Do,tf,Qh,eu,K,"Throttled",-0,0),N);break e}co(C,w,oA,Jd,_g,d,Do,tf,Qh,eu,K,null,-0,0)}}break}while(!0);$e(f)}function co(f,d,w,C,N,K,ge,ke,Bt,kt,Yt,jt,hn,ni){if(f.timeoutHandle=Sr,jt=d.subtreeFlags,jt&8192||(jt&16785408)===16785408){jt=Fd(),kl(d,K,jt);var Ks=(K&62914560)===K?Yd-po():(K&4194048)===K?Kf-po():0;if(Ks=Bh(jt,Ks),Ks!==null){Fu=K,f.cancelPendingCommit=Ks(RA.bind(null,f,d,K,w,C,N,ge,ke,Bt,Yt,jt,null,hn,ni)),ol(f,K,ge,!kt);return}}RA(f,d,K,w,C,N,ge,ke,Bt)}function eg(f){for(var d=f;;){var w=d.tag;if((w===0||w===11||w===15)&&d.flags&16384&&(w=d.updateQueue,w!==null&&(w=w.stores,w!==null)))for(var C=0;C<w.length;C++){var N=w[C],K=N.getSnapshot;N=N.value;try{if(!Gs(K(),N))return!1}catch{return!1}}if(w=d.child,d.subtreeFlags&16384&&w!==null)w.return=d,d=w;else{if(d===f)break;for(;d.sibling===null;){if(d.return===null||d.return===f)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function ol(f,d,w,C){d&=~Ph,d&=~tf,f.suspendedLanes|=d,f.pingedLanes&=~d,C&&(f.warmLanes|=d),C=f.expirationTimes;for(var N=d;0<N;){var K=31-iA(N),ge=1<<K;C[K]=-1,N&=~ge}w!==0&&V(f,w,d)}function Ff(){return(Ei&6)===0?(At(0),!1):!0}function xh(){if(Mi!==null){if(wr===0)var f=Mi.return;else f=Mi,Zl=Hr=null,ri(f),Xc=null,kf=0,f=Mi;for(;f!==null;)hu(f.alternate,f),f=f.return;Mi=null}}function ns(f,d){var w=f.timeoutHandle;w!==Sr&&(f.timeoutHandle=Sr,Ms(w)),w=f.cancelPendingCommit,w!==null&&(f.cancelPendingCommit=null,w()),Fu=0,xh(),yi=f,Mi=w=Lo(f.current,null),Ri=d,wr=0,ia=null,eu=!1,$c=M(f,d),ef=!1,Qh=Do=Ph=tf=Ac=vs=0,oA=Xd=null,_g=!1,(d&8)!==0&&(d|=d&32);var C=f.entangledLanes;if(C!==0)for(f=f.entanglements,C&=d;0<C;){var N=31-iA(C),K=1<<N;d|=f[N],C&=~K}return Tu=d,ci(),w}function _r(f,d){si=null,fn.H=PA,d===_a||d===vl?(d=nn(),wr=3):d===xg?(d=nn(),wr=4):wr=d===No?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,ia=d,Mi===null&&(vs=1,xr(f,fe(d,f.current)))}function Ci(){var f=sA.current;return f===null?!0:(Ri&4194048)===Ri?aA===null:(Ri&62914560)===Ri||(Ri&536870912)!==0?f===aA:!1}function Oa(){var f=fn.H;return fn.H=PA,f===null?PA:f}function qr(){var f=fn.A;return fn.A=Nh,f}function fo(){vs=4,eu||(Ri&4194048)!==Ri&&sA.current!==null||($c=!0),(Ac&134217727)===0&&(tf&134217727)===0||yi===null||ol(yi,Ri,Do,!1)}function Al(f,d,w){var C=Ei;Ei|=2;var N=Oa(),K=qr();(yi!==f||Ri!==d)&&(Jd=null,ns(f,d)),d=!1;var ge=vs;e:do try{if(wr!==0&&Mi!==null){var ke=Mi,Bt=ia;switch(wr){case 8:xh(),ge=6;break e;case 3:case 2:case 9:case 6:sA.current===null&&(d=!0);var kt=wr;if(wr=0,ia=null,IA(f,ke,Bt,kt),w&&$c){ge=0;break e}break;default:kt=wr,wr=0,ia=null,IA(f,ke,Bt,kt)}}Td(),ge=vs;break}catch(Yt){_r(f,Yt)}while(!0);return d&&f.shellSuspendCounter++,Zl=Hr=null,Ei=C,fn.H=N,fn.A=K,Mi===null&&(yi=null,Ri=0,ci()),ge}function Td(){for(;Mi!==null;)mu(Mi)}function Vl(f,d){var w=Ei;Ei|=2;var C=Oa(),N=qr();yi!==f||Ri!==d?(Jd=null,nf=po()+500,ns(f,d)):$c=M(f,d);e:do try{if(wr!==0&&Mi!==null){d=Mi;var K=ia;t:switch(wr){case 1:wr=0,ia=null,IA(f,d,K,1);break;case 2:case 9:if(Lt(K)){wr=0,ia=null,bh(d);break}d=function(){wr!==2&&wr!==9||yi!==f||(wr=7),$e(f)},K.then(d,d);break e;case 3:wr=7;break e;case 4:wr=5;break e;case 7:Lt(K)?(wr=0,ia=null,bh(d)):(wr=0,ia=null,IA(f,d,K,7));break;case 5:var ge=null;switch(Mi.tag){case 26:ge=Mi.memoizedState;case 5:case 27:var ke=Mi,Bt=ke.type,kt=ke.pendingProps;if(ge?h0(ge):mr(ke.stateNode,Bt,kt)){wr=0,ia=null;var Yt=ke.sibling;if(Yt!==null)Mi=Yt;else{var jt=ke.return;jt!==null?(Mi=jt,Zu(jt)):Mi=null}break t}}wr=0,ia=null,IA(f,d,K,5);break;case 6:wr=0,ia=null,IA(f,d,K,6);break;case 8:xh(),vs=6;break e;default:throw Error(r(462))}}va();break}catch(hn){_r(f,hn)}while(!0);return Zl=Hr=null,fn.H=C,fn.A=N,Ei=w,Mi!==null?0:(yi=null,Ri=0,ci(),vs)}function va(){for(;Mi!==null&&!$v();)mu(Mi)}function mu(f){var d=UA(f.alternate,f,Tu);f.memoizedProps=f.pendingProps,d===null?Zu(f):Mi=d}function bh(f){var d=f,w=d.alternate;switch(d.tag){case 15:case 0:d=qu(w,d,d.pendingProps,d.type,void 0,Ri);break;case 11:d=qu(w,d,d.pendingProps,d.type.render,d.ref,Ri);break;case 5:ri(d);default:hu(w,d),d=Mi=If(d,Tu),d=UA(w,d,Tu)}f.memoizedProps=f.pendingProps,d===null?Zu(f):Mi=d}function IA(f,d,w,C){Zl=Hr=null,ri(d),Xc=null,kf=0;var N=d.return;try{if(fa(f,N,d,w,Ri)){vs=1,xr(f,fe(w,f.current)),Mi=null;return}}catch(K){if(N!==null)throw Mi=N,K;vs=1,xr(f,fe(w,f.current)),Mi=null;return}d.flags&32768?(Ii||C===1?f=!0:$c||(Ri&536870912)!==0?f=!1:(eu=f=!0,(C===2||C===9||C===3||C===6)&&(C=sA.current,C!==null&&C.tag===13&&(C.flags|=16384))),jl(d,f)):Zu(d)}function Zu(f){var d=f;do{if((d.flags&32768)!==0){jl(d,eu);return}f=d.return;var w=Ol(d.alternate,d,Tu);if(w!==null){Mi=w;return}if(d=d.sibling,d!==null){Mi=d;return}Mi=d=f}while(d!==null);vs===0&&(vs=5)}function jl(f,d){do{var w=sl(f.alternate,f);if(w!==null){w.flags&=32767,Mi=w;return}if(w=f.return,w!==null&&(w.flags|=32768,w.subtreeFlags=0,w.deletions=null),!d&&(f=f.sibling,f!==null)){Mi=f;return}Mi=f=w}while(f!==null);vs=6,Mi=null}function RA(f,d,w,C,N,K,ge,ke,Bt){f.cancelPendingCommit=null;do tA();while(ra!==0);if((Ei&6)!==0)throw Error(r(327));if(d!==null){if(d===f.current)throw Error(r(177));if(K=d.lanes|d.childLanes,K|=zf,z(f,w,K,ge,ke,Bt),f===yi&&(Mi=yi=null,Ri=0),Wf=d,uc=f,Fu=w,Hh=K,Bg=N,b0=C,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(f.callbackNode=null,f.callbackPriority=0,hs(zd,function(){return Lf(),null})):(f.callbackNode=null,f.callbackPriority=0),C=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||C){C=fn.T,fn.T=null,N=rs(),Qn(2),ge=Ei,Ei|=4;try{$p(f,d,w)}finally{Ei=ge,Qn(N),fn.T=C}}ra=1,Kl(),Fo(),$u()}}function Kl(){if(ra===1){ra=0;var f=uc,d=Wf,w=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||w){w=fn.T,fn.T=null;var C=rs();Qn(2);var N=Ei;Ei|=4;try{Rc(d,f),Yr(f.containerInfo)}finally{Ei=N,Qn(C),fn.T=w}}f.current=d,ra=2}}function Fo(){if(ra===2){ra=0;var f=uc,d=Wf,w=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||w){w=fn.T,fn.T=null;var C=rs();Qn(2);var N=Ei;Ei|=4;try{Ud(f,d.alternate,d)}finally{Ei=N,Qn(C),fn.T=w}}ra=3}}function $u(){if(ra===4||ra===3){ra=0,p0();var f=uc,d=Wf,w=Fu,C=b0;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?ra=5:(ra=0,Wf=uc=null,vu(f,f.pendingLanes));var N=f.pendingLanes;if(N===0&&(lc=null),G(w),d=d.stateNode,rA&&typeof rA.onCommitFiberRoot=="function")try{rA.onCommitFiberRoot(Hf,d,void 0,(d.current.flags&128)===128)}catch{}if(C!==null){d=fn.T,N=rs(),Qn(2),fn.T=null;try{for(var K=f.onRecoverableError,ge=0;ge<C.length;ge++){var ke=C[ge];K(ke.value,{componentStack:ke.stack})}}finally{fn.T=d,Qn(N)}}(Fu&3)!==0&&tA(),$e(f),N=f.pendingLanes,(w&261930)!==0&&(N&42)!==0?f===Zd?$i++:($i=0,Zd=f):$i=0,bi&&Qd(),At(0)}}function vu(f,d){(f.pooledCacheLanes&=d)===0&&(d=f.pooledCache,d!=null&&(f.pooledCache=null,Ve(d)))}function tA(){return Kl(),Fo(),$u(),Lf()}function Lf(){if(ra!==5)return!1;var f=uc,d=Hh;Hh=0;var w=G(Fu),C=32>w?32:w;w=fn.T;var N=rs();try{Qn(C),fn.T=null,C=Bg,Bg=null;var K=uc,ge=Fu;if(ra=0,Wf=uc=null,Fu=0,(Ei&6)!==0)throw Error(r(331));var ke=Ei;if(Ei|=4,Yu(K.current),Tf(K,K.current,ge,C),Ei=ke,At(0,!1),rA&&typeof rA.onPostCommitFiberRoot=="function")try{rA.onPostCommitFiberRoot(Hf,K)}catch{}return!0}finally{Qn(N),fn.T=w,vu(f,d)}}function Wl(f,d,w){d=fe(w,d),d=ar(f.stateNode,d,2),f=cr(f,d,2),f!==null&&(O(f,2),$e(f))}function Hn(f,d,w){if(f.tag===3)Wl(f,f,w);else for(;d!==null;){if(d.tag===3){Wl(d,f,w);break}else if(d.tag===1){var C=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(lc===null||!lc.has(C))){f=fe(w,f),w=Ss(2),C=cr(d,w,2),C!==null&&(fs(w,C,d,f),O(C,2),$e(C));break}}d=d.return}}function Qc(f,d,w){var C=f.pingCache;if(C===null){C=f.pingCache=new HA;var N=new Set;C.set(d,N)}else N=C.get(d),N===void 0&&(N=new Set,C.set(d,N));N.has(w)||(ef=!0,N.add(w),f=tg.bind(null,f,d,w),d.then(f,f))}function tg(f,d,w){var C=f.pingCache;C!==null&&C.delete(d),f.pingedLanes|=f.suspendedLanes&w,f.warmLanes&=~w,yi===f&&(Ri&w)===w&&(vs===4||vs===3&&(Ri&62914560)===Ri&&300>po()-Yd?(Ei&2)===0&&ns(f,0):Ph|=w,Qh===Ri&&(Qh=0)),$e(f)}function ng(f,d){d===0&&(d=U()),f=ki(f,d),f!==null&&(O(f,d),$e(f))}function $m(f){var d=f.memoizedState,w=0;d!==null&&(w=d.retryLane),ng(f,w)}function e0(f,d){var w=0;switch(f.tag){case 31:case 13:var C=f.stateNode,N=f.memoizedState;N!==null&&(w=N.retryLane);break;case 19:C=f.stateNode;break;case 22:C=f.stateNode._retryCache;break;default:throw Error(r(314))}C!==null&&C.delete(d),ng(f,w)}function hs(f,d){return kd(f,d)}function Hc(f,d,w,C){this.tag=f,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ec(f){return f=f.prototype,!(!f||!f.isReactComponent)}function Lo(f,d){var w=f.alternate;return w===null?(w=t(f.tag,d,f.key,f.mode),w.elementType=f.elementType,w.type=f.type,w.stateNode=f.stateNode,w.alternate=f,f.alternate=w):(w.pendingProps=d,w.type=f.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=f.flags&65011712,w.childLanes=f.childLanes,w.lanes=f.lanes,w.child=f.child,w.memoizedProps=f.memoizedProps,w.memoizedState=f.memoizedState,w.updateQueue=f.updateQueue,d=f.dependencies,w.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},w.sibling=f.sibling,w.index=f.index,w.ref=f.ref,w.refCleanup=f.refCleanup,w}function If(f,d){f.flags&=65011714;var w=f.alternate;return w===null?(f.childLanes=0,f.lanes=d,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=w.childLanes,f.lanes=w.lanes,f.child=w.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=w.memoizedProps,f.memoizedState=w.memoizedState,f.updateQueue=w.updateQueue,f.type=w.type,d=w.dependencies,f.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),f}function S(f,d,w,C,N,K){var ge=0;if(C=f,typeof f=="function")ec(f)&&(ge=1);else if(typeof f=="string")ge=fl&&wa?Ag(f,w,Qa.current)?26:d0(f)?27:5:fl?Ag(f,w,Qa.current)?26:5:wa&&d0(f)?27:5;else e:switch(f){case Jt:return f=t(31,w,d,N),f.elementType=Jt,f.lanes=K,f;case Ht:return F(w.children,N,K,d);case Dt:ge=8,N|=24;break;case yn:return f=t(12,w,d,N|2),f.elementType=yn,f.lanes=K,f;case gi:return f=t(13,w,d,N),f.elementType=gi,f.lanes=K,f;case gr:return f=t(19,w,d,N),f.elementType=gr,f.lanes=K,f;default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case In:ge=10;break e;case cn:ge=9;break e;case gn:ge=11;break e;case qn:ge=14;break e;case tn:ge=16,C=null;break e}ge=29,w=Error(r(130,f===null?"null":typeof f,"")),C=null}return d=t(ge,w,d,N),d.elementType=f,d.type=C,d.lanes=K,d}function F(f,d,w,C){return f=t(7,f,C,d),f.lanes=w,f}function j(f,d,w){return f=t(6,f,null,d),f.lanes=w,f}function J(f){var d=t(18,null,null,0);return d.stateNode=f,d}function ue(f,d,w){return d=t(4,f.children!==null?f.children:[],f.key,d),d.lanes=w,d.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},d}function he(f,d,w,C,N,K,ge,ke,Bt){this.tag=1,this.containerInfo=f,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Sr,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=R(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=R(0),this.hiddenUpdates=R(null),this.identifierPrefix=C,this.onUncaughtError=N,this.onCaughtError=K,this.onRecoverableError=ge,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Bt,this.incompleteTransitions=new Map}function de(f,d,w,C,N,K,ge,ke,Bt,kt,Yt,jt){return f=new he(f,d,w,ge,Bt,kt,Yt,jt,ke),d=1,K===!0&&(d|=24),K=t(3,null,null,d),f.current=K,K.stateNode=f,d=Ge(),d.refCount++,f.pooledCache=d,d.refCount++,K.memoizedState={element:C,isDehydrated:w,cache:d},Ji(K),f}function we(f){return f?(f=_u,f):_u}function _e(f){var d=f._reactInternals;if(d===void 0)throw typeof f.render=="function"?Error(r(188)):(f=Object.keys(f).join(","),Error(r(268,f)));return f=A(d),f=f!==null?l(f):null,f===null?null:Cs(f.stateNode)}function Te(f,d,w,C,N,K){N=we(N),C.context===null?C.context=N:C.pendingContext=N,C=Fr(d),C.payload={element:w},K=K===void 0?null:K,K!==null&&(C.callback=K),w=cr(f,C,d),w!==null&&(Rr(w,f,d),Ns(w,f,d))}function je(f,d){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var w=f.retryLane;f.retryLane=w!==0&&w<d?w:d}}function gt(f,d){je(f,d),(f=f.alternate)&&je(f,d)}var be={},qe=vc,et=r9,Mt=Object.assign,ft=Symbol.for("react.element"),Ct=Symbol.for("react.transitional.element"),Tt=Symbol.for("react.portal"),Ht=Symbol.for("react.fragment"),Dt=Symbol.for("react.strict_mode"),yn=Symbol.for("react.profiler"),cn=Symbol.for("react.consumer"),In=Symbol.for("react.context"),gn=Symbol.for("react.forward_ref"),gi=Symbol.for("react.suspense"),gr=Symbol.for("react.suspense_list"),qn=Symbol.for("react.memo"),tn=Symbol.for("react.lazy"),Jt=Symbol.for("react.activity"),Xr=Symbol.for("react.memo_cache_sentinel"),Nn=Symbol.iterator,ti=Symbol.for("react.client.reference"),zi=Array.isArray,fn=qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ya=e.rendererVersion,Br=e.rendererPackageName,ds=e.extraDevToolsConfig,Cs=e.getPublicInstance,Es=e.getRootHostContext,mi=e.getChildHostContext,Gi=e.prepareForCommit,Yr=e.resetAfterCommit,Zi=e.createInstance;e.cloneMutableInstance;var ps=e.appendInitialChild,Qr=e.finalizeInitialChildren,Fi=e.shouldSetTextContent,is=e.createTextInstance;e.cloneMutableTextInstance;var ir=e.scheduleTimeout,Ms=e.cancelTimeout,Sr=e.noTimeout,Li=e.isPrimaryRenderer;e.warnsIfNotActing;var kn=e.supportsMutation,Nr=e.supportsPersistence,bi=e.supportsHydration,Un=e.getInstanceFromNode;e.beforeActiveInstanceBlur;var Ln=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var Qn=e.setCurrentUpdatePriority,rs=e.getCurrentUpdatePriority,nA=e.resolveUpdatePriority;e.trackSchedulerEvent,e.resolveEventType,e.resolveEventTimeStamp;var Xa=e.shouldAttemptEagerTransition,Us=e.detachDeletedInstance;e.requestPostPaintCallback;var yu=e.maySuspendCommit,wu=e.maySuspendCommitOnUpdate,kc=e.maySuspendCommitInSyncRender,mr=e.preloadInstance,Fd=e.startSuspendingCommit,_h=e.suspendInstance;e.suspendOnActiveViewTransition;var Bh=e.waitForCommitToBeReady;e.getSuspendedCommitReason;var ho=e.NotPendingTransition,tc=e.HostTransitionContext,Ld=e.resetFormInstance;e.bindToConsole;var Id=e.supportsMicrotasks,Sh=e.scheduleMicrotask,ss=e.supportsTestSelectors,as=e.findFiberRoot,Rf=e.getBoundingRect,xu=e.getTextContent,ll=e.isHiddenSubtree,nc=e.matchAccessibilityRole,ul=e.setFocusIfFocusable,Ch=e.setupIntersectionObserver,zc=e.appendChild,Eh=e.appendChildToContainer,Mh=e.commitTextUpdate,ql=e.commitMount,Rd=e.commitUpdate,Nd=e.insertBefore,ig=e.insertInContainerBefore,Dd=e.removeChild,bu=e.removeChildFromContainer,Od=e.resetTextContent,rg=e.hideInstance,sg=e.hideTextInstance,Pd=e.unhideInstance,ag=e.unhideTextInstance;e.cancelViewTransitionName,e.cancelRootViewTransitionName,e.restoreRootViewTransitionName,e.cloneRootViewTransitionContainer,e.removeRootViewTransitionClone,e.measureClonedInstance,e.hasInstanceChanged,e.hasInstanceAffectedParent,e.startViewTransition,e.startGestureTransition,e.stopViewTransition,e.getCurrentGestureOffset,e.createViewTransitionInstance;var ic=e.clearContainer;e.createFragmentInstance,e.updateFragmentInstanceFiber,e.commitNewChildToFragmentInstance,e.deleteChildFromFragmentInstance;var Uh=e.cloneInstance,Gc=e.createContainerChildSet,NA=e.appendChildToContainerChildSet,Xl=e.finalizeContainerChildren,cl=e.replaceContainerChildren,Nf=e.cloneHiddenInstance,Df=e.cloneHiddenTextInstance,Yl=e.isSuspenseInstancePending,Th=e.isSuspenseInstanceFallback,Vc=e.getSuspenseInstanceFallbackErrorDetails,jc=e.registerSuspenseInstanceRetry,Tv=e.canHydrateFormStateMarker,t0=e.isFormStateMarkerMatching,Fv=e.getNextHydratableSibling,Lv=e.getNextHydratableSiblingAfterSingleton,Iv=e.getFirstHydratableChild,Rv=e.getFirstHydratableChildWithinContainer,Nv=e.getFirstHydratableChildWithinActivityInstance,Dv=e.getFirstHydratableChildWithinSuspenseInstance,n0=e.getFirstHydratableChildWithinSingleton,Ov=e.canHydrateInstance,Pv=e.canHydrateTextInstance,i0=e.canHydrateActivityInstance,Qv=e.canHydrateSuspenseInstance,Hv=e.hydrateInstance,Q_=e.hydrateTextInstance,r0=e.hydrateActivityInstance,kv=e.hydrateSuspenseInstance,zv=e.getNextHydratableInstanceAfterActivityInstance,s0=e.getNextHydratableInstanceAfterSuspenseInstance,Gv=e.commitHydratedInstance,Vv=e.commitHydratedContainer,H_=e.commitHydratedActivityInstance,k_=e.commitHydratedSuspenseInstance,jv=e.finalizeHydratedChildren,Qd=e.flushHydrationEvents;e.clearActivityBoundary;var a0=e.clearSuspenseBoundary;e.clearActivityBoundaryFromContainer;var og=e.clearSuspenseBoundaryFromContainer,Kv=e.hideDehydratedBoundary,Wv=e.unhideDehydratedBoundary,Fh=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var qv=e.validateHydratableInstance,o0=e.validateHydratableTextInstance,fl=e.supportsResources,Ag=e.isHostHoistableType,Hd=e.getHoistableRoot,A0=e.getResource,l0=e.acquireResource,Kc=e.releaseResource,Xv=e.hydrateHoistable,u0=e.mountHoistable,c0=e.unmountHoistable,lg=e.createHoistableInstance,Yv=e.prepareToCommitHoistables,f0=e.mayResourceSuspendCommit,h0=e.preloadResource,Jv=e.suspendResource,wa=e.supportsSingletons,ug=e.resolveSingletonInstance,na=e.acquireSingletonInstance,Pa=e.releaseSingletonInstance,d0=e.isHostSingletonType,Of=e.isSingletonScope,cg=[],Pf=-1,_u={},iA=Math.clz32?Math.clz32:B,fg=Math.log,Zv=Math.LN2,hg=256,Qf=262144,Lh=4194304,kd=et.unstable_scheduleCallback,dg=et.unstable_cancelCallback,$v=et.unstable_shouldYield,p0=et.unstable_requestPaint,po=et.unstable_now,pg=et.unstable_ImmediatePriority,ey=et.unstable_UserBlockingPriority,zd=et.unstable_NormalPriority,gg=et.unstable_IdlePriority,g0=et.log,ty=et.unstable_setDisableYieldValue,Hf=null,rA=null,Gs=typeof Object.is=="function"?Object.is:H,mg=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)},z_=Object.prototype.hasOwnProperty,vg,Bu,Gd=!1,m0=new WeakMap,rc=[],Su=0,Cr=null,Vd=0,hl=[],DA=0,dl=null,Ya=1,Jl="",Qa=v(null),sc=v(null),Ja=v(null),jd=v(null),xa=null,os=null,Ii=!1,Cu=null,Io=!1,yg=Error(r(519)),pl=v(null),Hr=null,Zl=null,ny=typeof AbortController<"u"?AbortController:function(){var f=[],d=this.signal={aborted:!1,addEventListener:function(w,C){f.push(C)}};this.abort=function(){d.aborted=!0,f.forEach(function(w){return w()})}},Ha=et.unstable_scheduleCallback,G_=et.unstable_NormalPriority,As={$$typeof:In,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Kd=null,vr=null,go=!1,gl=!1,wg=!1,Wc=0,Ih=null,v0=0,ac=0,ba=null,ml=fn.S;fn.S=function(f,d){Kf=po(),typeof d=="object"&&d!==null&&typeof d.then=="function"&&Ut(f,d),ml!==null&&ml(f,d)};var qc=v(null),_a=Error(r(460)),xg=Error(r(474)),vl=Error(r(542)),Eu={then:function(){}},Ro=null,Xc=null,kf=0,Za=lr(!0),y0=lr(!1),$a=[],Mu=0,zf=0,OA=!1,bg=!1,Gf=v(null),Yc=v(0),sA=v(null),aA=null,Ts=v(0),oc=0,si=null,Mn=null,Xn=null,vi=!1,pi=!1,Oi=!1,mo=0,yl=0,$l=null,w0=0,PA={readContext:Ae,use:Lr,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt};PA.useEffectEvent=Qt;var gs={readContext:Ae,use:Lr,useCallback:function(f,d){return Rn().memoizedState=[f,d===void 0?null:d],f},useContext:Ae,useEffect:Ia,useImperativeHandle:function(f,d,w){w=w!=null?w.concat([f]):null,ua(4194308,4,ao.bind(null,d,f),w)},useLayoutEffect:function(f,d){return ua(4194308,4,f,d)},useInsertionEffect:function(f,d){ua(4,2,f,d)},useMemo:function(f,d){var w=Rn();d=d===void 0?null:d;var C=f();if(Oi){q(!0);try{f()}finally{q(!1)}}return w.memoizedState=[C,d],C},useReducer:function(f,d,w){var C=Rn();if(w!==void 0){var N=w(d);if(Oi){q(!0);try{w(d)}finally{q(!1)}}}else N=d;return C.memoizedState=C.baseState=N,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:N},C.queue=f,f=f.dispatch=le.bind(null,si,f),[C.memoizedState,f]},useRef:function(f){var d=Rn();return f={current:f},d.memoizedState=f},useState:function(f){f=bA(f);var d=f.queue,w=Ue.bind(null,si,d);return d.dispatch=w,[f.memoizedState,w]},useDebugValue:Xo,useDeferredValue:function(f,d){var w=Rn();return jr(w,f,d)},useTransition:function(){var f=bA(!1);return f=Ka.bind(null,si,f.queue,!0,!1),Rn().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,d,w){var C=si,N=Rn();if(Ii){if(w===void 0)throw Error(r(407));w=w()}else{if(w=d(),yi===null)throw Error(r(349));(Ri&127)!==0||dr(C,d,w)}N.memoizedState=w;var K={value:w,getSnapshot:d};return N.queue=K,Ia(xo.bind(null,C,K,f),[f]),C.flags|=2048,cs(9,{destroy:void 0},Vr.bind(null,C,K,w,d),null),w},useId:function(){var f=Rn(),d=yi.identifierPrefix;if(Ii){var w=Jl,C=Ya;w=(C&~(1<<32-iA(C)-1)).toString(32)+w,d="_"+d+"R_"+w,w=mo++,0<w&&(d+="H"+w.toString(32)),d+="_"}else w=w0++,d="_"+d+"r_"+w.toString(32)+"_";return f.memoizedState=d},useHostTransitionStatus:Il,useFormState:YA,useActionState:YA,useOptimistic:function(f){var d=Rn();d.memoizedState=d.baseState=f;var w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=w,d=st.bind(null,si,!0,w),w.dispatch=d,[f,d]},useMemoCache:Zs,useCacheRefresh:function(){return Rn().memoizedState=D.bind(null,si)},useEffectEvent:function(f){var d=Rn(),w={impl:f};return d.memoizedState=w,function(){if((Ei&2)!==0)throw Error(r(440));return w.impl.apply(void 0,arguments)}}},Uu={readContext:Ae,use:Lr,useCallback:Ra,useContext:Ae,useEffect:ro,useImperativeHandle:bo,useInsertionEffect:so,useLayoutEffect:ca,useMemo:oo,useReducer:fr,useRef:BA,useState:function(){return fr(Ni)},useDebugValue:Xo,useDeferredValue:function(f,d){var w=Kt();return cu(w,Mn.memoizedState,f,d)},useTransition:function(){var f=fr(Ni)[0],d=Kt().memoizedState;return[typeof f=="boolean"?f:dn(f),d]},useSyncExternalStore:nr,useId:Yo,useHostTransitionStatus:Il,useFormState:ea,useActionState:ea,useOptimistic:function(f,d){var w=Kt();return $r(w,Mn,f,d)},useMemoCache:Zs,useCacheRefresh:Bs};Uu.useEffectEvent=sr;var Jc={readContext:Ae,use:Lr,useCallback:Ra,useContext:Ae,useEffect:ro,useImperativeHandle:bo,useInsertionEffect:so,useLayoutEffect:ca,useMemo:oo,useReducer:hr,useRef:BA,useState:function(){return hr(Ni)},useDebugValue:Xo,useDeferredValue:function(f,d){var w=Kt();return Mn===null?jr(w,f,d):cu(w,Mn.memoizedState,f,d)},useTransition:function(){var f=hr(Ni)[0],d=Kt().memoizedState;return[typeof f=="boolean"?f:dn(f),d]},useSyncExternalStore:nr,useId:Yo,useHostTransitionStatus:Il,useFormState:Wo,useActionState:Wo,useOptimistic:function(f,d){var w=Kt();return Mn!==null?$r(w,Mn,f,d):(w.baseState=f,[f,w.queue.dispatch])},useMemoCache:Zs,useCacheRefresh:Bs};Jc.useEffectEvent=sr;var Wd={enqueueSetState:function(f,d,w){f=f._reactInternals;var C=Pr(),N=Fr(C);N.payload=d,w!=null&&(N.callback=w),d=cr(f,N,C),d!==null&&(Rr(d,f,C),Ns(d,f,C))},enqueueReplaceState:function(f,d,w){f=f._reactInternals;var C=Pr(),N=Fr(C);N.tag=1,N.payload=d,w!=null&&(N.callback=w),d=cr(f,N,C),d!==null&&(Rr(d,f,C),Ns(d,f,C))},enqueueForceUpdate:function(f,d){f=f._reactInternals;var w=Pr(),C=Fr(w);C.tag=2,d!=null&&(C.callback=d),d=cr(f,C,w),d!==null&&(Rr(d,f,w),Ns(d,f,w))}},No=Error(r(461)),Jr=!1,Vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},Fs=!1,Ls=!1,Rh=!1,x0=typeof WeakSet=="function"?WeakSet:Set,Vs=null,ms=null,js=!1,yr=null,QA=8192,Nh={getCacheForType:function(f){var d=Ae(As),w=d.data.get(f);return w===void 0&&(w=f(),d.data.set(f,w)),w},cacheSignal:function(){return Ae(As).controller.signal}},wl=0,Dh=1,Oh=2,qd=3,Zc=4;if(typeof Symbol=="function"&&Symbol.for){var jf=Symbol.for;wl=jf("selector.component"),Dh=jf("selector.has_pseudo_class"),Oh=jf("selector.role"),qd=jf("selector.test_id"),Zc=jf("selector.text")}var HA=typeof WeakMap=="function"?WeakMap:Map,Ei=0,yi=null,Mi=null,Ri=0,wr=0,ia=null,eu=!1,$c=!1,ef=!1,Tu=0,vs=0,Ac=0,tf=0,Ph=0,Do=0,Qh=0,Xd=null,oA=null,_g=!1,Yd=0,Kf=0,nf=1/0,Jd=null,lc=null,ra=0,uc=null,Wf=null,Fu=0,Hh=0,Bg=null,b0=null,$i=0,Zd=null;return be.attemptContinuousHydration=function(f){if(f.tag===13||f.tag===31){var d=ki(f,67108864);d!==null&&Rr(d,f,67108864),gt(f,67108864)}},be.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13||f.tag===31){var d=Pr();d=k(d);var w=ki(f,d);w!==null&&Rr(w,f,d),gt(f,d)}},be.attemptSynchronousHydration=function(f){switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var d=_(f.pendingLanes);if(d!==0){for(f.pendingLanes|=2,f.entangledLanes|=2;d;){var w=1<<31-iA(d);f.entanglements[1]|=w,d&=~w}$e(f),(Ei&6)===0&&(nf=po()+500,At(0))}}break;case 31:case 13:d=ki(f,2),d!==null&&Rr(d,f,2),Ff(),gt(f,2)}},be.batchedUpdates=function(f,d){return f(d)},be.createComponentSelector=function(f){return{$$typeof:wl,value:f}},be.createContainer=function(f,d,w,C,N,K,ge,ke,Bt,kt){return de(f,d,!1,null,w,C,K,null,ge,ke,Bt,kt)},be.createHasPseudoClassSelector=function(f){return{$$typeof:Dh,value:f}},be.createHydrationContainer=function(f,d,w,C,N,K,ge,ke,Bt,kt,Yt,jt,hn,ni){var Ks;return f=de(w,C,!0,f,N,K,ke,ni,Bt,kt,Yt,jt),f.context=we(null),w=f.current,C=Pr(),C=k(C),N=Fr(C),N.callback=(Ks=d)!=null?Ks:null,cr(w,N,C),d=C,f.current.lanes=d,O(f,d),$e(f),f},be.createPortal=function(f,d,w){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tt,key:C==null?null:""+C,children:f,containerInfo:d,implementation:w}},be.createRoleSelector=function(f){return{$$typeof:Oh,value:f}},be.createTestNameSelector=function(f){return{$$typeof:qd,value:f}},be.createTextSelector=function(f){return{$$typeof:Zc,value:f}},be.defaultOnCaughtError=function(f){console.error(f)},be.defaultOnRecoverableError=function(f){mg(f)},be.defaultOnUncaughtError=function(f){mg(f)},be.deferredUpdates=function(f){var d=fn.T,w=rs();try{return Qn(32),fn.T=null,f()}finally{Qn(w),fn.T=d}},be.discreteUpdates=function(f,d,w,C,N){var K=fn.T,ge=rs();try{return Qn(2),fn.T=null,f(d,w,C,N)}finally{Qn(ge),fn.T=K,Ei===0&&(nf=po()+500)}},be.findAllNodes=uo,be.findBoundingRects=function(f,d){if(!ss)throw Error(r(363));d=uo(f,d),f=[];for(var w=0;w<d.length;w++)f.push(Rf(d[w]));for(d=f.length-1;0<d;d--){w=f[d];for(var C=w.x,N=C+w.width,K=w.y,ge=K+w.height,ke=d-1;0<=ke;ke--)if(d!==ke){var Bt=f[ke],kt=Bt.x,Yt=kt+Bt.width,jt=Bt.y,hn=jt+Bt.height;if(C>=kt&&K>=jt&&N<=Yt&&ge<=hn){f.splice(d,1);break}else if(C!==kt||w.width!==Bt.width||hn<K||jt>ge){if(!(K!==jt||w.height!==Bt.height||Yt<C||kt>N)){kt>C&&(Bt.width+=kt-C,Bt.x=C),Yt<N&&(Bt.width=N-kt),f.splice(d,1);break}}else{jt>K&&(Bt.height+=jt-K,Bt.y=K),hn<ge&&(Bt.height=ge-jt),f.splice(d,1);break}}}return f},be.findHostInstance=_e,be.findHostInstanceWithNoPortals=function(f){return f=A(f),f=f!==null?c(f):null,f===null?null:Cs(f.stateNode)},be.findHostInstanceWithWarning=function(f){return _e(f)},be.flushPassiveEffects=tA,be.flushSyncFromReconciler=function(f){var d=Ei;Ei|=1;var w=fn.T,C=rs();try{if(Qn(2),fn.T=null,f)return f()}finally{Qn(C),fn.T=w,Ei=d,(Ei&6)===0&&At(0)}},be.flushSyncWork=Ff,be.focusWithin=function(f,d){if(!ss)throw Error(r(363));for(f=gu(f),d=Pc(f,d),d=Array.from(d),f=0;f<d.length;){var w=d[f++],C=w.tag;if(!ll(w)){if((C===5||C===26||C===27)&&ul(w.stateNode))return!0;for(w=w.child;w!==null;)d.push(w),w=w.sibling}}return!1},be.getFindAllNodesFailureDescription=function(f,d){if(!ss)throw Error(r(363));var w=0,C=[];f=[gu(f),0];for(var N=0;N<f.length;){var K=f[N++],ge=K.tag,ke=f[N++],Bt=d[ke];if((ge!==5&&ge!==26&&ge!==27||!ll(K))&&(zl(K,Bt)&&(C.push(Oc(Bt)),ke++,ke>w&&(w=ke)),ke<d.length))for(K=K.child;K!==null;)f.push(K,ke),K=K.sibling}if(w<d.length){for(f=[];w<d.length;w++)f.push(Oc(d[w]));return`findAllNodes was able to match part of the selector:
  `+(C.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},be.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 27:case 5:return Cs(f.child.stateNode);default:return f.child.stateNode}},be.injectIntoDevTools=function(){var f={bundleType:0,version:ya,rendererPackageName:Br,currentDispatcherRef:fn,reconcilerVersion:"19.2.0"};if(ds!==null&&(f.rendererConfig=ds),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)f=!0;else{try{Hf=d.inject(f),rA=d}catch{}f=!!d.checkDCE}}return f},be.isAlreadyRendering=function(){return(Ei&6)!==0},be.observeVisibleRects=function(f,d,w,C){if(!ss)throw Error(r(363));f=uo(f,d);var N=Ch(f,w,C).disconnect;return{disconnect:function(){N()}}},be.shouldError=function(){return null},be.shouldSuspend=function(){return!1},be.startHostTransition=function(f,d,w,C){if(f.tag!==5)throw Error(r(476));var N=Wa(f).queue;Ka(f,N,d,ho,w===null?n:function(){var K=Wa(f);return K.next===null&&(K=f.alternate.memoizedState),Pe(f,K.next.queue,{},Pr()),w(C)})},be.updateContainer=function(f,d,w,C){var N=d.current,K=Pr();return Te(N,K,f,d,w,C),K},be.updateContainerSync=function(f,d,w,C){return Te(d.current,2,f,d,w,C),2},be},i.exports.default=i.exports,Object.defineProperty(i.exports,"__esModule",{value:!0})})(JM)),JM.exports}var $M;function T9(){return $M||($M=1,YM.exports=U9()),YM.exports}var F9=T9();const L9=M9(F9);function I9(i){const e=L9(i);return e.injectIntoDevTools(),e}const bI=0,zm={},R9=/^three(?=[A-Z])/,m_=i=>`${i[0].toUpperCase()}${i.slice(1)}`;let N9=0;const D9=i=>typeof i=="function";function O9(i){if(D9(i)){const e=`${N9++}`;return zm[e]=i,e}else Object.assign(zm,i)}function _I(i,e){const t=m_(i),n=zm[t];if(i!=="primitive"&&!n)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(i==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function P9(i,e,t){var n;return i=m_(i)in zm?i:i.replace(R9,""),_I(i,e),i==="primitive"&&(n=e.object)!=null&&n.__r3f&&delete e.object.__r3f,ab(e.object,t,i,e)}function Q9(i){if(!i.isHidden){var e;i.props.attach&&(e=i.parent)!=null&&e.object?Ab(i.parent,i):Bl(i.object)&&(i.object.visible=!1),i.isHidden=!0,Xm(i)}}function BI(i){if(i.isHidden){var e;i.props.attach&&(e=i.parent)!=null&&e.object?ob(i.parent,i):Bl(i.object)&&i.props.visible!==!1&&(i.object.visible=!0),i.isHidden=!1,Xm(i)}}function QE(i,e,t){const n=e.root.getState();if(!(!i.parent&&i.object!==n.scene)){if(!e.object){var r,s;const a=zm[m_(e.type)];e.object=(r=e.props.object)!=null?r:new a(...(s=e.props.args)!=null?s:[]),e.object.__r3f=e}if(lh(e.object,e.props),e.props.attach)ob(i,e);else if(Bl(e.object)&&Bl(i.object)){const a=i.object.children.indexOf(t?.object);if(t&&a!==-1){const A=i.object.children.indexOf(e.object);if(A!==-1){i.object.children.splice(A,1);const l=A<a?a-1:a;i.object.children.splice(l,0,e.object)}else e.object.parent=i.object,i.object.children.splice(a,0,e.object),e.object.dispatchEvent({type:"added"}),i.object.dispatchEvent({type:"childadded",child:e.object})}else i.object.add(e.object)}for(const a of e.children)QE(e,a);Xm(e)}}function cS(i,e){e&&(e.parent=i,i.children.push(e),QE(i,e))}function eU(i,e,t){if(!e||!t)return;e.parent=i;const n=i.children.indexOf(t);n!==-1?i.children.splice(n,0,e):i.children.push(e),QE(i,e,t)}function SI(i){if(typeof i.dispose=="function"){const e=()=>{try{i.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():z2.unstable_scheduleCallback(z2.unstable_IdlePriority,e)}}function V2(i,e,t){if(!e)return;e.parent=null;const n=i.children.indexOf(e);n!==-1&&i.children.splice(n,1),e.props.attach?Ab(i,e):Bl(e.object)&&Bl(i.object)&&(i.object.remove(e.object),w9(gI(e),e.object));const r=e.props.dispose!==null&&t!==!1;for(let s=e.children.length-1;s>=0;s--){const a=e.children[s];V2(e,a,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&SI(e.object),t===void 0&&Xm(e)}function H9(i,e){for(const t of[i,i.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const n=t.ref(e);typeof n=="function"&&(t.refCleanup=n)}else t.ref&&(t.ref.current=e)}const ex=[];function k9(){for(const[t]of ex){const n=t.parent;if(n){t.props.attach?Ab(n,t):Bl(t.object)&&Bl(n.object)&&n.object.remove(t.object);for(const r of t.children)r.props.attach?Ab(t,r):Bl(r.object)&&Bl(t.object)&&t.object.remove(r.object)}t.isHidden&&BI(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&SI(t.object)}for(const[t,n,r]of ex){t.props=n;const s=t.parent;if(s){var i,e;const a=zm[m_(t.type)];t.object=(i=t.props.object)!=null?i:new a(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,H9(r,t.object),lh(t.object,t.props),t.props.attach?ob(s,t):Bl(t.object)&&Bl(s.object)&&s.object.add(t.object);for(const A of t.children)A.props.attach?ob(t,A):Bl(A.object)&&Bl(t.object)&&t.object.add(A.object);Xm(t)}}ex.length=0}const fS=()=>{},tU={};let cw=bI;const z9=0,G9=4,lb=I9({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:P9,removeChild:V2,appendChild:cS,appendInitialChild:cS,insertBefore:eU,appendChildToContainer(i,e){const t=i.getState().scene.__r3f;!e||!t||cS(t,e)},removeChildFromContainer(i,e){const t=i.getState().scene.__r3f;!e||!t||V2(t,e)},insertInContainerBefore(i,e,t){const n=i.getState().scene.__r3f;!e||!t||!n||eU(n,e,t)},getRootHostContext:()=>tU,getChildHostContext:()=>tU,commitUpdate(i,e,t,n,r){var s,a,A;_I(e,n);let l=!1;if((i.type==="primitive"&&t.object!==n.object||((s=n.args)==null?void 0:s.length)!==((a=t.args)==null?void 0:a.length)||(A=n.args)!=null&&A.some((h,g)=>{var v;return h!==((v=t.args)==null?void 0:v[g])}))&&(l=!0),l)ex.push([i,{...n},r]);else{const h=m9(i,n);Object.keys(h).length&&(Object.assign(i.props,h),lh(i.object,h))}(r.sibling===null||(r.flags&G9)===z9)&&k9()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:i=>i?.object,prepareForCommit:()=>null,preparePortalMount:i=>ab(i.getState().scene,i,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:Q9,unhideInstance:BI,createTextInstance:fS,hideTextInstance:fS,unhideTextInstance:fS,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:ht.createContext(null),setCurrentUpdatePriority(i){cw=i},getCurrentUpdatePriority(){return cw},resolveUpdatePriority(){var i;if(cw!==bI)return cw;switch(typeof window<"u"&&((i=window.event)==null?void 0:i.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return C9;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return B9;default:return S9}},resetFormInstance(){},rendererPackageName:"@react-three/fiber",rendererVersion:E9.version,applyViewTransitionName(i,e,t){},restoreViewTransitionName(i,e){},cancelViewTransitionName(i,e,t){},cancelRootViewTransitionName(i){},restoreRootViewTransitionName(i){},InstanceMeasurement:null,measureInstance:i=>null,wasInstanceInViewport:i=>!0,hasInstanceChanged:(i,e)=>!1,hasInstanceAffectedParent:(i,e)=>!1,suspendOnActiveViewTransition(i,e){},startGestureTransition:()=>null,startViewTransition:()=>null,stopViewTransition(i){},createViewTransitionInstance:i=>null,getCurrentGestureOffset(i){throw new Error("startGestureTransition is not yet supported in react-three-fiber.")},cloneMutableInstance(i,e){return i},cloneMutableTextInstance(i){return i},cloneRootViewTransitionContainer(i){throw new Error("Not implemented.")},removeRootViewTransitionClone(i,e){throw new Error("Not implemented.")},createFragmentInstance:i=>null,updateFragmentInstanceFiber(i,e){},commitNewChildToFragmentInstance(i,e){},deleteChildFromFragmentInstance(i,e){},measureClonedInstance:i=>null,maySuspendCommitOnUpdate:(i,e,t)=>!1,maySuspendCommitInSyncRender:(i,e)=>!1,startSuspendingCommit:()=>null,getSuspendedCommitReason:(i,e)=>null}),Gp=new Map,Jg={objects:"shallow",strict:!1};function V9(i,e){if(!e&&typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&i.parentElement){const{width:t,height:n,top:r,left:s}=i.parentElement.getBoundingClientRect();return{width:t,height:n,top:r,left:s}}else if(!e&&typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas)return{width:i.width,height:i.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function j9(i){const e=Gp.get(i),t=e?.fiber,n=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=n||b9(W2,iU),a=t||lb.createContainer(s,_9,null,!1,null,"",r,r,r,null);e||Gp.set(i,{fiber:a,store:s});let A,l,c=!1,h=null;return{async configure(g={}){let v;h=new Promise(W=>v=W);let{gl:m,size:x,scene:B,events:_,onCreated:b,shadows:M=!1,linear:T=!1,flat:U=!1,legacy:R=!1,orthographic:O=!1,frameloop:z="always",dpr:V=[1,2],performance:I,raycaster:P,camera:k,onPointerMissed:G}=g,q=s.getState(),H=q.gl;if(!q.gl){const W={canvas:i,powerPreference:"high-performance",antialias:!0,alpha:!0},Q=typeof m=="function"?await m(W):m;XM(Q)?H=Q:H=new AI({...W,...m}),q.set({gl:H})}let ae=q.raycaster;ae||q.set({raycaster:ae=new IE});const{params:Z,...ne}=P||{};if(Ws.equ(ne,ae,Jg)||lh(ae,{...ne}),Ws.equ(Z,ae.params,Jg)||lh(ae,{params:{...ae.params,...Z}}),!q.camera||q.camera===l&&!Ws.equ(l,k,Jg)){l=k;const W=k?.isCamera,Q=W?k:O?new fh(0,0,0,0,.1,1e3):new Ea(75,0,.1,1e3);W||(Q.position.z=5,k&&(lh(Q,k),Q.manual||("aspect"in k||"left"in k||"right"in k||"bottom"in k||"top"in k)&&(Q.manual=!0,Q.updateProjectionMatrix())),!q.camera&&!(k!=null&&k.rotation)&&Q.lookAt(0,0,0)),q.set({camera:Q}),ae.camera=Q}if(!q.scene){let W;B!=null&&B.isScene?(W=B,ab(W,s,"",{})):(W=new Hm,ab(W,s,"",{}),B&&lh(W,B)),q.set({scene:W})}_&&!q.events.handlers&&q.set({events:_(s)});const oe=V9(i,x);if(Ws.equ(oe,q.size,Jg)||q.setSize(oe.width,oe.height,oe.top,oe.left),V&&q.viewport.dpr!==vI(V)&&q.setDpr(V),q.frameloop!==z&&q.setFrameloop(z),q.onPointerMissed||q.set({onPointerMissed:G}),I&&!Ws.equ(I,q.performance,Jg)&&q.set(W=>({performance:{...W.performance,...I}})),!q.xr){var fe;const W=(Y,ie)=>{const te=s.getState();te.frameloop!=="never"&&iU(Y,!0,te,ie)},Q=()=>{const Y=s.getState();Y.gl.xr.enabled=Y.gl.xr.isPresenting,Y.gl.xr.setAnimationLoop(Y.gl.xr.isPresenting?W:null),Y.gl.xr.isPresenting||W2(Y)},X={connect(){const Y=s.getState().gl;Y.xr.addEventListener("sessionstart",Q),Y.xr.addEventListener("sessionend",Q)},disconnect(){const Y=s.getState().gl;Y.xr.removeEventListener("sessionstart",Q),Y.xr.removeEventListener("sessionend",Q)}};typeof((fe=H.xr)==null?void 0:fe.addEventListener)=="function"&&X.connect(),q.set({xr:X})}if(H.shadowMap){const W=H.shadowMap.enabled,Q=H.shadowMap.type;if(H.shadowMap.enabled=!!M,Ws.boo(M))H.shadowMap.type=p1;else if(Ws.str(M)){var me;const X={basic:BF,percentage:ym,soft:p1,variance:_p};H.shadowMap.type=(me=X[M])!=null?me:p1}else Ws.obj(M)&&Object.assign(H.shadowMap,M);(W!==H.shadowMap.enabled||Q!==H.shadowMap.type)&&(H.shadowMap.needsUpdate=!0)}return Wi.enabled=!R,c||(H.outputColorSpace=T?wd:Go,H.toneMapping=U?Gu:Lb),q.legacy!==R&&q.set(()=>({legacy:R})),q.linear!==T&&q.set(()=>({linear:T})),q.flat!==U&&q.set(()=>({flat:U})),m&&!Ws.fun(m)&&!XM(m)&&!Ws.equ(m,H,Jg)&&lh(H,m),A=b,c=!0,v(),this},render(g){return!c&&!h&&this.configure(),h.then(()=>{lb.updateContainer(Me.jsx(K9,{store:s,children:g,onCreated:A,rootElement:i}),a,null,()=>{})}),s},unmount(){CI(i)}}}function K9({store:i,children:e,onCreated:t,rootElement:n}){return bv(()=>{const r=i.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),i.getState().events.connected||r.events.connect==null||r.events.connect(n)},[]),Me.jsx(g_.Provider,{value:i,children:e})}function CI(i,e){const t=Gp.get(i),n=t?.fiber;if(n){const r=t?.store.getState();r&&(r.internal.active=!1),lb.updateContainer(null,n,null,()=>{r&&setTimeout(()=>{try{var s,a,A,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(a=s.renderLists)==null||a.dispose==null||a.dispose(),(A=r.gl)==null||A.forceContextLoss==null||A.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),d9(r.scene),Gp.delete(i)}catch{}},500)})}}function W9(i,e,t){return Me.jsx(q9,{children:i,container:e,state:t})}function q9({state:i={},children:e,container:t}){const{events:n,size:r,...s}=i,a=PE(),[A]=ht.useState(()=>new IE),[l]=ht.useState(()=>new Rt),c=OE((g,v)=>{let m;if(v.camera&&r){const x=v.camera;m=g.viewport.getCurrentViewport(x,new Ce,r),x!==g.camera&&wI(x,r)}return{...g,...v,scene:t,raycaster:A,pointer:l,mouse:l,previousRoot:a,events:{...g.events,...v.events,...n},size:{...g.size,...r},viewport:{...g.viewport,...m},setEvents:x=>v.set(B=>({...B,events:{...B.events,...x}}))}}),h=ht.useMemo(()=>{const g=fI((m,x)=>({...s,set:m,get:x})),v=m=>g.setState(x=>c.current(m,x));return v(a.getState()),a.subscribe(v),g},[a,t]);return Me.jsx(Me.Fragment,{children:lb.createPortal(Me.jsx(g_.Provider,{value:h,children:e}),h,null)})}function X9(i,e){const t={callback:i};return e.add(t),()=>{e.delete(t)}}const EI=new Set,Y9=new Set,J9=new Set,Z9=i=>X9(i,EI);function hS(i,e){if(i.size)for(const{callback:t}of i.values())t(e)}function _1(i,e){switch(i){case"before":return hS(EI,e);case"after":return hS(Y9,e);case"tail":return hS(J9,e)}}let dS,pS;function j2(i,e,t){let n=e.clock.getDelta();e.frameloop==="never"&&typeof i=="number"&&(n=i-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=i),dS=e.internal.subscribers;for(let r=0;r<dS.length;r++)pS=dS[r],pS.ref.current(pS.store.getState(),n,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let ub=!1,K2=!1,gS,nU,Zg;function MI(i){nU=requestAnimationFrame(MI),ub=!0,gS=0,_1("before",i),K2=!0;for(const t of Gp.values()){var e;Zg=t.store.getState(),Zg.internal.active&&(Zg.frameloop==="always"||Zg.internal.frames>0)&&!((e=Zg.gl.xr)!=null&&e.isPresenting)&&(gS+=j2(i,Zg))}if(K2=!1,_1("after",i),gS===0)return _1("tail",i),ub=!1,cancelAnimationFrame(nU)}function W2(i,e=1){var t;if(!i)return Gp.forEach(n=>W2(n.store.getState(),e));(t=i.gl.xr)!=null&&t.isPresenting||!i.internal.active||i.frameloop==="never"||(e>1?i.internal.frames=Math.min(60,i.internal.frames+e):K2?i.internal.frames=2:i.internal.frames=1,ub||(ub=!0,requestAnimationFrame(MI)))}function iU(i,e=!0,t,n){if(e&&_1("before",i),t)j2(i,t,n);else for(const r of Gp.values())j2(i,r.store.getState());e&&_1("after",i)}const mS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function $9(i){const{handlePointer:e}=x9(i);return{priority:1,enabled:!0,compute(t,n,r){n.pointer.set(t.offsetX/n.size.width*2-1,-(t.offsetY/n.size.height)*2+1),n.raycaster.setFromCamera(n.pointer,n.camera)},connected:void 0,handlers:Object.keys(mS).reduce((t,n)=>({...t,[n]:e(n)}),{}),update:()=>{var t;const{events:n,internal:r}=i.getState();(t=r.lastEvent)!=null&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{const{set:n,events:r}=i.getState();if(r.disconnect==null||r.disconnect(),n(s=>({events:{...s.events,connected:t}})),r.handlers)for(const s in r.handlers){const a=r.handlers[s],[A,l]=mS[s];t.addEventListener(A,a,{passive:l})}},disconnect:()=>{const{set:t,events:n}=i.getState();if(n.connected){if(n.handlers)for(const r in n.handlers){const s=n.handlers[r],[a]=mS[r];n.connected.removeEventListener(a,s)}t(r=>({events:{...r.events,connected:void 0}}))}}}}function rU(i,e){let t;return(...n)=>{window.clearTimeout(t),t=window.setTimeout(()=>i(...n),e)}}function eG({debounce:i,scroll:e,polyfill:t,offsetSize:n}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,a]=ht.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),A=ht.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=i?typeof i=="number"?i:i.scroll:null,c=i?typeof i=="number"?i:i.resize:null,h=ht.useRef(!1);ht.useEffect(()=>(h.current=!0,()=>{h.current=!1}));const[g,v,m]=ht.useMemo(()=>{const b=()=>{if(!A.current.element)return;const{left:M,top:T,width:U,height:R,bottom:O,right:z,x:V,y:I}=A.current.element.getBoundingClientRect(),P={left:M,top:T,width:U,height:R,bottom:O,right:z,x:V,y:I};A.current.element instanceof HTMLElement&&n&&(P.height=A.current.element.offsetHeight,P.width=A.current.element.offsetWidth),Object.freeze(P),h.current&&!rG(A.current.lastBounds,P)&&a(A.current.lastBounds=P)};return[b,c?rU(b,c):b,l?rU(b,l):b]},[a,n,l,c]);function x(){A.current.scrollContainers&&(A.current.scrollContainers.forEach(b=>b.removeEventListener("scroll",m,!0)),A.current.scrollContainers=null),A.current.resizeObserver&&(A.current.resizeObserver.disconnect(),A.current.resizeObserver=null),A.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",A.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",A.current.orientationHandler))}function B(){A.current.element&&(A.current.resizeObserver=new r(m),A.current.resizeObserver.observe(A.current.element),e&&A.current.scrollContainers&&A.current.scrollContainers.forEach(b=>b.addEventListener("scroll",m,{capture:!0,passive:!0})),A.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",A.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",A.current.orientationHandler))}const _=b=>{!b||b===A.current.element||(x(),A.current.element=b,A.current.scrollContainers=UI(b),B())};return nG(m,!!e),tG(v),ht.useEffect(()=>{x(),B()},[e,m,v]),ht.useEffect(()=>x,[]),[_,s,g]}function tG(i){ht.useEffect(()=>{const e=i;return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[i])}function nG(i,e){ht.useEffect(()=>{if(e){const t=i;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",t,!0)}}},[i,e])}function UI(i){const e=[];if(!i||i===document.body)return e;const{overflow:t,overflowX:n,overflowY:r}=window.getComputedStyle(i);return[t,n,r].some(s=>s==="auto"||s==="scroll")&&e.push(i),[...e,...UI(i.parentElement)]}const iG=["x","y","top","bottom","left","right","width","height"],rG=(i,e)=>iG.every(t=>i[t]===e[t]);function sG({ref:i,children:e,fallback:t,resize:n,style:r,gl:s,events:a=$9,eventSource:A,eventPrefix:l,shadows:c,linear:h,flat:g,legacy:v,orthographic:m,frameloop:x,dpr:B,performance:_,raycaster:b,camera:M,scene:T,onPointerMissed:U,onCreated:R,...O}){ht.useMemo(()=>O9(lI),[]);const z=c9(),[V,I]=eG({scroll:!0,debounce:{scroll:50,resize:0},...n}),P=ht.useRef(null),k=ht.useRef(null);ht.useImperativeHandle(i,()=>P.current);const G=OE(U),[q,H]=ht.useState(!1),[ae,Z]=ht.useState(!1);if(q)throw q;if(ae)throw ae;const ne=ht.useRef(null);bv(()=>{const fe=P.current;if(I.width>0&&I.height>0&&fe){ne.current||(ne.current=j9(fe));async function me(){await ne.current.configure({gl:s,scene:T,events:a,shadows:c,linear:h,flat:g,legacy:v,orthographic:m,frameloop:x,dpr:B,performance:_,raycaster:b,camera:M,size:I,onPointerMissed:(...W)=>G.current==null?void 0:G.current(...W),onCreated:W=>{W.events.connect==null||W.events.connect(A?l9(A)?A.current:A:k.current),l&&W.setEvents({compute:(Q,X)=>{const Y=Q[l+"X"],ie=Q[l+"Y"];X.pointer.set(Y/X.size.width*2-1,-(ie/X.size.height)*2+1),X.raycaster.setFromCamera(X.pointer,X.camera)}}),R?.(W)}}),ne.current.render(Me.jsx(z,{children:Me.jsx(h9,{set:Z,children:Me.jsx(ht.Suspense,{fallback:Me.jsx(f9,{set:H}),children:e??null})})}))}me()}}),ht.useEffect(()=>{const fe=P.current;if(fe)return()=>CI(fe)},[]);const oe=A?"none":"auto";return Me.jsx("div",{ref:k,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:oe,...r},...O,children:Me.jsx("div",{ref:V,style:{width:"100%",height:"100%"},children:Me.jsx("canvas",{ref:P,style:{display:"block"},children:t})})})}function aG(i){return Me.jsx(dI,{children:Me.jsx(sG,{...i})})}function El(){return El=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},El.apply(null,arguments)}const oG=i=>i;function AG(i,e=oG){const t=vc.useSyncExternalStore(i.subscribe,vc.useCallback(()=>e(i.getState()),[i,e]),vc.useCallback(()=>e(i.getInitialState()),[i,e]));return vc.useDebugValue(t),t}const sU=i=>{const e=cI(i),t=n=>AG(e,n);return Object.assign(t,e),t},lG=(i=>i?sU(i):sU),TI=parseInt(jm.replace(/\D+/g,"")),FI=TI>=125?"uv1":"uv2";var uG=Object.defineProperty,cG=(i,e,t)=>e in i?uG(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,fG=(i,e,t)=>(cG(i,e+"",t),t);class hG{constructor(){fG(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const r=n.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}}var dG=Object.defineProperty,pG=(i,e,t)=>e in i?dG(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Gn=(i,e,t)=>(pG(i,typeof e!="symbol"?e+"":e,t),t);const fw=new Wp,aU=new ah,gG=Math.cos(70*(Math.PI/180)),oU=(i,e)=>(i%e+e)%e;let mG=class extends hG{constructor(e,t){super(),Gn(this,"object"),Gn(this,"domElement"),Gn(this,"enabled",!0),Gn(this,"target",new Ce),Gn(this,"minDistance",0),Gn(this,"maxDistance",1/0),Gn(this,"minZoom",0),Gn(this,"maxZoom",1/0),Gn(this,"minPolarAngle",0),Gn(this,"maxPolarAngle",Math.PI),Gn(this,"minAzimuthAngle",-1/0),Gn(this,"maxAzimuthAngle",1/0),Gn(this,"enableDamping",!1),Gn(this,"dampingFactor",.05),Gn(this,"enableZoom",!0),Gn(this,"zoomSpeed",1),Gn(this,"enableRotate",!0),Gn(this,"rotateSpeed",1),Gn(this,"enablePan",!0),Gn(this,"panSpeed",1),Gn(this,"screenSpacePanning",!0),Gn(this,"keyPanSpeed",7),Gn(this,"zoomToCursor",!1),Gn(this,"autoRotate",!1),Gn(this,"autoRotateSpeed",2),Gn(this,"reverseOrbit",!1),Gn(this,"reverseHorizontalOrbit",!1),Gn(this,"reverseVerticalOrbit",!1),Gn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Gn(this,"mouseButtons",{LEFT:pp.ROTATE,MIDDLE:pp.DOLLY,RIGHT:pp.PAN}),Gn(this,"touches",{ONE:gp.ROTATE,TWO:gp.DOLLY_PAN}),Gn(this,"target0"),Gn(this,"position0"),Gn(this,"zoom0"),Gn(this,"_domElementKeyEvents",null),Gn(this,"getPolarAngle"),Gn(this,"getAzimuthalAngle"),Gn(this,"setPolarAngle"),Gn(this,"setAzimuthalAngle"),Gn(this,"getDistance"),Gn(this,"getZoomScale"),Gn(this,"listenToKeyEvents"),Gn(this,"stopListenToKeyEvents"),Gn(this,"saveState"),Gn(this,"reset"),Gn(this,"update"),Gn(this,"connect"),Gn(this,"dispose"),Gn(this,"dollyIn"),Gn(this,"dollyOut"),Gn(this,"getScale"),Gn(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>h.phi,this.getAzimuthalAngle=()=>h.theta,this.setPolarAngle=Ee=>{let Ie=oU(Ee,2*Math.PI),Ut=h.phi;Ut<0&&(Ut+=2*Math.PI),Ie<0&&(Ie+=2*Math.PI);let Be=Math.abs(Ie-Ut);2*Math.PI-Be<Be&&(Ie<Ut?Ie+=2*Math.PI:Ut+=2*Math.PI),g.phi=Ie-Ut,n.update()},this.setAzimuthalAngle=Ee=>{let Ie=oU(Ee,2*Math.PI),Ut=h.theta;Ut<0&&(Ut+=2*Math.PI),Ie<0&&(Ie+=2*Math.PI);let Be=Math.abs(Ie-Ut);2*Math.PI-Be<Be&&(Ie<Ut?Ie+=2*Math.PI:Ut+=2*Math.PI),g.theta=Ie-Ut,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=Ee=>{Ee.addEventListener("keydown",Re),this._domElementKeyEvents=Ee},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Re),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(r),n.update(),l=A.NONE},this.update=(()=>{const Ee=new Ce,Ie=new Ce(0,1,0),Ut=new Ko().setFromUnitVectors(e.up,Ie),Be=Ut.clone().invert(),Je=new Ce,mt=new Ko,Et=2*Math.PI;return function(){const Ze=n.object.position;Ut.setFromUnitVectors(e.up,Ie),Be.copy(Ut).invert(),Ee.copy(Ze).sub(n.target),Ee.applyQuaternion(Ut),h.setFromVector3(Ee),n.autoRotate&&l===A.NONE&&H(G()),n.enableDamping?(h.theta+=g.theta*n.dampingFactor,h.phi+=g.phi*n.dampingFactor):(h.theta+=g.theta,h.phi+=g.phi);let Lt=n.minAzimuthAngle,Vt=n.maxAzimuthAngle;isFinite(Lt)&&isFinite(Vt)&&(Lt<-Math.PI?Lt+=Et:Lt>Math.PI&&(Lt-=Et),Vt<-Math.PI?Vt+=Et:Vt>Math.PI&&(Vt-=Et),Lt<=Vt?h.theta=Math.max(Lt,Math.min(Vt,h.theta)):h.theta=h.theta>(Lt+Vt)/2?Math.max(Lt,h.theta):Math.min(Vt,h.theta)),h.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,h.phi)),h.makeSafe(),n.enableDamping===!0?n.target.addScaledVector(m,n.dampingFactor):n.target.add(m),n.zoomToCursor&&I||n.object.isOrthographicCamera?h.radius=X(h.radius):h.radius=X(h.radius*v),Ee.setFromSpherical(h),Ee.applyQuaternion(Be),Ze.copy(n.target).add(Ee),n.object.matrixAutoUpdate||n.object.updateMatrix(),n.object.lookAt(n.target),n.enableDamping===!0?(g.theta*=1-n.dampingFactor,g.phi*=1-n.dampingFactor,m.multiplyScalar(1-n.dampingFactor)):(g.set(0,0,0),m.set(0,0,0));let Wt=!1;if(n.zoomToCursor&&I){let nn=null;if(n.object instanceof Ea&&n.object.isPerspectiveCamera){const qt=Ee.length();nn=X(qt*v);const Wn=qt-nn;n.object.position.addScaledVector(z,Wn),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){const qt=new Ce(V.x,V.y,0);qt.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/v)),n.object.updateProjectionMatrix(),Wt=!0;const Wn=new Ce(V.x,V.y,0);Wn.unproject(n.object),n.object.position.sub(Wn).add(qt),n.object.updateMatrixWorld(),nn=Ee.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;nn!==null&&(n.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(nn).add(n.object.position):(fw.origin.copy(n.object.position),fw.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(fw.direction))<gG?e.lookAt(n.target):(aU.setFromNormalAndCoplanarPoint(n.object.up,n.target),fw.intersectPlane(aU,n.target))))}else n.object instanceof fh&&n.object.isOrthographicCamera&&(Wt=v!==1,Wt&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/v)),n.object.updateProjectionMatrix()));return v=1,I=!1,Wt||Je.distanceToSquared(n.object.position)>c||8*(1-mt.dot(n.object.quaternion))>c?(n.dispatchEvent(r),Je.copy(n.object.position),mt.copy(n.object.quaternion),Wt=!1,!0):!1}})(),this.connect=Ee=>{n.domElement=Ee,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",wt),n.domElement.addEventListener("pointerdown",Ye),n.domElement.addEventListener("pointercancel",$),n.domElement.addEventListener("wheel",Ve)},this.dispose=()=>{var Ee,Ie,Ut,Be,Je,mt;n.domElement&&(n.domElement.style.touchAction="auto"),(Ee=n.domElement)==null||Ee.removeEventListener("contextmenu",wt),(Ie=n.domElement)==null||Ie.removeEventListener("pointerdown",Ye),(Ut=n.domElement)==null||Ut.removeEventListener("pointercancel",$),(Be=n.domElement)==null||Be.removeEventListener("wheel",Ve),(Je=n.domElement)==null||Je.ownerDocument.removeEventListener("pointermove",Ae),(mt=n.domElement)==null||mt.ownerDocument.removeEventListener("pointerup",$),n._domElementKeyEvents!==null&&n._domElementKeyEvents.removeEventListener("keydown",Re)};const n=this,r={type:"change"},s={type:"start"},a={type:"end"},A={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=A.NONE;const c=1e-6,h=new O2,g=new O2;let v=1;const m=new Ce,x=new Rt,B=new Rt,_=new Rt,b=new Rt,M=new Rt,T=new Rt,U=new Rt,R=new Rt,O=new Rt,z=new Ce,V=new Rt;let I=!1;const P=[],k={};function G(){return 2*Math.PI/60/60*n.autoRotateSpeed}function q(){return Math.pow(.95,n.zoomSpeed)}function H(Ee){n.reverseOrbit||n.reverseHorizontalOrbit?g.theta+=Ee:g.theta-=Ee}function ae(Ee){n.reverseOrbit||n.reverseVerticalOrbit?g.phi+=Ee:g.phi-=Ee}const Z=(()=>{const Ee=new Ce;return function(Ut,Be){Ee.setFromMatrixColumn(Be,0),Ee.multiplyScalar(-Ut),m.add(Ee)}})(),ne=(()=>{const Ee=new Ce;return function(Ut,Be){n.screenSpacePanning===!0?Ee.setFromMatrixColumn(Be,1):(Ee.setFromMatrixColumn(Be,0),Ee.crossVectors(n.object.up,Ee)),Ee.multiplyScalar(Ut),m.add(Ee)}})(),oe=(()=>{const Ee=new Ce;return function(Ut,Be){const Je=n.domElement;if(Je&&n.object instanceof Ea&&n.object.isPerspectiveCamera){const mt=n.object.position;Ee.copy(mt).sub(n.target);let Et=Ee.length();Et*=Math.tan(n.object.fov/2*Math.PI/180),Z(2*Ut*Et/Je.clientHeight,n.object.matrix),ne(2*Be*Et/Je.clientHeight,n.object.matrix)}else Je&&n.object instanceof fh&&n.object.isOrthographicCamera?(Z(Ut*(n.object.right-n.object.left)/n.object.zoom/Je.clientWidth,n.object.matrix),ne(Be*(n.object.top-n.object.bottom)/n.object.zoom/Je.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function fe(Ee){n.object instanceof Ea&&n.object.isPerspectiveCamera||n.object instanceof fh&&n.object.isOrthographicCamera?v=Ee:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function me(Ee){fe(v/Ee)}function W(Ee){fe(v*Ee)}function Q(Ee){if(!n.zoomToCursor||!n.domElement)return;I=!0;const Ie=n.domElement.getBoundingClientRect(),Ut=Ee.clientX-Ie.left,Be=Ee.clientY-Ie.top,Je=Ie.width,mt=Ie.height;V.x=Ut/Je*2-1,V.y=-(Be/mt)*2+1,z.set(V.x,V.y,1).unproject(n.object).sub(n.object.position).normalize()}function X(Ee){return Math.max(n.minDistance,Math.min(n.maxDistance,Ee))}function Y(Ee){x.set(Ee.clientX,Ee.clientY)}function ie(Ee){Q(Ee),U.set(Ee.clientX,Ee.clientY)}function te(Ee){b.set(Ee.clientX,Ee.clientY)}function se(Ee){B.set(Ee.clientX,Ee.clientY),_.subVectors(B,x).multiplyScalar(n.rotateSpeed);const Ie=n.domElement;Ie&&(H(2*Math.PI*_.x/Ie.clientHeight),ae(2*Math.PI*_.y/Ie.clientHeight)),x.copy(B),n.update()}function ye(Ee){R.set(Ee.clientX,Ee.clientY),O.subVectors(R,U),O.y>0?me(q()):O.y<0&&W(q()),U.copy(R),n.update()}function xe(Ee){M.set(Ee.clientX,Ee.clientY),T.subVectors(M,b).multiplyScalar(n.panSpeed),oe(T.x,T.y),b.copy(M),n.update()}function Fe(Ee){Q(Ee),Ee.deltaY<0?W(q()):Ee.deltaY>0&&me(q()),n.update()}function Ne(Ee){let Ie=!1;switch(Ee.code){case n.keys.UP:oe(0,n.keyPanSpeed),Ie=!0;break;case n.keys.BOTTOM:oe(0,-n.keyPanSpeed),Ie=!0;break;case n.keys.LEFT:oe(n.keyPanSpeed,0),Ie=!0;break;case n.keys.RIGHT:oe(-n.keyPanSpeed,0),Ie=!0;break}Ie&&(Ee.preventDefault(),n.update())}function ze(){if(P.length==1)x.set(P[0].pageX,P[0].pageY);else{const Ee=.5*(P[0].pageX+P[1].pageX),Ie=.5*(P[0].pageY+P[1].pageY);x.set(Ee,Ie)}}function it(){if(P.length==1)b.set(P[0].pageX,P[0].pageY);else{const Ee=.5*(P[0].pageX+P[1].pageX),Ie=.5*(P[0].pageY+P[1].pageY);b.set(Ee,Ie)}}function De(){const Ee=P[0].pageX-P[1].pageX,Ie=P[0].pageY-P[1].pageY,Ut=Math.sqrt(Ee*Ee+Ie*Ie);U.set(0,Ut)}function re(){n.enableZoom&&De(),n.enablePan&&it()}function Le(){n.enableZoom&&De(),n.enableRotate&&ze()}function rt(Ee){if(P.length==1)B.set(Ee.pageX,Ee.pageY);else{const Ut=ct(Ee),Be=.5*(Ee.pageX+Ut.x),Je=.5*(Ee.pageY+Ut.y);B.set(Be,Je)}_.subVectors(B,x).multiplyScalar(n.rotateSpeed);const Ie=n.domElement;Ie&&(H(2*Math.PI*_.x/Ie.clientHeight),ae(2*Math.PI*_.y/Ie.clientHeight)),x.copy(B)}function ce(Ee){if(P.length==1)M.set(Ee.pageX,Ee.pageY);else{const Ie=ct(Ee),Ut=.5*(Ee.pageX+Ie.x),Be=.5*(Ee.pageY+Ie.y);M.set(Ut,Be)}T.subVectors(M,b).multiplyScalar(n.panSpeed),oe(T.x,T.y),b.copy(M)}function He(Ee){const Ie=ct(Ee),Ut=Ee.pageX-Ie.x,Be=Ee.pageY-Ie.y,Je=Math.sqrt(Ut*Ut+Be*Be);R.set(0,Je),O.set(0,Math.pow(R.y/U.y,n.zoomSpeed)),me(O.y),U.copy(R)}function Xe(Ee){n.enableZoom&&He(Ee),n.enablePan&&ce(Ee)}function Oe(Ee){n.enableZoom&&He(Ee),n.enableRotate&&rt(Ee)}function Ye(Ee){var Ie,Ut;n.enabled!==!1&&(P.length===0&&((Ie=n.domElement)==null||Ie.ownerDocument.addEventListener("pointermove",Ae),(Ut=n.domElement)==null||Ut.ownerDocument.addEventListener("pointerup",$)),zt(Ee),Ee.pointerType==="touch"?$e(Ee):Se(Ee))}function Ae(Ee){n.enabled!==!1&&(Ee.pointerType==="touch"?At(Ee):Ge(Ee))}function $(Ee){var Ie,Ut,Be;at(Ee),P.length===0&&((Ie=n.domElement)==null||Ie.releasePointerCapture(Ee.pointerId),(Ut=n.domElement)==null||Ut.ownerDocument.removeEventListener("pointermove",Ae),(Be=n.domElement)==null||Be.ownerDocument.removeEventListener("pointerup",$)),n.dispatchEvent(a),l=A.NONE}function Se(Ee){let Ie;switch(Ee.button){case 0:Ie=n.mouseButtons.LEFT;break;case 1:Ie=n.mouseButtons.MIDDLE;break;case 2:Ie=n.mouseButtons.RIGHT;break;default:Ie=-1}switch(Ie){case pp.DOLLY:if(n.enableZoom===!1)return;ie(Ee),l=A.DOLLY;break;case pp.ROTATE:if(Ee.ctrlKey||Ee.metaKey||Ee.shiftKey){if(n.enablePan===!1)return;te(Ee),l=A.PAN}else{if(n.enableRotate===!1)return;Y(Ee),l=A.ROTATE}break;case pp.PAN:if(Ee.ctrlKey||Ee.metaKey||Ee.shiftKey){if(n.enableRotate===!1)return;Y(Ee),l=A.ROTATE}else{if(n.enablePan===!1)return;te(Ee),l=A.PAN}break;default:l=A.NONE}l!==A.NONE&&n.dispatchEvent(s)}function Ge(Ee){if(n.enabled!==!1)switch(l){case A.ROTATE:if(n.enableRotate===!1)return;se(Ee);break;case A.DOLLY:if(n.enableZoom===!1)return;ye(Ee);break;case A.PAN:if(n.enablePan===!1)return;xe(Ee);break}}function Ve(Ee){n.enabled===!1||n.enableZoom===!1||l!==A.NONE&&l!==A.ROTATE||(Ee.preventDefault(),n.dispatchEvent(s),Fe(Ee),n.dispatchEvent(a))}function Re(Ee){n.enabled===!1||n.enablePan===!1||Ne(Ee)}function $e(Ee){switch(ut(Ee),P.length){case 1:switch(n.touches.ONE){case gp.ROTATE:if(n.enableRotate===!1)return;ze(),l=A.TOUCH_ROTATE;break;case gp.PAN:if(n.enablePan===!1)return;it(),l=A.TOUCH_PAN;break;default:l=A.NONE}break;case 2:switch(n.touches.TWO){case gp.DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;re(),l=A.TOUCH_DOLLY_PAN;break;case gp.DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;Le(),l=A.TOUCH_DOLLY_ROTATE;break;default:l=A.NONE}break;default:l=A.NONE}l!==A.NONE&&n.dispatchEvent(s)}function At(Ee){switch(ut(Ee),l){case A.TOUCH_ROTATE:if(n.enableRotate===!1)return;rt(Ee),n.update();break;case A.TOUCH_PAN:if(n.enablePan===!1)return;ce(Ee),n.update();break;case A.TOUCH_DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;Xe(Ee),n.update();break;case A.TOUCH_DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;Oe(Ee),n.update();break;default:l=A.NONE}}function wt(Ee){n.enabled!==!1&&Ee.preventDefault()}function zt(Ee){P.push(Ee)}function at(Ee){delete k[Ee.pointerId];for(let Ie=0;Ie<P.length;Ie++)if(P[Ie].pointerId==Ee.pointerId){P.splice(Ie,1);return}}function ut(Ee){let Ie=k[Ee.pointerId];Ie===void 0&&(Ie=new Rt,k[Ee.pointerId]=Ie),Ie.set(Ee.pageX,Ee.pageY)}function ct(Ee){const Ie=Ee.pointerId===P[0].pointerId?P[1]:P[0];return k[Ie.pointerId]}this.dollyIn=(Ee=q())=>{W(Ee),n.update()},this.dollyOut=(Ee=q())=>{me(Ee),n.update()},this.getScale=()=>v,this.setScale=Ee=>{fe(Ee),n.update()},this.getZoomScale=()=>q(),t!==void 0&&this.connect(t),this.update()}};const vG={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:`
      varying vec2 vUv;

      void main() {

        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

      }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform float h;

    varying vec2 vUv;

    void main() {

    	vec4 sum = vec4( 0.0 );

    	sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;

    	gl_FragColor = sum;

    }
  `},yG={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:`
    varying vec2 vUv;

    void main() {

      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`

  uniform sampler2D tDiffuse;
  uniform float v;

  varying vec2 vUv;

  void main() {

    vec4 sum = vec4( 0.0 );

    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;

    gl_FragColor = sum;

  }
  `},AU=new Fa,hw=new Ce;class HE extends h_{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const e=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],t=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],n=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(n),this.setAttribute("position",new wn(e,3)),this.setAttribute("uv",new wn(t,2))}applyMatrix4(e){const t=this.attributes.instanceStart,n=this.attributes.instanceEnd;return t!==void 0&&(t.applyMatrix4(e),n.applyMatrix4(e),t.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(e){let t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));const n=new sb(t,6,1);return this.setAttribute("instanceStart",new au(n,3,0)),this.setAttribute("instanceEnd",new au(n,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e,t=3){let n;e instanceof Float32Array?n=e:Array.isArray(e)&&(n=new Float32Array(e));const r=new sb(n,t*2,1);return this.setAttribute("instanceColorStart",new au(r,t,0)),this.setAttribute("instanceColorEnd",new au(r,t,t)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new yE(e.geometry)),this}fromLineSegments(e){const t=e.geometry;return this.setPositions(t.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Fa);const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;e!==void 0&&t!==void 0&&(this.boundingBox.setFromBufferAttribute(e),AU.setFromBufferAttribute(t),this.boundingBox.union(AU))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Va),this.boundingBox===null&&this.computeBoundingBox();const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;if(e!==void 0&&t!==void 0){const n=this.boundingSphere.center;this.boundingBox.getCenter(n);let r=0;for(let s=0,a=e.count;s<a;s++)hw.fromBufferAttribute(e,s),r=Math.max(r,n.distanceToSquared(hw)),hw.fromBufferAttribute(t,s),r=Math.max(r,n.distanceToSquared(hw));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}}class LI extends HE{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(e){const t=e.length-3,n=new Float32Array(2*t);for(let r=0;r<t;r+=3)n[2*r]=e[r],n[2*r+1]=e[r+1],n[2*r+2]=e[r+2],n[2*r+3]=e[r+3],n[2*r+4]=e[r+4],n[2*r+5]=e[r+5];return super.setPositions(n),this}setColors(e,t=3){const n=e.length-t,r=new Float32Array(2*n);if(t===3)for(let s=0;s<n;s+=t)r[2*s]=e[s],r[2*s+1]=e[s+1],r[2*s+2]=e[s+2],r[2*s+3]=e[s+3],r[2*s+4]=e[s+4],r[2*s+5]=e[s+5];else for(let s=0;s<n;s+=t)r[2*s]=e[s],r[2*s+1]=e[s+1],r[2*s+2]=e[s+2],r[2*s+3]=e[s+3],r[2*s+4]=e[s+4],r[2*s+5]=e[s+5],r[2*s+6]=e[s+6],r[2*s+7]=e[s+7];return super.setColors(r,t),this}fromLine(e){const t=e.geometry;return this.setPositions(t.attributes.position.array),this}}class kE extends qA{constructor(e){super({type:"LineMaterial",uniforms:j1.clone(j1.merge([rn.common,rn.fog,{worldUnits:{value:1},linewidth:{value:1},resolution:{value:new Rt(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}}])),vertexShader:`
				#include <common>
				#include <fog_pars_vertex>
				#include <logdepthbuf_pars_vertex>
				#include <clipping_planes_pars_vertex>

				uniform float linewidth;
				uniform vec2 resolution;

				attribute vec3 instanceStart;
				attribute vec3 instanceEnd;

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
						attribute vec4 instanceColorStart;
						attribute vec4 instanceColorEnd;
					#else
						varying vec3 vLineColor;
						attribute vec3 instanceColorStart;
						attribute vec3 instanceColorEnd;
					#endif
				#endif

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#ifdef USE_DASH

					uniform float dashScale;
					attribute float instanceDistanceStart;
					attribute float instanceDistanceEnd;
					varying float vLineDistance;

				#endif

				void trimSegment( const in vec4 start, inout vec4 end ) {

					// trim end segment so it terminates between the camera plane and the near plane

					// conservative estimate of the near plane
					float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
					float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
					float nearEstimate = - 0.5 * b / a;

					float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

					end.xyz = mix( start.xyz, end.xyz, alpha );

				}

				void main() {

					#ifdef USE_COLOR

						vLineColor = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

					#endif

					#ifdef USE_DASH

						vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
						vUv = uv;

					#endif

					float aspect = resolution.x / resolution.y;

					// camera space
					vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
					vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

					#ifdef WORLD_UNITS

						worldStart = start.xyz;
						worldEnd = end.xyz;

					#else

						vUv = uv;

					#endif

					// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
					// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
					// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
					// perhaps there is a more elegant solution -- WestLangley

					bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

					if ( perspective ) {

						if ( start.z < 0.0 && end.z >= 0.0 ) {

							trimSegment( start, end );

						} else if ( end.z < 0.0 && start.z >= 0.0 ) {

							trimSegment( end, start );

						}

					}

					// clip space
					vec4 clipStart = projectionMatrix * start;
					vec4 clipEnd = projectionMatrix * end;

					// ndc space
					vec3 ndcStart = clipStart.xyz / clipStart.w;
					vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

					// direction
					vec2 dir = ndcEnd.xy - ndcStart.xy;

					// account for clip-space aspect ratio
					dir.x *= aspect;
					dir = normalize( dir );

					#ifdef WORLD_UNITS

						// get the offset direction as perpendicular to the view vector
						vec3 worldDir = normalize( end.xyz - start.xyz );
						vec3 offset;
						if ( position.y < 0.5 ) {

							offset = normalize( cross( start.xyz, worldDir ) );

						} else {

							offset = normalize( cross( end.xyz, worldDir ) );

						}

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

						// don't extend the line if we're rendering dashes because we
						// won't be rendering the endcaps
						#ifndef USE_DASH

							// extend the line bounds to encompass  endcaps
							start.xyz += - worldDir * linewidth * 0.5;
							end.xyz += worldDir * linewidth * 0.5;

							// shift the position of the quad so it hugs the forward edge of the line
							offset.xy -= dir * forwardOffset;
							offset.z += 0.5;

						#endif

						// endcaps
						if ( position.y > 1.0 || position.y < 0.0 ) {

							offset.xy += dir * 2.0 * forwardOffset;

						}

						// adjust for linewidth
						offset *= linewidth * 0.5;

						// set the world position
						worldPos = ( position.y < 0.5 ) ? start : end;
						worldPos.xyz += offset;

						// project the worldpos
						vec4 clip = projectionMatrix * worldPos;

						// shift the depth of the projected points so the line
						// segments overlap neatly
						vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
						clip.z = clipPose.z * clip.w;

					#else

						vec2 offset = vec2( dir.y, - dir.x );
						// undo aspect ratio adjustment
						dir.x /= aspect;
						offset.x /= aspect;

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						// endcaps
						if ( position.y < 0.0 ) {

							offset += - dir;

						} else if ( position.y > 1.0 ) {

							offset += dir;

						}

						// adjust for linewidth
						offset *= linewidth;

						// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
						offset /= resolution.y;

						// select end
						vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

						// back to clip space
						offset *= clip.w;

						clip.xy += offset;

					#endif

					gl_Position = clip;

					vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

					#include <logdepthbuf_vertex>
					#include <clipping_planes_vertex>
					#include <fog_vertex>

				}
			`,fragmentShader:`
				uniform vec3 diffuse;
				uniform float opacity;
				uniform float linewidth;

				#ifdef USE_DASH

					uniform float dashOffset;
					uniform float dashSize;
					uniform float gapSize;

				#endif

				varying float vLineDistance;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#include <common>
				#include <fog_pars_fragment>
				#include <logdepthbuf_pars_fragment>
				#include <clipping_planes_pars_fragment>

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
					#else
						varying vec3 vLineColor;
					#endif
				#endif

				vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

					float mua;
					float mub;

					vec3 p13 = p1 - p3;
					vec3 p43 = p4 - p3;

					vec3 p21 = p2 - p1;

					float d1343 = dot( p13, p43 );
					float d4321 = dot( p43, p21 );
					float d1321 = dot( p13, p21 );
					float d4343 = dot( p43, p43 );
					float d2121 = dot( p21, p21 );

					float denom = d2121 * d4343 - d4321 * d4321;

					float numer = d1343 * d4321 - d1321 * d4343;

					mua = numer / denom;
					mua = clamp( mua, 0.0, 1.0 );
					mub = ( d1343 + d4321 * ( mua ) ) / d4343;
					mub = clamp( mub, 0.0, 1.0 );

					return vec2( mua, mub );

				}

				void main() {

					#include <clipping_planes_fragment>

					#ifdef USE_DASH

						if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

						if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

					#endif

					float alpha = opacity;

					#ifdef WORLD_UNITS

						// Find the closest points on the view ray and the line segment
						vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
						vec3 lineDir = worldEnd - worldStart;
						vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

						vec3 p1 = worldStart + lineDir * params.x;
						vec3 p2 = rayEnd * params.y;
						vec3 delta = p1 - p2;
						float len = length( delta );
						float norm = len / linewidth;

						#ifndef USE_DASH

							#ifdef USE_ALPHA_TO_COVERAGE

								float dnorm = fwidth( norm );
								alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

							#else

								if ( norm > 0.5 ) {

									discard;

								}

							#endif

						#endif

					#else

						#ifdef USE_ALPHA_TO_COVERAGE

							// artifacts appear on some hardware if a derivative is taken within a conditional
							float a = vUv.x;
							float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
							float len2 = a * a + b * b;
							float dlen = fwidth( len2 );

							if ( abs( vUv.y ) > 1.0 ) {

								alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

							}

						#else

							if ( abs( vUv.y ) > 1.0 ) {

								float a = vUv.x;
								float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
								float len2 = a * a + b * b;

								if ( len2 > 1.0 ) discard;

							}

						#endif

					#endif

					vec4 diffuseColor = vec4( diffuse, alpha );
					#ifdef USE_COLOR
						#ifdef USE_LINE_COLOR_ALPHA
							diffuseColor *= vLineColor;
						#else
							diffuseColor.rgb *= vLineColor;
						#endif
					#endif

					#include <logdepthbuf_fragment>

					gl_FragColor = diffuseColor;

					#include <tonemapping_fragment>
					#include <${TI>=154?"colorspace_fragment":"encodings_fragment"}>
					#include <fog_fragment>
					#include <premultiplied_alpha_fragment>

				}
			`,clipping:!0}),this.isLineMaterial=!0,this.onBeforeCompile=function(){this.transparent?this.defines.USE_LINE_COLOR_ALPHA="1":delete this.defines.USE_LINE_COLOR_ALPHA},Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(t){this.uniforms.diffuse.value=t}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(t){t===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(t){this.uniforms.linewidth.value=t}},dashed:{enumerable:!0,get:function(){return"USE_DASH"in this.defines},set(t){!!t!="USE_DASH"in this.defines&&(this.needsUpdate=!0),t===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(t){this.uniforms.dashScale.value=t}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(t){this.uniforms.dashSize.value=t}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(t){this.uniforms.dashOffset.value=t}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(t){this.uniforms.gapSize.value=t}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(t){this.uniforms.resolution.value.copy(t)}},alphaToCoverage:{enumerable:!0,get:function(){return"USE_ALPHA_TO_COVERAGE"in this.defines},set:function(t){!!t!="USE_ALPHA_TO_COVERAGE"in this.defines&&(this.needsUpdate=!0),t===!0?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(e)}}const vS=new er,lU=new Ce,uU=new Ce,Po=new er,Qo=new er,Af=new er,yS=new Ce,wS=new Vn,ko=new eI,cU=new Ce,dw=new Fa,pw=new Va,lf=new er;let gf,Ip;function fU(i,e,t){return lf.set(0,0,-e,1).applyMatrix4(i.projectionMatrix),lf.multiplyScalar(1/lf.w),lf.x=Ip/t.width,lf.y=Ip/t.height,lf.applyMatrix4(i.projectionMatrixInverse),lf.multiplyScalar(1/lf.w),Math.abs(Math.max(lf.x,lf.y))}function wG(i,e){const t=i.matrixWorld,n=i.geometry,r=n.attributes.instanceStart,s=n.attributes.instanceEnd,a=Math.min(n.instanceCount,r.count);for(let A=0,l=a;A<l;A++){ko.start.fromBufferAttribute(r,A),ko.end.fromBufferAttribute(s,A),ko.applyMatrix4(t);const c=new Ce,h=new Ce;gf.distanceSqToSegment(ko.start,ko.end,h,c),h.distanceTo(c)<Ip*.5&&e.push({point:h,pointOnLine:c,distance:gf.origin.distanceTo(h),object:i,face:null,faceIndex:A,uv:null,[FI]:null})}}function xG(i,e,t){const n=e.projectionMatrix,s=i.material.resolution,a=i.matrixWorld,A=i.geometry,l=A.attributes.instanceStart,c=A.attributes.instanceEnd,h=Math.min(A.instanceCount,l.count),g=-e.near;gf.at(1,Af),Af.w=1,Af.applyMatrix4(e.matrixWorldInverse),Af.applyMatrix4(n),Af.multiplyScalar(1/Af.w),Af.x*=s.x/2,Af.y*=s.y/2,Af.z=0,yS.copy(Af),wS.multiplyMatrices(e.matrixWorldInverse,a);for(let v=0,m=h;v<m;v++){if(Po.fromBufferAttribute(l,v),Qo.fromBufferAttribute(c,v),Po.w=1,Qo.w=1,Po.applyMatrix4(wS),Qo.applyMatrix4(wS),Po.z>g&&Qo.z>g)continue;if(Po.z>g){const T=Po.z-Qo.z,U=(Po.z-g)/T;Po.lerp(Qo,U)}else if(Qo.z>g){const T=Qo.z-Po.z,U=(Qo.z-g)/T;Qo.lerp(Po,U)}Po.applyMatrix4(n),Qo.applyMatrix4(n),Po.multiplyScalar(1/Po.w),Qo.multiplyScalar(1/Qo.w),Po.x*=s.x/2,Po.y*=s.y/2,Qo.x*=s.x/2,Qo.y*=s.y/2,ko.start.copy(Po),ko.start.z=0,ko.end.copy(Qo),ko.end.z=0;const B=ko.closestPointToPointParameter(yS,!0);ko.at(B,cU);const _=V1.lerp(Po.z,Qo.z,B),b=_>=-1&&_<=1,M=yS.distanceTo(cU)<Ip*.5;if(b&&M){ko.start.fromBufferAttribute(l,v),ko.end.fromBufferAttribute(c,v),ko.start.applyMatrix4(a),ko.end.applyMatrix4(a);const T=new Ce,U=new Ce;gf.distanceSqToSegment(ko.start,ko.end,U,T),t.push({point:U,pointOnLine:T,distance:gf.origin.distanceTo(U),object:i,face:null,faceIndex:v,uv:null,[FI]:null})}}}class II extends xs{constructor(e=new HE,t=new kE({color:Math.random()*16777215})){super(e,t),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const e=this.geometry,t=e.attributes.instanceStart,n=e.attributes.instanceEnd,r=new Float32Array(2*t.count);for(let a=0,A=0,l=t.count;a<l;a++,A+=2)lU.fromBufferAttribute(t,a),uU.fromBufferAttribute(n,a),r[A]=A===0?0:r[A-1],r[A+1]=r[A]+lU.distanceTo(uU);const s=new sb(r,2,1);return e.setAttribute("instanceDistanceStart",new au(s,1,0)),e.setAttribute("instanceDistanceEnd",new au(s,1,1)),this}raycast(e,t){const n=this.material.worldUnits,r=e.camera;r===null&&!n&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const s=e.params.Line2!==void 0&&e.params.Line2.threshold||0;gf=e.ray;const a=this.matrixWorld,A=this.geometry,l=this.material;Ip=l.linewidth+s,A.boundingSphere===null&&A.computeBoundingSphere(),pw.copy(A.boundingSphere).applyMatrix4(a);let c;if(n)c=Ip*.5;else{const g=Math.max(r.near,pw.distanceToPoint(gf.origin));c=fU(r,g,l.resolution)}if(pw.radius+=c,gf.intersectsSphere(pw)===!1)return;A.boundingBox===null&&A.computeBoundingBox(),dw.copy(A.boundingBox).applyMatrix4(a);let h;if(n)h=Ip*.5;else{const g=Math.max(r.near,dw.distanceToPoint(gf.origin));h=fU(r,g,l.resolution)}dw.expandByScalar(h),gf.intersectsBox(dw)!==!1&&(n?wG(this,t):xG(this,r,t))}onBeforeRender(e){const t=this.material.uniforms;t&&t.resolution&&(e.getViewport(vS),this.material.uniforms.resolution.value.set(vS.z,vS.w))}}class bG extends II{constructor(e=new LI,t=new kE({color:Math.random()*16777215})){super(e,t),this.isLine2=!0,this.type="Line2"}}const bm=ht.forwardRef(function({points:e,color:t=16777215,vertexColors:n,linewidth:r,lineWidth:s,segments:a,dashed:A,...l},c){var h,g;const v=qs(b=>b.size),m=ht.useMemo(()=>a?new II:new bG,[a]),[x]=ht.useState(()=>new kE),B=(n==null||(h=n[0])==null?void 0:h.length)===4?4:3,_=ht.useMemo(()=>{const b=a?new HE:new LI,M=e.map(T=>{const U=Array.isArray(T);return T instanceof Ce||T instanceof er?[T.x,T.y,T.z]:T instanceof Rt?[T.x,T.y,0]:U&&T.length===3?[T[0],T[1],T[2]]:U&&T.length===2?[T[0],T[1],0]:T});if(b.setPositions(M.flat()),n){t=16777215;const T=n.map(U=>U instanceof an?U.toArray():U);b.setColors(T.flat(),B)}return b},[e,a,n,B]);return ht.useLayoutEffect(()=>{m.computeLineDistances()},[e,m]),ht.useLayoutEffect(()=>{A?x.defines.USE_DASH="":delete x.defines.USE_DASH,x.needsUpdate=!0},[A,x]),ht.useEffect(()=>()=>{_.dispose(),x.dispose()},[_]),ht.createElement("primitive",El({object:m,ref:c},l),ht.createElement("primitive",{object:_,attach:"geometry"}),ht.createElement("primitive",El({object:x,attach:"material",color:t,vertexColors:!!n,resolution:[v.width,v.height],linewidth:(g=r??s)!==null&&g!==void 0?g:1,dashed:A,transparent:B===4},l)))});function _G(){var i=Object.create(null);function e(r,s){var a=r.id,A=r.name,l=r.dependencies;l===void 0&&(l=[]);var c=r.init;c===void 0&&(c=function(){});var h=r.getTransferables;if(h===void 0&&(h=null),!i[a])try{l=l.map(function(v){return v&&v.isWorkerModule&&(e(v,function(m){if(m instanceof Error)throw m}),v=i[v.id].value),v}),c=n("<"+A+">.init",c),h&&(h=n("<"+A+">.getTransferables",h));var g=null;typeof c=="function"?g=c.apply(void 0,l):console.error("worker module init function failed to rehydrate"),i[a]={id:a,value:g,getTransferables:h},s(g)}catch(v){v&&v.noLog||console.error(v),s(v)}}function t(r,s){var a,A=r.id,l=r.args;(!i[A]||typeof i[A].value!="function")&&s(new Error("Worker module "+A+": not found or its 'init' did not return a function"));try{var c=(a=i[A]).value.apply(a,l);c&&typeof c.then=="function"?c.then(h,function(g){return s(g instanceof Error?g:new Error(""+g))}):h(c)}catch(g){s(g)}function h(g){try{var v=i[A].getTransferables&&i[A].getTransferables(g);(!v||!Array.isArray(v)||!v.length)&&(v=void 0),s(g,v)}catch(m){console.error(m),s(m)}}}function n(r,s){var a=void 0;self.troikaDefine=function(l){return a=l};var A=URL.createObjectURL(new Blob(["/** "+r.replace(/\*/g,"")+` **/

troikaDefine(
`+s+`
)`],{type:"application/javascript"}));try{importScripts(A)}catch(l){console.error(l)}return URL.revokeObjectURL(A),delete self.troikaDefine,a}self.addEventListener("message",function(r){var s=r.data,a=s.messageId,A=s.action,l=s.data;try{A==="registerModule"&&e(l,function(c){c instanceof Error?postMessage({messageId:a,success:!1,error:c.message}):postMessage({messageId:a,success:!0,result:{isCallable:typeof c=="function"}})}),A==="callModule"&&t(l,function(c,h){c instanceof Error?postMessage({messageId:a,success:!1,error:c.message}):postMessage({messageId:a,success:!0,result:c},h||void 0)})}catch(c){postMessage({messageId:a,success:!1,error:c.stack})}})}function BG(i){var e=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return e._getInitResult().then(function(r){if(typeof r=="function")return r.apply(void 0,t);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var t=i.dependencies,n=i.init;t=Array.isArray(t)?t.map(function(s){return s&&(s=s.onMainThread||s,s._getInitResult&&(s=s._getInitResult())),s}):[];var r=Promise.all(t).then(function(s){return n.apply(null,s)});return e._getInitResult=function(){return r},r},e}var RI=function(){var i=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),i=!0}catch(t){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+t.message+"]")}return RI=function(){return i},i},SG=0,CG=0,xS=!1,B1=Object.create(null),S1=Object.create(null),q2=Object.create(null);function Ym(i){if((!i||typeof i.init!="function")&&!xS)throw new Error("requires `options.init` function");var e=i.dependencies,t=i.init,n=i.getTransferables,r=i.workerId,s=BG(i);r==null&&(r="#default");var a="workerModule"+ ++SG,A=i.name||a,l=null;e=e&&e.map(function(h){return typeof h=="function"&&!h.workerModuleData&&(xS=!0,h=Ym({workerId:r,name:"<"+A+"> function dependency: "+h.name,init:`function(){return (
`+tx(h)+`
)}`}),xS=!1),h&&h.workerModuleData&&(h=h.workerModuleData),h});function c(){for(var h=[],g=arguments.length;g--;)h[g]=arguments[g];if(!RI())return s.apply(void 0,h);if(!l){l=hU(r,"registerModule",c.workerModuleData);var v=function(){l=null,S1[r].delete(v)};(S1[r]||(S1[r]=new Set)).add(v)}return l.then(function(m){var x=m.isCallable;if(x)return hU(r,"callModule",{id:a,args:h});throw new Error("Worker module function was called but `init` did not return a callable function")})}return c.workerModuleData={isWorkerModule:!0,id:a,name:A,dependencies:e,init:tx(t),getTransferables:n&&tx(n)},c.onMainThread=s,c}function EG(i){S1[i]&&S1[i].forEach(function(e){e()}),B1[i]&&(B1[i].terminate(),delete B1[i])}function tx(i){var e=i.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function MG(i){var e=B1[i];if(!e){var t=tx(_G);e=B1[i]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+i.replace(/\*/g,"")+` **/

;(`+t+")()"],{type:"application/javascript"}))),e.onmessage=function(n){var r=n.data,s=r.messageId,a=q2[s];if(!a)throw new Error("WorkerModule response with empty or unknown messageId");delete q2[s],a(r)}}return e}function hU(i,e,t){return new Promise(function(n,r){var s=++CG;q2[s]=function(a){a.success?n(a.result):r(new Error("Error in worker "+e+" call: "+a.error))},MG(i).postMessage({messageId:s,action:e,data:t})})}function NI(){var i=(function(e){function t(fe,me,W,Q,X,Y,ie,te){var se=1-ie;te.x=se*se*fe+2*se*ie*W+ie*ie*X,te.y=se*se*me+2*se*ie*Q+ie*ie*Y}function n(fe,me,W,Q,X,Y,ie,te,se,ye){var xe=1-se;ye.x=xe*xe*xe*fe+3*xe*xe*se*W+3*xe*se*se*X+se*se*se*ie,ye.y=xe*xe*xe*me+3*xe*xe*se*Q+3*xe*se*se*Y+se*se*se*te}function r(fe,me){for(var W=/([MLQCZ])([^MLQCZ]*)/g,Q,X,Y,ie,te;Q=W.exec(fe);){var se=Q[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(ye){return parseFloat(ye)});switch(Q[1]){case"M":ie=X=se[0],te=Y=se[1];break;case"L":(se[0]!==ie||se[1]!==te)&&me("L",ie,te,ie=se[0],te=se[1]);break;case"Q":{me("Q",ie,te,ie=se[2],te=se[3],se[0],se[1]);break}case"C":{me("C",ie,te,ie=se[4],te=se[5],se[0],se[1],se[2],se[3]);break}case"Z":(ie!==X||te!==Y)&&me("L",ie,te,X,Y);break}}}function s(fe,me,W){W===void 0&&(W=16);var Q={x:0,y:0};r(fe,function(X,Y,ie,te,se,ye,xe,Fe,Ne){switch(X){case"L":me(Y,ie,te,se);break;case"Q":{for(var ze=Y,it=ie,De=1;De<W;De++)t(Y,ie,ye,xe,te,se,De/(W-1),Q),me(ze,it,Q.x,Q.y),ze=Q.x,it=Q.y;break}case"C":{for(var re=Y,Le=ie,rt=1;rt<W;rt++)n(Y,ie,ye,xe,Fe,Ne,te,se,rt/(W-1),Q),me(re,Le,Q.x,Q.y),re=Q.x,Le=Q.y;break}}})}var a="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",A="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,c={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function h(fe,me){var W=fe.getContext?fe.getContext("webgl",c):fe,Q=l.get(W);if(!Q){let xe=function(re){var Le=Y[re];if(!Le&&(Le=Y[re]=W.getExtension(re),!Le))throw new Error(re+" not supported");return Le},Fe=function(re,Le){var rt=W.createShader(Le);return W.shaderSource(rt,re),W.compileShader(rt),rt},Ne=function(re,Le,rt,ce){if(!ie[re]){var He={},Xe={},Oe=W.createProgram();W.attachShader(Oe,Fe(Le,W.VERTEX_SHADER)),W.attachShader(Oe,Fe(rt,W.FRAGMENT_SHADER)),W.linkProgram(Oe),ie[re]={program:Oe,transaction:function(Ae){W.useProgram(Oe),Ae({setUniform:function(Se,Ge){for(var Ve=[],Re=arguments.length-2;Re-- >0;)Ve[Re]=arguments[Re+2];var $e=Xe[Ge]||(Xe[Ge]=W.getUniformLocation(Oe,Ge));W["uniform"+Se].apply(W,[$e].concat(Ve))},setAttribute:function(Se,Ge,Ve,Re,$e){var At=He[Se];At||(At=He[Se]={buf:W.createBuffer(),loc:W.getAttribLocation(Oe,Se),data:null}),W.bindBuffer(W.ARRAY_BUFFER,At.buf),W.vertexAttribPointer(At.loc,Ge,W.FLOAT,!1,0,0),W.enableVertexAttribArray(At.loc),X?W.vertexAttribDivisor(At.loc,Re):xe("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(At.loc,Re),$e!==At.data&&(W.bufferData(W.ARRAY_BUFFER,$e,Ve),At.data=$e)}})}}}ie[re].transaction(ce)},ze=function(re,Le){se++;try{W.activeTexture(W.TEXTURE0+se);var rt=te[re];rt||(rt=te[re]=W.createTexture(),W.bindTexture(W.TEXTURE_2D,rt),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MIN_FILTER,W.NEAREST),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MAG_FILTER,W.NEAREST)),W.bindTexture(W.TEXTURE_2D,rt),Le(rt,se)}finally{se--}},it=function(re,Le,rt){var ce=W.createFramebuffer();ye.push(ce),W.bindFramebuffer(W.FRAMEBUFFER,ce),W.activeTexture(W.TEXTURE0+Le),W.bindTexture(W.TEXTURE_2D,re),W.framebufferTexture2D(W.FRAMEBUFFER,W.COLOR_ATTACHMENT0,W.TEXTURE_2D,re,0);try{rt(ce)}finally{W.deleteFramebuffer(ce),W.bindFramebuffer(W.FRAMEBUFFER,ye[--ye.length-1]||null)}},De=function(){Y={},ie={},te={},se=-1,ye.length=0};var X=typeof WebGL2RenderingContext<"u"&&W instanceof WebGL2RenderingContext,Y={},ie={},te={},se=-1,ye=[];W.canvas.addEventListener("webglcontextlost",function(re){De(),re.preventDefault()},!1),l.set(W,Q={gl:W,isWebGL2:X,getExtension:xe,withProgram:Ne,withTexture:ze,withTextureFramebuffer:it,handleContextLoss:De})}me(Q)}function g(fe,me,W,Q,X,Y,ie,te){ie===void 0&&(ie=15),te===void 0&&(te=null),h(fe,function(se){var ye=se.gl,xe=se.withProgram,Fe=se.withTexture;Fe("copy",function(Ne,ze){ye.texImage2D(ye.TEXTURE_2D,0,ye.RGBA,X,Y,0,ye.RGBA,ye.UNSIGNED_BYTE,me),xe("copy",a,A,function(it){var De=it.setUniform,re=it.setAttribute;re("aUV",2,ye.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),De("1i","image",ze),ye.bindFramebuffer(ye.FRAMEBUFFER,te||null),ye.disable(ye.BLEND),ye.colorMask(ie&8,ie&4,ie&2,ie&1),ye.viewport(W,Q,X,Y),ye.scissor(W,Q,X,Y),ye.drawArrays(ye.TRIANGLES,0,3)})})})}function v(fe,me,W){var Q=fe.width,X=fe.height;h(fe,function(Y){var ie=Y.gl,te=new Uint8Array(Q*X*4);ie.readPixels(0,0,Q,X,ie.RGBA,ie.UNSIGNED_BYTE,te),fe.width=me,fe.height=W,g(ie,te,0,0,Q,X)})}var m=Object.freeze({__proto__:null,withWebGLContext:h,renderImageData:g,resizeWebGLCanvasWithoutClearing:v});function x(fe,me,W,Q,X,Y){Y===void 0&&(Y=1);var ie=new Uint8Array(fe*me),te=Q[2]-Q[0],se=Q[3]-Q[1],ye=[];s(W,function(re,Le,rt,ce){ye.push({x1:re,y1:Le,x2:rt,y2:ce,minX:Math.min(re,rt),minY:Math.min(Le,ce),maxX:Math.max(re,rt),maxY:Math.max(Le,ce)})}),ye.sort(function(re,Le){return re.maxX-Le.maxX});for(var xe=0;xe<fe;xe++)for(var Fe=0;Fe<me;Fe++){var Ne=it(Q[0]+te*(xe+.5)/fe,Q[1]+se*(Fe+.5)/me),ze=Math.pow(1-Math.abs(Ne)/X,Y)/2;Ne<0&&(ze=1-ze),ze=Math.max(0,Math.min(255,Math.round(ze*255))),ie[Fe*fe+xe]=ze}return ie;function it(re,Le){for(var rt=1/0,ce=1/0,He=ye.length;He--;){var Xe=ye[He];if(Xe.maxX+ce<=re)break;if(re+ce>Xe.minX&&Le-ce<Xe.maxY&&Le+ce>Xe.minY){var Oe=b(re,Le,Xe.x1,Xe.y1,Xe.x2,Xe.y2);Oe<rt&&(rt=Oe,ce=Math.sqrt(rt))}}return De(re,Le)&&(ce=-ce),ce}function De(re,Le){for(var rt=0,ce=ye.length;ce--;){var He=ye[ce];if(He.maxX<=re)break;var Xe=He.y1>Le!=He.y2>Le&&re<(He.x2-He.x1)*(Le-He.y1)/(He.y2-He.y1)+He.x1;Xe&&(rt+=He.y1<He.y2?1:-1)}return rt!==0}}function B(fe,me,W,Q,X,Y,ie,te,se,ye){Y===void 0&&(Y=1),te===void 0&&(te=0),se===void 0&&(se=0),ye===void 0&&(ye=0),_(fe,me,W,Q,X,Y,ie,null,te,se,ye)}function _(fe,me,W,Q,X,Y,ie,te,se,ye,xe){Y===void 0&&(Y=1),se===void 0&&(se=0),ye===void 0&&(ye=0),xe===void 0&&(xe=0);for(var Fe=x(fe,me,W,Q,X,Y),Ne=new Uint8Array(Fe.length*4),ze=0;ze<Fe.length;ze++)Ne[ze*4+xe]=Fe[ze];g(ie,Ne,se,ye,fe,me,1<<3-xe,te)}function b(fe,me,W,Q,X,Y){var ie=X-W,te=Y-Q,se=ie*ie+te*te,ye=se?Math.max(0,Math.min(1,((fe-W)*ie+(me-Q)*te)/se)):0,xe=fe-(W+ye*ie),Fe=me-(Q+ye*te);return xe*xe+Fe*Fe}var M=Object.freeze({__proto__:null,generate:x,generateIntoCanvas:B,generateIntoFramebuffer:_}),T="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",U="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",R="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",O=new Float32Array([0,0,2,0,0,2]),z=null,V=!1,I={},P=new WeakMap;function k(fe){if(!V&&!ae(fe))throw new Error("WebGL generation not supported")}function G(fe,me,W,Q,X,Y,ie){if(Y===void 0&&(Y=1),ie===void 0&&(ie=null),!ie&&(ie=z,!ie)){var te=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!te)throw new Error("OffscreenCanvas or DOM canvas not supported");ie=z=te.getContext("webgl",{depth:!1})}k(ie);var se=new Uint8Array(fe*me*4);h(ie,function(Ne){var ze=Ne.gl,it=Ne.withTexture,De=Ne.withTextureFramebuffer;it("readable",function(re,Le){ze.texImage2D(ze.TEXTURE_2D,0,ze.RGBA,fe,me,0,ze.RGBA,ze.UNSIGNED_BYTE,null),De(re,Le,function(rt){H(fe,me,W,Q,X,Y,ze,rt,0,0,0),ze.readPixels(0,0,fe,me,ze.RGBA,ze.UNSIGNED_BYTE,se)})})});for(var ye=new Uint8Array(fe*me),xe=0,Fe=0;xe<se.length;xe+=4)ye[Fe++]=se[xe];return ye}function q(fe,me,W,Q,X,Y,ie,te,se,ye){Y===void 0&&(Y=1),te===void 0&&(te=0),se===void 0&&(se=0),ye===void 0&&(ye=0),H(fe,me,W,Q,X,Y,ie,null,te,se,ye)}function H(fe,me,W,Q,X,Y,ie,te,se,ye,xe){Y===void 0&&(Y=1),se===void 0&&(se=0),ye===void 0&&(ye=0),xe===void 0&&(xe=0),k(ie);var Fe=[];s(W,function(Ne,ze,it,De){Fe.push(Ne,ze,it,De)}),Fe=new Float32Array(Fe),h(ie,function(Ne){var ze=Ne.gl,it=Ne.isWebGL2,De=Ne.getExtension,re=Ne.withProgram,Le=Ne.withTexture,rt=Ne.withTextureFramebuffer,ce=Ne.handleContextLoss;if(Le("rawDistances",function(He,Xe){(fe!==He._lastWidth||me!==He._lastHeight)&&ze.texImage2D(ze.TEXTURE_2D,0,ze.RGBA,He._lastWidth=fe,He._lastHeight=me,0,ze.RGBA,ze.UNSIGNED_BYTE,null),re("main",T,U,function(Oe){var Ye=Oe.setAttribute,Ae=Oe.setUniform,$=!it&&De("ANGLE_instanced_arrays"),Se=!it&&De("EXT_blend_minmax");Ye("aUV",2,ze.STATIC_DRAW,0,O),Ye("aLineSegment",4,ze.DYNAMIC_DRAW,1,Fe),Ae.apply(void 0,["4f","uGlyphBounds"].concat(Q)),Ae("1f","uMaxDistance",X),Ae("1f","uExponent",Y),rt(He,Xe,function(Ge){ze.enable(ze.BLEND),ze.colorMask(!0,!0,!0,!0),ze.viewport(0,0,fe,me),ze.scissor(0,0,fe,me),ze.blendFunc(ze.ONE,ze.ONE),ze.blendEquationSeparate(ze.FUNC_ADD,it?ze.MAX:Se.MAX_EXT),ze.clear(ze.COLOR_BUFFER_BIT),it?ze.drawArraysInstanced(ze.TRIANGLES,0,3,Fe.length/4):$.drawArraysInstancedANGLE(ze.TRIANGLES,0,3,Fe.length/4)})}),re("post",a,R,function(Oe){Oe.setAttribute("aUV",2,ze.STATIC_DRAW,0,O),Oe.setUniform("1i","tex",Xe),ze.bindFramebuffer(ze.FRAMEBUFFER,te),ze.disable(ze.BLEND),ze.colorMask(xe===0,xe===1,xe===2,xe===3),ze.viewport(se,ye,fe,me),ze.scissor(se,ye,fe,me),ze.drawArrays(ze.TRIANGLES,0,3)})}),ze.isContextLost())throw ce(),new Error("webgl context lost")})}function ae(fe){var me=!fe||fe===z?I:fe.canvas||fe,W=P.get(me);if(W===void 0){V=!0;var Q=null;try{var X=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],Y=G(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,fe);W=Y&&X.length===Y.length&&Y.every(function(ie,te){return ie===X[te]}),W||(Q="bad trial run results",console.info(X,Y))}catch(ie){W=!1,Q=ie.message}Q&&console.warn("WebGL SDF generation not supported:",Q),V=!1,P.set(me,W)}return W}var Z=Object.freeze({__proto__:null,generate:G,generateIntoCanvas:q,generateIntoFramebuffer:H,isSupported:ae});function ne(fe,me,W,Q,X,Y){X===void 0&&(X=Math.max(Q[2]-Q[0],Q[3]-Q[1])/2),Y===void 0&&(Y=1);try{return G.apply(Z,arguments)}catch(ie){return console.info("WebGL SDF generation failed, falling back to JS",ie),x.apply(M,arguments)}}function oe(fe,me,W,Q,X,Y,ie,te,se,ye){X===void 0&&(X=Math.max(Q[2]-Q[0],Q[3]-Q[1])/2),Y===void 0&&(Y=1),te===void 0&&(te=0),se===void 0&&(se=0),ye===void 0&&(ye=0);try{return q.apply(Z,arguments)}catch(xe){return console.info("WebGL SDF generation failed, falling back to JS",xe),B.apply(M,arguments)}}return e.forEachPathCommand=r,e.generate=ne,e.generateIntoCanvas=oe,e.javascript=M,e.pathToLineSegments=s,e.webgl=Z,e.webglUtils=m,Object.defineProperty(e,"__esModule",{value:!0}),e})({});return i}function UG(){var i=(function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},n={},r={};n.L=1,r[1]="L",Object.keys(t).forEach(function(ce,He){n[ce]=1<<He+1,r[n[ce]]=ce}),Object.freeze(n);var s=n.LRI|n.RLI|n.FSI,a=n.L|n.R|n.AL,A=n.B|n.S|n.WS|n.ON|n.FSI|n.LRI|n.RLI|n.PDI,l=n.BN|n.RLE|n.LRE|n.RLO|n.LRO|n.PDF,c=n.S|n.WS|n.B|s|n.PDI|l,h=null;function g(){if(!h){h=new Map;var ce=function(Xe){if(t.hasOwnProperty(Xe)){var Oe=0;t[Xe].split(",").forEach(function(Ye){var Ae=Ye.split("+"),$=Ae[0],Se=Ae[1];$=parseInt($,36),Se=Se?parseInt(Se,36):0,h.set(Oe+=$,n[Xe]);for(var Ge=0;Ge<Se;Ge++)h.set(++Oe,n[Xe])})}};for(var He in t)ce(He)}}function v(ce){return g(),h.get(ce.codePointAt(0))||n.L}function m(ce){return r[v(ce)]}var x={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function B(ce,He){var Xe=36,Oe=0,Ye=new Map,Ae=He&&new Map,$;return ce.split(",").forEach(function Se(Ge){if(Ge.indexOf("+")!==-1)for(var Ve=+Ge;Ve--;)Se($);else{$=Ge;var Re=Ge.split(">"),$e=Re[0],At=Re[1];$e=String.fromCodePoint(Oe+=parseInt($e,Xe)),At=String.fromCodePoint(Oe+=parseInt(At,Xe)),Ye.set($e,At),He&&Ae.set(At,$e)}}),{map:Ye,reverseMap:Ae}}var _,b,M;function T(){if(!_){var ce=B(x.pairs,!0),He=ce.map,Xe=ce.reverseMap;_=He,b=Xe,M=B(x.canonical,!1).map}}function U(ce){return T(),_.get(ce)||null}function R(ce){return T(),b.get(ce)||null}function O(ce){return T(),M.get(ce)||null}var z=n.L,V=n.R,I=n.EN,P=n.ES,k=n.ET,G=n.AN,q=n.CS,H=n.B,ae=n.S,Z=n.ON,ne=n.BN,oe=n.NSM,fe=n.AL,me=n.LRO,W=n.RLO,Q=n.LRE,X=n.RLE,Y=n.PDF,ie=n.LRI,te=n.RLI,se=n.FSI,ye=n.PDI;function xe(ce,He){for(var Xe=125,Oe=new Uint32Array(ce.length),Ye=0;Ye<ce.length;Ye++)Oe[Ye]=v(ce[Ye]);var Ae=new Map;function $(Bs,D){var le=Oe[Bs];Oe[Bs]=D,Ae.set(le,Ae.get(le)-1),le&A&&Ae.set(A,Ae.get(A)-1),Ae.set(D,(Ae.get(D)||0)+1),D&A&&Ae.set(A,(Ae.get(A)||0)+1)}for(var Se=new Uint8Array(ce.length),Ge=new Map,Ve=[],Re=null,$e=0;$e<ce.length;$e++)Re||Ve.push(Re={start:$e,end:ce.length-1,level:He==="rtl"?1:He==="ltr"?0:Il($e,!1)}),Oe[$e]&H&&(Re.end=$e,Re=null);for(var At=X|Q|W|me|s|ye|Y|H,wt=function(Bs){return Bs+(Bs&1?1:2)},zt=function(Bs){return Bs+(Bs&1?2:1)},at=0;at<Ve.length;at++){Re=Ve[at];var ut=[{_level:Re.level,_override:0,_isolate:0}],ct=void 0,Ee=0,Ie=0,Ut=0;Ae.clear();for(var Be=Re.start;Be<=Re.end;Be++){var Je=Oe[Be];if(ct=ut[ut.length-1],Ae.set(Je,(Ae.get(Je)||0)+1),Je&A&&Ae.set(A,(Ae.get(A)||0)+1),Je&At)if(Je&(X|Q)){Se[Be]=ct._level;var mt=(Je===X?zt:wt)(ct._level);mt<=Xe&&!Ee&&!Ie?ut.push({_level:mt,_override:0,_isolate:0}):Ee||Ie++}else if(Je&(W|me)){Se[Be]=ct._level;var Et=(Je===W?zt:wt)(ct._level);Et<=Xe&&!Ee&&!Ie?ut.push({_level:Et,_override:Je&W?V:z,_isolate:0}):Ee||Ie++}else if(Je&s){Je&se&&(Je=Il(Be+1,!0)===1?te:ie),Se[Be]=ct._level,ct._override&&$(Be,ct._override);var tt=(Je===te?zt:wt)(ct._level);tt<=Xe&&Ee===0&&Ie===0?(Ut++,ut.push({_level:tt,_override:0,_isolate:1,_isolInitIndex:Be})):Ee++}else if(Je&ye){if(Ee>0)Ee--;else if(Ut>0){for(Ie=0;!ut[ut.length-1]._isolate;)ut.pop();var Ze=ut[ut.length-1]._isolInitIndex;Ze!=null&&(Ge.set(Ze,Be),Ge.set(Be,Ze)),ut.pop(),Ut--}ct=ut[ut.length-1],Se[Be]=ct._level,ct._override&&$(Be,ct._override)}else Je&Y?(Ee===0&&(Ie>0?Ie--:!ct._isolate&&ut.length>1&&(ut.pop(),ct=ut[ut.length-1])),Se[Be]=ct._level):Je&H&&(Se[Be]=Re.level);else Se[Be]=ct._level,ct._override&&Je!==ne&&$(Be,ct._override)}for(var Lt=[],Vt=null,Wt=Re.start;Wt<=Re.end;Wt++){var nn=Oe[Wt];if(!(nn&l)){var qt=Se[Wt],Wn=nn&s,Bi=nn===ye;Vt&&qt===Vt._level?(Vt._end=Wt,Vt._endsWithIsolInit=Wn):Lt.push(Vt={_start:Wt,_end:Wt,_level:qt,_startsWithPDI:Bi,_endsWithIsolInit:Wn})}}for(var Xi=[],lr=0;lr<Lt.length;lr++){var ci=Lt[lr];if(!ci._startsWithPDI||ci._startsWithPDI&&!Ge.has(ci._start)){for(var Ui=[Vt=ci],Yi=void 0;Vt&&Vt._endsWithIsolInit&&(Yi=Ge.get(Vt._end))!=null;)for(var ki=lr+1;ki<Lt.length;ki++)if(Lt[ki]._start===Yi){Ui.push(Vt=Lt[ki]);break}for(var Si=[],ei=0;ei<Ui.length;ei++)for(var Ji=Ui[ei],ur=Ji._start;ur<=Ji._end;ur++)Si.push(ur);for(var Fr=Se[Si[0]],cr=Re.level,Ns=Si[0]-1;Ns>=0;Ns--)if(!(Oe[Ns]&l)){cr=Se[Ns];break}var bs=Si[Si.length-1],Ds=Se[bs],Aa=Re.level;if(!(Oe[bs]&s)){for(var Os=bs+1;Os<=Re.end;Os++)if(!(Oe[Os]&l)){Aa=Se[Os];break}}Xi.push({_seqIndices:Si,_sosType:Math.max(cr,Fr)%2?V:z,_eosType:Math.max(Aa,Ds)%2?V:z})}}for(var Js=0;Js<Xi.length;Js++){var io=Xi[Js],ln=io._seqIndices,pe=io._sosType,We=io._eosType,dt=Se[ln[0]]&1?V:z;if(Ae.get(oe))for(var pt=0;pt<ln.length;pt++){var nt=ln[pt];if(Oe[nt]&oe){for(var Gt=pe,Zt=pt-1;Zt>=0;Zt--)if(!(Oe[ln[Zt]]&l)){Gt=Oe[ln[Zt]];break}$(nt,Gt&(s|ye)?Z:Gt)}}if(Ae.get(I))for(var Qt=0;Qt<ln.length;Qt++){var on=ln[Qt];if(Oe[on]&I)for(var $t=Qt-1;$t>=-1;$t--){var xn=$t===-1?pe:Oe[ln[$t]];if(xn&a){xn===fe&&$(on,G);break}}}if(Ae.get(fe))for(var un=0;un<ln.length;un++){var An=ln[un];Oe[An]&fe&&$(An,V)}if(Ae.get(P)||Ae.get(q))for(var Zn=1;Zn<ln.length-1;Zn++){var fi=ln[Zn];if(Oe[fi]&(P|q)){for(var ri=0,Rn=0,Kt=Zn-1;Kt>=0&&(ri=Oe[ln[Kt]],!!(ri&l));Kt--);for(var Cn=Zn+1;Cn<ln.length&&(Rn=Oe[ln[Cn]],!!(Rn&l));Cn++);ri===Rn&&(Oe[fi]===P?ri===I:ri&(I|G))&&$(fi,ri)}}if(Ae.get(I))for(var dn=0;dn<ln.length;dn++){var Lr=ln[dn];if(Oe[Lr]&I){for(var Zs=dn-1;Zs>=0&&Oe[ln[Zs]]&(k|l);Zs--)$(ln[Zs],I);for(dn++;dn<ln.length&&Oe[ln[dn]]&(k|l|I);dn++)Oe[ln[dn]]!==I&&$(ln[dn],I)}}if(Ae.get(k)||Ae.get(P)||Ae.get(q))for(var Ni=0;Ni<ln.length;Ni++){var fr=ln[Ni];if(Oe[fr]&(k|P|q)){$(fr,Z);for(var hi=Ni-1;hi>=0&&Oe[ln[hi]]&l;hi--)$(ln[hi],Z);for(var hr=Ni+1;hr<ln.length&&Oe[ln[hr]]&l;hr++)$(ln[hr],Z)}}if(Ae.get(I))for(var nr=0,dr=pe;nr<ln.length;nr++){var Vr=ln[nr],xo=Oe[Vr];xo&I?dr===z&&$(Vr,z):xo&a&&(dr=xo)}if(Ae.get(A)){var _s=V|I|G,Tl=_s|z,bA=[];{for(var $r=[],$s=0;$s<ln.length;$s++)if(Oe[ln[$s]]&A){var La=ce[ln[$s]],_A=void 0;if(U(La)!==null)if($r.length<63)$r.push({char:La,seqIndex:$s});else break;else if((_A=R(La))!==null)for(var ja=$r.length-1;ja>=0;ja--){var En=$r[ja].char;if(En===_A||En===R(O(La))||U(O(En))===La){bA.push([$r[ja].seqIndex,$s]),$r.length=ja;break}}}bA.sort(function(Bs,D){return Bs[0]-D[0]})}for(var Fl=0;Fl<bA.length;Fl++){for(var Ll=bA[Fl],YA=Ll[0],ea=Ll[1],us=!1,la=0,Wo=YA+1;Wo<ea;Wo++){var cs=ln[Wo];if(Oe[cs]&Tl){us=!0;var BA=Oe[cs]&_s?V:z;if(BA===dt){la=BA;break}}}if(us&&!la){la=pe;for(var ua=YA-1;ua>=0;ua--){var JA=ln[ua];if(Oe[JA]&Tl){var Ia=Oe[JA]&_s?V:z;Ia!==dt?la=Ia:la=dt;break}}}if(la){if(Oe[ln[YA]]=Oe[ln[ea]]=la,la!==dt){for(var ro=YA+1;ro<ln.length;ro++)if(!(Oe[ln[ro]]&l)){v(ce[ln[ro]])&oe&&(Oe[ln[ro]]=la);break}}if(la!==dt){for(var qo=ea+1;qo<ln.length;qo++)if(!(Oe[ln[qo]]&l)){v(ce[ln[qo]])&oe&&(Oe[ln[qo]]=la);break}}}}for(var sr=0;sr<ln.length;sr++)if(Oe[ln[sr]]&A){for(var so=sr,ca=sr,ao=pe,bo=sr-1;bo>=0;bo--)if(Oe[ln[bo]]&l)so=bo;else{ao=Oe[ln[bo]]&_s?V:z;break}for(var Xo=We,Ra=sr+1;Ra<ln.length;Ra++)if(Oe[ln[Ra]]&(A|l))ca=Ra;else{Xo=Oe[ln[Ra]]&_s?V:z;break}for(var oo=so;oo<=ca;oo++)Oe[ln[oo]]=ao===Xo?ao:dt;sr=ca}}}for(var jr=Re.start;jr<=Re.end;jr++){var cu=Se[jr],Ka=Oe[jr];if(cu&1?Ka&(z|I|G)&&Se[jr]++:Ka&V?Se[jr]++:Ka&(G|I)&&(Se[jr]+=2),Ka&l&&(Se[jr]=jr===0?Re.level:Se[jr-1]),jr===Re.end||v(ce[jr])&(ae|H))for(var Wa=jr;Wa>=0&&v(ce[Wa])&c;Wa--)Se[Wa]=Re.level}}return{levels:Se,paragraphs:Ve};function Il(Bs,D){for(var le=Bs;le<ce.length;le++){var Ue=Oe[le];if(Ue&(V|fe))return 1;if(Ue&(H|z)||D&&Ue===ye)return 0;if(Ue&s){var Pe=Yo(le);le=Pe===-1?ce.length:Pe}}return 0}function Yo(Bs){for(var D=1,le=Bs+1;le<ce.length;le++){var Ue=Oe[le];if(Ue&H)break;if(Ue&ye){if(--D===0)return le}else Ue&s&&D++}return-1}}var Fe="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",Ne;function ze(){if(!Ne){var ce=B(Fe,!0),He=ce.map,Xe=ce.reverseMap;Xe.forEach(function(Oe,Ye){He.set(Ye,Oe)}),Ne=He}}function it(ce){return ze(),Ne.get(ce)||null}function De(ce,He,Xe,Oe){var Ye=ce.length;Xe=Math.max(0,Xe==null?0:+Xe),Oe=Math.min(Ye-1,Oe==null?Ye-1:+Oe);for(var Ae=new Map,$=Xe;$<=Oe;$++)if(He[$]&1){var Se=it(ce[$]);Se!==null&&Ae.set($,Se)}return Ae}function re(ce,He,Xe,Oe){var Ye=ce.length;Xe=Math.max(0,Xe==null?0:+Xe),Oe=Math.min(Ye-1,Oe==null?Ye-1:+Oe);var Ae=[];return He.paragraphs.forEach(function($){var Se=Math.max(Xe,$.start),Ge=Math.min(Oe,$.end);if(Se<Ge){for(var Ve=He.levels.slice(Se,Ge+1),Re=Ge;Re>=Se&&v(ce[Re])&c;Re--)Ve[Re]=$.level;for(var $e=$.level,At=1/0,wt=0;wt<Ve.length;wt++){var zt=Ve[wt];zt>$e&&($e=zt),zt<At&&(At=zt|1)}for(var at=$e;at>=At;at--)for(var ut=0;ut<Ve.length;ut++)if(Ve[ut]>=at){for(var ct=ut;ut+1<Ve.length&&Ve[ut+1]>=at;)ut++;ut>ct&&Ae.push([ct+Se,ut+Se])}}}),Ae}function Le(ce,He,Xe,Oe){var Ye=rt(ce,He,Xe,Oe),Ae=[].concat(ce);return Ye.forEach(function($,Se){Ae[Se]=(He.levels[$]&1?it(ce[$]):null)||ce[$]}),Ae.join("")}function rt(ce,He,Xe,Oe){for(var Ye=re(ce,He,Xe,Oe),Ae=[],$=0;$<ce.length;$++)Ae[$]=$;return Ye.forEach(function(Se){for(var Ge=Se[0],Ve=Se[1],Re=Ae.slice(Ge,Ve+1),$e=Re.length;$e--;)Ae[Ve-$e]=Re[$e]}),Ae}return e.closingToOpeningBracket=R,e.getBidiCharType=v,e.getBidiCharTypeName=m,e.getCanonicalBracket=O,e.getEmbeddingLevels=xe,e.getMirroredCharacter=it,e.getMirroredCharactersMap=De,e.getReorderSegments=re,e.getReorderedIndices=rt,e.getReorderedString=Le,e.openingToClosingBracket=U,Object.defineProperty(e,"__esModule",{value:!0}),e})({});return i}const DI=/\bvoid\s+main\s*\(\s*\)\s*{/g;function X2(i){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function t(n,r){let s=wi[r];return s?X2(s):n}return i.replace(e,t)}const Ho=[];for(let i=0;i<256;i++)Ho[i]=(i<16?"0":"")+i.toString(16);function TG(){const i=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Ho[i&255]+Ho[i>>8&255]+Ho[i>>16&255]+Ho[i>>24&255]+"-"+Ho[e&255]+Ho[e>>8&255]+"-"+Ho[e>>16&15|64]+Ho[e>>24&255]+"-"+Ho[t&63|128]+Ho[t>>8&255]+"-"+Ho[t>>16&255]+Ho[t>>24&255]+Ho[n&255]+Ho[n>>8&255]+Ho[n>>16&255]+Ho[n>>24&255]).toUpperCase()}const hp=Object.assign||function(){let i=arguments[0];for(let e=1,t=arguments.length;e<t;e++){let n=arguments[e];if(n)for(let r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},FG=Date.now(),dU=new WeakMap,pU=new Map;let LG=1e10;function Y2(i,e){const t=DG(e);let n=dU.get(i);if(n||dU.set(i,n=Object.create(null)),n[t])return new n[t];const r=`_onBeforeCompile${t}`,s=function(c,h){i.onBeforeCompile.call(this,c,h);const g=this.customProgramCacheKey()+"|"+c.vertexShader+"|"+c.fragmentShader;let v=pU[g];if(!v){const m=IG(this,c,e,t);v=pU[g]=m}c.vertexShader=v.vertexShader,c.fragmentShader=v.fragmentShader,hp(c.uniforms,this.uniforms),e.timeUniform&&(c.uniforms[e.timeUniform]={get value(){return Date.now()-FG}}),this[r]&&this[r](c)},a=function(){return A(e.chained?i:i.clone())},A=function(c){const h=Object.create(c,l);return Object.defineProperty(h,"baseMaterial",{value:i}),Object.defineProperty(h,"id",{value:LG++}),h.uuid=TG(),h.uniforms=hp({},c.uniforms,e.uniforms),h.defines=hp({},c.defines,e.defines),h.defines[`TROIKA_DERIVED_MATERIAL_${t}`]="",h.extensions=hp({},c.extensions,e.extensions),h._listeners=void 0,h},l={constructor:{value:a},isDerivedMaterial:{value:!0},type:{get:()=>i.type,set:c=>{i.type=c}},isDerivedFrom:{writable:!0,configurable:!0,value:function(c){const h=this.baseMaterial;return c===h||h.isDerivedMaterial&&h.isDerivedFrom(c)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return i.customProgramCacheKey()+"|"+t}},onBeforeCompile:{get(){return s},set(c){this[r]=c}},copy:{writable:!0,configurable:!0,value:function(c){return i.copy.call(this,c),!i.isShaderMaterial&&!i.isDerivedMaterial&&(hp(this.extensions,c.extensions),hp(this.defines,c.defines),hp(this.uniforms,j1.clone(c.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const c=new i.constructor;return A(c).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let c=this._depthMaterial;return c||(c=this._depthMaterial=Y2(i.isDerivedMaterial?i.getDepthMaterial():new yv({depthPacking:YF}),e),c.defines.IS_DEPTH_MATERIAL="",c.uniforms=this.uniforms),c}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let c=this._distanceMaterial;return c||(c=this._distanceMaterial=Y2(i.isDerivedMaterial?i.getDistanceMaterial():new c_,e),c.defines.IS_DISTANCE_MATERIAL="",c.uniforms=this.uniforms),c}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:c,_distanceMaterial:h}=this;c&&c.dispose(),h&&h.dispose(),i.dispose.call(this)}}};return n[t]=a,new a}function IG(i,{vertexShader:e,fragmentShader:t},n,r){let{vertexDefs:s,vertexMainIntro:a,vertexMainOutro:A,vertexTransform:l,fragmentDefs:c,fragmentMainIntro:h,fragmentMainOutro:g,fragmentColorTransform:v,customRewriter:m,timeUniform:x}=n;if(s=s||"",a=a||"",A=A||"",c=c||"",h=h||"",g=g||"",(l||m)&&(e=X2(e)),(v||m)&&(t=t.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),t=X2(t)),m){let B=m({vertexShader:e,fragmentShader:t});e=B.vertexShader,t=B.fragmentShader}if(v){let B=[];t=t.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,_=>(B.push(_),"")),g=`${v}
${B.join(`
`)}
${g}`}if(x){const B=`
uniform float ${x};
`;s=B+s,c=B+c}return l&&(e=`vec3 troika_position_${r};
vec3 troika_normal_${r};
vec2 troika_uv_${r};
${e}
`,s=`${s}
void troikaVertexTransform${r}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,a=`
troika_position_${r} = vec3(position);
troika_normal_${r} = vec3(normal);
troika_uv_${r} = vec2(uv);
troikaVertexTransform${r}(troika_position_${r}, troika_normal_${r}, troika_uv_${r});
${a}
`,e=e.replace(/\b(position|normal|uv)\b/g,(B,_,b,M)=>/\battribute\s+vec[23]\s+$/.test(M.substr(0,b))?_:`troika_${_}_${r}`),i.map&&i.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${r}`))),e=gU(e,r,s,a,A),t=gU(t,r,c,h,g),{vertexShader:e,fragmentShader:t}}function gU(i,e,t,n,r){return(n||r||t)&&(i=i.replace(DI,`
${t}
void troikaOrigMain${e}() {`),i+=`
void main() {
  ${n}
  troikaOrigMain${e}();
  ${r}
}`),i}function RG(i,e){return i==="uniforms"?void 0:typeof e=="function"?e.toString():e}let NG=0;const mU=new Map;function DG(i){const e=JSON.stringify(i,RG);let t=mU.get(e);return t==null&&mU.set(e,t=++NG),t}function OG(){return typeof window>"u"&&(self.window=self),(function(i){var e={parse:function(r){var s=e._bin,a=new Uint8Array(r);if(s.readASCII(a,0,4)=="ttcf"){var A=4;s.readUshort(a,A),A+=2,s.readUshort(a,A),A+=2;var l=s.readUint(a,A);A+=4;for(var c=[],h=0;h<l;h++){var g=s.readUint(a,A);A+=4,c.push(e._readFont(a,g))}return c}return[e._readFont(a,0)]},_readFont:function(r,s){var a=e._bin,A=s;a.readFixed(r,s),s+=4;var l=a.readUshort(r,s);s+=2,a.readUshort(r,s),s+=2,a.readUshort(r,s),s+=2,a.readUshort(r,s),s+=2;for(var c=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],h={_data:r,_offset:A},g={},v=0;v<l;v++){var m=a.readASCII(r,s,4);s+=4,a.readUint(r,s),s+=4;var x=a.readUint(r,s);s+=4;var B=a.readUint(r,s);s+=4,g[m]={offset:x,length:B}}for(v=0;v<c.length;v++){var _=c[v];g[_]&&(h[_.trim()]=e[_.trim()].parse(r,g[_].offset,g[_].length,h))}return h},_tabOffset:function(r,s,a){for(var A=e._bin,l=A.readUshort(r,a+4),c=a+12,h=0;h<l;h++){var g=A.readASCII(r,c,4);c+=4,A.readUint(r,c),c+=4;var v=A.readUint(r,c);if(c+=4,A.readUint(r,c),c+=4,g==s)return v}return 0}};e._bin={readFixed:function(r,s){return(r[s]<<8|r[s+1])+(r[s+2]<<8|r[s+3])/65540},readF2dot14:function(r,s){return e._bin.readShort(r,s)/16384},readInt:function(r,s){return e._bin._view(r).getInt32(s)},readInt8:function(r,s){return e._bin._view(r).getInt8(s)},readShort:function(r,s){return e._bin._view(r).getInt16(s)},readUshort:function(r,s){return e._bin._view(r).getUint16(s)},readUshorts:function(r,s,a){for(var A=[],l=0;l<a;l++)A.push(e._bin.readUshort(r,s+2*l));return A},readUint:function(r,s){return e._bin._view(r).getUint32(s)},readUint64:function(r,s){return 4294967296*e._bin.readUint(r,s)+e._bin.readUint(r,s+4)},readASCII:function(r,s,a){for(var A="",l=0;l<a;l++)A+=String.fromCharCode(r[s+l]);return A},readUnicode:function(r,s,a){for(var A="",l=0;l<a;l++){var c=r[s++]<<8|r[s++];A+=String.fromCharCode(c)}return A},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(r,s,a){var A=e._bin._tdec;return A&&s==0&&a==r.length?A.decode(r):e._bin.readASCII(r,s,a)},readBytes:function(r,s,a){for(var A=[],l=0;l<a;l++)A.push(r[s+l]);return A},readASCIIArray:function(r,s,a){for(var A=[],l=0;l<a;l++)A.push(String.fromCharCode(r[s+l]));return A},_view:function(r){return r._dataView||(r._dataView=r.buffer?new DataView(r.buffer,r.byteOffset,r.byteLength):new DataView(new Uint8Array(r).buffer))}},e._lctf={},e._lctf.parse=function(r,s,a,A,l){var c=e._bin,h={},g=s;c.readFixed(r,s),s+=4;var v=c.readUshort(r,s);s+=2;var m=c.readUshort(r,s);s+=2;var x=c.readUshort(r,s);return s+=2,h.scriptList=e._lctf.readScriptList(r,g+v),h.featureList=e._lctf.readFeatureList(r,g+m),h.lookupList=e._lctf.readLookupList(r,g+x,l),h},e._lctf.readLookupList=function(r,s,a){var A=e._bin,l=s,c=[],h=A.readUshort(r,s);s+=2;for(var g=0;g<h;g++){var v=A.readUshort(r,s);s+=2;var m=e._lctf.readLookupTable(r,l+v,a);c.push(m)}return c},e._lctf.readLookupTable=function(r,s,a){var A=e._bin,l=s,c={tabs:[]};c.ltype=A.readUshort(r,s),s+=2,c.flag=A.readUshort(r,s),s+=2;var h=A.readUshort(r,s);s+=2;for(var g=c.ltype,v=0;v<h;v++){var m=A.readUshort(r,s);s+=2;var x=a(r,g,l+m,c);c.tabs.push(x)}return c},e._lctf.numOfOnes=function(r){for(var s=0,a=0;a<32;a++)(r>>>a&1)!=0&&s++;return s},e._lctf.readClassDef=function(r,s){var a=e._bin,A=[],l=a.readUshort(r,s);if(s+=2,l==1){var c=a.readUshort(r,s);s+=2;var h=a.readUshort(r,s);s+=2;for(var g=0;g<h;g++)A.push(c+g),A.push(c+g),A.push(a.readUshort(r,s)),s+=2}if(l==2){var v=a.readUshort(r,s);for(s+=2,g=0;g<v;g++)A.push(a.readUshort(r,s)),s+=2,A.push(a.readUshort(r,s)),s+=2,A.push(a.readUshort(r,s)),s+=2}return A},e._lctf.getInterval=function(r,s){for(var a=0;a<r.length;a+=3){var A=r[a],l=r[a+1];if(r[a+2],A<=s&&s<=l)return a}return-1},e._lctf.readCoverage=function(r,s){var a=e._bin,A={};A.fmt=a.readUshort(r,s),s+=2;var l=a.readUshort(r,s);return s+=2,A.fmt==1&&(A.tab=a.readUshorts(r,s,l)),A.fmt==2&&(A.tab=a.readUshorts(r,s,3*l)),A},e._lctf.coverageIndex=function(r,s){var a=r.tab;if(r.fmt==1)return a.indexOf(s);if(r.fmt==2){var A=e._lctf.getInterval(a,s);if(A!=-1)return a[A+2]+(s-a[A])}return-1},e._lctf.readFeatureList=function(r,s){var a=e._bin,A=s,l=[],c=a.readUshort(r,s);s+=2;for(var h=0;h<c;h++){var g=a.readASCII(r,s,4);s+=4;var v=a.readUshort(r,s);s+=2;var m=e._lctf.readFeatureTable(r,A+v);m.tag=g.trim(),l.push(m)}return l},e._lctf.readFeatureTable=function(r,s){var a=e._bin,A=s,l={},c=a.readUshort(r,s);s+=2,c>0&&(l.featureParams=A+c);var h=a.readUshort(r,s);s+=2,l.tab=[];for(var g=0;g<h;g++)l.tab.push(a.readUshort(r,s+2*g));return l},e._lctf.readScriptList=function(r,s){var a=e._bin,A=s,l={},c=a.readUshort(r,s);s+=2;for(var h=0;h<c;h++){var g=a.readASCII(r,s,4);s+=4;var v=a.readUshort(r,s);s+=2,l[g.trim()]=e._lctf.readScriptTable(r,A+v)}return l},e._lctf.readScriptTable=function(r,s){var a=e._bin,A=s,l={},c=a.readUshort(r,s);s+=2,c>0&&(l.default=e._lctf.readLangSysTable(r,A+c));var h=a.readUshort(r,s);s+=2;for(var g=0;g<h;g++){var v=a.readASCII(r,s,4);s+=4;var m=a.readUshort(r,s);s+=2,l[v.trim()]=e._lctf.readLangSysTable(r,A+m)}return l},e._lctf.readLangSysTable=function(r,s){var a=e._bin,A={};a.readUshort(r,s),s+=2,A.reqFeature=a.readUshort(r,s),s+=2;var l=a.readUshort(r,s);return s+=2,A.features=a.readUshorts(r,s,l),A},e.CFF={},e.CFF.parse=function(r,s,a){var A=e._bin;(r=new Uint8Array(r.buffer,s,a))[s=0],r[++s],r[++s],r[++s],s++;var l=[];s=e.CFF.readIndex(r,s,l);for(var c=[],h=0;h<l.length-1;h++)c.push(A.readASCII(r,s+l[h],l[h+1]-l[h]));s+=l[l.length-1];var g=[];s=e.CFF.readIndex(r,s,g);var v=[];for(h=0;h<g.length-1;h++)v.push(e.CFF.readDict(r,s+g[h],s+g[h+1]));s+=g[g.length-1];var m=v[0],x=[];s=e.CFF.readIndex(r,s,x);var B=[];for(h=0;h<x.length-1;h++)B.push(A.readASCII(r,s+x[h],x[h+1]-x[h]));if(s+=x[x.length-1],e.CFF.readSubrs(r,s,m),m.CharStrings){s=m.CharStrings,x=[],s=e.CFF.readIndex(r,s,x);var _=[];for(h=0;h<x.length-1;h++)_.push(A.readBytes(r,s+x[h],x[h+1]-x[h]));m.CharStrings=_}if(m.ROS){s=m.FDArray;var b=[];for(s=e.CFF.readIndex(r,s,b),m.FDArray=[],h=0;h<b.length-1;h++){var M=e.CFF.readDict(r,s+b[h],s+b[h+1]);e.CFF._readFDict(r,M,B),m.FDArray.push(M)}s+=b[b.length-1],s=m.FDSelect,m.FDSelect=[];var T=r[s];if(s++,T!=3)throw T;var U=A.readUshort(r,s);for(s+=2,h=0;h<U+1;h++)m.FDSelect.push(A.readUshort(r,s),r[s+2]),s+=3}return m.Encoding&&(m.Encoding=e.CFF.readEncoding(r,m.Encoding,m.CharStrings.length)),m.charset&&(m.charset=e.CFF.readCharset(r,m.charset,m.CharStrings.length)),e.CFF._readFDict(r,m,B),m},e.CFF._readFDict=function(r,s,a){var A;for(var l in s.Private&&(A=s.Private[1],s.Private=e.CFF.readDict(r,A,A+s.Private[0]),s.Private.Subrs&&e.CFF.readSubrs(r,A+s.Private.Subrs,s.Private)),s)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(s[l]=a[s[l]-426+35])},e.CFF.readSubrs=function(r,s,a){var A=e._bin,l=[];s=e.CFF.readIndex(r,s,l);var c,h=l.length;c=h<1240?107:h<33900?1131:32768,a.Bias=c,a.Subrs=[];for(var g=0;g<l.length-1;g++)a.Subrs.push(A.readBytes(r,s+l[g],l[g+1]-l[g]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(r,s){for(var a=0;a<r.charset.length;a++)if(r.charset[a]==s)return a;return-1},e.CFF.glyphBySE=function(r,s){return s<0||s>255?-1:e.CFF.glyphByUnicode(r,e.CFF.tableSE[s])},e.CFF.readEncoding=function(r,s,a){e._bin;var A=[".notdef"],l=r[s];if(s++,l!=0)throw"error: unknown encoding format: "+l;var c=r[s];s++;for(var h=0;h<c;h++)A.push(r[s+h]);return A},e.CFF.readCharset=function(r,s,a){var A=e._bin,l=[".notdef"],c=r[s];if(s++,c==0)for(var h=0;h<a;h++){var g=A.readUshort(r,s);s+=2,l.push(g)}else{if(c!=1&&c!=2)throw"error: format: "+c;for(;l.length<a;){g=A.readUshort(r,s),s+=2;var v=0;for(c==1?(v=r[s],s++):(v=A.readUshort(r,s),s+=2),h=0;h<=v;h++)l.push(g),g++}}return l},e.CFF.readIndex=function(r,s,a){var A=e._bin,l=A.readUshort(r,s)+1,c=r[s+=2];if(s++,c==1)for(var h=0;h<l;h++)a.push(r[s+h]);else if(c==2)for(h=0;h<l;h++)a.push(A.readUshort(r,s+2*h));else if(c==3)for(h=0;h<l;h++)a.push(16777215&A.readUint(r,s+3*h-1));else if(l!=1)throw"unsupported offset size: "+c+", count: "+l;return(s+=l*c)-1},e.CFF.getCharString=function(r,s,a){var A=e._bin,l=r[s],c=r[s+1];r[s+2],r[s+3],r[s+4];var h=1,g=null,v=null;l<=20&&(g=l,h=1),l==12&&(g=100*l+c,h=2),21<=l&&l<=27&&(g=l,h=1),l==28&&(v=A.readShort(r,s+1),h=3),29<=l&&l<=31&&(g=l,h=1),32<=l&&l<=246&&(v=l-139,h=1),247<=l&&l<=250&&(v=256*(l-247)+c+108,h=2),251<=l&&l<=254&&(v=256*-(l-251)-c-108,h=2),l==255&&(v=A.readInt(r,s+1)/65535,h=5),a.val=v??"o"+g,a.size=h},e.CFF.readCharString=function(r,s,a){for(var A=s+a,l=e._bin,c=[];s<A;){var h=r[s],g=r[s+1];r[s+2],r[s+3],r[s+4];var v=1,m=null,x=null;h<=20&&(m=h,v=1),h==12&&(m=100*h+g,v=2),h!=19&&h!=20||(m=h,v=2),21<=h&&h<=27&&(m=h,v=1),h==28&&(x=l.readShort(r,s+1),v=3),29<=h&&h<=31&&(m=h,v=1),32<=h&&h<=246&&(x=h-139,v=1),247<=h&&h<=250&&(x=256*(h-247)+g+108,v=2),251<=h&&h<=254&&(x=256*-(h-251)-g-108,v=2),h==255&&(x=l.readInt(r,s+1)/65535,v=5),c.push(x??"o"+m),s+=v}return c},e.CFF.readDict=function(r,s,a){for(var A=e._bin,l={},c=[];s<a;){var h=r[s],g=r[s+1];r[s+2],r[s+3],r[s+4];var v=1,m=null,x=null;if(h==28&&(x=A.readShort(r,s+1),v=3),h==29&&(x=A.readInt(r,s+1),v=5),32<=h&&h<=246&&(x=h-139,v=1),247<=h&&h<=250&&(x=256*(h-247)+g+108,v=2),251<=h&&h<=254&&(x=256*-(h-251)-g-108,v=2),h==255)throw x=A.readInt(r,s+1)/65535,v=5,"unknown number";if(h==30){var B=[];for(v=1;;){var _=r[s+v];v++;var b=_>>4,M=15&_;if(b!=15&&B.push(b),M!=15&&B.push(M),M==15)break}for(var T="",U=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],R=0;R<B.length;R++)T+=U[B[R]];x=parseFloat(T)}h<=21&&(m=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][h],v=1,h==12&&(m=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][g],v=2)),m!=null?(l[m]=c.length==1?c[0]:c,c=[]):c.push(x),s+=v}return l},e.cmap={},e.cmap.parse=function(r,s,a){r=new Uint8Array(r.buffer,s,a),s=0;var A=e._bin,l={};A.readUshort(r,s),s+=2;var c=A.readUshort(r,s);s+=2;var h=[];l.tables=[];for(var g=0;g<c;g++){var v=A.readUshort(r,s);s+=2;var m=A.readUshort(r,s);s+=2;var x=A.readUint(r,s);s+=4;var B="p"+v+"e"+m,_=h.indexOf(x);if(_==-1){var b;_=l.tables.length,h.push(x);var M=A.readUshort(r,x);M==0?b=e.cmap.parse0(r,x):M==4?b=e.cmap.parse4(r,x):M==6?b=e.cmap.parse6(r,x):M==12?b=e.cmap.parse12(r,x):console.debug("unknown format: "+M,v,m,x),l.tables.push(b)}if(l[B]!=null)throw"multiple tables for one platform+encoding";l[B]=_}return l},e.cmap.parse0=function(r,s){var a=e._bin,A={};A.format=a.readUshort(r,s),s+=2;var l=a.readUshort(r,s);s+=2,a.readUshort(r,s),s+=2,A.map=[];for(var c=0;c<l-6;c++)A.map.push(r[s+c]);return A},e.cmap.parse4=function(r,s){var a=e._bin,A=s,l={};l.format=a.readUshort(r,s),s+=2;var c=a.readUshort(r,s);s+=2,a.readUshort(r,s),s+=2;var h=a.readUshort(r,s);s+=2;var g=h/2;l.searchRange=a.readUshort(r,s),s+=2,l.entrySelector=a.readUshort(r,s),s+=2,l.rangeShift=a.readUshort(r,s),s+=2,l.endCount=a.readUshorts(r,s,g),s+=2*g,s+=2,l.startCount=a.readUshorts(r,s,g),s+=2*g,l.idDelta=[];for(var v=0;v<g;v++)l.idDelta.push(a.readShort(r,s)),s+=2;for(l.idRangeOffset=a.readUshorts(r,s,g),s+=2*g,l.glyphIdArray=[];s<A+c;)l.glyphIdArray.push(a.readUshort(r,s)),s+=2;return l},e.cmap.parse6=function(r,s){var a=e._bin,A={};A.format=a.readUshort(r,s),s+=2,a.readUshort(r,s),s+=2,a.readUshort(r,s),s+=2,A.firstCode=a.readUshort(r,s),s+=2;var l=a.readUshort(r,s);s+=2,A.glyphIdArray=[];for(var c=0;c<l;c++)A.glyphIdArray.push(a.readUshort(r,s)),s+=2;return A},e.cmap.parse12=function(r,s){var a=e._bin,A={};A.format=a.readUshort(r,s),s+=2,s+=2,a.readUint(r,s),s+=4,a.readUint(r,s),s+=4;var l=a.readUint(r,s);s+=4,A.groups=[];for(var c=0;c<l;c++){var h=s+12*c,g=a.readUint(r,h+0),v=a.readUint(r,h+4),m=a.readUint(r,h+8);A.groups.push([g,v,m])}return A},e.glyf={},e.glyf.parse=function(r,s,a,A){for(var l=[],c=0;c<A.maxp.numGlyphs;c++)l.push(null);return l},e.glyf._parseGlyf=function(r,s){var a=e._bin,A=r._data,l=e._tabOffset(A,"glyf",r._offset)+r.loca[s];if(r.loca[s]==r.loca[s+1])return null;var c={};if(c.noc=a.readShort(A,l),l+=2,c.xMin=a.readShort(A,l),l+=2,c.yMin=a.readShort(A,l),l+=2,c.xMax=a.readShort(A,l),l+=2,c.yMax=a.readShort(A,l),l+=2,c.xMin>=c.xMax||c.yMin>=c.yMax)return null;if(c.noc>0){c.endPts=[];for(var h=0;h<c.noc;h++)c.endPts.push(a.readUshort(A,l)),l+=2;var g=a.readUshort(A,l);if(l+=2,A.length-l<g)return null;c.instructions=a.readBytes(A,l,g),l+=g;var v=c.endPts[c.noc-1]+1;for(c.flags=[],h=0;h<v;h++){var m=A[l];if(l++,c.flags.push(m),(8&m)!=0){var x=A[l];l++;for(var B=0;B<x;B++)c.flags.push(m),h++}}for(c.xs=[],h=0;h<v;h++){var _=(2&c.flags[h])!=0,b=(16&c.flags[h])!=0;_?(c.xs.push(b?A[l]:-A[l]),l++):b?c.xs.push(0):(c.xs.push(a.readShort(A,l)),l+=2)}for(c.ys=[],h=0;h<v;h++)_=(4&c.flags[h])!=0,b=(32&c.flags[h])!=0,_?(c.ys.push(b?A[l]:-A[l]),l++):b?c.ys.push(0):(c.ys.push(a.readShort(A,l)),l+=2);var M=0,T=0;for(h=0;h<v;h++)M+=c.xs[h],T+=c.ys[h],c.xs[h]=M,c.ys[h]=T}else{var U;c.parts=[];do{U=a.readUshort(A,l),l+=2;var R={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(c.parts.push(R),R.glyphIndex=a.readUshort(A,l),l+=2,1&U){var O=a.readShort(A,l);l+=2;var z=a.readShort(A,l);l+=2}else O=a.readInt8(A,l),l++,z=a.readInt8(A,l),l++;2&U?(R.m.tx=O,R.m.ty=z):(R.p1=O,R.p2=z),8&U?(R.m.a=R.m.d=a.readF2dot14(A,l),l+=2):64&U?(R.m.a=a.readF2dot14(A,l),l+=2,R.m.d=a.readF2dot14(A,l),l+=2):128&U&&(R.m.a=a.readF2dot14(A,l),l+=2,R.m.b=a.readF2dot14(A,l),l+=2,R.m.c=a.readF2dot14(A,l),l+=2,R.m.d=a.readF2dot14(A,l),l+=2)}while(32&U);if(256&U){var V=a.readUshort(A,l);for(l+=2,c.instr=[],h=0;h<V;h++)c.instr.push(A[l]),l++}}return c},e.GDEF={},e.GDEF.parse=function(r,s,a,A){var l=s;s+=4;var c=e._bin.readUshort(r,s);return{glyphClassDef:c===0?null:e._lctf.readClassDef(r,l+c)}},e.GPOS={},e.GPOS.parse=function(r,s,a,A){return e._lctf.parse(r,s,a,A,e.GPOS.subt)},e.GPOS.subt=function(r,s,a,A){var l=e._bin,c=a,h={};if(h.fmt=l.readUshort(r,a),a+=2,s==1||s==2||s==3||s==7||s==8&&h.fmt<=2){var g=l.readUshort(r,a);a+=2,h.coverage=e._lctf.readCoverage(r,g+c)}if(s==1&&h.fmt==1){var v=l.readUshort(r,a);a+=2,v!=0&&(h.pos=e.GPOS.readValueRecord(r,a,v))}else if(s==2&&h.fmt>=1&&h.fmt<=2){v=l.readUshort(r,a),a+=2;var m=l.readUshort(r,a);a+=2;var x=e._lctf.numOfOnes(v),B=e._lctf.numOfOnes(m);if(h.fmt==1){h.pairsets=[];var _=l.readUshort(r,a);a+=2;for(var b=0;b<_;b++){var M=c+l.readUshort(r,a);a+=2;var T=l.readUshort(r,M);M+=2;for(var U=[],R=0;R<T;R++){var O=l.readUshort(r,M);M+=2,v!=0&&(G=e.GPOS.readValueRecord(r,M,v),M+=2*x),m!=0&&(q=e.GPOS.readValueRecord(r,M,m),M+=2*B),U.push({gid2:O,val1:G,val2:q})}h.pairsets.push(U)}}if(h.fmt==2){var z=l.readUshort(r,a);a+=2;var V=l.readUshort(r,a);a+=2;var I=l.readUshort(r,a);a+=2;var P=l.readUshort(r,a);for(a+=2,h.classDef1=e._lctf.readClassDef(r,c+z),h.classDef2=e._lctf.readClassDef(r,c+V),h.matrix=[],b=0;b<I;b++){var k=[];for(R=0;R<P;R++){var G=null,q=null;v!=0&&(G=e.GPOS.readValueRecord(r,a,v),a+=2*x),m!=0&&(q=e.GPOS.readValueRecord(r,a,m),a+=2*B),k.push({val1:G,val2:q})}h.matrix.push(k)}}}else if(s==4&&h.fmt==1)h.markCoverage=e._lctf.readCoverage(r,l.readUshort(r,a)+c),h.baseCoverage=e._lctf.readCoverage(r,l.readUshort(r,a+2)+c),h.markClassCount=l.readUshort(r,a+4),h.markArray=e.GPOS.readMarkArray(r,l.readUshort(r,a+6)+c),h.baseArray=e.GPOS.readBaseArray(r,l.readUshort(r,a+8)+c,h.markClassCount);else if(s==6&&h.fmt==1)h.mark1Coverage=e._lctf.readCoverage(r,l.readUshort(r,a)+c),h.mark2Coverage=e._lctf.readCoverage(r,l.readUshort(r,a+2)+c),h.markClassCount=l.readUshort(r,a+4),h.mark1Array=e.GPOS.readMarkArray(r,l.readUshort(r,a+6)+c),h.mark2Array=e.GPOS.readBaseArray(r,l.readUshort(r,a+8)+c,h.markClassCount);else{if(s==9&&h.fmt==1){var H=l.readUshort(r,a);a+=2;var ae=l.readUint(r,a);if(a+=4,A.ltype==9)A.ltype=H;else if(A.ltype!=H)throw"invalid extension substitution";return e.GPOS.subt(r,A.ltype,c+ae)}console.debug("unsupported GPOS table LookupType",s,"format",h.fmt)}return h},e.GPOS.readValueRecord=function(r,s,a){var A=e._bin,l=[];return l.push(1&a?A.readShort(r,s):0),s+=1&a?2:0,l.push(2&a?A.readShort(r,s):0),s+=2&a?2:0,l.push(4&a?A.readShort(r,s):0),s+=4&a?2:0,l.push(8&a?A.readShort(r,s):0),s+=8&a?2:0,l},e.GPOS.readBaseArray=function(r,s,a){var A=e._bin,l=[],c=s,h=A.readUshort(r,s);s+=2;for(var g=0;g<h;g++){for(var v=[],m=0;m<a;m++)v.push(e.GPOS.readAnchorRecord(r,c+A.readUshort(r,s))),s+=2;l.push(v)}return l},e.GPOS.readMarkArray=function(r,s){var a=e._bin,A=[],l=s,c=a.readUshort(r,s);s+=2;for(var h=0;h<c;h++){var g=e.GPOS.readAnchorRecord(r,a.readUshort(r,s+2)+l);g.markClass=a.readUshort(r,s),A.push(g),s+=4}return A},e.GPOS.readAnchorRecord=function(r,s){var a=e._bin,A={};return A.fmt=a.readUshort(r,s),A.x=a.readShort(r,s+2),A.y=a.readShort(r,s+4),A},e.GSUB={},e.GSUB.parse=function(r,s,a,A){return e._lctf.parse(r,s,a,A,e.GSUB.subt)},e.GSUB.subt=function(r,s,a,A){var l=e._bin,c=a,h={};if(h.fmt=l.readUshort(r,a),a+=2,s!=1&&s!=2&&s!=4&&s!=5&&s!=6)return null;if(s==1||s==2||s==4||s==5&&h.fmt<=2||s==6&&h.fmt<=2){var g=l.readUshort(r,a);a+=2,h.coverage=e._lctf.readCoverage(r,c+g)}if(s==1&&h.fmt>=1&&h.fmt<=2){if(h.fmt==1)h.delta=l.readShort(r,a),a+=2;else if(h.fmt==2){var v=l.readUshort(r,a);a+=2,h.newg=l.readUshorts(r,a,v),a+=2*h.newg.length}}else if(s==2&&h.fmt==1){v=l.readUshort(r,a),a+=2,h.seqs=[];for(var m=0;m<v;m++){var x=l.readUshort(r,a)+c;a+=2;var B=l.readUshort(r,x);h.seqs.push(l.readUshorts(r,x+2,B))}}else if(s==4)for(h.vals=[],v=l.readUshort(r,a),a+=2,m=0;m<v;m++){var _=l.readUshort(r,a);a+=2,h.vals.push(e.GSUB.readLigatureSet(r,c+_))}else if(s==5&&h.fmt==2){if(h.fmt==2){var b=l.readUshort(r,a);a+=2,h.cDef=e._lctf.readClassDef(r,c+b),h.scset=[];var M=l.readUshort(r,a);for(a+=2,m=0;m<M;m++){var T=l.readUshort(r,a);a+=2,h.scset.push(T==0?null:e.GSUB.readSubClassSet(r,c+T))}}}else if(s==6&&h.fmt==3){if(h.fmt==3){for(m=0;m<3;m++){v=l.readUshort(r,a),a+=2;for(var U=[],R=0;R<v;R++)U.push(e._lctf.readCoverage(r,c+l.readUshort(r,a+2*R)));a+=2*v,m==0&&(h.backCvg=U),m==1&&(h.inptCvg=U),m==2&&(h.ahedCvg=U)}v=l.readUshort(r,a),a+=2,h.lookupRec=e.GSUB.readSubstLookupRecords(r,a,v)}}else{if(s==7&&h.fmt==1){var O=l.readUshort(r,a);a+=2;var z=l.readUint(r,a);if(a+=4,A.ltype==9)A.ltype=O;else if(A.ltype!=O)throw"invalid extension substitution";return e.GSUB.subt(r,A.ltype,c+z)}console.debug("unsupported GSUB table LookupType",s,"format",h.fmt)}return h},e.GSUB.readSubClassSet=function(r,s){var a=e._bin.readUshort,A=s,l=[],c=a(r,s);s+=2;for(var h=0;h<c;h++){var g=a(r,s);s+=2,l.push(e.GSUB.readSubClassRule(r,A+g))}return l},e.GSUB.readSubClassRule=function(r,s){var a=e._bin.readUshort,A={},l=a(r,s),c=a(r,s+=2);s+=2,A.input=[];for(var h=0;h<l-1;h++)A.input.push(a(r,s)),s+=2;return A.substLookupRecords=e.GSUB.readSubstLookupRecords(r,s,c),A},e.GSUB.readSubstLookupRecords=function(r,s,a){for(var A=e._bin.readUshort,l=[],c=0;c<a;c++)l.push(A(r,s),A(r,s+2)),s+=4;return l},e.GSUB.readChainSubClassSet=function(r,s){var a=e._bin,A=s,l=[],c=a.readUshort(r,s);s+=2;for(var h=0;h<c;h++){var g=a.readUshort(r,s);s+=2,l.push(e.GSUB.readChainSubClassRule(r,A+g))}return l},e.GSUB.readChainSubClassRule=function(r,s){for(var a=e._bin,A={},l=["backtrack","input","lookahead"],c=0;c<l.length;c++){var h=a.readUshort(r,s);s+=2,c==1&&h--,A[l[c]]=a.readUshorts(r,s,h),s+=2*A[l[c]].length}return h=a.readUshort(r,s),s+=2,A.subst=a.readUshorts(r,s,2*h),s+=2*A.subst.length,A},e.GSUB.readLigatureSet=function(r,s){var a=e._bin,A=s,l=[],c=a.readUshort(r,s);s+=2;for(var h=0;h<c;h++){var g=a.readUshort(r,s);s+=2,l.push(e.GSUB.readLigature(r,A+g))}return l},e.GSUB.readLigature=function(r,s){var a=e._bin,A={chain:[]};A.nglyph=a.readUshort(r,s),s+=2;var l=a.readUshort(r,s);s+=2;for(var c=0;c<l-1;c++)A.chain.push(a.readUshort(r,s)),s+=2;return A},e.head={},e.head.parse=function(r,s,a){var A=e._bin,l={};return A.readFixed(r,s),s+=4,l.fontRevision=A.readFixed(r,s),s+=4,A.readUint(r,s),s+=4,A.readUint(r,s),s+=4,l.flags=A.readUshort(r,s),s+=2,l.unitsPerEm=A.readUshort(r,s),s+=2,l.created=A.readUint64(r,s),s+=8,l.modified=A.readUint64(r,s),s+=8,l.xMin=A.readShort(r,s),s+=2,l.yMin=A.readShort(r,s),s+=2,l.xMax=A.readShort(r,s),s+=2,l.yMax=A.readShort(r,s),s+=2,l.macStyle=A.readUshort(r,s),s+=2,l.lowestRecPPEM=A.readUshort(r,s),s+=2,l.fontDirectionHint=A.readShort(r,s),s+=2,l.indexToLocFormat=A.readShort(r,s),s+=2,l.glyphDataFormat=A.readShort(r,s),s+=2,l},e.hhea={},e.hhea.parse=function(r,s,a){var A=e._bin,l={};return A.readFixed(r,s),s+=4,l.ascender=A.readShort(r,s),s+=2,l.descender=A.readShort(r,s),s+=2,l.lineGap=A.readShort(r,s),s+=2,l.advanceWidthMax=A.readUshort(r,s),s+=2,l.minLeftSideBearing=A.readShort(r,s),s+=2,l.minRightSideBearing=A.readShort(r,s),s+=2,l.xMaxExtent=A.readShort(r,s),s+=2,l.caretSlopeRise=A.readShort(r,s),s+=2,l.caretSlopeRun=A.readShort(r,s),s+=2,l.caretOffset=A.readShort(r,s),s+=2,s+=8,l.metricDataFormat=A.readShort(r,s),s+=2,l.numberOfHMetrics=A.readUshort(r,s),s+=2,l},e.hmtx={},e.hmtx.parse=function(r,s,a,A){for(var l=e._bin,c={aWidth:[],lsBearing:[]},h=0,g=0,v=0;v<A.maxp.numGlyphs;v++)v<A.hhea.numberOfHMetrics&&(h=l.readUshort(r,s),s+=2,g=l.readShort(r,s),s+=2),c.aWidth.push(h),c.lsBearing.push(g);return c},e.kern={},e.kern.parse=function(r,s,a,A){var l=e._bin,c=l.readUshort(r,s);if(s+=2,c==1)return e.kern.parseV1(r,s-2,a,A);var h=l.readUshort(r,s);s+=2;for(var g={glyph1:[],rval:[]},v=0;v<h;v++){s+=2,a=l.readUshort(r,s),s+=2;var m=l.readUshort(r,s);s+=2;var x=m>>>8;if((x&=15)!=0)throw"unknown kern table format: "+x;s=e.kern.readFormat0(r,s,g)}return g},e.kern.parseV1=function(r,s,a,A){var l=e._bin;l.readFixed(r,s),s+=4;var c=l.readUint(r,s);s+=4;for(var h={glyph1:[],rval:[]},g=0;g<c;g++){l.readUint(r,s),s+=4;var v=l.readUshort(r,s);s+=2,l.readUshort(r,s),s+=2;var m=v>>>8;if((m&=15)!=0)throw"unknown kern table format: "+m;s=e.kern.readFormat0(r,s,h)}return h},e.kern.readFormat0=function(r,s,a){var A=e._bin,l=-1,c=A.readUshort(r,s);s+=2,A.readUshort(r,s),s+=2,A.readUshort(r,s),s+=2,A.readUshort(r,s),s+=2;for(var h=0;h<c;h++){var g=A.readUshort(r,s);s+=2;var v=A.readUshort(r,s);s+=2;var m=A.readShort(r,s);s+=2,g!=l&&(a.glyph1.push(g),a.rval.push({glyph2:[],vals:[]}));var x=a.rval[a.rval.length-1];x.glyph2.push(v),x.vals.push(m),l=g}return s},e.loca={},e.loca.parse=function(r,s,a,A){var l=e._bin,c=[],h=A.head.indexToLocFormat,g=A.maxp.numGlyphs+1;if(h==0)for(var v=0;v<g;v++)c.push(l.readUshort(r,s+(v<<1))<<1);if(h==1)for(v=0;v<g;v++)c.push(l.readUint(r,s+(v<<2)));return c},e.maxp={},e.maxp.parse=function(r,s,a){var A=e._bin,l={},c=A.readUint(r,s);return s+=4,l.numGlyphs=A.readUshort(r,s),s+=2,c==65536&&(l.maxPoints=A.readUshort(r,s),s+=2,l.maxContours=A.readUshort(r,s),s+=2,l.maxCompositePoints=A.readUshort(r,s),s+=2,l.maxCompositeContours=A.readUshort(r,s),s+=2,l.maxZones=A.readUshort(r,s),s+=2,l.maxTwilightPoints=A.readUshort(r,s),s+=2,l.maxStorage=A.readUshort(r,s),s+=2,l.maxFunctionDefs=A.readUshort(r,s),s+=2,l.maxInstructionDefs=A.readUshort(r,s),s+=2,l.maxStackElements=A.readUshort(r,s),s+=2,l.maxSizeOfInstructions=A.readUshort(r,s),s+=2,l.maxComponentElements=A.readUshort(r,s),s+=2,l.maxComponentDepth=A.readUshort(r,s),s+=2),l},e.name={},e.name.parse=function(r,s,a){var A=e._bin,l={};A.readUshort(r,s),s+=2;var c=A.readUshort(r,s);s+=2,A.readUshort(r,s);for(var h,g=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],v=s+=2,m=0;m<c;m++){var x=A.readUshort(r,s);s+=2;var B=A.readUshort(r,s);s+=2;var _=A.readUshort(r,s);s+=2;var b=A.readUshort(r,s);s+=2;var M=A.readUshort(r,s);s+=2;var T=A.readUshort(r,s);s+=2;var U,R=g[b],O=v+12*c+T;if(x==0)U=A.readUnicode(r,O,M/2);else if(x==3&&B==0)U=A.readUnicode(r,O,M/2);else if(B==0)U=A.readASCII(r,O,M);else if(B==1)U=A.readUnicode(r,O,M/2);else if(B==3)U=A.readUnicode(r,O,M/2);else{if(x!=1)throw"unknown encoding "+B+", platformID: "+x;U=A.readASCII(r,O,M),console.debug("reading unknown MAC encoding "+B+" as ASCII")}var z="p"+x+","+_.toString(16);l[z]==null&&(l[z]={}),l[z][R!==void 0?R:b]=U,l[z]._lang=_}for(var V in l)if(l[V].postScriptName!=null&&l[V]._lang==1033)return l[V];for(var V in l)if(l[V].postScriptName!=null&&l[V]._lang==0)return l[V];for(var V in l)if(l[V].postScriptName!=null&&l[V]._lang==3084)return l[V];for(var V in l)if(l[V].postScriptName!=null)return l[V];for(var V in l){h=V;break}return console.debug("returning name table with languageID "+l[h]._lang),l[h]},e["OS/2"]={},e["OS/2"].parse=function(r,s,a){var A=e._bin.readUshort(r,s);s+=2;var l={};if(A==0)e["OS/2"].version0(r,s,l);else if(A==1)e["OS/2"].version1(r,s,l);else if(A==2||A==3||A==4)e["OS/2"].version2(r,s,l);else{if(A!=5)throw"unknown OS/2 table version: "+A;e["OS/2"].version5(r,s,l)}return l},e["OS/2"].version0=function(r,s,a){var A=e._bin;return a.xAvgCharWidth=A.readShort(r,s),s+=2,a.usWeightClass=A.readUshort(r,s),s+=2,a.usWidthClass=A.readUshort(r,s),s+=2,a.fsType=A.readUshort(r,s),s+=2,a.ySubscriptXSize=A.readShort(r,s),s+=2,a.ySubscriptYSize=A.readShort(r,s),s+=2,a.ySubscriptXOffset=A.readShort(r,s),s+=2,a.ySubscriptYOffset=A.readShort(r,s),s+=2,a.ySuperscriptXSize=A.readShort(r,s),s+=2,a.ySuperscriptYSize=A.readShort(r,s),s+=2,a.ySuperscriptXOffset=A.readShort(r,s),s+=2,a.ySuperscriptYOffset=A.readShort(r,s),s+=2,a.yStrikeoutSize=A.readShort(r,s),s+=2,a.yStrikeoutPosition=A.readShort(r,s),s+=2,a.sFamilyClass=A.readShort(r,s),s+=2,a.panose=A.readBytes(r,s,10),s+=10,a.ulUnicodeRange1=A.readUint(r,s),s+=4,a.ulUnicodeRange2=A.readUint(r,s),s+=4,a.ulUnicodeRange3=A.readUint(r,s),s+=4,a.ulUnicodeRange4=A.readUint(r,s),s+=4,a.achVendID=[A.readInt8(r,s),A.readInt8(r,s+1),A.readInt8(r,s+2),A.readInt8(r,s+3)],s+=4,a.fsSelection=A.readUshort(r,s),s+=2,a.usFirstCharIndex=A.readUshort(r,s),s+=2,a.usLastCharIndex=A.readUshort(r,s),s+=2,a.sTypoAscender=A.readShort(r,s),s+=2,a.sTypoDescender=A.readShort(r,s),s+=2,a.sTypoLineGap=A.readShort(r,s),s+=2,a.usWinAscent=A.readUshort(r,s),s+=2,a.usWinDescent=A.readUshort(r,s),s+=2},e["OS/2"].version1=function(r,s,a){var A=e._bin;return s=e["OS/2"].version0(r,s,a),a.ulCodePageRange1=A.readUint(r,s),s+=4,a.ulCodePageRange2=A.readUint(r,s),s+=4},e["OS/2"].version2=function(r,s,a){var A=e._bin;return s=e["OS/2"].version1(r,s,a),a.sxHeight=A.readShort(r,s),s+=2,a.sCapHeight=A.readShort(r,s),s+=2,a.usDefault=A.readUshort(r,s),s+=2,a.usBreak=A.readUshort(r,s),s+=2,a.usMaxContext=A.readUshort(r,s),s+=2},e["OS/2"].version5=function(r,s,a){var A=e._bin;return s=e["OS/2"].version2(r,s,a),a.usLowerOpticalPointSize=A.readUshort(r,s),s+=2,a.usUpperOpticalPointSize=A.readUshort(r,s),s+=2},e.post={},e.post.parse=function(r,s,a){var A=e._bin,l={};return l.version=A.readFixed(r,s),s+=4,l.italicAngle=A.readFixed(r,s),s+=4,l.underlinePosition=A.readShort(r,s),s+=2,l.underlineThickness=A.readShort(r,s),s+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(r,s){var a=r.cmap,A=-1;if(a.p0e4!=null?A=a.p0e4:a.p3e1!=null?A=a.p3e1:a.p1e0!=null?A=a.p1e0:a.p0e3!=null&&(A=a.p0e3),A==-1)throw"no familiar platform and encoding!";var l=a.tables[A];if(l.format==0)return s>=l.map.length?0:l.map[s];if(l.format==4){for(var c=-1,h=0;h<l.endCount.length;h++)if(s<=l.endCount[h]){c=h;break}return c==-1||l.startCount[c]>s?0:65535&(l.idRangeOffset[c]!=0?l.glyphIdArray[s-l.startCount[c]+(l.idRangeOffset[c]>>1)-(l.idRangeOffset.length-c)]:s+l.idDelta[c])}if(l.format==12){if(s>l.groups[l.groups.length-1][1])return 0;for(h=0;h<l.groups.length;h++){var g=l.groups[h];if(g[0]<=s&&s<=g[1])return g[2]+(s-g[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(r,s){var a={cmds:[],crds:[]};if(r.SVG&&r.SVG.entries[s]){var A=r.SVG.entries[s];return A==null?a:(typeof A=="string"&&(A=e.SVG.toPath(A),r.SVG.entries[s]=A),A)}if(r.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:r.CFF.Private?r.CFF.Private.defaultWidthX:0,open:!1},c=r.CFF,h=r.CFF.Private;if(c.ROS){for(var g=0;c.FDSelect[g+2]<=s;)g+=2;h=c.FDArray[c.FDSelect[g+1]].Private}e.U._drawCFF(r.CFF.CharStrings[s],l,c,h,a)}else r.glyf&&e.U._drawGlyf(s,r,a);return a},e.U._drawGlyf=function(r,s,a){var A=s.glyf[r];A==null&&(A=s.glyf[r]=e.glyf._parseGlyf(s,r)),A!=null&&(A.noc>-1?e.U._simpleGlyph(A,a):e.U._compoGlyph(A,s,a))},e.U._simpleGlyph=function(r,s){for(var a=0;a<r.noc;a++){for(var A=a==0?0:r.endPts[a-1]+1,l=r.endPts[a],c=A;c<=l;c++){var h=c==A?l:c-1,g=c==l?A:c+1,v=1&r.flags[c],m=1&r.flags[h],x=1&r.flags[g],B=r.xs[c],_=r.ys[c];if(c==A)if(v){if(!m){e.U.P.moveTo(s,B,_);continue}e.U.P.moveTo(s,r.xs[h],r.ys[h])}else m?e.U.P.moveTo(s,r.xs[h],r.ys[h]):e.U.P.moveTo(s,(r.xs[h]+B)/2,(r.ys[h]+_)/2);v?m&&e.U.P.lineTo(s,B,_):x?e.U.P.qcurveTo(s,B,_,r.xs[g],r.ys[g]):e.U.P.qcurveTo(s,B,_,(B+r.xs[g])/2,(_+r.ys[g])/2)}e.U.P.closePath(s)}},e.U._compoGlyph=function(r,s,a){for(var A=0;A<r.parts.length;A++){var l={cmds:[],crds:[]},c=r.parts[A];e.U._drawGlyf(c.glyphIndex,s,l);for(var h=c.m,g=0;g<l.crds.length;g+=2){var v=l.crds[g],m=l.crds[g+1];a.crds.push(v*h.a+m*h.b+h.tx),a.crds.push(v*h.c+m*h.d+h.ty)}for(g=0;g<l.cmds.length;g++)a.cmds.push(l.cmds[g])}},e.U._getGlyphClass=function(r,s){var a=e._lctf.getInterval(s,r);return a==-1?0:s[a+2]},e.U._applySubs=function(r,s,a,A){for(var l=r.length-s-1,c=0;c<a.tabs.length;c++)if(a.tabs[c]!=null){var h,g=a.tabs[c];if(!g.coverage||(h=e._lctf.coverageIndex(g.coverage,r[s]))!=-1){if(a.ltype==1)r[s],g.fmt==1?r[s]=r[s]+g.delta:r[s]=g.newg[h];else if(a.ltype==4)for(var v=g.vals[h],m=0;m<v.length;m++){var x=v[m],B=x.chain.length;if(!(B>l)){for(var _=!0,b=0,M=0;M<B;M++){for(;r[s+b+(1+M)]==-1;)b++;x.chain[M]!=r[s+b+(1+M)]&&(_=!1)}if(_){for(r[s]=x.nglyph,M=0;M<B+b;M++)r[s+M+1]=-1;break}}}else if(a.ltype==5&&g.fmt==2)for(var T=e._lctf.getInterval(g.cDef,r[s]),U=g.cDef[T+2],R=g.scset[U],O=0;O<R.length;O++){var z=R[O],V=z.input;if(!(V.length>l)){for(_=!0,M=0;M<V.length;M++){var I=e._lctf.getInterval(g.cDef,r[s+1+M]);if(T==-1&&g.cDef[I+2]!=V[M]){_=!1;break}}if(_){var P=z.substLookupRecords;for(m=0;m<P.length;m+=2)P[m],P[m+1]}}}else if(a.ltype==6&&g.fmt==3){if(!e.U._glsCovered(r,g.backCvg,s-g.backCvg.length)||!e.U._glsCovered(r,g.inptCvg,s)||!e.U._glsCovered(r,g.ahedCvg,s+g.inptCvg.length))continue;var k=g.lookupRec;for(O=0;O<k.length;O+=2){T=k[O];var G=A[k[O+1]];e.U._applySubs(r,s+T,G,A)}}}}},e.U._glsCovered=function(r,s,a){for(var A=0;A<s.length;A++)if(e._lctf.coverageIndex(s[A],r[a+A])==-1)return!1;return!0},e.U.glyphsToPath=function(r,s,a){for(var A={cmds:[],crds:[]},l=0,c=0;c<s.length;c++){var h=s[c];if(h!=-1){for(var g=c<s.length-1&&s[c+1]!=-1?s[c+1]:0,v=e.U.glyphToPath(r,h),m=0;m<v.crds.length;m+=2)A.crds.push(v.crds[m]+l),A.crds.push(v.crds[m+1]);for(a&&A.cmds.push(a),m=0;m<v.cmds.length;m++)A.cmds.push(v.cmds[m]);a&&A.cmds.push("X"),l+=r.hmtx.aWidth[h],c<s.length-1&&(l+=e.U.getPairAdjustment(r,h,g))}}return A},e.U.P={},e.U.P.moveTo=function(r,s,a){r.cmds.push("M"),r.crds.push(s,a)},e.U.P.lineTo=function(r,s,a){r.cmds.push("L"),r.crds.push(s,a)},e.U.P.curveTo=function(r,s,a,A,l,c,h){r.cmds.push("C"),r.crds.push(s,a,A,l,c,h)},e.U.P.qcurveTo=function(r,s,a,A,l){r.cmds.push("Q"),r.crds.push(s,a,A,l)},e.U.P.closePath=function(r){r.cmds.push("Z")},e.U._drawCFF=function(r,s,a,A,l){for(var c=s.stack,h=s.nStems,g=s.haveWidth,v=s.width,m=s.open,x=0,B=s.x,_=s.y,b=0,M=0,T=0,U=0,R=0,O=0,z=0,V=0,I=0,P=0,k={val:0,size:0};x<r.length;){e.CFF.getCharString(r,x,k);var G=k.val;if(x+=k.size,G=="o1"||G=="o18")c.length%2!=0&&!g&&(v=c.shift()+A.nominalWidthX),h+=c.length>>1,c.length=0,g=!0;else if(G=="o3"||G=="o23")c.length%2!=0&&!g&&(v=c.shift()+A.nominalWidthX),h+=c.length>>1,c.length=0,g=!0;else if(G=="o4")c.length>1&&!g&&(v=c.shift()+A.nominalWidthX,g=!0),m&&e.U.P.closePath(l),_+=c.pop(),e.U.P.moveTo(l,B,_),m=!0;else if(G=="o5")for(;c.length>0;)B+=c.shift(),_+=c.shift(),e.U.P.lineTo(l,B,_);else if(G=="o6"||G=="o7")for(var q=c.length,H=G=="o6",ae=0;ae<q;ae++){var Z=c.shift();H?B+=Z:_+=Z,H=!H,e.U.P.lineTo(l,B,_)}else if(G=="o8"||G=="o24"){q=c.length;for(var ne=0;ne+6<=q;)b=B+c.shift(),M=_+c.shift(),T=b+c.shift(),U=M+c.shift(),B=T+c.shift(),_=U+c.shift(),e.U.P.curveTo(l,b,M,T,U,B,_),ne+=6;G=="o24"&&(B+=c.shift(),_+=c.shift(),e.U.P.lineTo(l,B,_))}else{if(G=="o11")break;if(G=="o1234"||G=="o1235"||G=="o1236"||G=="o1237")G=="o1234"&&(M=_,T=(b=B+c.shift())+c.shift(),P=U=M+c.shift(),O=U,V=_,B=(z=(R=(I=T+c.shift())+c.shift())+c.shift())+c.shift(),e.U.P.curveTo(l,b,M,T,U,I,P),e.U.P.curveTo(l,R,O,z,V,B,_)),G=="o1235"&&(b=B+c.shift(),M=_+c.shift(),T=b+c.shift(),U=M+c.shift(),I=T+c.shift(),P=U+c.shift(),R=I+c.shift(),O=P+c.shift(),z=R+c.shift(),V=O+c.shift(),B=z+c.shift(),_=V+c.shift(),c.shift(),e.U.P.curveTo(l,b,M,T,U,I,P),e.U.P.curveTo(l,R,O,z,V,B,_)),G=="o1236"&&(b=B+c.shift(),M=_+c.shift(),T=b+c.shift(),P=U=M+c.shift(),O=U,z=(R=(I=T+c.shift())+c.shift())+c.shift(),V=O+c.shift(),B=z+c.shift(),e.U.P.curveTo(l,b,M,T,U,I,P),e.U.P.curveTo(l,R,O,z,V,B,_)),G=="o1237"&&(b=B+c.shift(),M=_+c.shift(),T=b+c.shift(),U=M+c.shift(),I=T+c.shift(),P=U+c.shift(),R=I+c.shift(),O=P+c.shift(),z=R+c.shift(),V=O+c.shift(),Math.abs(z-B)>Math.abs(V-_)?B=z+c.shift():_=V+c.shift(),e.U.P.curveTo(l,b,M,T,U,I,P),e.U.P.curveTo(l,R,O,z,V,B,_));else if(G=="o14"){if(c.length>0&&!g&&(v=c.shift()+a.nominalWidthX,g=!0),c.length==4){var oe=c.shift(),fe=c.shift(),me=c.shift(),W=c.shift(),Q=e.CFF.glyphBySE(a,me),X=e.CFF.glyphBySE(a,W);e.U._drawCFF(a.CharStrings[Q],s,a,A,l),s.x=oe,s.y=fe,e.U._drawCFF(a.CharStrings[X],s,a,A,l)}m&&(e.U.P.closePath(l),m=!1)}else if(G=="o19"||G=="o20")c.length%2!=0&&!g&&(v=c.shift()+A.nominalWidthX),h+=c.length>>1,c.length=0,g=!0,x+=h+7>>3;else if(G=="o21")c.length>2&&!g&&(v=c.shift()+A.nominalWidthX,g=!0),_+=c.pop(),B+=c.pop(),m&&e.U.P.closePath(l),e.U.P.moveTo(l,B,_),m=!0;else if(G=="o22")c.length>1&&!g&&(v=c.shift()+A.nominalWidthX,g=!0),B+=c.pop(),m&&e.U.P.closePath(l),e.U.P.moveTo(l,B,_),m=!0;else if(G=="o25"){for(;c.length>6;)B+=c.shift(),_+=c.shift(),e.U.P.lineTo(l,B,_);b=B+c.shift(),M=_+c.shift(),T=b+c.shift(),U=M+c.shift(),B=T+c.shift(),_=U+c.shift(),e.U.P.curveTo(l,b,M,T,U,B,_)}else if(G=="o26")for(c.length%2&&(B+=c.shift());c.length>0;)b=B,M=_+c.shift(),B=T=b+c.shift(),_=(U=M+c.shift())+c.shift(),e.U.P.curveTo(l,b,M,T,U,B,_);else if(G=="o27")for(c.length%2&&(_+=c.shift());c.length>0;)M=_,T=(b=B+c.shift())+c.shift(),U=M+c.shift(),B=T+c.shift(),_=U,e.U.P.curveTo(l,b,M,T,U,B,_);else if(G=="o10"||G=="o29"){var Y=G=="o10"?A:a;if(c.length==0)console.debug("error: empty stack");else{var ie=c.pop(),te=Y.Subrs[ie+Y.Bias];s.x=B,s.y=_,s.nStems=h,s.haveWidth=g,s.width=v,s.open=m,e.U._drawCFF(te,s,a,A,l),B=s.x,_=s.y,h=s.nStems,g=s.haveWidth,v=s.width,m=s.open}}else if(G=="o30"||G=="o31"){var se=c.length,ye=(ne=0,G=="o31");for(ne+=se-(q=-3&se);ne<q;)ye?(M=_,T=(b=B+c.shift())+c.shift(),_=(U=M+c.shift())+c.shift(),q-ne==5?(B=T+c.shift(),ne++):B=T,ye=!1):(b=B,M=_+c.shift(),T=b+c.shift(),U=M+c.shift(),B=T+c.shift(),q-ne==5?(_=U+c.shift(),ne++):_=U,ye=!0),e.U.P.curveTo(l,b,M,T,U,B,_),ne+=4}else{if((G+"").charAt(0)=="o")throw console.debug("Unknown operation: "+G,r),G;c.push(G)}}}s.x=B,s.y=_,s.nStems=h,s.haveWidth=g,s.width=v,s.open=m};var t=e,n={Typr:t};return i.Typr=t,i.default=n,Object.defineProperty(i,"__esModule",{value:!0}),i})({}).Typr}function PG(){return(function(i){var e=Uint8Array,t=Uint16Array,n=Uint32Array,r=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),A=function(G,q){for(var H=new t(31),ae=0;ae<31;++ae)H[ae]=q+=1<<G[ae-1];var Z=new n(H[30]);for(ae=1;ae<30;++ae)for(var ne=H[ae];ne<H[ae+1];++ne)Z[ne]=ne-H[ae]<<5|ae;return[H,Z]},l=A(r,2),c=l[0],h=l[1];c[28]=258,h[258]=28;for(var g=A(s,0)[0],v=new t(32768),m=0;m<32768;++m){var x=(43690&m)>>>1|(21845&m)<<1;x=(61680&(x=(52428&x)>>>2|(13107&x)<<2))>>>4|(3855&x)<<4,v[m]=((65280&x)>>>8|(255&x)<<8)>>>1}var B=function(G,q,H){for(var ae=G.length,Z=0,ne=new t(q);Z<ae;++Z)++ne[G[Z]-1];var oe,fe=new t(q);for(Z=0;Z<q;++Z)fe[Z]=fe[Z-1]+ne[Z-1]<<1;{oe=new t(1<<q);var me=15-q;for(Z=0;Z<ae;++Z)if(G[Z])for(var W=Z<<4|G[Z],Q=q-G[Z],X=fe[G[Z]-1]++<<Q,Y=X|(1<<Q)-1;X<=Y;++X)oe[v[X]>>>me]=W}return oe},_=new e(288);for(m=0;m<144;++m)_[m]=8;for(m=144;m<256;++m)_[m]=9;for(m=256;m<280;++m)_[m]=7;for(m=280;m<288;++m)_[m]=8;var b=new e(32);for(m=0;m<32;++m)b[m]=5;var M=B(_,9),T=B(b,5),U=function(G){for(var q=G[0],H=1;H<G.length;++H)G[H]>q&&(q=G[H]);return q},R=function(G,q,H){var ae=q/8|0;return(G[ae]|G[ae+1]<<8)>>(7&q)&H},O=function(G,q){var H=q/8|0;return(G[H]|G[H+1]<<8|G[H+2]<<16)>>(7&q)},z=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],V=function(G,q,H){var ae=new Error(q||z[G]);if(ae.code=G,Error.captureStackTrace&&Error.captureStackTrace(ae,V),!H)throw ae;return ae},I=function(G,q,H){var ae=G.length;if(!ae||H&&!H.l&&ae<5)return q||new e(0);var Z=!q||H,ne=!H||H.i;H||(H={}),q||(q=new e(3*ae));var oe,fe=function(ct){var Ee=q.length;if(ct>Ee){var Ie=new e(Math.max(2*Ee,ct));Ie.set(q),q=Ie}},me=H.f||0,W=H.p||0,Q=H.b||0,X=H.l,Y=H.d,ie=H.m,te=H.n,se=8*ae;do{if(!X){H.f=me=R(G,W,1);var ye=R(G,W+1,3);if(W+=3,!ye){var xe=G[(Xe=((oe=W)/8|0)+(7&oe&&1)+4)-4]|G[Xe-3]<<8,Fe=Xe+xe;if(Fe>ae){ne&&V(0);break}Z&&fe(Q+xe),q.set(G.subarray(Xe,Fe),Q),H.b=Q+=xe,H.p=W=8*Fe;continue}if(ye==1)X=M,Y=T,ie=9,te=5;else if(ye==2){var Ne=R(G,W,31)+257,ze=R(G,W+10,15)+4,it=Ne+R(G,W+5,31)+1;W+=14;for(var De=new e(it),re=new e(19),Le=0;Le<ze;++Le)re[a[Le]]=R(G,W+3*Le,7);W+=3*ze;var rt=U(re),ce=(1<<rt)-1,He=B(re,rt);for(Le=0;Le<it;){var Xe,Oe=He[R(G,W,ce)];if(W+=15&Oe,(Xe=Oe>>>4)<16)De[Le++]=Xe;else{var Ye=0,Ae=0;for(Xe==16?(Ae=3+R(G,W,3),W+=2,Ye=De[Le-1]):Xe==17?(Ae=3+R(G,W,7),W+=3):Xe==18&&(Ae=11+R(G,W,127),W+=7);Ae--;)De[Le++]=Ye}}var $=De.subarray(0,Ne),Se=De.subarray(Ne);ie=U($),te=U(Se),X=B($,ie),Y=B(Se,te)}else V(1);if(W>se){ne&&V(0);break}}Z&&fe(Q+131072);for(var Ge=(1<<ie)-1,Ve=(1<<te)-1,Re=W;;Re=W){var $e=(Ye=X[O(G,W)&Ge])>>>4;if((W+=15&Ye)>se){ne&&V(0);break}if(Ye||V(2),$e<256)q[Q++]=$e;else{if($e==256){Re=W,X=null;break}var At=$e-254;if($e>264){var wt=r[Le=$e-257];At=R(G,W,(1<<wt)-1)+c[Le],W+=wt}var zt=Y[O(G,W)&Ve],at=zt>>>4;if(zt||V(3),W+=15&zt,Se=g[at],at>3&&(wt=s[at],Se+=O(G,W)&(1<<wt)-1,W+=wt),W>se){ne&&V(0);break}Z&&fe(Q+131072);for(var ut=Q+At;Q<ut;Q+=4)q[Q]=q[Q-Se],q[Q+1]=q[Q+1-Se],q[Q+2]=q[Q+2-Se],q[Q+3]=q[Q+3-Se];Q=ut}}H.l=X,H.p=Re,H.b=Q,X&&(me=1,H.m=ie,H.d=Y,H.n=te)}while(!me);return Q==q.length?q:(function(ct,Ee,Ie){(Ie==null||Ie>ct.length)&&(Ie=ct.length);var Ut=new(ct instanceof t?t:ct instanceof n?n:e)(Ie-Ee);return Ut.set(ct.subarray(Ee,Ie)),Ut})(q,0,Q)},P=new e(0),k=typeof TextDecoder<"u"&&new TextDecoder;try{k.decode(P,{stream:!0})}catch{}return i.convert_streams=function(G){var q=new DataView(G),H=0;function ae(){var Ne=q.getUint16(H);return H+=2,Ne}function Z(){var Ne=q.getUint32(H);return H+=4,Ne}function ne(Ne){xe.setUint16(Fe,Ne),Fe+=2}function oe(Ne){xe.setUint32(Fe,Ne),Fe+=4}for(var fe={signature:Z(),flavor:Z(),length:Z(),numTables:ae(),reserved:ae(),totalSfntSize:Z(),majorVersion:ae(),minorVersion:ae(),metaOffset:Z(),metaLength:Z(),metaOrigLength:Z(),privOffset:Z(),privLength:Z()},me=0;Math.pow(2,me)<=fe.numTables;)me++;me--;for(var W=16*Math.pow(2,me),Q=16*fe.numTables-W,X=12,Y=[],ie=0;ie<fe.numTables;ie++)Y.push({tag:Z(),offset:Z(),compLength:Z(),origLength:Z(),origChecksum:Z()}),X+=16;var te,se=new Uint8Array(12+16*Y.length+Y.reduce((function(Ne,ze){return Ne+ze.origLength+4}),0)),ye=se.buffer,xe=new DataView(ye),Fe=0;return oe(fe.flavor),ne(fe.numTables),ne(W),ne(me),ne(Q),Y.forEach((function(Ne){oe(Ne.tag),oe(Ne.origChecksum),oe(X),oe(Ne.origLength),Ne.outOffset=X,(X+=Ne.origLength)%4!=0&&(X+=4-X%4)})),Y.forEach((function(Ne){var ze,it=G.slice(Ne.offset,Ne.offset+Ne.compLength);if(Ne.compLength!=Ne.origLength){var De=new Uint8Array(Ne.origLength);ze=new Uint8Array(it,2),I(ze,De)}else De=new Uint8Array(it);se.set(De,Ne.outOffset);var re=0;(X=Ne.outOffset+Ne.origLength)%4!=0&&(re=4-X%4),se.set(new Uint8Array(re).buffer,Ne.outOffset+Ne.origLength),te=X+re})),ye.slice(0,te)},Object.defineProperty(i,"__esModule",{value:!0}),i})({}).convert_streams}function QG(i,e){const t={M:2,L:2,Q:4,C:6,Z:0},n={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},r=1,s=2,a=4,A=8,l=16,c=32;let h;function g(z){if(!h){const V={R:s,L:r,D:a,C:l,U:c,T:A};h=new Map;for(let I in n){let P=0;n[I].split(",").forEach(k=>{let[G,q]=k.split("+");G=parseInt(G,36),q=q?parseInt(q,36):0,h.set(P+=G,V[I]);for(let H=q;H--;)h.set(++P,V[I])})}}return h.get(z)||c}const v=1,m=2,x=3,B=4,_=[null,"isol","init","fina","medi"];function b(z){const V=new Uint8Array(z.length);let I=c,P=v,k=-1;for(let G=0;G<z.length;G++){const q=z.codePointAt(G);let H=g(q)|0,ae=v;H&A||(I&(r|a|l)?H&(s|a|l)?(ae=x,(P===v||P===x)&&V[k]++):H&(r|c)&&(P===m||P===B)&&V[k]--:I&(s|c)&&(P===m||P===B)&&V[k]--,P=V[G]=ae,I=H,k=G,q>65535&&G++)}return V}function M(z,V){const I=[];for(let k=0;k<V.length;k++){const G=V.codePointAt(k);G>65535&&k++,I.push(i.U.codeToGlyph(z,G))}const P=z.GSUB;if(P){const{lookupList:k,featureList:G}=P;let q;const H=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,ae=[];G.forEach(Z=>{if(H.test(Z.tag))for(let ne=0;ne<Z.tab.length;ne++){if(ae[Z.tab[ne]])continue;ae[Z.tab[ne]]=!0;const oe=k[Z.tab[ne]],fe=/^(isol|init|fina|medi)$/.test(Z.tag);fe&&!q&&(q=b(V));for(let me=0;me<I.length;me++)(!q||!fe||_[q[me]]===Z.tag)&&i.U._applySubs(I,me,oe,k)}})}return I}function T(z,V){const I=new Int16Array(V.length*3);let P=0;for(;P<V.length;P++){const H=V[P];if(H===-1)continue;I[P*3+2]=z.hmtx.aWidth[H];const ae=z.GPOS;if(ae){const Z=ae.lookupList;for(let ne=0;ne<Z.length;ne++){const oe=Z[ne];for(let fe=0;fe<oe.tabs.length;fe++){const me=oe.tabs[fe];if(oe.ltype===1){if(i._lctf.coverageIndex(me.coverage,H)!==-1&&me.pos){q(me.pos,P);break}}else if(oe.ltype===2){let W=null,Q=k();if(Q!==-1){const X=i._lctf.coverageIndex(me.coverage,V[Q]);if(X!==-1){if(me.fmt===1){const Y=me.pairsets[X];for(let ie=0;ie<Y.length;ie++)Y[ie].gid2===H&&(W=Y[ie])}else if(me.fmt===2){const Y=i.U._getGlyphClass(V[Q],me.classDef1),ie=i.U._getGlyphClass(H,me.classDef2);W=me.matrix[Y][ie]}if(W){W.val1&&q(W.val1,Q),W.val2&&q(W.val2,P);break}}}}else if(oe.ltype===4){const W=i._lctf.coverageIndex(me.markCoverage,H);if(W!==-1){const Q=k(G),X=Q===-1?-1:i._lctf.coverageIndex(me.baseCoverage,V[Q]);if(X!==-1){const Y=me.markArray[W],ie=me.baseArray[X][Y.markClass];I[P*3]=ie.x-Y.x+I[Q*3]-I[Q*3+2],I[P*3+1]=ie.y-Y.y+I[Q*3+1];break}}}else if(oe.ltype===6){const W=i._lctf.coverageIndex(me.mark1Coverage,H);if(W!==-1){const Q=k();if(Q!==-1){const X=V[Q];if(U(z,X)===3){const Y=i._lctf.coverageIndex(me.mark2Coverage,X);if(Y!==-1){const ie=me.mark1Array[W],te=me.mark2Array[Y][ie.markClass];I[P*3]=te.x-ie.x+I[Q*3]-I[Q*3+2],I[P*3+1]=te.y-ie.y+I[Q*3+1];break}}}}}}}}else if(z.kern&&!z.cff){const Z=k();if(Z!==-1){const ne=z.kern.glyph1.indexOf(V[Z]);if(ne!==-1){const oe=z.kern.rval[ne].glyph2.indexOf(H);oe!==-1&&(I[Z*3+2]+=z.kern.rval[ne].vals[oe])}}}}return I;function k(H){for(let ae=P-1;ae>=0;ae--)if(V[ae]!==-1&&(!H||H(V[ae])))return ae;return-1}function G(H){return U(z,H)===1}function q(H,ae){for(let Z=0;Z<3;Z++)I[ae*3+Z]+=H[Z]||0}}function U(z,V){const I=z.GDEF&&z.GDEF.glyphClassDef;return I?i.U._getGlyphClass(V,I):0}function R(...z){for(let V=0;V<z.length;V++)if(typeof z[V]=="number")return z[V]}function O(z){const V=Object.create(null),I=z["OS/2"],P=z.hhea,k=z.head.unitsPerEm,G=R(I&&I.sTypoAscender,P&&P.ascender,k),q={unitsPerEm:k,ascender:G,descender:R(I&&I.sTypoDescender,P&&P.descender,0),capHeight:R(I&&I.sCapHeight,G),xHeight:R(I&&I.sxHeight,G),lineGap:R(I&&I.sTypoLineGap,P&&P.lineGap),supportsCodePoint(H){return i.U.codeToGlyph(z,H)>0},forEachGlyph(H,ae,Z,ne){let oe=0;const fe=1/q.unitsPerEm*ae,me=M(z,H);let W=0;const Q=T(z,me);return me.forEach((X,Y)=>{if(X!==-1){let ie=V[X];if(!ie){const{cmds:te,crds:se}=i.U.glyphToPath(z,X);let ye="",xe=0;for(let De=0,re=te.length;De<re;De++){const Le=t[te[De]];ye+=te[De];for(let rt=1;rt<=Le;rt++)ye+=(rt>1?",":"")+se[xe++]}let Fe,Ne,ze,it;if(se.length){Fe=Ne=1/0,ze=it=-1/0;for(let De=0,re=se.length;De<re;De+=2){let Le=se[De],rt=se[De+1];Le<Fe&&(Fe=Le),rt<Ne&&(Ne=rt),Le>ze&&(ze=Le),rt>it&&(it=rt)}}else Fe=ze=Ne=it=0;ie=V[X]={index:X,advanceWidth:z.hmtx.aWidth[X],xMin:Fe,yMin:Ne,xMax:ze,yMax:it,path:ye}}ne.call(null,ie,oe+Q[Y*3]*fe,Q[Y*3+1]*fe,W),oe+=Q[Y*3+2]*fe,Z&&(oe+=Z*ae)}W+=H.codePointAt(W)>65535?2:1}),oe}};return q}return function(V){const I=new Uint8Array(V,0,4),P=i._bin.readASCII(I,0,4);if(P==="wOFF")V=e(V);else if(P==="wOF2")throw new Error("woff2 fonts not supported");return O(i.parse(V)[0])}}const HG=Ym({name:"Typr Font Parser",dependencies:[OG,PG,QG],init(i,e,t){const n=i(),r=e();return t(n,r)}});function kG(){return(function(i){var e=function(){this.buckets=new Map};e.prototype.add=function(T){var U=T>>5;this.buckets.set(U,(this.buckets.get(U)||0)|1<<(31&T))},e.prototype.has=function(T){var U=this.buckets.get(T>>5);return U!==void 0&&(U&1<<(31&T))!=0},e.prototype.serialize=function(){var T=[];return this.buckets.forEach((function(U,R){T.push((+R).toString(36)+":"+U.toString(36))})),T.join(",")},e.prototype.deserialize=function(T){var U=this;this.buckets.clear(),T.split(",").forEach((function(R){var O=R.split(":");U.buckets.set(parseInt(O[0],36),parseInt(O[1],36))}))};var t=Math.pow(2,8),n=t-1,r=~n;function s(T){var U=(function(O){return O&r})(T).toString(16),R=(function(O){return(O&r)+t-1})(T).toString(16);return"codepoint-index/plane"+(T>>16)+"/"+U+"-"+R+".json"}function a(T,U){var R=T&n,O=U.codePointAt(R/6|0);return((O=(O||48)-48)&1<<R%6)!=0}function A(T,U){var R;(R=T,R.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map((function(O){return O.split("-").map((function(z){return parseInt(z.trim(),16)}))}))).forEach((function(O){var z=O[0],V=O[1];V===void 0&&(V=z),U(z,V)}))}function l(T,U){A(T,(function(R,O){for(var z=R;z<=O;z++)U(z)}))}var c={},h={},g=new WeakMap,v="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function m(T){var U=g.get(T);return U||(U=new e,l(T.ranges,(function(R){return U.add(R)})),g.set(T,U)),U}var x,B=new Map;function _(T,U,R){return T[U]?U:T[R]?R:(function(O){for(var z in O)return z})(T)}function b(T,U){var R=U;if(!T.includes(R)){R=1/0;for(var O=0;O<T.length;O++)Math.abs(T[O]-U)<Math.abs(R-U)&&(R=T[O])}return R}function M(T){return x||(x=new Set,l("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",(function(U){x.add(U)}))),x.has(T)}return i.CodePointSet=e,i.clearCache=function(){c={},h={}},i.getFontsForString=function(T,U){U===void 0&&(U={});var R,O=U.lang;O===void 0&&(O=new RegExp("\\p{Script=Hangul}","u").test(R=T)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(R)?"ja":"en");var z=U.category;z===void 0&&(z="sans-serif");var V=U.style;V===void 0&&(V="normal");var I=U.weight;I===void 0&&(I=400);var P=(U.dataUrl||v).replace(/\/$/g,""),k=new Map,G=new Uint8Array(T.length),q={},H={},ae=new Array(T.length),Z=new Map,ne=!1;function oe(W){var Q=B.get(W);return Q||(Q=fetch(P+"/"+W).then((function(X){if(!X.ok)throw new Error(X.statusText);return X.json().then((function(Y){if(!Array.isArray(Y)||Y[0]!==1)throw new Error("Incorrect schema version; need 1, got "+Y[0]);return Y[1]}))})).catch((function(X){if(P!==v)return ne||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+P+'", trying default CDN. '+X.message),ne=!0),P=v,B.delete(W),oe(W);throw X})),B.set(W,Q)),Q}for(var fe=function(W){var Q=T.codePointAt(W),X=s(Q);ae[W]=X,c[X]||Z.has(X)||Z.set(X,oe(X).then((function(Y){c[X]=Y}))),Q>65535&&(W++,me=W)},me=0;me<T.length;me++)fe(me);return Promise.all(Z.values()).then((function(){Z.clear();for(var W=function(X){var Y=T.codePointAt(X),ie=null,te=c[ae[X]],se=void 0;for(var ye in te){var xe=H[ye];if(xe===void 0&&(xe=H[ye]=new RegExp(ye).test(O||"en")),xe){for(var Fe in se=ye,te[ye])if(a(Y,te[ye][Fe])){ie=Fe;break}break}}if(!ie){e:for(var Ne in te)if(Ne!==se){for(var ze in te[Ne])if(a(Y,te[Ne][ze])){ie=ze;break e}}}ie||(console.debug("No font coverage for U+"+Y.toString(16)),ie="latin"),ae[X]=ie,h[ie]||Z.has(ie)||Z.set(ie,oe("font-meta/"+ie+".json").then((function(it){h[ie]=it}))),Y>65535&&(X++,Q=X)},Q=0;Q<T.length;Q++)W(Q);return Promise.all(Z.values())})).then((function(){for(var W,Q=null,X=0;X<T.length;X++){var Y=T.codePointAt(X);if(Q&&(M(Y)||m(Q).has(Y)))G[X]=G[X-1];else{Q=h[ae[X]];var ie=q[Q.id];if(!ie){var te=Q.typeforms,se=_(te,z,"sans-serif"),ye=_(te[se],V,"normal"),xe=b((W=te[se])===null||W===void 0?void 0:W[ye],I);ie=q[Q.id]=P+"/font-files/"+Q.id+"/"+se+"."+ye+"."+xe+".woff"}var Fe=k.get(ie);Fe==null&&(Fe=k.size,k.set(ie,Fe)),G[X]=Fe}Y>65535&&(X++,G[X]=G[X-1])}return{fontUrls:Array.from(k.keys()),chars:G}}))},Object.defineProperty(i,"__esModule",{value:!0}),i})({})}function zG(i,e){const t=Object.create(null),n=Object.create(null);function r(a,A){const l=c=>{console.error(`Failure loading font ${a}`,c)};try{const c=new XMLHttpRequest;c.open("get",a,!0),c.responseType="arraybuffer",c.onload=function(){if(c.status>=400)l(new Error(c.statusText));else if(c.status>0)try{const h=i(c.response);h.src=a,A(h)}catch(h){l(h)}},c.onerror=l,c.send()}catch(c){l(c)}}function s(a,A){let l=t[a];l?A(l):n[a]?n[a].push(A):(n[a]=[A],r(a,c=>{c.src=a,t[a]=c,n[a].forEach(h=>h(c)),delete n[a]}))}return function(a,A,{lang:l,fonts:c=[],style:h="normal",weight:g="normal",unicodeFontsURL:v}={}){const m=new Uint8Array(a.length),x=[];a.length||M();const B=new Map,_=[];if(h!=="italic"&&(h="normal"),typeof g!="number"&&(g=g==="bold"?700:400),c&&!Array.isArray(c)&&(c=[c]),c=c.slice().filter(U=>!U.lang||U.lang.test(l)).reverse(),c.length){let z=0;(function V(I=0){for(let P=I,k=a.length;P<k;P++){const G=a.codePointAt(P);if(z===1&&x[m[P-1]].supportsCodePoint(G)||P>0&&/\s/.test(a[P]))m[P]=m[P-1],z===2&&(_[_.length-1][1]=P);else for(let q=m[P],H=c.length;q<=H;q++)if(q===H){const ae=z===2?_[_.length-1]:_[_.length]=[P,P];ae[1]=P,z=2}else{m[P]=q;const{src:ae,unicodeRange:Z}=c[q];if(!Z||T(G,Z)){const ne=t[ae];if(!ne){s(ae,()=>{V(P)});return}if(ne.supportsCodePoint(G)){let oe=B.get(ne);typeof oe!="number"&&(oe=x.length,x.push(ne),B.set(ne,oe)),m[P]=oe,z=1;break}}}G>65535&&P+1<k&&(m[P+1]=m[P],P++,z===2&&(_[_.length-1][1]=P))}b()})()}else _.push([0,a.length-1]),b();function b(){if(_.length){const U=_.map(R=>a.substring(R[0],R[1]+1)).join(`
`);e.getFontsForString(U,{lang:l||void 0,style:h,weight:g,dataUrl:v}).then(({fontUrls:R,chars:O})=>{const z=x.length;let V=0;_.forEach(P=>{for(let k=0,G=P[1]-P[0];k<=G;k++)m[P[0]+k]=O[V++]+z;V++});let I=0;R.forEach((P,k)=>{s(P,G=>{x[k+z]=G,++I===R.length&&M()})})})}else M()}function M(){A({chars:m,fonts:x})}function T(U,R){for(let O=0;O<R.length;O++){const[z,V=z]=R[O];if(z<=U&&U<=V)return!0}return!1}}}const GG=Ym({name:"FontResolver",dependencies:[zG,HG,kG],init(i,e,t){return i(e,t())}});function VG(i,e){const n=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,r="[^\\S\\u00A0]",s=new RegExp(`${r}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function a({text:x,lang:B,fonts:_,style:b,weight:M,preResolvedFonts:T,unicodeFontsURL:U},R){const O=({chars:z,fonts:V})=>{let I,P;const k=[];for(let G=0;G<z.length;G++)z[G]!==P?(P=z[G],k.push(I={start:G,end:G,fontObj:V[z[G]]})):I.end=G;R(k)};T?O(T):i(x,O,{lang:B,fonts:_,style:b,weight:M,unicodeFontsURL:U})}function A({text:x="",font:B,lang:_,sdfGlyphSize:b=64,fontSize:M=400,fontWeight:T=1,fontStyle:U="normal",letterSpacing:R=0,lineHeight:O="normal",maxWidth:z=1/0,direction:V,textAlign:I="left",textIndent:P=0,whiteSpace:k="normal",overflowWrap:G="normal",anchorX:q=0,anchorY:H=0,metricsOnly:ae=!1,unicodeFontsURL:Z,preResolvedFonts:ne=null,includeCaretPositions:oe=!1,chunkedBoundsSize:fe=8192,colorRanges:me=null},W){const Q=g(),X={fontLoad:0,typesetting:0};x.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),x=x.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),M=+M,R=+R,z=+z,O=O||"normal",P=+P,a({text:x,lang:_,style:U,weight:T,fonts:typeof B=="string"?[{src:B}]:B,unicodeFontsURL:Z,preResolvedFonts:ne},Y=>{X.fontLoad=g()-Q;const ie=isFinite(z);let te=null,se=null,ye=null,xe=null,Fe=null,Ne=null,ze=null,it=null,De=0,re=0,Le=k!=="nowrap";const rt=new Map,ce=g();let He=P,Xe=0,Oe=new v;const Ye=[Oe];Y.forEach(Ve=>{const{fontObj:Re}=Ve,{ascender:$e,descender:At,unitsPerEm:wt,lineGap:zt,capHeight:at,xHeight:ut}=Re;let ct=rt.get(Re);if(!ct){const Je=M/wt,mt=O==="normal"?($e-At+zt)*Je:O*M,Et=(mt-($e-At)*Je)/2,tt=Math.min(mt,($e-At)*Je),Ze=($e+At)/2*Je+tt/2;ct={index:rt.size,src:Re.src,fontObj:Re,fontSizeMult:Je,unitsPerEm:wt,ascender:$e*Je,descender:At*Je,capHeight:at*Je,xHeight:ut*Je,lineHeight:mt,baseline:-Et-$e*Je,caretTop:Ze,caretBottom:Ze-tt},rt.set(Re,ct)}const{fontSizeMult:Ee}=ct,Ie=x.slice(Ve.start,Ve.end+1);let Ut,Be;Re.forEachGlyph(Ie,M,R,(Je,mt,Et,tt)=>{mt+=Xe,tt+=Ve.start,Ut=mt,Be=Je;const Ze=x.charAt(tt),Lt=Je.advanceWidth*Ee,Vt=Oe.count;let Wt;if("isEmpty"in Je||(Je.isWhitespace=!!Ze&&new RegExp(r).test(Ze),Je.canBreakAfter=!!Ze&&s.test(Ze),Je.isEmpty=Je.xMin===Je.xMax||Je.yMin===Je.yMax||n.test(Ze)),!Je.isWhitespace&&!Je.isEmpty&&re++,Le&&ie&&!Je.isWhitespace&&mt+Lt+He>z&&Vt){if(Oe.glyphAt(Vt-1).glyphObj.canBreakAfter)Wt=new v,He=-mt;else for(let qt=Vt;qt--;)if(qt===0&&G==="break-word"){Wt=new v,He=-mt;break}else if(Oe.glyphAt(qt).glyphObj.canBreakAfter){Wt=Oe.splitAt(qt+1);const Wn=Wt.glyphAt(0).x;He-=Wn;for(let Bi=Wt.count;Bi--;)Wt.glyphAt(Bi).x-=Wn;break}Wt&&(Oe.isSoftWrapped=!0,Oe=Wt,Ye.push(Oe),De=z)}let nn=Oe.glyphAt(Oe.count);nn.glyphObj=Je,nn.x=mt+He,nn.y=Et,nn.width=Lt,nn.charIndex=tt,nn.fontData=ct,Ze===`
`&&(Oe=new v,Ye.push(Oe),He=-(mt+Lt+R*M)+P)}),Xe=Ut+Be.advanceWidth*Ee+R*M});let Ae=0;Ye.forEach(Ve=>{let Re=!0;for(let $e=Ve.count;$e--;){const At=Ve.glyphAt($e);Re&&!At.glyphObj.isWhitespace&&(Ve.width=At.x+At.width,Ve.width>De&&(De=Ve.width),Re=!1);let{lineHeight:wt,capHeight:zt,xHeight:at,baseline:ut}=At.fontData;wt>Ve.lineHeight&&(Ve.lineHeight=wt);const ct=ut-Ve.baseline;ct<0&&(Ve.baseline+=ct,Ve.cap+=ct,Ve.ex+=ct),Ve.cap=Math.max(Ve.cap,Ve.baseline+zt),Ve.ex=Math.max(Ve.ex,Ve.baseline+at)}Ve.baseline-=Ae,Ve.cap-=Ae,Ve.ex-=Ae,Ae+=Ve.lineHeight});let $=0,Se=0;if(q&&(typeof q=="number"?$=-q:typeof q=="string"&&($=-De*(q==="left"?0:q==="center"?.5:q==="right"?1:c(q)))),H&&(typeof H=="number"?Se=-H:typeof H=="string"&&(Se=H==="top"?0:H==="top-baseline"?-Ye[0].baseline:H==="top-cap"?-Ye[0].cap:H==="top-ex"?-Ye[0].ex:H==="middle"?Ae/2:H==="bottom"?Ae:H==="bottom-baseline"?-Ye[Ye.length-1].baseline:c(H)*Ae)),!ae){const Ve=e.getEmbeddingLevels(x,V);te=new Uint16Array(re),se=new Uint8Array(re),ye=new Float32Array(re*2),xe={},ze=[1/0,1/0,-1/0,-1/0],it=[],oe&&(Ne=new Float32Array(x.length*4)),me&&(Fe=new Uint8Array(re*3));let Re=0,$e=-1,At=-1,wt,zt;if(Ye.forEach((at,ut)=>{let{count:ct,width:Ee}=at;if(ct>0){let Ie=0;for(let tt=ct;tt--&&at.glyphAt(tt).glyphObj.isWhitespace;)Ie++;let Ut=0,Be=0;if(I==="center")Ut=(De-Ee)/2;else if(I==="right")Ut=De-Ee;else if(I==="justify"&&at.isSoftWrapped){let tt=0;for(let Ze=ct-Ie;Ze--;)at.glyphAt(Ze).glyphObj.isWhitespace&&tt++;Be=(De-Ee)/tt}if(Be||Ut){let tt=0;for(let Ze=0;Ze<ct;Ze++){let Lt=at.glyphAt(Ze);const Vt=Lt.glyphObj;Lt.x+=Ut+tt,Be!==0&&Vt.isWhitespace&&Ze<ct-Ie&&(tt+=Be,Lt.width+=Be)}}const Je=e.getReorderSegments(x,Ve,at.glyphAt(0).charIndex,at.glyphAt(at.count-1).charIndex);for(let tt=0;tt<Je.length;tt++){const[Ze,Lt]=Je[tt];let Vt=1/0,Wt=-1/0;for(let nn=0;nn<ct;nn++)if(at.glyphAt(nn).charIndex>=Ze){let qt=nn,Wn=nn;for(;Wn<ct;Wn++){let Bi=at.glyphAt(Wn);if(Bi.charIndex>Lt)break;Wn<ct-Ie&&(Vt=Math.min(Vt,Bi.x),Wt=Math.max(Wt,Bi.x+Bi.width))}for(let Bi=qt;Bi<Wn;Bi++){const Xi=at.glyphAt(Bi);Xi.x=Wt-(Xi.x+Xi.width-Vt)}break}}let mt;const Et=tt=>mt=tt;for(let tt=0;tt<ct;tt++){const Ze=at.glyphAt(tt);mt=Ze.glyphObj;const Lt=mt.index,Vt=Ve.levels[Ze.charIndex]&1;if(Vt){const Wt=e.getMirroredCharacter(x[Ze.charIndex]);Wt&&Ze.fontData.fontObj.forEachGlyph(Wt,0,0,Et)}if(oe){const{charIndex:Wt,fontData:nn}=Ze,qt=Ze.x+$,Wn=Ze.x+Ze.width+$;Ne[Wt*4]=Vt?Wn:qt,Ne[Wt*4+1]=Vt?qt:Wn,Ne[Wt*4+2]=at.baseline+nn.caretBottom+Se,Ne[Wt*4+3]=at.baseline+nn.caretTop+Se;const Bi=Wt-$e;Bi>1&&h(Ne,$e,Bi),$e=Wt}if(me){const{charIndex:Wt}=Ze;for(;Wt>At;)At++,me.hasOwnProperty(At)&&(zt=me[At])}if(!mt.isWhitespace&&!mt.isEmpty){const Wt=Re++,{fontSizeMult:nn,src:qt,index:Wn}=Ze.fontData,Bi=xe[qt]||(xe[qt]={});Bi[Lt]||(Bi[Lt]={path:mt.path,pathBounds:[mt.xMin,mt.yMin,mt.xMax,mt.yMax]});const Xi=Ze.x+$,lr=Ze.y+at.baseline+Se;ye[Wt*2]=Xi,ye[Wt*2+1]=lr;const ci=Xi+mt.xMin*nn,Ui=lr+mt.yMin*nn,Yi=Xi+mt.xMax*nn,ki=lr+mt.yMax*nn;ci<ze[0]&&(ze[0]=ci),Ui<ze[1]&&(ze[1]=Ui),Yi>ze[2]&&(ze[2]=Yi),ki>ze[3]&&(ze[3]=ki),Wt%fe===0&&(wt={start:Wt,end:Wt,rect:[1/0,1/0,-1/0,-1/0]},it.push(wt)),wt.end++;const Si=wt.rect;if(ci<Si[0]&&(Si[0]=ci),Ui<Si[1]&&(Si[1]=Ui),Yi>Si[2]&&(Si[2]=Yi),ki>Si[3]&&(Si[3]=ki),te[Wt]=Lt,se[Wt]=Wn,me){const ei=Wt*3;Fe[ei]=zt>>16&255,Fe[ei+1]=zt>>8&255,Fe[ei+2]=zt&255}}}}}),Ne){const at=x.length-$e;at>1&&h(Ne,$e,at)}}const Ge=[];rt.forEach(({index:Ve,src:Re,unitsPerEm:$e,ascender:At,descender:wt,lineHeight:zt,capHeight:at,xHeight:ut})=>{Ge[Ve]={src:Re,unitsPerEm:$e,ascender:At,descender:wt,lineHeight:zt,capHeight:at,xHeight:ut}}),X.typesetting=g()-ce,W({glyphIds:te,glyphFontIndices:se,glyphPositions:ye,glyphData:xe,fontData:Ge,caretPositions:Ne,glyphColors:Fe,chunkedBounds:it,fontSize:M,topBaseline:Se+Ye[0].baseline,blockBounds:[$,Se-Ae,$+De,Se],visibleBounds:ze,timings:X})})}function l(x,B){A({...x,metricsOnly:!0},_=>{const[b,M,T,U]=_.blockBounds;B({width:T-b,height:U-M})})}function c(x){let B=x.match(/^([\d.]+)%$/),_=B?parseFloat(B[1]):NaN;return isNaN(_)?0:_/100}function h(x,B,_){const b=x[B*4],M=x[B*4+1],T=x[B*4+2],U=x[B*4+3],R=(M-b)/_;for(let O=0;O<_;O++){const z=(B+O)*4;x[z]=b+R*O,x[z+1]=b+R*(O+1),x[z+2]=T,x[z+3]=U}}function g(){return(self.performance||Date).now()}function v(){this.data=[]}const m=["glyphObj","x","y","width","charIndex","fontData"];return v.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/m.length)},glyphAt(x){let B=v.flyweight;return B.data=this.data,B.index=x,B},splitAt(x){let B=new v;return B.data=this.data.splice(x*m.length),B}},v.flyweight=m.reduce((x,B,_,b)=>(Object.defineProperty(x,B,{get(){return this.data[this.index*m.length+_]},set(M){this.data[this.index*m.length+_]=M}}),x),{data:null,index:0}),{typeset:A,measure:l}}const Rp=()=>(self.performance||Date).now(),v_=NI();let vU;function jG(i,e,t,n,r,s,a,A,l,c,h=!0){return h?WG(i,e,t,n,r,s,a,A,l,c).then(null,g=>(vU||(console.warn("WebGL SDF generation failed, falling back to JS",g),vU=!0),wU(i,e,t,n,r,s,a,A,l,c))):wU(i,e,t,n,r,s,a,A,l,c)}const nx=[],KG=5;let J2=0;function OI(){const i=Rp();for(;nx.length&&Rp()-i<KG;)nx.shift()();J2=nx.length?setTimeout(OI,0):0}const WG=(...i)=>new Promise((e,t)=>{nx.push(()=>{const n=Rp();try{v_.webgl.generateIntoCanvas(...i),e({timing:Rp()-n})}catch(r){t(r)}}),J2||(J2=setTimeout(OI,0))}),qG=4,XG=2e3,yU={};let YG=0;function wU(i,e,t,n,r,s,a,A,l,c){const h="TroikaTextSDFGenerator_JS_"+YG++%qG;let g=yU[h];return g||(g=yU[h]={workerModule:Ym({name:h,workerId:h,dependencies:[NI,Rp],init(v,m){const x=v().javascript.generate;return function(...B){const _=m();return{textureData:x(...B),timing:m()-_}}},getTransferables(v){return[v.textureData.buffer]}}),requests:0,idleTimer:null}),g.requests++,clearTimeout(g.idleTimer),g.workerModule(i,e,t,n,r,s).then(({textureData:v,timing:m})=>{const x=Rp(),B=new Uint8Array(v.length*4);for(let _=0;_<v.length;_++)B[_*4+c]=v[_];return v_.webglUtils.renderImageData(a,B,A,l,i,e,1<<3-c),m+=Rp()-x,--g.requests===0&&(g.idleTimer=setTimeout(()=>{EG(h)},XG)),{timing:m}})}function JG(i){i._warm||(v_.webgl.isSupported(i),i._warm=!0)}const ZG=v_.webglUtils.resizeWebGLCanvasWithoutClearing,s1={unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},$G=new an;function $g(){return(self.performance||Date).now()}const xU=Object.create(null);function PI(i,e){i=nV({},i);const t=$g(),n=[];if(i.font&&n.push({label:"user",src:iV(i.font)}),i.font=n,i.text=""+i.text,i.sdfGlyphSize=i.sdfGlyphSize||s1.sdfGlyphSize,i.unicodeFontsURL=i.unicodeFontsURL||s1.unicodeFontsURL,i.colorRanges!=null){let v={};for(let m in i.colorRanges)if(i.colorRanges.hasOwnProperty(m)){let x=i.colorRanges[m];typeof x!="number"&&(x=$G.set(x).getHex()),v[m]=x}i.colorRanges=v}Object.freeze(i);const{textureWidth:r,sdfExponent:s}=s1,{sdfGlyphSize:a}=i,A=r/a*4;let l=xU[a];if(!l){const v=document.createElement("canvas");v.width=r,v.height=a*256/A,l=xU[a]={glyphCount:0,sdfGlyphSize:a,sdfCanvas:v,sdfTexture:new Ys(v,void 0,void 0,void 0,Tr,Tr),contextLost:!1,glyphsByFont:new Map},l.sdfTexture.generateMipmaps=!1,eV(l)}const{sdfTexture:c,sdfCanvas:h}=l;kI(i).then(v=>{const{glyphIds:m,glyphFontIndices:x,fontData:B,glyphPositions:_,fontSize:b,timings:M}=v,T=[],U=new Float32Array(m.length*4);let R=0,O=0;const z=$g(),V=B.map(q=>{let H=l.glyphsByFont.get(q.src);return H||l.glyphsByFont.set(q.src,H=new Map),H});m.forEach((q,H)=>{const ae=x[H],{src:Z,unitsPerEm:ne}=B[ae];let oe=V[ae].get(q);if(!oe){const{path:X,pathBounds:Y}=v.glyphData[Z][q],ie=Math.max(Y[2]-Y[0],Y[3]-Y[1])/a*(s1.sdfMargin*a+.5),te=l.glyphCount++,se=[Y[0]-ie,Y[1]-ie,Y[2]+ie,Y[3]+ie];V[ae].set(q,oe={path:X,atlasIndex:te,sdfViewBox:se}),T.push(oe)}const{sdfViewBox:fe}=oe,me=_[O++],W=_[O++],Q=b/ne;U[R++]=me+fe[0]*Q,U[R++]=W+fe[1]*Q,U[R++]=me+fe[2]*Q,U[R++]=W+fe[3]*Q,m[H]=oe.atlasIndex}),M.quads=(M.quads||0)+($g()-z);const I=$g();M.sdf={};const P=h.height,k=Math.ceil(l.glyphCount/A),G=Math.pow(2,Math.ceil(Math.log2(k*a)));G>P&&(console.info(`Increasing SDF texture size ${P}->${G}`),ZG(h,r,G),c.dispose()),Promise.all(T.map(q=>QI(q,l,i.gpuAccelerateSDF).then(({timing:H})=>{M.sdf[q.atlasIndex]=H}))).then(()=>{T.length&&!l.contextLost&&(HI(l),c.needsUpdate=!0),M.sdfTotal=$g()-I,M.total=$g()-t,e(Object.freeze({parameters:i,sdfTexture:c,sdfGlyphSize:a,sdfExponent:s,glyphBounds:U,glyphAtlasIndices:m,glyphColors:v.glyphColors,caretPositions:v.caretPositions,chunkedBounds:v.chunkedBounds,ascender:v.ascender,descender:v.descender,lineHeight:v.lineHeight,capHeight:v.capHeight,xHeight:v.xHeight,topBaseline:v.topBaseline,blockBounds:v.blockBounds,visibleBounds:v.visibleBounds,timings:v.timings}))})}),Promise.resolve().then(()=>{l.contextLost||JG(h)})}function QI({path:i,atlasIndex:e,sdfViewBox:t},{sdfGlyphSize:n,sdfCanvas:r,contextLost:s},a){if(s)return Promise.resolve({timing:-1});const{textureWidth:A,sdfExponent:l}=s1,c=Math.max(t[2]-t[0],t[3]-t[1]),h=Math.floor(e/4),g=h%(A/n)*n,v=Math.floor(h/(A/n))*n,m=e%4;return jG(n,n,i,t,c,l,r,g,v,m,a)}function eV(i){const e=i.sdfCanvas;e.addEventListener("webglcontextlost",t=>{console.log("Context Lost",t),t.preventDefault(),i.contextLost=!0}),e.addEventListener("webglcontextrestored",t=>{console.log("Context Restored",t),i.contextLost=!1;const n=[];i.glyphsByFont.forEach(r=>{r.forEach(s=>{n.push(QI(s,i,!0))})}),Promise.all(n).then(()=>{HI(i),i.sdfTexture.needsUpdate=!0})})}function tV({font:i,characters:e,sdfGlyphSize:t},n){let r=Array.isArray(e)?e.join(`
`):""+e;PI({font:i,sdfGlyphSize:t,text:r},n)}function nV(i,e){for(let t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}let gw;function iV(i){return gw||(gw=typeof document>"u"?{}:document.createElement("a")),gw.href=i,gw.href}function HI(i){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:t}=i,{width:n,height:r}=e,s=i.sdfCanvas.getContext("webgl");let a=t.image.data;(!a||a.length!==n*r*4)&&(a=new Uint8Array(n*r*4),t.image={width:n,height:r,data:a},t.flipY=!1,t.isDataTexture=!0),s.readPixels(0,0,n,r,s.RGBA,s.UNSIGNED_BYTE,a)}}const rV=Ym({name:"Typesetter",dependencies:[VG,GG,UG],init(i,e,t){return i(e,t())}}),kI=Ym({name:"Typesetter",dependencies:[rV],init(i){return function(e){return new Promise(t=>{i.typeset(e,t)})}},getTransferables(i){const e=[];for(let t in i)i[t]&&i[t].buffer&&e.push(i[t].buffer);return e}});kI.onMainThread;const bU={};function sV(i){let e=bU[i];return e||(e=bU[i]=new Bf(1,1,i,i).translate(.5,.5,0)),e}const aV="aTroikaGlyphBounds",_U="aTroikaGlyphIndex",oV="aTroikaGlyphColor";class AV extends h_{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Va,this.boundingBox=new Fa}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let t=sV(e);["position","normal","uv"].forEach(n=>{this.attributes[n]=t.attributes[n].clone()}),this.setIndex(t.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,t,n,r,s){this.updateAttributeData(aV,e,4),this.updateAttributeData(_U,t,1),this.updateAttributeData(oV,s,3),this._blockBounds=n,this._chunkedBounds=r,this.instanceCount=t.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:t,boundingBox:n}=this;if(t){const{PI:r,floor:s,min:a,max:A,sin:l,cos:c}=Math,h=r/2,g=r*2,v=Math.abs(t),m=e[0]/v,x=e[2]/v,B=s((m+h)/g)!==s((x+h)/g)?-v:a(l(m)*v,l(x)*v),_=s((m-h)/g)!==s((x-h)/g)?v:A(l(m)*v,l(x)*v),b=s((m+r)/g)!==s((x+r)/g)?v*2:A(v-c(m)*v,v-c(x)*v);n.min.set(B,e[1],t<0?-b:0),n.max.set(_,e[3],t<0?0:b)}else n.min.set(e[0],e[1],0),n.max.set(e[2],e[3],0);n.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let t=this.getAttribute(_U).count,n=this._chunkedBounds;if(n)for(let r=n.length;r--;){t=n[r].end;let s=n[r].rect;if(s[1]<e.w&&s[3]>e.y&&s[0]<e.z&&s[2]>e.x)break}this.instanceCount=t}updateAttributeData(e,t,n){const r=this.getAttribute(e);t?r&&r.array.length===t.length?(r.array.set(t),r.needsUpdate=!0):(this.setAttribute(e,new Hp(t,n)),delete this._maxInstanceCount,this.dispose()):r&&this.deleteAttribute(e)}}const lV=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,uV=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,cV=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,fV=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function hV(i){const e=Y2(i,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Rt},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new er(0,0,0,0)},uTroikaClipRect:{value:new er(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Rt},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new an},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Ai},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:lV,vertexTransform:uV,fragmentDefs:cV,fragmentColorTransform:fV,customRewriter({vertexShader:t,fragmentShader:n}){let r=/\buniform\s+vec3\s+diffuse\b/;return r.test(n)&&(n=n.replace(r,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),r.test(t)||(t=t.replace(DI,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:t,fragmentShader:n}}});return e.transparent=!0,e.forceSinglePass=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const zE=new vh({color:16777215,side:Pu,transparent:!0}),BU=8421504,SU=new Vn,mw=new Ce,bS=new Ce,K0=[],dV=new Ce,_S="+x+y";function CU(i){return Array.isArray(i)?i[0]:i}let zI=()=>{const i=new xs(new Bf(1,1),zE);return zI=()=>i,i},GI=()=>{const i=new xs(new Bf(1,1,32,1),zE);return GI=()=>i,i};const pV={type:"syncstart"},gV={type:"synccomplete"},VI=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],mV=VI.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let jI=class extends xs{constructor(){const e=new AV;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=BU,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=_S,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(pV),PI({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},t=>{this._isSyncing=!1,this._textRenderInfo=t,this.geometry.updateGlyphs(t.glyphBounds,t.glyphAtlasIndices,t.blockBounds,t.chunkedBounds,t.glyphColors);const n=this._queuedSyncs;n&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{n.forEach(r=>r&&r())})),this.dispatchEvent(gV),e&&e()})))}onBeforeRender(e,t,n,r,s,a){this.sync(),s.isTroikaTextMaterial&&this._prepareForRender(s)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return hV(e)}get material(){let e=this._derivedMaterial;const t=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=zE.clone());if((!e||!e.isDerivedFrom(t))&&(e=this._derivedMaterial=this.createDerivedMaterial(t),t.addEventListener("dispose",function n(){t.removeEventListener("dispose",n),e.dispose()})),this.hasOutline()){let n=e._outlineMtl;return n||(n=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),n.isTextOutlineMaterial=!0,n.depthWrite=!1,n.map=null,e.addEventListener("dispose",function r(){e.removeEventListener("dispose",r),n.dispose()})),[n,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return CU(this.material).getDepthMaterial()}set customDepthMaterial(e){}get customDistanceMaterial(){return CU(this.material).getDistanceMaterial()}set customDistanceMaterial(e){}_prepareForRender(e){const t=e.isTextOutlineMaterial,n=e.uniforms,r=this.textRenderInfo;if(r){const{sdfTexture:A,blockBounds:l}=r;n.uTroikaSDFTexture.value=A,n.uTroikaSDFTextureSize.value.set(A.image.width,A.image.height),n.uTroikaSDFGlyphSize.value=r.sdfGlyphSize,n.uTroikaSDFExponent.value=r.sdfExponent,n.uTroikaTotalBounds.value.fromArray(l),n.uTroikaUseGlyphColors.value=!t&&!!r.glyphColors;let c=0,h=0,g=0,v,m,x,B=0,_=0;if(t){let{outlineWidth:M,outlineOffsetX:T,outlineOffsetY:U,outlineBlur:R,outlineOpacity:O}=this;c=this._parsePercent(M)||0,h=Math.max(0,this._parsePercent(R)||0),v=O,B=this._parsePercent(T)||0,_=this._parsePercent(U)||0}else g=Math.max(0,this._parsePercent(this.strokeWidth)||0),g&&(x=this.strokeColor,n.uTroikaStrokeColor.value.set(x??BU),m=this.strokeOpacity,m==null&&(m=1)),v=this.fillOpacity;n.uTroikaEdgeOffset.value=c,n.uTroikaPositionOffset.value.set(B,_),n.uTroikaBlurRadius.value=h,n.uTroikaStrokeWidth.value=g,n.uTroikaStrokeOpacity.value=m,n.uTroikaFillOpacity.value=v??1,n.uTroikaCurveRadius.value=this.curveRadius||0;let b=this.clipRect;if(b&&Array.isArray(b)&&b.length===4)n.uTroikaClipRect.value.fromArray(b);else{const M=(this.fontSize||.1)*100;n.uTroikaClipRect.value.set(l[0]-M,l[1]-M,l[2]+M,l[3]+M)}this.geometry.applyClipRect(n.uTroikaClipRect.value)}n.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const s=t?this.outlineColor||0:this.color;if(s==null)delete e.color;else{const A=e.hasOwnProperty("color")?e.color:e.color=new an;(s!==A._input||typeof s=="object")&&A.set(A._input=s)}let a=this.orientation||_S;if(a!==e._orientation){let A=n.uTroikaOrient.value;a=a.replace(/[^-+xyz]/g,"");let l=a!==_S&&a.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){let[,c,h,g,v]=l;mw.set(0,0,0)[h]=c==="-"?1:-1,bS.set(0,0,0)[v]=g==="-"?-1:1,SU.lookAt(dV,mw.cross(bS),bS),A.setFromMatrix4(SU)}else A.identity();e._orientation=a}}_parsePercent(e){if(typeof e=="string"){let t=e.match(/^(-?[\d.]+)%$/),n=t?parseFloat(t[1]):NaN;e=(isNaN(n)?0:n/100)*this.fontSize}return e}localPositionToTextCoords(e,t=new Rt){t.copy(e);const n=this.curveRadius;return n&&(t.x=Math.atan2(e.x,Math.abs(n)-Math.abs(e.z))*Math.abs(n)),t}worldPositionToTextCoords(e,t=new Rt){return mw.copy(e),this.localPositionToTextCoords(this.worldToLocal(mw),t)}raycast(e,t){const{textRenderInfo:n,curveRadius:r}=this;if(n){const s=n.blockBounds,a=r?GI():zI(),A=a.geometry,{position:l,uv:c}=A.attributes;for(let h=0;h<c.count;h++){let g=s[0]+c.getX(h)*(s[2]-s[0]);const v=s[1]+c.getY(h)*(s[3]-s[1]);let m=0;r&&(m=r-Math.cos(g/r)*r,g=Math.sin(g/r)*r),l.setXYZ(h,g,v,m)}A.boundingSphere=this.geometry.boundingSphere,A.boundingBox=this.geometry.boundingBox,a.matrixWorld=this.matrixWorld,a.material.side=this.material.side,K0.length=0,a.raycast(e,K0);for(let h=0;h<K0.length;h++)K0[h].object=this,t.push(K0[h])}}copy(e){const t=this.geometry;return super.copy(e),this.geometry=t,mV.forEach(n=>{this[n]=e[n]}),this}clone(){return new this.constructor().copy(this)}};VI.forEach(i=>{const e="_private_"+i;Object.defineProperty(jI.prototype,i,{get(){return this[e]},set(t){t!==this[e]&&(this[e]=t,this._needsSync=!0)}})});new Fa;new an;const EU=ht.forwardRef(({sdfGlyphSize:i=64,anchorX:e="center",anchorY:t="middle",font:n,fontSize:r=1,children:s,characters:a,onSync:A,...l},c)=>{const h=qs(({invalidate:x})=>x),[g]=ht.useState(()=>new jI),[v,m]=ht.useMemo(()=>{const x=[];let B="";return ht.Children.forEach(s,_=>{typeof _=="string"||typeof _=="number"?B+=_:x.push(_)}),[x,B]},[s]);return i9(()=>new Promise(x=>tV({font:n,characters:a},x)),["troika-text",n,a]),ht.useLayoutEffect(()=>{g.sync(()=>{h(),A&&A(g)})}),ht.useEffect(()=>()=>g.dispose(),[g]),ht.createElement("primitive",El({object:g,ref:c,font:n,text:m,anchorX:e,anchorY:t,fontSize:r,sdfGlyphSize:i},l),v)}),y_=ht.forwardRef(({threshold:i=15,geometry:e,...t},n)=>{const r=ht.useRef(null);ht.useImperativeHandle(n,()=>r.current,[]);const s=ht.useMemo(()=>[0,0,0,1,0,0],[]),a=ht.useRef(null),A=ht.useRef(null);return ht.useLayoutEffect(()=>{const l=r.current.parent,c=e??l?.geometry;if(!c||a.current===c&&A.current===i)return;a.current=c,A.current=i;const g=new fE(c,i).attributes.position.array;r.current.geometry.setPositions(g),r.current.geometry.attributes.instanceStart.needsUpdate=!0,r.current.geometry.attributes.instanceEnd.needsUpdate=!0,r.current.computeLineDistances()}),ht.createElement(bm,El({segments:!0,points:s,ref:r,raycast:()=>null},t))});function KI(i,e,t){const n=qs(m=>m.size),r=qs(m=>m.viewport),s=typeof i=="number"?i:n.width*r.dpr,a=n.height*r.dpr,A=(typeof i=="number"?t:i)||{},{samples:l=0,depth:c,...h}=A,g=c??A.depthBuffer,v=ht.useMemo(()=>{const m=new wA(s,a,{minFilter:Tr,magFilter:Tr,type:_c,...h});return g&&(m.depthTexture=new kp(s,a,yA)),m.samples=l,m},[]);return ht.useLayoutEffect(()=>{v.setSize(s,a),l&&(v.samples=l)},[l,v,s,a]),ht.useEffect(()=>()=>v.dispose(),[]),v}const vV=i=>typeof i=="function",yV=ht.forwardRef(({envMap:i,resolution:e=256,frames:t=1/0,children:n,makeDefault:r,...s},a)=>{const A=qs(({set:_})=>_),l=qs(({camera:_})=>_),c=qs(({size:_})=>_),h=ht.useRef(null);ht.useImperativeHandle(a,()=>h.current,[]);const g=ht.useRef(null),v=KI(e);ht.useLayoutEffect(()=>{s.manual||h.current.updateProjectionMatrix()},[c,s]),ht.useLayoutEffect(()=>{h.current.updateProjectionMatrix()}),ht.useLayoutEffect(()=>{if(r){const _=l;return A(()=>({camera:h.current})),()=>A(()=>({camera:_}))}},[h,r,A]);let m=0,x=null;const B=vV(n);return _v(_=>{B&&(t===1/0||m<t)&&(g.current.visible=!1,_.gl.setRenderTarget(v),x=_.scene.background,i&&(_.scene.background=i),_.gl.render(_.scene,h.current),_.scene.background=x,_.gl.setRenderTarget(null),g.current.visible=!0,m++)}),ht.createElement(ht.Fragment,null,ht.createElement("orthographicCamera",El({left:c.width/-2,right:c.width/2,top:c.height/2,bottom:c.height/-2,ref:h},s),!B&&n),ht.createElement("group",{ref:g},B&&n(v.texture)))}),wV=i=>typeof i=="function",xV=ht.forwardRef(({envMap:i,resolution:e=256,frames:t=1/0,makeDefault:n,children:r,...s},a)=>{const A=qs(({set:_})=>_),l=qs(({camera:_})=>_),c=qs(({size:_})=>_),h=ht.useRef(null);ht.useImperativeHandle(a,()=>h.current,[]);const g=ht.useRef(null),v=KI(e);ht.useLayoutEffect(()=>{s.manual||(h.current.aspect=c.width/c.height)},[c,s]),ht.useLayoutEffect(()=>{h.current.updateProjectionMatrix()});let m=0,x=null;const B=wV(r);return _v(_=>{B&&(t===1/0||m<t)&&(g.current.visible=!1,_.gl.setRenderTarget(v),x=_.scene.background,i&&(_.scene.background=i),_.gl.render(_.scene,h.current),_.scene.background=x,_.gl.setRenderTarget(null),g.current.visible=!0,m++)}),ht.useLayoutEffect(()=>{if(n){const _=l;return A(()=>({camera:h.current})),()=>A(()=>({camera:_}))}},[h,n,A]),ht.createElement(ht.Fragment,null,ht.createElement("perspectiveCamera",El({ref:h},s),!B&&r),ht.createElement("group",{ref:g},B&&r(v.texture)))}),bV=ht.forwardRef(({makeDefault:i,camera:e,regress:t,domElement:n,enableDamping:r=!0,keyEvents:s=!1,onChange:a,onStart:A,onEnd:l,...c},h)=>{const g=qs(O=>O.invalidate),v=qs(O=>O.camera),m=qs(O=>O.gl),x=qs(O=>O.events),B=qs(O=>O.setEvents),_=qs(O=>O.set),b=qs(O=>O.get),M=qs(O=>O.performance),T=e||v,U=n||x.connected||m.domElement,R=ht.useMemo(()=>new mG(T),[T]);return _v(()=>{R.enabled&&R.update()},-1),ht.useEffect(()=>(s&&R.connect(s===!0?U:s),R.connect(U),()=>{R.dispose()}),[s,U,t,R,g]),ht.useEffect(()=>{const O=I=>{g(),t&&M.regress(),a&&a(I)},z=I=>{A&&A(I)},V=I=>{l&&l(I)};return R.addEventListener("change",O),R.addEventListener("start",z),R.addEventListener("end",V),()=>{R.removeEventListener("start",z),R.removeEventListener("end",V),R.removeEventListener("change",O)}},[a,A,l,R,g,B]),ht.useEffect(()=>{if(i){const O=b().controls;return _({controls:R}),()=>_({controls:O})}},[i,R]),ht.createElement("primitive",El({ref:h,object:R,enableDamping:r},c))}),_V="modulepreload",BV=function(i,e){return new URL(i,e).href},MU={},BS=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let c=function(h){return Promise.all(h.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};const a=document.getElementsByTagName("link"),A=document.querySelector("meta[property=csp-nonce]"),l=A?.nonce||A?.getAttribute("nonce");r=c(t.map(h=>{if(h=BV(h,n),h in MU)return;MU[h]=!0;const g=h.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(n)for(let x=a.length-1;x>=0;x--){const B=a[x];if(B.href===h&&(!g||B.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${v}`))return;const m=document.createElement("link");if(m.rel=g?"stylesheet":_V,g||(m.as="script"),m.crossOrigin="",m.href=h,l&&m.setAttribute("nonce",l),document.head.appendChild(m),g)return new Promise((x,B)=>{m.addEventListener("load",x),m.addEventListener("error",()=>B(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(a){const A=new Event("vite:preloadError",{cancelable:!0});if(A.payload=a,window.dispatchEvent(A),!A.defaultPrevented)throw a}return r.then(a=>{for(const A of a||[])A.status==="rejected"&&s(A.reason);return e().catch(s)})},SV=ht.forwardRef(({scale:i=10,frames:e=1/0,opacity:t=1,width:n=1,height:r=1,blur:s=1,near:a=0,far:A=10,resolution:l=512,smooth:c=!0,color:h="#000000",depthWrite:g=!1,renderOrder:v,...m},x)=>{const B=ht.useRef(null),_=qs(H=>H.scene),b=qs(H=>H.gl),M=ht.useRef(null);n=n*(Array.isArray(i)?i[0]:i||1),r=r*(Array.isArray(i)?i[1]:i||1);const[T,U,R,O,z,V,I]=ht.useMemo(()=>{const H=new wA(l,l),ae=new wA(l,l);ae.texture.generateMipmaps=H.texture.generateMipmaps=!1;const Z=new Bf(n,r).rotateX(Math.PI/2),ne=new xs(Z),oe=new yv;oe.depthTest=oe.depthWrite=!1,oe.onBeforeCompile=W=>{W.uniforms={...W.uniforms,ucolor:{value:new an(h)}},W.fragmentShader=W.fragmentShader.replace("void main() {",`uniform vec3 ucolor;
           void main() {
          `),W.fragmentShader=W.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor * fragCoordZ * 2.0, ( 1.0 - fragCoordZ ) * 1.0 );")};const fe=new qA(vG),me=new qA(yG);return me.depthTest=fe.depthTest=!1,[H,Z,oe,ne,fe,me,ae]},[l,n,r,i,h]),P=H=>{O.visible=!0,O.material=z,z.uniforms.tDiffuse.value=T.texture,z.uniforms.h.value=H*1/256,b.setRenderTarget(I),b.render(O,M.current),O.material=V,V.uniforms.tDiffuse.value=I.texture,V.uniforms.v.value=H*1/256,b.setRenderTarget(T),b.render(O,M.current),O.visible=!1};let k=0,G,q;return _v(()=>{M.current&&(e===1/0||k<e)&&(k++,G=_.background,q=_.overrideMaterial,B.current.visible=!1,_.background=null,_.overrideMaterial=R,b.setRenderTarget(T),b.render(_,M.current),P(s),c&&P(s*.4),b.setRenderTarget(null),B.current.visible=!0,_.overrideMaterial=q,_.background=G)}),ht.useImperativeHandle(x,()=>B.current,[]),ht.createElement("group",El({"rotation-x":Math.PI/2},m,{ref:B}),ht.createElement("mesh",{renderOrder:v,geometry:U,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},ht.createElement("meshBasicMaterial",{transparent:!0,map:T.texture,opacity:t,depthWrite:g})),ht.createElement("orthographicCamera",{ref:M,args:[-n/2,n/2,r/2,-r/2,a,A]}))}),CV={},UU=i=>{let e;const t=new Set,n=(h,g)=>{const v=typeof h=="function"?h(e):h;if(!Object.is(v,e)){const m=e;e=g??(typeof v!="object"||v===null)?v:Object.assign({},e,v),t.forEach(x=>x(e,m))}},r=()=>e,l={setState:n,getState:r,getInitialState:()=>c,subscribe:h=>(t.add(h),()=>t.delete(h)),destroy:()=>{(CV?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),t.clear()}},c=e=i(n,r,l);return l},EV=i=>i?UU(i):UU,WI={},{useDebugValue:MV}=vc,{useSyncExternalStoreWithSelector:UV}=uI;let TU=!1;const TV=i=>i;function FV(i,e=TV,t){(WI?"production":void 0)!=="production"&&t&&!TU&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),TU=!0);const n=UV(i.subscribe,i.getState,i.getServerState||i.getInitialState,e,t);return MV(n),n}const FU=i=>{(WI?"production":void 0)!=="production"&&typeof i!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof i=="function"?EV(i):i,t=(n,r)=>FV(e,n,r);return Object.assign(t,e),t},LV=i=>i?FU(i):FU;var LU,IU;const RU=typeof window<"u"&&((LU=window.document)!=null&&LU.createElement||((IU=window.navigator)==null?void 0:IU.product)==="ReactNative")?vc.useLayoutEffect:vc.useEffect;function IV(){const i=LV(e=>({current:new Array,version:0,set:e}));return{In:({children:e})=>{const t=i(r=>r.set),n=i(r=>r.version);return RU(()=>{t(r=>({version:r.version+1}))},[]),RU(()=>(t(({current:r})=>({current:[...r,e]})),()=>t(({current:r})=>({current:r.filter(s=>s!==e)}))),[e,n]),null},Out:()=>{const e=i(t=>t.current);return vc.createElement(vc.Fragment,null,e)}}}const RV=i=>i&&i.isOrthographicCamera,NU=new an,qI=IV();function SS(i,e){const{right:t,top:n,left:r,bottom:s,width:a,height:A}=e,l=e.bottom<0||n>i.height||t<0||e.left>i.width,h=i.top+i.height-s,g=r-i.left;return{position:{width:a,height:A,left:g,top:n,bottom:h,right:t},isOffscreen:l}}function CS(i,{left:e,bottom:t,width:n,height:r}){let s;const a=n/r;return RV(i.camera)?i.camera.manual?i.camera.updateProjectionMatrix():(i.camera.left!==n/-2||i.camera.right!==n/2||i.camera.top!==r/2||i.camera.bottom!==r/-2)&&(Object.assign(i.camera,{left:n/-2,right:n/2,top:r/2,bottom:r/-2}),i.camera.updateProjectionMatrix()):i.camera.aspect!==a&&(i.camera.aspect=a,i.camera.updateProjectionMatrix()),s=i.gl.autoClear,i.gl.autoClear=!1,i.gl.setViewport(e,t,n,r),i.gl.setScissor(e,t,n,r),i.gl.setScissorTest(!0),s}function ES(i,e){i.gl.setScissorTest(!1),i.gl.autoClear=e}function DU(i){i.gl.getClearColor(NU),i.gl.setClearColor(NU,i.gl.getClearAlpha()),i.gl.clear(!0,!0)}function NV({visible:i=!0,canvasSize:e,scene:t,index:n,children:r,frames:s,rect:a,track:A}){const l=qs(),[c,h]=ht.useState(!1);let g=0;return _v(v=>{if(s===1/0||g<=s){var m;A&&(a.current=(m=A.current)==null?void 0:m.getBoundingClientRect()),g++}if(a.current){const{position:x,isOffscreen:B}=SS(e,a.current);if(c!==B&&h(B),i&&!c&&a.current){const _=CS(v,x);v.gl.render(r?v.scene:t,v.camera),ES(v,_)}}},n),ht.useLayoutEffect(()=>{const v=a.current;if(v&&(!i||!c)){const{position:m}=SS(e,v),x=CS(l,m);DU(l),ES(l,x)}},[i,c]),ht.useEffect(()=>{if(!A)return;const v=a.current,m=l.get().events.connected;return l.setEvents({connected:A.current}),()=>{if(v){const{position:x}=SS(e,v),B=CS(l,x);DU(l),ES(l,B)}l.setEvents({connected:m})}},[A]),ht.createElement(ht.Fragment,null,r,ht.createElement("group",{onPointerOver:()=>null}))}const XI=ht.forwardRef(({track:i,visible:e=!0,index:t=1,id:n,style:r,className:s,frames:a=1/0,children:A,...l},c)=>{var h,g,v,m;const x=ht.useRef(null),{size:B,scene:_}=qs(),[b]=ht.useState(()=>new Hm),[M,T]=ht.useReducer(()=>!0,!1),U=ht.useCallback((R,O)=>{if(x.current&&i&&i.current&&R.target===i.current){const{width:z,height:V,left:I,top:P}=x.current,k=R.clientX-I,G=R.clientY-P;O.pointer.set(k/z*2-1,-(G/V)*2+1),O.raycaster.setFromCamera(O.pointer,O.camera)}},[x,i]);return ht.useEffect(()=>{var R;i&&(x.current=(R=i.current)==null?void 0:R.getBoundingClientRect()),T()},[i]),ht.createElement("group",El({ref:c},l),M&&W9(ht.createElement(NV,{visible:e,canvasSize:B,frames:a,scene:_,track:i,rect:x,index:t},A),b,{events:{compute:U,priority:t},size:{width:(h=x.current)==null?void 0:h.width,height:(g=x.current)==null?void 0:g.height,top:(v=x.current)==null?void 0:v.top,left:(m=x.current)==null?void 0:m.left}}))}),DV=ht.forwardRef(({as:i="div",id:e,visible:t,className:n,style:r,index:s=1,track:a,frames:A=1/0,children:l,...c},h)=>{const g=ht.useId(),v=ht.useRef(null);return ht.useImperativeHandle(h,()=>v.current),ht.createElement(ht.Fragment,null,ht.createElement(i,El({ref:v,id:e,className:n,style:r},c)),ht.createElement(qI.In,null,ht.createElement(XI,{visible:t,key:g,track:v,frames:A,index:s},l)))}),GE=(()=>{const i=ht.forwardRef((e,t)=>ht.useContext(g_)?ht.createElement(XI,El({ref:t},e)):ht.createElement(DV,El({ref:t},e)));return i.Port=()=>ht.createElement(qI.Out,null),i})(),VE=lG(i=>({width:1200,depth:600,floorHeight:0,cabinetColor:"#58737e",showSkirting:!1,showFeet:!1,recessDistance:50,numFeetPerRow:2,exportRoot:null,blocks:[{id:"block-1",height:900,numRows:1,numCols:2,doorsOpen:!0,useDoors:!0,useDrawers:!1,useTrunk:!1,lidHeight:60,lidOpen:!1,drawersOpen:!1,numShelves:2}],setWidth:e=>i({width:e}),setDepth:e=>i({depth:e}),setFloorHeight:e=>i({floorHeight:e}),setCabinetColor:e=>i({cabinetColor:e}),setShowSkirting:e=>i({showSkirting:e}),setShowFeet:e=>i({showFeet:e}),setRecessDistance:e=>i({recessDistance:e}),setNumFeetPerRow:e=>i({numFeetPerRow:Math.max(2,e)}),setExportRoot:e=>i({exportRoot:e}),addBlock:()=>i(e=>({blocks:[...e.blocks,{id:`block-${e.blocks.length+1}-${Date.now()}`,height:900,numRows:1,numCols:2,doorsOpen:!0,useDoors:!0,useDrawers:!1,useTrunk:!1,lidHeight:60,lidOpen:!1,drawersOpen:!1,numShelves:2}]})),removeBlock:e=>i(t=>({blocks:t.blocks.length>1?t.blocks.filter(n=>n.id!==e):t.blocks})),updateBlock:(e,t)=>i(n=>({blocks:n.blocks.map(r=>r.id===e?{...r,...t}:r)})),setCabinetState:e=>i({width:e.width,depth:e.depth,floorHeight:e.floorHeight,cabinetColor:e.cabinetColor,showSkirting:e.showSkirting,showFeet:e.showFeet,recessDistance:e.recessDistance,numFeetPerRow:Math.max(2,e.numFeetPerRow),blocks:e.blocks.map((t,n)=>({id:t.id||`block-${n+1}-${Date.now()}`,height:t.height,numRows:Math.max(1,t.numRows),numCols:Math.max(1,t.numCols),doorsOpen:t.doorsOpen,useDoors:t.useDoors,useDrawers:t.useDrawers,useTrunk:t.useTrunk??!1,lidHeight:Math.max(0,t.lidHeight??60),lidOpen:t.lidOpen??!1,drawersOpen:t.drawersOpen??!1,numShelves:t.numShelves}))})}));var Z2=function(i,e){return Z2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},Z2(i,e)};function Ec(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Z2(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var $2=function(){return $2=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},$2.apply(this,arguments)};function GA(i,e,t,n){function r(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function A(h){try{c(n.next(h))}catch(g){a(g)}}function l(h){try{c(n.throw(h))}catch(g){a(g)}}function c(h){h.done?s(h.value):r(h.value).then(A,l)}c((n=n.apply(i,[])).next())})}function mA(i,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,r,s,a;return a={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function A(c){return function(h){return l([c,h])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,r&&(s=c[0]&2?r.return:c[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,c[1])).done)return s;switch(r=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,r=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(i,t)}catch(h){c=[6,h],r=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function vw(i,e,t){if(arguments.length===2)for(var n=0,r=e.length,s;n<r;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return i.concat(s||e)}var gh=(function(){function i(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r}return i.prototype.add=function(e,t,n,r){return new i(this.left+e,this.top+t,this.width+n,this.height+r)},i.fromClientRect=function(e,t){return new i(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},i.fromDOMRectList=function(e,t){var n=Array.from(t).find(function(r){return r.width!==0});return n?new i(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):i.EMPTY},i.EMPTY=new i(0,0,0,0),i})(),w_=function(i,e){return gh.fromClientRect(i,e.getBoundingClientRect())},OV=function(i){var e=i.body,t=i.documentElement;if(!e||!t)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),r=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new gh(0,0,n,r)},x_=function(i){for(var e=[],t=0,n=i.length;t<n;){var r=i.charCodeAt(t++);if(r>=55296&&r<=56319&&t<n){var s=i.charCodeAt(t++);(s&64512)===56320?e.push(((r&1023)<<10)+(s&1023)+65536):(e.push(r),t--)}else e.push(r)}return e},Ca=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,i);var t=i.length;if(!t)return"";for(var n=[],r=-1,s="";++r<t;){var a=i[r];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(r+1===t||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},OU="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",PV=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var yw=0;yw<OU.length;yw++)PV[OU.charCodeAt(yw)]=yw;var PU="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ww=0;ww<PU.length;ww++)a1[PU.charCodeAt(ww)]=ww;var QV=function(i){var e=i.length*.75,t=i.length,n,r=0,s,a,A,l;i[i.length-1]==="="&&(e--,i[i.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),h=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<t;n+=4)s=a1[i.charCodeAt(n)],a=a1[i.charCodeAt(n+1)],A=a1[i.charCodeAt(n+2)],l=a1[i.charCodeAt(n+3)],h[r++]=s<<2|a>>4,h[r++]=(a&15)<<4|A>>2,h[r++]=(A&3)<<6|l&63;return c},HV=function(i){for(var e=i.length,t=[],n=0;n<e;n+=2)t.push(i[n+1]<<8|i[n]);return t},kV=function(i){for(var e=i.length,t=[],n=0;n<e;n+=4)t.push(i[n+3]<<24|i[n+2]<<16|i[n+1]<<8|i[n]);return t},Np=5,jE=11,MS=2,zV=jE-Np,YI=65536>>Np,GV=1<<Np,US=GV-1,VV=1024>>Np,jV=YI+VV,KV=jV,WV=32,qV=KV+WV,XV=65536>>jE,YV=1<<zV,JV=YV-1,QU=function(i,e,t){return i.slice?i.slice(e,t):new Uint16Array(Array.prototype.slice.call(i,e,t))},ZV=function(i,e,t){return i.slice?i.slice(e,t):new Uint32Array(Array.prototype.slice.call(i,e,t))},$V=function(i,e){var t=QV(i),n=Array.isArray(t)?kV(t):new Uint32Array(t),r=Array.isArray(t)?HV(t):new Uint16Array(t),s=24,a=QU(r,s/2,n[4]/2),A=n[5]===2?QU(r,(s+n[4])/2):ZV(n,Math.ceil((s+n[4])/4));return new ej(n[0],n[1],n[2],n[3],a,A)},ej=(function(){function i(e,t,n,r,s,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=s,this.data=a}return i.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>Np],t=(t<<MS)+(e&US),this.data[t];if(e<=65535)return t=this.index[YI+(e-55296>>Np)],t=(t<<MS)+(e&US),this.data[t];if(e<this.highStart)return t=qV-XV+(e>>jE),t=this.index[t],t+=e>>Np&JV,t=this.index[t],t=(t<<MS)+(e&US),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},i})(),HU="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tj=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var xw=0;xw<HU.length;xw++)tj[HU.charCodeAt(xw)]=xw;var nj="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",kU=50,ij=1,JI=2,ZI=3,rj=4,sj=5,zU=7,$I=8,GU=9,ud=10,eC=11,VU=12,tC=13,aj=14,o1=15,nC=16,bw=17,W0=18,oj=19,jU=20,iC=21,q0=22,TS=23,em=24,ru=25,A1=26,l1=27,tm=28,Aj=29,wp=30,lj=31,_w=32,Bw=33,rC=34,sC=35,aC=36,ev=37,oC=38,ix=39,rx=40,FS=41,eR=42,uj=43,cj=[9001,65288],tR="!",Ki="",Sw="",AC=$V(nj),th=[wp,aC],lC=[ij,JI,ZI,sj],nR=[ud,$I],KU=[l1,A1],fj=lC.concat(nR),WU=[oC,ix,rx,rC,sC],hj=[o1,tC],dj=function(i,e){e===void 0&&(e="strict");var t=[],n=[],r=[];return i.forEach(function(s,a){var A=AC.get(s);if(A>kU?(r.push(!0),A-=kU):r.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(a),t.push(nC);if(A===rj||A===eC){if(a===0)return n.push(a),t.push(wp);var l=t[a-1];return fj.indexOf(l)===-1?(n.push(n[a-1]),t.push(l)):(n.push(a),t.push(wp))}if(n.push(a),A===lj)return t.push(e==="strict"?iC:ev);if(A===eR||A===Aj)return t.push(wp);if(A===uj)return s>=131072&&s<=196605||s>=196608&&s<=262141?t.push(ev):t.push(wp);t.push(A)}),[n,t,r]},LS=function(i,e,t,n){var r=n[t];if(Array.isArray(i)?i.indexOf(r)!==-1:i===r)for(var s=t;s<=n.length;){s++;var a=n[s];if(a===e)return!0;if(a!==ud)break}if(r===ud)for(var s=t;s>0;){s--;var A=n[s];if(Array.isArray(i)?i.indexOf(A)!==-1:i===A)for(var l=t;l<=n.length;){l++;var a=n[l];if(a===e)return!0;if(a!==ud)break}if(A!==ud)break}return!1},qU=function(i,e){for(var t=i;t>=0;){var n=e[t];if(n===ud)t--;else return n}return 0},pj=function(i,e,t,n,r){if(t[n]===0)return Ki;var s=n-1;if(Array.isArray(r)&&r[s]===!0)return Ki;var a=s-1,A=s+1,l=e[s],c=a>=0?e[a]:0,h=e[A];if(l===JI&&h===ZI)return Ki;if(lC.indexOf(l)!==-1)return tR;if(lC.indexOf(h)!==-1||nR.indexOf(h)!==-1)return Ki;if(qU(s,e)===$I)return Sw;if(AC.get(i[s])===eC||(l===_w||l===Bw)&&AC.get(i[A])===eC||l===zU||h===zU||l===GU||[ud,tC,o1].indexOf(l)===-1&&h===GU||[bw,W0,oj,em,tm].indexOf(h)!==-1||qU(s,e)===q0||LS(TS,q0,s,e)||LS([bw,W0],iC,s,e)||LS(VU,VU,s,e))return Ki;if(l===ud)return Sw;if(l===TS||h===TS)return Ki;if(h===nC||l===nC)return Sw;if([tC,o1,iC].indexOf(h)!==-1||l===aj||c===aC&&hj.indexOf(l)!==-1||l===tm&&h===aC||h===jU||th.indexOf(h)!==-1&&l===ru||th.indexOf(l)!==-1&&h===ru||l===l1&&[ev,_w,Bw].indexOf(h)!==-1||[ev,_w,Bw].indexOf(l)!==-1&&h===A1||th.indexOf(l)!==-1&&KU.indexOf(h)!==-1||KU.indexOf(l)!==-1&&th.indexOf(h)!==-1||[l1,A1].indexOf(l)!==-1&&(h===ru||[q0,o1].indexOf(h)!==-1&&e[A+1]===ru)||[q0,o1].indexOf(l)!==-1&&h===ru||l===ru&&[ru,tm,em].indexOf(h)!==-1)return Ki;if([ru,tm,em,bw,W0].indexOf(h)!==-1)for(var g=s;g>=0;){var v=e[g];if(v===ru)return Ki;if([tm,em].indexOf(v)!==-1)g--;else break}if([l1,A1].indexOf(h)!==-1)for(var g=[bw,W0].indexOf(l)!==-1?a:s;g>=0;){var v=e[g];if(v===ru)return Ki;if([tm,em].indexOf(v)!==-1)g--;else break}if(oC===l&&[oC,ix,rC,sC].indexOf(h)!==-1||[ix,rC].indexOf(l)!==-1&&[ix,rx].indexOf(h)!==-1||[rx,sC].indexOf(l)!==-1&&h===rx||WU.indexOf(l)!==-1&&[jU,A1].indexOf(h)!==-1||WU.indexOf(h)!==-1&&l===l1||th.indexOf(l)!==-1&&th.indexOf(h)!==-1||l===em&&th.indexOf(h)!==-1||th.concat(ru).indexOf(l)!==-1&&h===q0&&cj.indexOf(i[A])===-1||th.concat(ru).indexOf(h)!==-1&&l===W0)return Ki;if(l===FS&&h===FS){for(var m=t[s],x=1;m>0&&(m--,e[m]===FS);)x++;if(x%2!==0)return Ki}return l===_w&&h===Bw?Ki:Sw},gj=function(i,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=dj(i,e.lineBreak),n=t[0],r=t[1],s=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(r=r.map(function(A){return[ru,wp,eR].indexOf(A)!==-1?ev:A}));var a=e.wordBreak==="keep-all"?s.map(function(A,l){return A&&i[l]>=19968&&i[l]<=40959}):void 0;return[n,r,a]},mj=(function(){function i(e,t,n,r){this.codePoints=e,this.required=t===tR,this.start=n,this.end=r}return i.prototype.slice=function(){return Ca.apply(void 0,this.codePoints.slice(this.start,this.end))},i})(),vj=function(i,e){var t=x_(i),n=gj(t,e),r=n[0],s=n[1],a=n[2],A=t.length,l=0,c=0;return{next:function(){if(c>=A)return{done:!0,value:null};for(var h=Ki;c<A&&(h=pj(t,s,r,++c,a))===Ki;);if(h!==Ki||c===A){var g=new mj(t,h,l,c);return l=c,{value:g,done:!1}}return{done:!0,value:null}}}},yj=1,wj=2,Bv=4,XU=8,cb=10,YU=47,C1=92,xj=9,bj=32,Cw=34,X0=61,_j=35,Bj=36,Sj=37,Ew=39,Mw=40,Y0=41,Cj=95,Sl=45,Ej=33,Mj=60,Uj=62,Tj=64,Fj=91,Lj=93,Ij=61,Rj=123,Uw=63,Nj=125,JU=124,Dj=126,Oj=128,ZU=65533,IS=42,Mp=43,Pj=44,Qj=58,Hj=59,tv=46,kj=0,zj=8,Gj=11,Vj=14,jj=31,Kj=127,uf=-1,iR=48,rR=97,sR=101,Wj=102,qj=117,Xj=122,aR=65,oR=69,AR=70,Yj=85,Jj=90,vA=function(i){return i>=iR&&i<=57},Zj=function(i){return i>=55296&&i<=57343},nm=function(i){return vA(i)||i>=aR&&i<=AR||i>=rR&&i<=Wj},$j=function(i){return i>=rR&&i<=Xj},eK=function(i){return i>=aR&&i<=Jj},tK=function(i){return $j(i)||eK(i)},nK=function(i){return i>=Oj},Tw=function(i){return i===cb||i===xj||i===bj},fb=function(i){return tK(i)||nK(i)||i===Cj},$U=function(i){return fb(i)||vA(i)||i===Sl},iK=function(i){return i>=kj&&i<=zj||i===Gj||i>=Vj&&i<=jj||i===Kj},ad=function(i,e){return i!==C1?!1:e!==cb},Fw=function(i,e,t){return i===Sl?fb(e)||ad(e,t):fb(i)?!0:!!(i===C1&&ad(i,e))},RS=function(i,e,t){return i===Mp||i===Sl?vA(e)?!0:e===tv&&vA(t):vA(i===tv?e:i)},rK=function(i){var e=0,t=1;(i[e]===Mp||i[e]===Sl)&&(i[e]===Sl&&(t=-1),e++);for(var n=[];vA(i[e]);)n.push(i[e++]);var r=n.length?parseInt(Ca.apply(void 0,n),10):0;i[e]===tv&&e++;for(var s=[];vA(i[e]);)s.push(i[e++]);var a=s.length,A=a?parseInt(Ca.apply(void 0,s),10):0;(i[e]===oR||i[e]===sR)&&e++;var l=1;(i[e]===Mp||i[e]===Sl)&&(i[e]===Sl&&(l=-1),e++);for(var c=[];vA(i[e]);)c.push(i[e++]);var h=c.length?parseInt(Ca.apply(void 0,c),10):0;return t*(r+A*Math.pow(10,-a))*Math.pow(10,l*h)},sK={type:2},aK={type:3},oK={type:4},AK={type:13},lK={type:8},uK={type:21},cK={type:9},fK={type:10},hK={type:11},dK={type:12},pK={type:14},Lw={type:23},gK={type:1},mK={type:25},vK={type:24},yK={type:26},wK={type:27},xK={type:28},bK={type:29},_K={type:31},uC={type:32},lR=(function(){function i(){this._value=[]}return i.prototype.write=function(e){this._value=this._value.concat(x_(e))},i.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==uC;)e.push(t),t=this.consumeToken();return e},i.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Cw:return this.consumeStringToken(Cw);case _j:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if($U(t)||ad(n,r)){var s=Fw(t,n,r)?wj:yj,a=this.consumeName();return{type:5,value:a,flags:s}}break;case Bj:if(this.peekCodePoint(0)===X0)return this.consumeCodePoint(),AK;break;case Ew:return this.consumeStringToken(Ew);case Mw:return sK;case Y0:return aK;case IS:if(this.peekCodePoint(0)===X0)return this.consumeCodePoint(),pK;break;case Mp:if(RS(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Pj:return oK;case Sl:var A=e,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(RS(A,l,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Fw(A,l,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===Sl&&c===Uj)return this.consumeCodePoint(),this.consumeCodePoint(),vK;break;case tv:if(RS(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case YU:if(this.peekCodePoint(0)===IS)for(this.consumeCodePoint();;){var h=this.consumeCodePoint();if(h===IS&&(h=this.consumeCodePoint(),h===YU))return this.consumeToken();if(h===uf)return this.consumeToken()}break;case Qj:return yK;case Hj:return wK;case Mj:if(this.peekCodePoint(0)===Ej&&this.peekCodePoint(1)===Sl&&this.peekCodePoint(2)===Sl)return this.consumeCodePoint(),this.consumeCodePoint(),mK;break;case Tj:var g=this.peekCodePoint(0),v=this.peekCodePoint(1),m=this.peekCodePoint(2);if(Fw(g,v,m)){var a=this.consumeName();return{type:7,value:a}}break;case Fj:return xK;case C1:if(ad(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case Lj:return bK;case Ij:if(this.peekCodePoint(0)===X0)return this.consumeCodePoint(),lK;break;case Rj:return hK;case Nj:return dK;case qj:case Yj:var x=this.peekCodePoint(0),B=this.peekCodePoint(1);return x===Mp&&(nm(B)||B===Uw)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case JU:if(this.peekCodePoint(0)===X0)return this.consumeCodePoint(),cK;if(this.peekCodePoint(0)===JU)return this.consumeCodePoint(),uK;break;case Dj:if(this.peekCodePoint(0)===X0)return this.consumeCodePoint(),fK;break;case uf:return uC}return Tw(e)?(this.consumeWhiteSpace(),_K):vA(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):fb(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Ca(e)}},i.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},i.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},i.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},i.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();nm(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===Uw&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n){var r=parseInt(Ca.apply(void 0,e.map(function(l){return l===Uw?iR:l})),16),s=parseInt(Ca.apply(void 0,e.map(function(l){return l===Uw?AR:l})),16);return{type:30,start:r,end:s}}var a=parseInt(Ca.apply(void 0,e),16);if(this.peekCodePoint(0)===Sl&&nm(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var A=[];nm(t)&&A.length<6;)A.push(t),t=this.consumeCodePoint();var s=parseInt(Ca.apply(void 0,A),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},i.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Mw?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Mw?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},i.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===uf)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===Ew||t===Cw){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===uf||this.peekCodePoint(0)===Y0)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Lw)}for(;;){var r=this.consumeCodePoint();if(r===uf||r===Y0)return{type:22,value:Ca.apply(void 0,e)};if(Tw(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===uf||this.peekCodePoint(0)===Y0?(this.consumeCodePoint(),{type:22,value:Ca.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Lw);if(r===Cw||r===Ew||r===Mw||iK(r))return this.consumeBadUrlRemnants(),Lw;if(r===C1)if(ad(r,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Lw;else e.push(r)}},i.prototype.consumeWhiteSpace=function(){for(;Tw(this.peekCodePoint(0));)this.consumeCodePoint()},i.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Y0||e===uf)return;ad(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},i.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var r=Math.min(t,e);n+=Ca.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),n},i.prototype.consumeStringToken=function(e){var t="",n=0;do{var r=this._value[n];if(r===uf||r===void 0||r===e)return t+=this.consumeStringSlice(n),{type:0,value:t};if(r===cb)return this._value.splice(0,n),gK;if(r===C1){var s=this._value[n+1];s!==uf&&s!==void 0&&(s===cb?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):ad(r,s)&&(t+=this.consumeStringSlice(n),t+=Ca(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},i.prototype.consumeNumber=function(){var e=[],t=Bv,n=this.peekCodePoint(0);for((n===Mp||n===Sl)&&e.push(this.consumeCodePoint());vA(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(n===tv&&vA(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=XU;vA(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===oR||n===sR)&&((r===Mp||r===Sl)&&vA(s)||vA(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=XU;vA(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[rK(e),t]},i.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],r=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(Fw(r,s,a)){var A=this.consumeName();return{type:15,number:t,flags:n,unit:A}}return r===Sj?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},i.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(nm(e)){for(var t=Ca(e);nm(this.peekCodePoint(0))&&t.length<6;)t+=Ca(this.consumeCodePoint());Tw(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return n===0||Zj(n)||n>1114111?ZU:n}return e===uf?ZU:e},i.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if($U(t))e+=Ca(t);else if(ad(t,this.peekCodePoint(0)))e+=Ca(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},i})(),uR=(function(){function i(e){this._tokens=e}return i.create=function(e){var t=new lR;return t.write(e),new i(t.read())},i.parseValue=function(e){return i.create(e).parseComponentValue()},i.parseValues=function(e){return i.create(e).parseComponentValues()},i.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},i.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},i.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},i.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||SK(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},i.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},i.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?uC:e},i.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},i})(),Sv=function(i){return i.type===15},Jm=function(i){return i.type===17},Gr=function(i){return i.type===20},BK=function(i){return i.type===0},cC=function(i,e){return Gr(i)&&i.value===e},cR=function(i){return i.type!==31},Gm=function(i){return i.type!==31&&i.type!==4},Sf=function(i){var e=[],t=[];return i.forEach(function(n){if(n.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}n.type!==31&&t.push(n)}),t.length&&e.push(t),e},SK=function(i,e){return e===11&&i.type===12||e===28&&i.type===29?!0:e===2&&i.type===3},_d=function(i){return i.type===17||i.type===15},Ga=function(i){return i.type===16||_d(i)},fR=function(i){return i.length>1?[i[0],i[1]]:[i[0]]},jo={type:17,number:0,flags:Bv},KE={type:16,number:50,flags:Bv},cd={type:16,number:100,flags:Bv},u1=function(i,e,t){var n=i[0],r=i[1];return[ls(n,e),ls(typeof r<"u"?r:n,t)]},ls=function(i,e){if(i.type===16)return i.number/100*e;if(Sv(i))switch(i.unit){case"rem":case"em":return 16*i.number;default:return i.number}return i.number},hR="deg",dR="grad",pR="rad",gR="turn",b_={name:"angle",parse:function(i,e){if(e.type===15)switch(e.unit){case hR:return Math.PI*e.number/180;case dR:return Math.PI/200*e.number;case pR:return e.number;case gR:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},mR=function(i){return i.type===15&&(i.unit===hR||i.unit===dR||i.unit===pR||i.unit===gR)},vR=function(i){var e=i.filter(Gr).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[jo,jo];case"to top":case"bottom":return Hu(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[jo,cd];case"to right":case"left":return Hu(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[cd,cd];case"to bottom":case"top":return Hu(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[cd,jo];case"to left":case"right":return Hu(270)}return 0},Hu=function(i){return Math.PI*i/180},gd={name:"color",parse:function(i,e){if(e.type===18){var t=CK[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(i,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),r=e.value.substring(1,2),s=e.value.substring(2,3);return fd(parseInt(n+n,16),parseInt(r+r,16),parseInt(s+s,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),r=e.value.substring(1,2),s=e.value.substring(2,3),a=e.value.substring(3,4);return fd(parseInt(n+n,16),parseInt(r+r,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),r=e.value.substring(2,4),s=e.value.substring(4,6);return fd(parseInt(n,16),parseInt(r,16),parseInt(s,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),r=e.value.substring(2,4),s=e.value.substring(4,6),a=e.value.substring(6,8);return fd(parseInt(n,16),parseInt(r,16),parseInt(s,16),parseInt(a,16)/255)}}if(e.type===20){var A=hh[e.value.toUpperCase()];if(typeof A<"u")return A}return hh.TRANSPARENT}},md=function(i){return(255&i)===0},yo=function(i){var e=255&i,t=255&i>>8,n=255&i>>16,r=255&i>>24;return e<255?"rgba("+r+","+n+","+t+","+e/255+")":"rgb("+r+","+n+","+t+")"},fd=function(i,e,t,n){return(i<<24|e<<16|t<<8|Math.round(n*255)<<0)>>>0},eT=function(i,e){if(i.type===17)return i.number;if(i.type===16){var t=e===3?1:255;return e===3?i.number/100*t:Math.round(i.number/100*t)}return 0},tT=function(i,e){var t=e.filter(Gm);if(t.length===3){var n=t.map(eT),r=n[0],s=n[1],a=n[2];return fd(r,s,a,1)}if(t.length===4){var A=t.map(eT),r=A[0],s=A[1],a=A[2],l=A[3];return fd(r,s,a,l)}return 0};function NS(i,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-i)*t*6+i:t<1/2?e:t<2/3?(e-i)*6*(2/3-t)+i:i}var nT=function(i,e){var t=e.filter(Gm),n=t[0],r=t[1],s=t[2],a=t[3],A=(n.type===17?Hu(n.number):b_.parse(i,n))/(Math.PI*2),l=Ga(r)?r.number/100:0,c=Ga(s)?s.number/100:0,h=typeof a<"u"&&Ga(a)?ls(a,1):1;if(l===0)return fd(c*255,c*255,c*255,1);var g=c<=.5?c*(l+1):c+l-c*l,v=c*2-g,m=NS(v,g,A+1/3),x=NS(v,g,A),B=NS(v,g,A-1/3);return fd(m*255,x*255,B*255,h)},CK={hsl:nT,hsla:nT,rgb:tT,rgba:tT},E1=function(i,e){return gd.parse(i,uR.create(e).parseComponentValue())},hh={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},EK={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(i,e){return e.map(function(t){if(Gr(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},MK={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},__=function(i,e){var t=gd.parse(i,e[0]),n=e[1];return n&&Ga(n)?{color:t,stop:n}:{color:t,stop:null}},iT=function(i,e){var t=i[0],n=i[i.length-1];t.stop===null&&(t.stop=jo),n.stop===null&&(n.stop=cd);for(var r=[],s=0,a=0;a<i.length;a++){var A=i[a].stop;if(A!==null){var l=ls(A,e);l>s?r.push(l):r.push(s),s=l}else r.push(null)}for(var c=null,a=0;a<r.length;a++){var h=r[a];if(h===null)c===null&&(c=a);else if(c!==null){for(var g=a-c,v=r[c-1],m=(h-v)/(g+1),x=1;x<=g;x++)r[c+x-1]=m*x;c=null}}return i.map(function(B,_){var b=B.color;return{color:b,stop:Math.max(Math.min(1,r[_]/e),0)}})},UK=function(i,e,t){var n=e/2,r=t/2,s=ls(i[0],e)-n,a=r-ls(i[1],t);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},TK=function(i,e,t){var n=typeof i=="number"?i:UK(i,e,t),r=Math.abs(e*Math.sin(n))+Math.abs(t*Math.cos(n)),s=e/2,a=t/2,A=r/2,l=Math.sin(n-Math.PI/2)*A,c=Math.cos(n-Math.PI/2)*A;return[r,s-c,s+c,a-l,a+l]},pc=function(i,e){return Math.sqrt(i*i+e*e)},rT=function(i,e,t,n,r){var s=[[0,0],[0,e],[i,0],[i,e]];return s.reduce(function(a,A){var l=A[0],c=A[1],h=pc(t-l,n-c);return(r?h<a.optimumDistance:h>a.optimumDistance)?{optimumCorner:A,optimumDistance:h}:a},{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},FK=function(i,e,t,n,r){var s=0,a=0;switch(i.size){case 0:i.shape===0?s=a=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-r)):i.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-n)),a=Math.min(Math.abs(t),Math.abs(t-r)));break;case 2:if(i.shape===0)s=a=Math.min(pc(e,t),pc(e,t-r),pc(e-n,t),pc(e-n,t-r));else if(i.shape===1){var A=Math.min(Math.abs(t),Math.abs(t-r))/Math.min(Math.abs(e),Math.abs(e-n)),l=rT(n,r,e,t,!0),c=l[0],h=l[1];s=pc(c-e,(h-t)/A),a=A*s}break;case 1:i.shape===0?s=a=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-r)):i.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-n)),a=Math.max(Math.abs(t),Math.abs(t-r)));break;case 3:if(i.shape===0)s=a=Math.max(pc(e,t),pc(e,t-r),pc(e-n,t),pc(e-n,t-r));else if(i.shape===1){var A=Math.max(Math.abs(t),Math.abs(t-r))/Math.max(Math.abs(e),Math.abs(e-n)),g=rT(n,r,e,t,!1),c=g[0],h=g[1];s=pc(c-e,(h-t)/A),a=A*s}break}return Array.isArray(i.size)&&(s=ls(i.size[0],n),a=i.size.length===2?ls(i.size[1],r):s),[s,a]},LK=function(i,e){var t=Hu(180),n=[];return Sf(e).forEach(function(r,s){if(s===0){var a=r[0];if(a.type===20&&a.value==="to"){t=vR(r);return}else if(mR(a)){t=b_.parse(i,a);return}}var A=__(i,r);n.push(A)}),{angle:t,stops:n,type:1}},Iw=function(i,e){var t=Hu(180),n=[];return Sf(e).forEach(function(r,s){if(s===0){var a=r[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){t=vR(r);return}else if(mR(a)){t=(b_.parse(i,a)+Hu(270))%Hu(360);return}}var A=__(i,r);n.push(A)}),{angle:t,stops:n,type:1}},IK=function(i,e){var t=Hu(180),n=[],r=1,s=0,a=3,A=[];return Sf(e).forEach(function(l,c){var h=l[0];if(c===0){if(Gr(h)&&h.value==="linear"){r=1;return}else if(Gr(h)&&h.value==="radial"){r=2;return}}if(h.type===18){if(h.name==="from"){var g=gd.parse(i,h.values[0]);n.push({stop:jo,color:g})}else if(h.name==="to"){var g=gd.parse(i,h.values[0]);n.push({stop:cd,color:g})}else if(h.name==="color-stop"){var v=h.values.filter(Gm);if(v.length===2){var g=gd.parse(i,v[1]),m=v[0];Jm(m)&&n.push({stop:{type:16,number:m.number*100,flags:m.flags},color:g})}}}}),r===1?{angle:(t+Hu(180))%Hu(360),stops:n,type:r}:{size:a,shape:s,stops:n,position:A,type:r}},yR="closest-side",wR="farthest-side",xR="closest-corner",bR="farthest-corner",_R="circle",BR="ellipse",SR="cover",CR="contain",RK=function(i,e){var t=0,n=3,r=[],s=[];return Sf(e).forEach(function(a,A){var l=!0;if(A===0){var c=!1;l=a.reduce(function(g,v){if(c)if(Gr(v))switch(v.value){case"center":return s.push(KE),g;case"top":case"left":return s.push(jo),g;case"right":case"bottom":return s.push(cd),g}else(Ga(v)||_d(v))&&s.push(v);else if(Gr(v))switch(v.value){case _R:return t=0,!1;case BR:return t=1,!1;case"at":return c=!0,!1;case yR:return n=0,!1;case SR:case wR:return n=1,!1;case CR:case xR:return n=2,!1;case bR:return n=3,!1}else if(_d(v)||Ga(v))return Array.isArray(n)||(n=[]),n.push(v),!1;return g},l)}if(l){var h=__(i,a);r.push(h)}}),{size:n,shape:t,stops:r,position:s,type:2}},Rw=function(i,e){var t=0,n=3,r=[],s=[];return Sf(e).forEach(function(a,A){var l=!0;if(A===0?l=a.reduce(function(h,g){if(Gr(g))switch(g.value){case"center":return s.push(KE),!1;case"top":case"left":return s.push(jo),!1;case"right":case"bottom":return s.push(cd),!1}else if(Ga(g)||_d(g))return s.push(g),!1;return h},l):A===1&&(l=a.reduce(function(h,g){if(Gr(g))switch(g.value){case _R:return t=0,!1;case BR:return t=1,!1;case CR:case yR:return n=0,!1;case wR:return n=1,!1;case xR:return n=2,!1;case SR:case bR:return n=3,!1}else if(_d(g)||Ga(g))return Array.isArray(n)||(n=[]),n.push(g),!1;return h},l)),l){var c=__(i,a);r.push(c)}}),{size:n,shape:t,stops:r,position:s,type:2}},NK=function(i){return i.type===1},DK=function(i){return i.type===2},WE={name:"image",parse:function(i,e){if(e.type===22){var t={url:e.value,type:0};return i.cache.addImage(e.value),t}if(e.type===18){var n=ER[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(i,e.values)}throw new Error("Unsupported image type "+e.type)}};function OK(i){return!(i.type===20&&i.value==="none")&&(i.type!==18||!!ER[i.name])}var ER={"linear-gradient":LK,"-moz-linear-gradient":Iw,"-ms-linear-gradient":Iw,"-o-linear-gradient":Iw,"-webkit-linear-gradient":Iw,"radial-gradient":RK,"-moz-radial-gradient":Rw,"-ms-radial-gradient":Rw,"-o-radial-gradient":Rw,"-webkit-radial-gradient":Rw,"-webkit-gradient":IK},PK={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(i,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(n){return Gm(n)&&OK(n)}).map(function(n){return WE.parse(i,n)})}},QK={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(i,e){return e.map(function(t){if(Gr(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},HK={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(i,e){return Sf(e).map(function(t){return t.filter(Ga)}).map(fR)}},kK={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(i,e){return Sf(e).map(function(t){return t.filter(Gr).map(function(n){return n.value}).join(" ")}).map(zK)}},zK=function(i){switch(i){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},_m;(function(i){i.AUTO="auto",i.CONTAIN="contain",i.COVER="cover"})(_m||(_m={}));var GK={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(i,e){return Sf(e).map(function(t){return t.filter(VK)})}},VK=function(i){return Gr(i)||Ga(i)},B_=function(i){return{name:"border-"+i+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},jK=B_("top"),KK=B_("right"),WK=B_("bottom"),qK=B_("left"),S_=function(i){return{name:"border-radius-"+i,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return fR(t.filter(Ga))}}},XK=S_("top-left"),YK=S_("top-right"),JK=S_("bottom-right"),ZK=S_("bottom-left"),C_=function(i){return{name:"border-"+i+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},$K=C_("top"),eW=C_("right"),tW=C_("bottom"),nW=C_("left"),E_=function(i){return{name:"border-"+i+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Sv(t)?t.number:0}}},iW=E_("top"),rW=E_("right"),sW=E_("bottom"),aW=E_("left"),oW={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},AW={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(i,e){return e==="rtl"?1:0}},lW={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(i,e){return e.filter(Gr).reduce(function(t,n){return t|uW(n.value)},0)}},uW=function(i){switch(i){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},cW={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(i,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},fW={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(i,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},hb;(function(i){i.NORMAL="normal",i.STRICT="strict"})(hb||(hb={}));var hW={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(i,e){return e==="strict"?hb.STRICT:hb.NORMAL}},dW={name:"line-height",initialValue:"normal",prefix:!1,type:4},sT=function(i,e){return Gr(i)&&i.value==="normal"?1.2*e:i.type===17?e*i.number:Ga(i)?ls(i,e):e},pW={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(i,e){return e.type===20&&e.value==="none"?null:WE.parse(i,e)}},gW={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(i,e){return e==="inside"?0:1}},fC={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(i,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},M_=function(i){return{name:"margin-"+i,initialValue:"0",prefix:!1,type:4}},mW=M_("top"),vW=M_("right"),yW=M_("bottom"),wW=M_("left"),xW={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(i,e){return e.filter(Gr).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},bW={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(i,e){return e==="break-word"?"break-word":"normal"}},U_=function(i){return{name:"padding-"+i,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},_W=U_("top"),BW=U_("right"),SW=U_("bottom"),CW=U_("left"),EW={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(i,e){switch(e){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},MW={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(i,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},UW={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(i,e){return e.length===1&&cC(e[0],"none")?[]:Sf(e).map(function(t){for(var n={color:hh.TRANSPARENT,offsetX:jo,offsetY:jo,blur:jo},r=0,s=0;s<t.length;s++){var a=t[s];_d(a)?(r===0?n.offsetX=a:r===1?n.offsetY=a:n.blur=a,r++):n.color=gd.parse(i,a)}return n})}},TW={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(i,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},FW={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(i,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=RW[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},LW=function(i){var e=i.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},IW=function(i){var e=i.filter(function(l){return l.type===17}).map(function(l){return l.number}),t=e[0],n=e[1];e[2],e[3];var r=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],A=e[13];return e[14],e[15],e.length===16?[t,n,r,s,a,A]:null},RW={matrix:LW,matrix3d:IW},aT={type:16,number:50,flags:Bv},NW=[aT,aT],DW={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(i,e){var t=e.filter(Ga);return t.length!==2?NW:[t[0],t[1]]}},OW={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(i,e){switch(e){case"hidden":return 1;case"collapse":return 2;default:return 0}}},M1;(function(i){i.NORMAL="normal",i.BREAK_ALL="break-all",i.KEEP_ALL="keep-all"})(M1||(M1={}));var PW={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(i,e){switch(e){case"break-all":return M1.BREAK_ALL;case"keep-all":return M1.KEEP_ALL;default:return M1.NORMAL}}},QW={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(i,e){if(e.type===20)return{auto:!0,order:0};if(Jm(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},MR={name:"time",parse:function(i,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},HW={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(i,e){return Jm(e)?e.number:1}},kW={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},zW={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(i,e){return e.filter(Gr).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},GW={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(i,e){var t=[],n=[];return e.forEach(function(r){switch(r.type){case 20:case 0:t.push(r.value);break;case 17:t.push(r.number.toString());break;case 4:n.push(t.join(" ")),t.length=0;break}}),t.length&&n.push(t.join(" ")),n.map(function(r){return r.indexOf(" ")===-1?r:"'"+r+"'"})}},VW={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},jW={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(i,e){return Jm(e)?e.number:Gr(e)&&e.value==="bold"?700:400}},KW={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(i,e){return e.filter(Gr).map(function(t){return t.value})}},WW={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(i,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},eo=function(i,e){return(i&e)!==0},qW={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(i,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},XW={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(i,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var n=[],r=e.filter(cR),s=0;s<r.length;s++){var a=r[s],A=r[s+1];if(a.type===20){var l=A&&Jm(A)?A.number:1;n.push({counter:a.value,increment:l})}}return n}},YW={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(i,e){if(e.length===0)return[];for(var t=[],n=e.filter(cR),r=0;r<n.length;r++){var s=n[r],a=n[r+1];if(Gr(s)&&s.value!=="none"){var A=a&&Jm(a)?a.number:0;t.push({counter:s.value,reset:A})}}return t}},JW={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(i,e){return e.filter(Sv).map(function(t){return MR.parse(i,t)})}},ZW={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(i,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var n=[],r=e.filter(BK);if(r.length%2!==0)return null;for(var s=0;s<r.length;s+=2){var a=r[s].value,A=r[s+1].value;n.push({open:a,close:A})}return n}},oT=function(i,e,t){if(!i)return"";var n=i[Math.min(e,i.length-1)];return n?t?n.open:n.close:""},$W={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(i,e){return e.length===1&&cC(e[0],"none")?[]:Sf(e).map(function(t){for(var n={color:255,offsetX:jo,offsetY:jo,blur:jo,spread:jo,inset:!1},r=0,s=0;s<t.length;s++){var a=t[s];cC(a,"inset")?n.inset=!0:_d(a)?(r===0?n.offsetX=a:r===1?n.offsetY=a:r===2?n.blur=a:n.spread=a,r++):n.color=gd.parse(i,a)}return n})}},eq={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(i,e){var t=[0,1,2],n=[];return e.filter(Gr).forEach(function(r){switch(r.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),t.forEach(function(r){n.indexOf(r)===-1&&n.push(r)}),n}},tq={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},nq={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(i,e){return Sv(e)?e.number:0}},iq=(function(){function i(e,t){var n,r;this.animationDuration=mn(e,JW,t.animationDuration),this.backgroundClip=mn(e,EK,t.backgroundClip),this.backgroundColor=mn(e,MK,t.backgroundColor),this.backgroundImage=mn(e,PK,t.backgroundImage),this.backgroundOrigin=mn(e,QK,t.backgroundOrigin),this.backgroundPosition=mn(e,HK,t.backgroundPosition),this.backgroundRepeat=mn(e,kK,t.backgroundRepeat),this.backgroundSize=mn(e,GK,t.backgroundSize),this.borderTopColor=mn(e,jK,t.borderTopColor),this.borderRightColor=mn(e,KK,t.borderRightColor),this.borderBottomColor=mn(e,WK,t.borderBottomColor),this.borderLeftColor=mn(e,qK,t.borderLeftColor),this.borderTopLeftRadius=mn(e,XK,t.borderTopLeftRadius),this.borderTopRightRadius=mn(e,YK,t.borderTopRightRadius),this.borderBottomRightRadius=mn(e,JK,t.borderBottomRightRadius),this.borderBottomLeftRadius=mn(e,ZK,t.borderBottomLeftRadius),this.borderTopStyle=mn(e,$K,t.borderTopStyle),this.borderRightStyle=mn(e,eW,t.borderRightStyle),this.borderBottomStyle=mn(e,tW,t.borderBottomStyle),this.borderLeftStyle=mn(e,nW,t.borderLeftStyle),this.borderTopWidth=mn(e,iW,t.borderTopWidth),this.borderRightWidth=mn(e,rW,t.borderRightWidth),this.borderBottomWidth=mn(e,sW,t.borderBottomWidth),this.borderLeftWidth=mn(e,aW,t.borderLeftWidth),this.boxShadow=mn(e,$W,t.boxShadow),this.color=mn(e,oW,t.color),this.direction=mn(e,AW,t.direction),this.display=mn(e,lW,t.display),this.float=mn(e,cW,t.cssFloat),this.fontFamily=mn(e,GW,t.fontFamily),this.fontSize=mn(e,VW,t.fontSize),this.fontStyle=mn(e,WW,t.fontStyle),this.fontVariant=mn(e,KW,t.fontVariant),this.fontWeight=mn(e,jW,t.fontWeight),this.letterSpacing=mn(e,fW,t.letterSpacing),this.lineBreak=mn(e,hW,t.lineBreak),this.lineHeight=mn(e,dW,t.lineHeight),this.listStyleImage=mn(e,pW,t.listStyleImage),this.listStylePosition=mn(e,gW,t.listStylePosition),this.listStyleType=mn(e,fC,t.listStyleType),this.marginTop=mn(e,mW,t.marginTop),this.marginRight=mn(e,vW,t.marginRight),this.marginBottom=mn(e,yW,t.marginBottom),this.marginLeft=mn(e,wW,t.marginLeft),this.opacity=mn(e,HW,t.opacity);var s=mn(e,xW,t.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=mn(e,bW,t.overflowWrap),this.paddingTop=mn(e,_W,t.paddingTop),this.paddingRight=mn(e,BW,t.paddingRight),this.paddingBottom=mn(e,SW,t.paddingBottom),this.paddingLeft=mn(e,CW,t.paddingLeft),this.paintOrder=mn(e,eq,t.paintOrder),this.position=mn(e,MW,t.position),this.textAlign=mn(e,EW,t.textAlign),this.textDecorationColor=mn(e,kW,(n=t.textDecorationColor)!==null&&n!==void 0?n:t.color),this.textDecorationLine=mn(e,zW,(r=t.textDecorationLine)!==null&&r!==void 0?r:t.textDecoration),this.textShadow=mn(e,UW,t.textShadow),this.textTransform=mn(e,TW,t.textTransform),this.transform=mn(e,FW,t.transform),this.transformOrigin=mn(e,DW,t.transformOrigin),this.visibility=mn(e,OW,t.visibility),this.webkitTextStrokeColor=mn(e,tq,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=mn(e,nq,t.webkitTextStrokeWidth),this.wordBreak=mn(e,PW,t.wordBreak),this.zIndex=mn(e,QW,t.zIndex)}return i.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},i.prototype.isTransparent=function(){return md(this.backgroundColor)},i.prototype.isTransformed=function(){return this.transform!==null},i.prototype.isPositioned=function(){return this.position!==0},i.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},i.prototype.isFloating=function(){return this.float!==0},i.prototype.isInlineLevel=function(){return eo(this.display,4)||eo(this.display,33554432)||eo(this.display,268435456)||eo(this.display,536870912)||eo(this.display,67108864)||eo(this.display,134217728)},i})(),rq=(function(){function i(e,t){this.content=mn(e,qW,t.content),this.quotes=mn(e,ZW,t.quotes)}return i})(),AT=(function(){function i(e,t){this.counterIncrement=mn(e,XW,t.counterIncrement),this.counterReset=mn(e,YW,t.counterReset)}return i})(),mn=function(i,e,t){var n=new lR,r=t!==null&&typeof t<"u"?t.toString():e.initialValue;n.write(r);var s=new uR(n.read());switch(e.type){case 2:var a=s.parseComponentValue();return e.parse(i,Gr(a)?a.value:e.initialValue);case 0:return e.parse(i,s.parseComponentValue());case 1:return e.parse(i,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return b_.parse(i,s.parseComponentValue());case"color":return gd.parse(i,s.parseComponentValue());case"image":return WE.parse(i,s.parseComponentValue());case"length":var A=s.parseComponentValue();return _d(A)?A:jo;case"length-percentage":var l=s.parseComponentValue();return Ga(l)?l:jo;case"time":return MR.parse(i,s.parseComponentValue())}break}},sq="data-html2canvas-debug",aq=function(i){var e=i.getAttribute(sq);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},hC=function(i,e){var t=aq(i);return t===1||e===t},Cf=(function(){function i(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,hC(t,3))debugger;this.styles=new iq(e,window.getComputedStyle(t,null)),gC(t)&&(this.styles.animationDuration.some(function(n){return n>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=w_(this.context,t),hC(t,4)&&(this.flags|=16)}return i})(),oq="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",lT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Nw=0;Nw<lT.length;Nw++)c1[lT.charCodeAt(Nw)]=Nw;var Aq=function(i){var e=i.length*.75,t=i.length,n,r=0,s,a,A,l;i[i.length-1]==="="&&(e--,i[i.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),h=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<t;n+=4)s=c1[i.charCodeAt(n)],a=c1[i.charCodeAt(n+1)],A=c1[i.charCodeAt(n+2)],l=c1[i.charCodeAt(n+3)],h[r++]=s<<2|a>>4,h[r++]=(a&15)<<4|A>>2,h[r++]=(A&3)<<6|l&63;return c},lq=function(i){for(var e=i.length,t=[],n=0;n<e;n+=2)t.push(i[n+1]<<8|i[n]);return t},uq=function(i){for(var e=i.length,t=[],n=0;n<e;n+=4)t.push(i[n+3]<<24|i[n+2]<<16|i[n+1]<<8|i[n]);return t},Dp=5,qE=11,DS=2,cq=qE-Dp,UR=65536>>Dp,fq=1<<Dp,OS=fq-1,hq=1024>>Dp,dq=UR+hq,pq=dq,gq=32,mq=pq+gq,vq=65536>>qE,yq=1<<cq,wq=yq-1,uT=function(i,e,t){return i.slice?i.slice(e,t):new Uint16Array(Array.prototype.slice.call(i,e,t))},xq=function(i,e,t){return i.slice?i.slice(e,t):new Uint32Array(Array.prototype.slice.call(i,e,t))},bq=function(i,e){var t=Aq(i),n=Array.isArray(t)?uq(t):new Uint32Array(t),r=Array.isArray(t)?lq(t):new Uint16Array(t),s=24,a=uT(r,s/2,n[4]/2),A=n[5]===2?uT(r,(s+n[4])/2):xq(n,Math.ceil((s+n[4])/4));return new _q(n[0],n[1],n[2],n[3],a,A)},_q=(function(){function i(e,t,n,r,s,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=s,this.data=a}return i.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>Dp],t=(t<<DS)+(e&OS),this.data[t];if(e<=65535)return t=this.index[UR+(e-55296>>Dp)],t=(t<<DS)+(e&OS),this.data[t];if(e<this.highStart)return t=mq-vq+(e>>qE),t=this.index[t],t+=e>>Dp&wq,t=this.index[t],t=(t<<DS)+(e&OS),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},i})(),cT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Bq=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Dw=0;Dw<cT.length;Dw++)Bq[cT.charCodeAt(Dw)]=Dw;var Sq=1,PS=2,QS=3,fT=4,hT=5,Cq=7,dT=8,HS=9,kS=10,pT=11,gT=12,mT=13,vT=14,zS=15,Eq=function(i){for(var e=[],t=0,n=i.length;t<n;){var r=i.charCodeAt(t++);if(r>=55296&&r<=56319&&t<n){var s=i.charCodeAt(t++);(s&64512)===56320?e.push(((r&1023)<<10)+(s&1023)+65536):(e.push(r),t--)}else e.push(r)}return e},Mq=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,i);var t=i.length;if(!t)return"";for(var n=[],r=-1,s="";++r<t;){var a=i[r];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(r+1===t||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},Uq=bq(oq),Nu="",GS="",Tq=function(i){return Uq.get(i)},Fq=function(i,e,t){var n=t-2,r=e[n],s=e[t-1],a=e[t];if(s===PS&&a===QS)return Nu;if(s===PS||s===QS||s===fT||a===PS||a===QS||a===fT)return GS;if(s===dT&&[dT,HS,pT,gT].indexOf(a)!==-1||(s===pT||s===HS)&&(a===HS||a===kS)||(s===gT||s===kS)&&a===kS||a===mT||a===hT||a===Cq||s===Sq)return Nu;if(s===mT&&a===vT){for(;r===hT;)r=e[--n];if(r===vT)return Nu}if(s===zS&&a===zS){for(var A=0;r===zS;)A++,r=e[--n];if(A%2===0)return Nu}return GS},Lq=function(i){var e=Eq(i),t=e.length,n=0,r=0,s=e.map(Tq);return{next:function(){if(n>=t)return{done:!0,value:null};for(var a=Nu;n<t&&(a=Fq(e,s,++n))===Nu;);if(a!==Nu||n===t){var A=Mq.apply(null,e.slice(r,n));return r=n,{value:A,done:!1}}return{done:!0,value:null}}}},Iq=function(i){for(var e=Lq(i),t=[],n;!(n=e.next()).done;)n.value&&t.push(n.value.slice());return t},Rq=function(i){var e=123;if(i.createRange){var t=i.createRange();if(t.getBoundingClientRect){var n=i.createElement("boundtest");n.style.height=e+"px",n.style.display="block",i.body.appendChild(n),t.selectNode(n);var r=t.getBoundingClientRect(),s=Math.round(r.height);if(i.body.removeChild(n),s===e)return!0}}return!1},Nq=function(i){var e=i.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",i.body.appendChild(e);var t=i.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,r=x_(n.data).map(function(l){return Ca(l)}),s=0,a={},A=r.every(function(l,c){t.setStart(n,s),t.setEnd(n,s+l.length);var h=t.getBoundingClientRect();s+=l.length;var g=h.x>a.x||h.y>a.y;return a=h,c===0?!0:g});return i.body.removeChild(e),A},Dq=function(){return typeof new Image().crossOrigin<"u"},Oq=function(){return typeof new XMLHttpRequest().responseType=="string"},Pq=function(i){var e=new Image,t=i.createElement("canvas"),n=t.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},yT=function(i){return i[0]===0&&i[1]===255&&i[2]===0&&i[3]===255},Qq=function(i){var e=i.createElement("canvas"),t=100;e.width=t,e.height=t;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,t,t);var r=new Image,s=e.toDataURL();r.src=s;var a=dC(t,t,0,0,r);return n.fillStyle="red",n.fillRect(0,0,t,t),wT(a).then(function(A){n.drawImage(A,0,0);var l=n.getImageData(0,0,t,t).data;n.fillStyle="red",n.fillRect(0,0,t,t);var c=i.createElement("div");return c.style.backgroundImage="url("+s+")",c.style.height=t+"px",yT(l)?wT(dC(t,t,0,0,c)):Promise.reject(!1)}).then(function(A){return n.drawImage(A,0,0),yT(n.getImageData(0,0,t,t).data)}).catch(function(){return!1})},dC=function(i,e,t,n,r){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),A=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",i.toString()),a.setAttributeNS(null,"height",e.toString()),A.setAttributeNS(null,"width","100%"),A.setAttributeNS(null,"height","100%"),A.setAttributeNS(null,"x",t.toString()),A.setAttributeNS(null,"y",n.toString()),A.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(A),A.appendChild(r),a},wT=function(i){return new Promise(function(e,t){var n=new Image;n.onload=function(){return e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(i))})},zo={get SUPPORT_RANGE_BOUNDS(){var i=Rq(document);return Object.defineProperty(zo,"SUPPORT_RANGE_BOUNDS",{value:i}),i},get SUPPORT_WORD_BREAKING(){var i=zo.SUPPORT_RANGE_BOUNDS&&Nq(document);return Object.defineProperty(zo,"SUPPORT_WORD_BREAKING",{value:i}),i},get SUPPORT_SVG_DRAWING(){var i=Pq(document);return Object.defineProperty(zo,"SUPPORT_SVG_DRAWING",{value:i}),i},get SUPPORT_FOREIGNOBJECT_DRAWING(){var i=typeof Array.from=="function"&&typeof window.fetch=="function"?Qq(document):Promise.resolve(!1);return Object.defineProperty(zo,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:i}),i},get SUPPORT_CORS_IMAGES(){var i=Dq();return Object.defineProperty(zo,"SUPPORT_CORS_IMAGES",{value:i}),i},get SUPPORT_RESPONSE_TYPE(){var i=Oq();return Object.defineProperty(zo,"SUPPORT_RESPONSE_TYPE",{value:i}),i},get SUPPORT_CORS_XHR(){var i="withCredentials"in new XMLHttpRequest;return Object.defineProperty(zo,"SUPPORT_CORS_XHR",{value:i}),i},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var i=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(zo,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:i}),i}},U1=(function(){function i(e,t){this.text=e,this.bounds=t}return i})(),Hq=function(i,e,t,n){var r=Gq(e,t),s=[],a=0;return r.forEach(function(A){if(t.textDecorationLine.length||A.trim().length>0)if(zo.SUPPORT_RANGE_BOUNDS){var l=xT(n,a,A.length).getClientRects();if(l.length>1){var c=XE(A),h=0;c.forEach(function(v){s.push(new U1(v,gh.fromDOMRectList(i,xT(n,h+a,v.length).getClientRects()))),h+=v.length})}else s.push(new U1(A,gh.fromDOMRectList(i,l)))}else{var g=n.splitText(A.length);s.push(new U1(A,kq(i,n))),n=g}else zo.SUPPORT_RANGE_BOUNDS||(n=n.splitText(A.length));a+=A.length}),s},kq=function(i,e){var t=e.ownerDocument;if(t){var n=t.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var r=e.parentNode;if(r){r.replaceChild(n,e);var s=w_(i,n);return n.firstChild&&r.replaceChild(n.firstChild,n),s}}return gh.EMPTY},xT=function(i,e,t){var n=i.ownerDocument;if(!n)throw new Error("Node has no owner document");var r=n.createRange();return r.setStart(i,e),r.setEnd(i,e+t),r},XE=function(i){if(zo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(i)).map(function(t){return t.segment})}return Iq(i)},zq=function(i,e){if(zo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(i)).map(function(n){return n.segment})}return jq(i,e)},Gq=function(i,e){return e.letterSpacing!==0?XE(i):zq(i,e)},Vq=[32,160,4961,65792,65793,4153,4241],jq=function(i,e){for(var t=vj(i,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],r,s=function(){if(r.value){var a=r.value.slice(),A=x_(a),l="";A.forEach(function(c){Vq.indexOf(c)===-1?l+=Ca(c):(l.length&&n.push(l),n.push(Ca(c)),l="")}),l.length&&n.push(l)}};!(r=t.next()).done;)s();return n},Kq=(function(){function i(e,t,n){this.text=Wq(t.data,n.textTransform),this.textBounds=Hq(e,this.text,n,t)}return i})(),Wq=function(i,e){switch(e){case 1:return i.toLowerCase();case 3:return i.replace(qq,Xq);case 2:return i.toUpperCase();default:return i}},qq=/(^|\s|:|-|\(|\))([a-z])/g,Xq=function(i,e,t){return i.length>0?e+t.toUpperCase():i},TR=(function(i){Ec(e,i);function e(t,n){var r=i.call(this,t,n)||this;return r.src=n.currentSrc||n.src,r.intrinsicWidth=n.naturalWidth,r.intrinsicHeight=n.naturalHeight,r.context.cache.addImage(r.src),r}return e})(Cf),FR=(function(i){Ec(e,i);function e(t,n){var r=i.call(this,t,n)||this;return r.canvas=n,r.intrinsicWidth=n.width,r.intrinsicHeight=n.height,r}return e})(Cf),LR=(function(i){Ec(e,i);function e(t,n){var r=i.call(this,t,n)||this,s=new XMLSerializer,a=w_(t,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),r.intrinsicWidth=n.width.baseVal.value,r.intrinsicHeight=n.height.baseVal.value,r.context.cache.addImage(r.svg),r}return e})(Cf),IR=(function(i){Ec(e,i);function e(t,n){var r=i.call(this,t,n)||this;return r.value=n.value,r}return e})(Cf),pC=(function(i){Ec(e,i);function e(t,n){var r=i.call(this,t,n)||this;return r.start=n.start,r.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,r}return e})(Cf),Yq=[{type:15,flags:0,unit:"px",number:3}],Jq=[{type:16,flags:0,number:50}],Zq=function(i){return i.width>i.height?new gh(i.left+(i.width-i.height)/2,i.top,i.height,i.height):i.width<i.height?new gh(i.left,i.top+(i.height-i.width)/2,i.width,i.width):i},$q=function(i){var e=i.type===eX?new Array(i.value.length+1).join(""):i.value;return e.length===0?i.placeholder||"":e},db="checkbox",pb="radio",eX="password",bT=707406591,YE=(function(i){Ec(e,i);function e(t,n){var r=i.call(this,t,n)||this;switch(r.type=n.type.toLowerCase(),r.checked=n.checked,r.value=$q(n),(r.type===db||r.type===pb)&&(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=Zq(r.bounds)),r.type){case db:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=Yq;break;case pb:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=Jq;break}return r}return e})(Cf),RR=(function(i){Ec(e,i);function e(t,n){var r=i.call(this,t,n)||this,s=n.options[n.selectedIndex||0];return r.value=s&&s.text||"",r}return e})(Cf),NR=(function(i){Ec(e,i);function e(t,n){var r=i.call(this,t,n)||this;return r.value=n.value,r}return e})(Cf),DR=(function(i){Ec(e,i);function e(t,n){var r=i.call(this,t,n)||this;r.src=n.src,r.width=parseInt(n.width,10)||0,r.height=parseInt(n.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){r.tree=PR(t,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?E1(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):hh.TRANSPARENT,a=n.contentWindow.document.body?E1(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):hh.TRANSPARENT;r.backgroundColor=md(s)?md(a)?r.styles.backgroundColor:a:s}}catch{}return r}return e})(Cf),tX=["OL","UL","MENU"],sx=function(i,e,t,n){for(var r=e.firstChild,s=void 0;r;r=s)if(s=r.nextSibling,QR(r)&&r.data.trim().length>0)t.textNodes.push(new Kq(i,r,t.styles));else if(gm(r))if(GR(r)&&r.assignedNodes)r.assignedNodes().forEach(function(A){return sx(i,A,t,n)});else{var a=OR(i,r);a.styles.isVisible()&&(nX(r,a,n)?a.flags|=4:iX(a.styles)&&(a.flags|=2),tX.indexOf(r.tagName)!==-1&&(a.flags|=8),t.elements.push(a),r.slot,r.shadowRoot?sx(i,r.shadowRoot,a,n):!gb(r)&&!HR(r)&&!mb(r)&&sx(i,r,a,n))}},OR=function(i,e){return mC(e)?new TR(i,e):kR(e)?new FR(i,e):HR(e)?new LR(i,e):rX(e)?new IR(i,e):sX(e)?new pC(i,e):aX(e)?new YE(i,e):mb(e)?new RR(i,e):gb(e)?new NR(i,e):zR(e)?new DR(i,e):new Cf(i,e)},PR=function(i,e){var t=OR(i,e);return t.flags|=4,sx(i,e,t,t),t},nX=function(i,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||JE(i)&&t.styles.isTransparent()},iX=function(i){return i.isPositioned()||i.isFloating()},QR=function(i){return i.nodeType===Node.TEXT_NODE},gm=function(i){return i.nodeType===Node.ELEMENT_NODE},gC=function(i){return gm(i)&&typeof i.style<"u"&&!ax(i)},ax=function(i){return typeof i.className=="object"},rX=function(i){return i.tagName==="LI"},sX=function(i){return i.tagName==="OL"},aX=function(i){return i.tagName==="INPUT"},oX=function(i){return i.tagName==="HTML"},HR=function(i){return i.tagName==="svg"},JE=function(i){return i.tagName==="BODY"},kR=function(i){return i.tagName==="CANVAS"},_T=function(i){return i.tagName==="VIDEO"},mC=function(i){return i.tagName==="IMG"},zR=function(i){return i.tagName==="IFRAME"},BT=function(i){return i.tagName==="STYLE"},AX=function(i){return i.tagName==="SCRIPT"},gb=function(i){return i.tagName==="TEXTAREA"},mb=function(i){return i.tagName==="SELECT"},GR=function(i){return i.tagName==="SLOT"},ST=function(i){return i.tagName.indexOf("-")>0},lX=(function(){function i(){this.counters={}}return i.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},i.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},i.prototype.pop=function(e){var t=this;e.forEach(function(n){return t.counters[n].pop()})},i.prototype.parse=function(e){var t=this,n=e.counterIncrement,r=e.counterReset,s=!0;n!==null&&n.forEach(function(A){var l=t.counters[A.counter];l&&A.increment!==0&&(s=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=A.increment)});var a=[];return s&&r.forEach(function(A){var l=t.counters[A.counter];a.push(A.counter),l||(l=t.counters[A.counter]=[]),l.push(A.reset)}),a},i})(),CT={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},ET={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},uX={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},cX={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},im=function(i,e,t,n,r,s){return i<e||i>t?nv(i,r,s.length>0):n.integers.reduce(function(a,A,l){for(;i>=A;)i-=A,a+=n.values[l];return a},"")+s},VR=function(i,e,t,n){var r="";do t||i--,r=n(i)+r,i/=e;while(i*e>=e);return r},Sa=function(i,e,t,n,r){var s=t-e+1;return(i<0?"-":"")+(VR(Math.abs(i),s,n,function(a){return Ca(Math.floor(a%s)+e)})+r)},dp=function(i,e,t){t===void 0&&(t=". ");var n=e.length;return VR(Math.abs(i),n,!1,function(r){return e[Math.floor(r%n)]})+t},um=1,rd=2,sd=4,f1=8,nh=function(i,e,t,n,r,s){if(i<-9999||i>9999)return nv(i,4,r.length>0);var a=Math.abs(i),A=r;if(a===0)return e[0]+A;for(var l=0;a>0&&l<=4;l++){var c=a%10;c===0&&eo(s,um)&&A!==""?A=e[c]+A:c>1||c===1&&l===0||c===1&&l===1&&eo(s,rd)||c===1&&l===1&&eo(s,sd)&&i>100||c===1&&l>1&&eo(s,f1)?A=e[c]+(l>0?t[l-1]:"")+A:c===1&&l>0&&(A=t[l-1]+A),a=Math.floor(a/10)}return(i<0?n:"")+A},MT="",UT="",TT="",VS="",nv=function(i,e,t){var n=t?". ":"",r=t?"":"",s=t?", ":"",a=t?" ":"";switch(e){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var A=Sa(i,48,57,!0,n);return A.length<4?"0"+A:A;case 4:return dp(i,"",r);case 6:return im(i,1,3999,CT,3,n).toLowerCase();case 7:return im(i,1,3999,CT,3,n);case 8:return Sa(i,945,969,!1,n);case 9:return Sa(i,97,122,!1,n);case 10:return Sa(i,65,90,!1,n);case 11:return Sa(i,1632,1641,!0,n);case 12:case 49:return im(i,1,9999,ET,3,n);case 35:return im(i,1,9999,ET,3,n).toLowerCase();case 13:return Sa(i,2534,2543,!0,n);case 14:case 30:return Sa(i,6112,6121,!0,n);case 15:return dp(i,"",r);case 16:return dp(i,"",r);case 17:case 48:return nh(i,"",MT,"",r,rd|sd|f1);case 47:return nh(i,"",UT,"",r,um|rd|sd|f1);case 42:return nh(i,"",MT,"",r,rd|sd|f1);case 41:return nh(i,"",UT,"",r,um|rd|sd|f1);case 26:return nh(i,"","",TT,r,0);case 25:return nh(i,"","",TT,r,um|rd|sd);case 31:return nh(i,"","",VS,s,um|rd|sd);case 33:return nh(i,"","",VS,s,0);case 32:return nh(i,"","",VS,s,um|rd|sd);case 18:return Sa(i,2406,2415,!0,n);case 20:return im(i,1,19999,cX,3,n);case 21:return Sa(i,2790,2799,!0,n);case 22:return Sa(i,2662,2671,!0,n);case 22:return im(i,1,10999,uX,3,n);case 23:return dp(i,"");case 24:return dp(i,"");case 27:return Sa(i,3302,3311,!0,n);case 28:return dp(i,"",r);case 29:return dp(i,"",r);case 34:return Sa(i,3792,3801,!0,n);case 37:return Sa(i,6160,6169,!0,n);case 38:return Sa(i,4160,4169,!0,n);case 39:return Sa(i,2918,2927,!0,n);case 40:return Sa(i,1776,1785,!0,n);case 43:return Sa(i,3046,3055,!0,n);case 44:return Sa(i,3174,3183,!0,n);case 45:return Sa(i,3664,3673,!0,n);case 46:return Sa(i,3872,3881,!0,n);default:return Sa(i,48,57,!0,n)}},jR="data-html2canvas-ignore",FT=(function(){function i(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new lX,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return i.prototype.toIFrame=function(e,t){var n=this,r=fX(e,t);if(!r.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,A=r.contentWindow,l=A.document,c=pX(r).then(function(){return GA(n,void 0,void 0,function(){var h,g;return mA(this,function(v){switch(v.label){case 0:return this.scrolledElements.forEach(yX),A&&(A.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(A.scrollY!==t.top||A.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(A.scrollX-t.left,A.scrollY-t.top,0,0))),h=this.options.onclone,g=this.clonedReferenceElement,typeof g>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:v.sent(),v.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,dX(l)]:[3,4];case 3:v.sent(),v.label=4;case 4:return typeof h=="function"?[2,Promise.resolve().then(function(){return h(l,g)}).then(function(){return r})]:[2,r]}})})});return l.open(),l.write(mX(document.doctype)+"<html></html>"),vX(this.referenceElement.ownerDocument,s,a),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},i.prototype.createElementClone=function(e){if(hC(e,2))debugger;if(kR(e))return this.createCanvasClone(e);if(_T(e))return this.createVideoClone(e);if(BT(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return mC(t)&&(mC(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),ST(t)?this.createCustomElementClone(t):t},i.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return jS(e.style,t),t},i.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),r=e.cloneNode(!1);return r.textContent=n,r}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},i.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var s=e.getContext("2d"),a=r.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var A=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(A){var l=A.getContextAttributes();l?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return r}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},i.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var r=e.ownerDocument.createElement("canvas");return r.width=e.offsetWidth,r.height=e.offsetHeight,r},i.prototype.appendChildNode=function(e,t,n){(!gm(t)||!AX(t)&&!t.hasAttribute(jR)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!gm(t)||!BT(t))&&e.appendChild(this.cloneNode(t,n))},i.prototype.cloneChildNodes=function(e,t,n){for(var r=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(gm(s)&&GR(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(A){return r.appendChildNode(t,A,n)})}else this.appendChildNode(t,s,n)},i.prototype.cloneNode=function(e,t){if(QR(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&gm(e)&&(gC(e)||ax(e))){var r=this.createElementClone(e);r.style.transitionProperty="none";var s=n.getComputedStyle(e),a=n.getComputedStyle(e,":before"),A=n.getComputedStyle(e,":after");this.referenceElement===e&&gC(r)&&(this.clonedReferenceElement=r),JE(r)&&bX(r);var l=this.counters.parse(new AT(this.context,s)),c=this.resolvePseudoContent(e,r,a,T1.BEFORE);ST(e)&&(t=!0),_T(e)||this.cloneChildNodes(e,r,t),c&&r.insertBefore(c,r.firstChild);var h=this.resolvePseudoContent(e,r,A,T1.AFTER);return h&&r.appendChild(h),this.counters.pop(l),(s&&(this.options.copyStyles||ax(e))&&!zR(e)||t)&&jS(s,r),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(gb(e)||mb(e))&&(gb(r)||mb(r))&&(r.value=e.value),r}return e.cloneNode(!1)},i.prototype.resolvePseudoContent=function(e,t,n,r){var s=this;if(n){var a=n.content,A=t.ownerDocument;if(!(!A||!a||a==="none"||a==="-moz-alt-content"||n.display==="none")){this.counters.parse(new AT(this.context,n));var l=new rq(this.context,n),c=A.createElement("html2canvaspseudoelement");jS(n,c),l.content.forEach(function(g){if(g.type===0)c.appendChild(A.createTextNode(g.value));else if(g.type===22){var v=A.createElement("img");v.src=g.value,v.style.opacity="1",c.appendChild(v)}else if(g.type===18){if(g.name==="attr"){var m=g.values.filter(Gr);m.length&&c.appendChild(A.createTextNode(e.getAttribute(m[0].value)||""))}else if(g.name==="counter"){var x=g.values.filter(Gm),B=x[0],_=x[1];if(B&&Gr(B)){var b=s.counters.getCounterValue(B.value),M=_&&Gr(_)?fC.parse(s.context,_.value):3;c.appendChild(A.createTextNode(nv(b,M,!1)))}}else if(g.name==="counters"){var T=g.values.filter(Gm),B=T[0],U=T[1],_=T[2];if(B&&Gr(B)){var R=s.counters.getCounterValues(B.value),O=_&&Gr(_)?fC.parse(s.context,_.value):3,z=U&&U.type===0?U.value:"",V=R.map(function(k){return nv(k,O,!1)}).join(z);c.appendChild(A.createTextNode(V))}}}else if(g.type===20)switch(g.value){case"open-quote":c.appendChild(A.createTextNode(oT(l.quotes,s.quoteDepth++,!0)));break;case"close-quote":c.appendChild(A.createTextNode(oT(l.quotes,--s.quoteDepth,!1)));break;default:c.appendChild(A.createTextNode(g.value))}}),c.className=vC+" "+yC;var h=r===T1.BEFORE?" "+vC:" "+yC;return ax(t)?t.className.baseValue+=h:t.className+=h,c}}},i.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},i})(),T1;(function(i){i[i.BEFORE=0]="BEFORE",i[i.AFTER=1]="AFTER"})(T1||(T1={}));var fX=function(i,e){var t=i.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(jR,"true"),i.body.appendChild(t),t},hX=function(i){return new Promise(function(e){if(i.complete){e();return}if(!i.src){e();return}i.onload=e,i.onerror=e})},dX=function(i){return Promise.all([].slice.call(i.images,0).map(hX))},pX=function(i){return new Promise(function(e,t){var n=i.contentWindow;if(!n)return t("No window assigned for iframe");var r=n.document;n.onload=i.onload=function(){n.onload=i.onload=null;var s=setInterval(function(){r.body.childNodes.length>0&&r.readyState==="complete"&&(clearInterval(s),e(i))},50)}})},gX=["all","d","content"],jS=function(i,e){for(var t=i.length-1;t>=0;t--){var n=i.item(t);gX.indexOf(n)===-1&&e.style.setProperty(n,i.getPropertyValue(n))}return e},mX=function(i){var e="";return i&&(e+="<!DOCTYPE ",i.name&&(e+=i.name),i.internalSubset&&(e+=i.internalSubset),i.publicId&&(e+='"'+i.publicId+'"'),i.systemId&&(e+='"'+i.systemId+'"'),e+=">"),e},vX=function(i,e,t){i&&i.defaultView&&(e!==i.defaultView.pageXOffset||t!==i.defaultView.pageYOffset)&&i.defaultView.scrollTo(e,t)},yX=function(i){var e=i[0],t=i[1],n=i[2];e.scrollLeft=t,e.scrollTop=n},wX=":before",xX=":after",vC="___html2canvas___pseudoelement_before",yC="___html2canvas___pseudoelement_after",LT=`{
    content: "" !important;
    display: none !important;
}`,bX=function(i){_X(i,"."+vC+wX+LT+`
         .`+yC+xX+LT)},_X=function(i,e){var t=i.ownerDocument;if(t){var n=t.createElement("style");n.textContent=e,i.appendChild(n)}},KR=(function(){function i(){}return i.getOrigin=function(e){var t=i._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},i.isSameOrigin=function(e){return i.getOrigin(e)===i._origin},i.setContext=function(e){i._link=e.document.createElement("a"),i._origin=i.getOrigin(e.location.href)},i._origin="about:blank",i})(),BX=(function(){function i(e,t){this.context=e,this._options=t,this._cache={}}return i.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(WS(e)||MX(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},i.prototype.match=function(e){return this._cache[e]},i.prototype.loadImage=function(e){return GA(this,void 0,void 0,function(){var t,n,r,s,a=this;return mA(this,function(A){switch(A.label){case 0:return t=KR.isSameOrigin(e),n=!KS(e)&&this._options.useCORS===!0&&zo.SUPPORT_CORS_IMAGES&&!t,r=!KS(e)&&!t&&!WS(e)&&typeof this._options.proxy=="string"&&zo.SUPPORT_CORS_XHR&&!n,!t&&this._options.allowTaint===!1&&!KS(e)&&!WS(e)&&!r&&!n?[2]:(s=e,r?[4,this.proxy(s)]:[3,2]);case 1:s=A.sent(),A.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,c){var h=new Image;h.onload=function(){return l(h)},h.onerror=c,(UX(s)||n)&&(h.crossOrigin="anonymous"),h.src=s,h.complete===!0&&setTimeout(function(){return l(h)},500),a._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,A.sent()]}})})},i.prototype.has=function(e){return typeof this._cache[e]<"u"},i.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},i.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise(function(s,a){var A=zo.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(A==="text")s(l.response);else{var g=new FileReader;g.addEventListener("load",function(){return s(g.result)},!1),g.addEventListener("error",function(v){return a(v)},!1),g.readAsDataURL(l.response)}else a("Failed to proxy resource "+r+" with status code "+l.status)},l.onerror=a;var c=n.indexOf("?")>-1?"&":"?";if(l.open("GET",""+n+c+"url="+encodeURIComponent(e)+"&responseType="+A),A!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=A),t._options.imageTimeout){var h=t._options.imageTimeout;l.timeout=h,l.ontimeout=function(){return a("Timed out ("+h+"ms) proxying "+r)}}l.send()})},i})(),SX=/^data:image\/svg\+xml/i,CX=/^data:image\/.*;base64,/i,EX=/^data:image\/.*/i,MX=function(i){return zo.SUPPORT_SVG_DRAWING||!TX(i)},KS=function(i){return EX.test(i)},UX=function(i){return CX.test(i)},WS=function(i){return i.substr(0,4)==="blob"},TX=function(i){return i.substr(-3).toLowerCase()==="svg"||SX.test(i)},pn=(function(){function i(e,t){this.type=0,this.x=e,this.y=t}return i.prototype.add=function(e,t){return new i(this.x+e,this.y+t)},i})(),rm=function(i,e,t){return new pn(i.x+(e.x-i.x)*t,i.y+(e.y-i.y)*t)},Ow=(function(){function i(e,t,n,r){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=r}return i.prototype.subdivide=function(e,t){var n=rm(this.start,this.startControl,e),r=rm(this.startControl,this.endControl,e),s=rm(this.endControl,this.end,e),a=rm(n,r,e),A=rm(r,s,e),l=rm(a,A,e);return t?new i(this.start,n,a,l):new i(l,A,s,this.end)},i.prototype.add=function(e,t){return new i(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},i.prototype.reverse=function(){return new i(this.end,this.endControl,this.startControl,this.start)},i})(),Ou=function(i){return i.type===1},FX=(function(){function i(e){var t=e.styles,n=e.bounds,r=u1(t.borderTopLeftRadius,n.width,n.height),s=r[0],a=r[1],A=u1(t.borderTopRightRadius,n.width,n.height),l=A[0],c=A[1],h=u1(t.borderBottomRightRadius,n.width,n.height),g=h[0],v=h[1],m=u1(t.borderBottomLeftRadius,n.width,n.height),x=m[0],B=m[1],_=[];_.push((s+l)/n.width),_.push((x+g)/n.width),_.push((a+B)/n.height),_.push((c+v)/n.height);var b=Math.max.apply(Math,_);b>1&&(s/=b,a/=b,l/=b,c/=b,g/=b,v/=b,x/=b,B/=b);var M=n.width-l,T=n.height-v,U=n.width-g,R=n.height-B,O=t.borderTopWidth,z=t.borderRightWidth,V=t.borderBottomWidth,I=t.borderLeftWidth,P=ls(t.paddingTop,e.bounds.width),k=ls(t.paddingRight,e.bounds.width),G=ls(t.paddingBottom,e.bounds.width),q=ls(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?Is(n.left+I/3,n.top+O/3,s-I/3,a-O/3,Er.TOP_LEFT):new pn(n.left+I/3,n.top+O/3),this.topRightBorderDoubleOuterBox=s>0||a>0?Is(n.left+M,n.top+O/3,l-z/3,c-O/3,Er.TOP_RIGHT):new pn(n.left+n.width-z/3,n.top+O/3),this.bottomRightBorderDoubleOuterBox=g>0||v>0?Is(n.left+U,n.top+T,g-z/3,v-V/3,Er.BOTTOM_RIGHT):new pn(n.left+n.width-z/3,n.top+n.height-V/3),this.bottomLeftBorderDoubleOuterBox=x>0||B>0?Is(n.left+I/3,n.top+R,x-I/3,B-V/3,Er.BOTTOM_LEFT):new pn(n.left+I/3,n.top+n.height-V/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?Is(n.left+I*2/3,n.top+O*2/3,s-I*2/3,a-O*2/3,Er.TOP_LEFT):new pn(n.left+I*2/3,n.top+O*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?Is(n.left+M,n.top+O*2/3,l-z*2/3,c-O*2/3,Er.TOP_RIGHT):new pn(n.left+n.width-z*2/3,n.top+O*2/3),this.bottomRightBorderDoubleInnerBox=g>0||v>0?Is(n.left+U,n.top+T,g-z*2/3,v-V*2/3,Er.BOTTOM_RIGHT):new pn(n.left+n.width-z*2/3,n.top+n.height-V*2/3),this.bottomLeftBorderDoubleInnerBox=x>0||B>0?Is(n.left+I*2/3,n.top+R,x-I*2/3,B-V*2/3,Er.BOTTOM_LEFT):new pn(n.left+I*2/3,n.top+n.height-V*2/3),this.topLeftBorderStroke=s>0||a>0?Is(n.left+I/2,n.top+O/2,s-I/2,a-O/2,Er.TOP_LEFT):new pn(n.left+I/2,n.top+O/2),this.topRightBorderStroke=s>0||a>0?Is(n.left+M,n.top+O/2,l-z/2,c-O/2,Er.TOP_RIGHT):new pn(n.left+n.width-z/2,n.top+O/2),this.bottomRightBorderStroke=g>0||v>0?Is(n.left+U,n.top+T,g-z/2,v-V/2,Er.BOTTOM_RIGHT):new pn(n.left+n.width-z/2,n.top+n.height-V/2),this.bottomLeftBorderStroke=x>0||B>0?Is(n.left+I/2,n.top+R,x-I/2,B-V/2,Er.BOTTOM_LEFT):new pn(n.left+I/2,n.top+n.height-V/2),this.topLeftBorderBox=s>0||a>0?Is(n.left,n.top,s,a,Er.TOP_LEFT):new pn(n.left,n.top),this.topRightBorderBox=l>0||c>0?Is(n.left+M,n.top,l,c,Er.TOP_RIGHT):new pn(n.left+n.width,n.top),this.bottomRightBorderBox=g>0||v>0?Is(n.left+U,n.top+T,g,v,Er.BOTTOM_RIGHT):new pn(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=x>0||B>0?Is(n.left,n.top+R,x,B,Er.BOTTOM_LEFT):new pn(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||a>0?Is(n.left+I,n.top+O,Math.max(0,s-I),Math.max(0,a-O),Er.TOP_LEFT):new pn(n.left+I,n.top+O),this.topRightPaddingBox=l>0||c>0?Is(n.left+Math.min(M,n.width-z),n.top+O,M>n.width+z?0:Math.max(0,l-z),Math.max(0,c-O),Er.TOP_RIGHT):new pn(n.left+n.width-z,n.top+O),this.bottomRightPaddingBox=g>0||v>0?Is(n.left+Math.min(U,n.width-I),n.top+Math.min(T,n.height-V),Math.max(0,g-z),Math.max(0,v-V),Er.BOTTOM_RIGHT):new pn(n.left+n.width-z,n.top+n.height-V),this.bottomLeftPaddingBox=x>0||B>0?Is(n.left+I,n.top+Math.min(R,n.height-V),Math.max(0,x-I),Math.max(0,B-V),Er.BOTTOM_LEFT):new pn(n.left+I,n.top+n.height-V),this.topLeftContentBox=s>0||a>0?Is(n.left+I+q,n.top+O+P,Math.max(0,s-(I+q)),Math.max(0,a-(O+P)),Er.TOP_LEFT):new pn(n.left+I+q,n.top+O+P),this.topRightContentBox=l>0||c>0?Is(n.left+Math.min(M,n.width+I+q),n.top+O+P,M>n.width+I+q?0:l-I+q,c-(O+P),Er.TOP_RIGHT):new pn(n.left+n.width-(z+k),n.top+O+P),this.bottomRightContentBox=g>0||v>0?Is(n.left+Math.min(U,n.width-(I+q)),n.top+Math.min(T,n.height+O+P),Math.max(0,g-(z+k)),v-(V+G),Er.BOTTOM_RIGHT):new pn(n.left+n.width-(z+k),n.top+n.height-(V+G)),this.bottomLeftContentBox=x>0||B>0?Is(n.left+I+q,n.top+R,Math.max(0,x-(I+q)),B-(V+G),Er.BOTTOM_LEFT):new pn(n.left+I+q,n.top+n.height-(V+G))}return i})(),Er;(function(i){i[i.TOP_LEFT=0]="TOP_LEFT",i[i.TOP_RIGHT=1]="TOP_RIGHT",i[i.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",i[i.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Er||(Er={}));var Is=function(i,e,t,n,r){var s=4*((Math.sqrt(2)-1)/3),a=t*s,A=n*s,l=i+t,c=e+n;switch(r){case Er.TOP_LEFT:return new Ow(new pn(i,c),new pn(i,c-A),new pn(l-a,e),new pn(l,e));case Er.TOP_RIGHT:return new Ow(new pn(i,e),new pn(i+a,e),new pn(l,c-A),new pn(l,c));case Er.BOTTOM_RIGHT:return new Ow(new pn(l,e),new pn(l,e+A),new pn(i+a,c),new pn(i,c));case Er.BOTTOM_LEFT:default:return new Ow(new pn(l,c),new pn(l-a,c),new pn(i,e+A),new pn(i,e))}},vb=function(i){return[i.topLeftBorderBox,i.topRightBorderBox,i.bottomRightBorderBox,i.bottomLeftBorderBox]},LX=function(i){return[i.topLeftContentBox,i.topRightContentBox,i.bottomRightContentBox,i.bottomLeftContentBox]},yb=function(i){return[i.topLeftPaddingBox,i.topRightPaddingBox,i.bottomRightPaddingBox,i.bottomLeftPaddingBox]},IX=(function(){function i(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return i})(),Pw=(function(){function i(e,t){this.path=e,this.target=t,this.type=1}return i})(),RX=(function(){function i(e){this.opacity=e,this.type=2,this.target=6}return i})(),NX=function(i){return i.type===0},WR=function(i){return i.type===1},DX=function(i){return i.type===2},IT=function(i,e){return i.length===e.length?i.some(function(t,n){return t===e[n]}):!1},OX=function(i,e,t,n,r){return i.map(function(s,a){switch(a){case 0:return s.add(e,t);case 1:return s.add(e+n,t);case 2:return s.add(e+n,t+r);case 3:return s.add(e,t+r)}return s})},qR=(function(){function i(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return i})(),XR=(function(){function i(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new FX(this.container),this.container.styles.opacity<1&&this.effects.push(new RX(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new IX(n,r,s))}if(this.container.styles.overflowX!==0){var a=vb(this.curves),A=yb(this.curves);IT(a,A)?this.effects.push(new Pw(a,6)):(this.effects.push(new Pw(a,2)),this.effects.push(new Pw(A,4)))}}return i.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,r=this.effects.slice(0);n;){var s=n.effects.filter(function(l){return!WR(l)});if(t||n.container.styles.position!==0||!n.parent){if(r.unshift.apply(r,s),t=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var a=vb(n.curves),A=yb(n.curves);IT(a,A)||r.unshift(new Pw(A,6))}}else r.unshift.apply(r,s);n=n.parent}return r.filter(function(l){return eo(l.target,e)})},i})(),wC=function(i,e,t,n){i.container.elements.forEach(function(r){var s=eo(r.flags,4),a=eo(r.flags,2),A=new XR(r,i);eo(r.styles.display,2048)&&n.push(A);var l=eo(r.flags,8)?[]:n;if(s||a){var c=s||r.styles.isPositioned()?t:e,h=new qR(A);if(r.styles.isPositioned()||r.styles.opacity<1||r.styles.isTransformed()){var g=r.styles.zIndex.order;if(g<0){var v=0;c.negativeZIndex.some(function(x,B){return g>x.element.container.styles.zIndex.order?(v=B,!1):v>0}),c.negativeZIndex.splice(v,0,h)}else if(g>0){var m=0;c.positiveZIndex.some(function(x,B){return g>=x.element.container.styles.zIndex.order?(m=B+1,!1):m>0}),c.positiveZIndex.splice(m,0,h)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(h)}else r.styles.isFloating()?c.nonPositionedFloats.push(h):c.nonPositionedInlineLevel.push(h);wC(A,h,s?h:t,l)}else r.styles.isInlineLevel()?e.inlineLevel.push(A):e.nonInlineLevel.push(A),wC(A,e,t,l);eo(r.flags,8)&&YR(r,l)})},YR=function(i,e){for(var t=i instanceof pC?i.start:1,n=i instanceof pC?i.reversed:!1,r=0;r<e.length;r++){var s=e[r];s.container instanceof IR&&typeof s.container.value=="number"&&s.container.value!==0&&(t=s.container.value),s.listValue=nv(t,s.container.styles.listStyleType,!0),t+=n?-1:1}},PX=function(i){var e=new XR(i,null),t=new qR(e),n=[];return wC(e,t,t,n),YR(e.container,n),t},RT=function(i,e){switch(e){case 0:return ku(i.topLeftBorderBox,i.topLeftPaddingBox,i.topRightBorderBox,i.topRightPaddingBox);case 1:return ku(i.topRightBorderBox,i.topRightPaddingBox,i.bottomRightBorderBox,i.bottomRightPaddingBox);case 2:return ku(i.bottomRightBorderBox,i.bottomRightPaddingBox,i.bottomLeftBorderBox,i.bottomLeftPaddingBox);default:return ku(i.bottomLeftBorderBox,i.bottomLeftPaddingBox,i.topLeftBorderBox,i.topLeftPaddingBox)}},QX=function(i,e){switch(e){case 0:return ku(i.topLeftBorderBox,i.topLeftBorderDoubleOuterBox,i.topRightBorderBox,i.topRightBorderDoubleOuterBox);case 1:return ku(i.topRightBorderBox,i.topRightBorderDoubleOuterBox,i.bottomRightBorderBox,i.bottomRightBorderDoubleOuterBox);case 2:return ku(i.bottomRightBorderBox,i.bottomRightBorderDoubleOuterBox,i.bottomLeftBorderBox,i.bottomLeftBorderDoubleOuterBox);default:return ku(i.bottomLeftBorderBox,i.bottomLeftBorderDoubleOuterBox,i.topLeftBorderBox,i.topLeftBorderDoubleOuterBox)}},HX=function(i,e){switch(e){case 0:return ku(i.topLeftBorderDoubleInnerBox,i.topLeftPaddingBox,i.topRightBorderDoubleInnerBox,i.topRightPaddingBox);case 1:return ku(i.topRightBorderDoubleInnerBox,i.topRightPaddingBox,i.bottomRightBorderDoubleInnerBox,i.bottomRightPaddingBox);case 2:return ku(i.bottomRightBorderDoubleInnerBox,i.bottomRightPaddingBox,i.bottomLeftBorderDoubleInnerBox,i.bottomLeftPaddingBox);default:return ku(i.bottomLeftBorderDoubleInnerBox,i.bottomLeftPaddingBox,i.topLeftBorderDoubleInnerBox,i.topLeftPaddingBox)}},kX=function(i,e){switch(e){case 0:return Qw(i.topLeftBorderStroke,i.topRightBorderStroke);case 1:return Qw(i.topRightBorderStroke,i.bottomRightBorderStroke);case 2:return Qw(i.bottomRightBorderStroke,i.bottomLeftBorderStroke);default:return Qw(i.bottomLeftBorderStroke,i.topLeftBorderStroke)}},Qw=function(i,e){var t=[];return Ou(i)?t.push(i.subdivide(.5,!1)):t.push(i),Ou(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},ku=function(i,e,t,n){var r=[];return Ou(i)?r.push(i.subdivide(.5,!1)):r.push(i),Ou(t)?r.push(t.subdivide(.5,!0)):r.push(t),Ou(n)?r.push(n.subdivide(.5,!0).reverse()):r.push(n),Ou(e)?r.push(e.subdivide(.5,!1).reverse()):r.push(e),r},JR=function(i){var e=i.bounds,t=i.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},wb=function(i){var e=i.styles,t=i.bounds,n=ls(e.paddingLeft,t.width),r=ls(e.paddingRight,t.width),s=ls(e.paddingTop,t.width),a=ls(e.paddingBottom,t.width);return t.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+r),-(e.borderTopWidth+e.borderBottomWidth+s+a))},zX=function(i,e){return i===0?e.bounds:i===2?wb(e):JR(e)},GX=function(i,e){return i===0?e.bounds:i===2?wb(e):JR(e)},qS=function(i,e,t){var n=zX(cm(i.styles.backgroundOrigin,e),i),r=GX(cm(i.styles.backgroundClip,e),i),s=VX(cm(i.styles.backgroundSize,e),t,n),a=s[0],A=s[1],l=u1(cm(i.styles.backgroundPosition,e),n.width-a,n.height-A),c=jX(cm(i.styles.backgroundRepeat,e),l,s,n,r),h=Math.round(n.left+l[0]),g=Math.round(n.top+l[1]);return[c,h,g,a,A]},sm=function(i){return Gr(i)&&i.value===_m.AUTO},Hw=function(i){return typeof i=="number"},VX=function(i,e,t){var n=e[0],r=e[1],s=e[2],a=i[0],A=i[1];if(!a)return[0,0];if(Ga(a)&&A&&Ga(A))return[ls(a,t.width),ls(A,t.height)];var l=Hw(s);if(Gr(a)&&(a.value===_m.CONTAIN||a.value===_m.COVER)){if(Hw(s)){var c=t.width/t.height;return c<s!=(a.value===_m.COVER)?[t.width,t.width/s]:[t.height*s,t.height]}return[t.width,t.height]}var h=Hw(n),g=Hw(r),v=h||g;if(sm(a)&&(!A||sm(A))){if(h&&g)return[n,r];if(!l&&!v)return[t.width,t.height];if(v&&l){var m=h?n:r*s,x=g?r:n/s;return[m,x]}var B=h?n:t.width,_=g?r:t.height;return[B,_]}if(l){var b=0,M=0;return Ga(a)?b=ls(a,t.width):Ga(A)&&(M=ls(A,t.height)),sm(a)?b=M*s:(!A||sm(A))&&(M=b/s),[b,M]}var T=null,U=null;if(Ga(a)?T=ls(a,t.width):A&&Ga(A)&&(U=ls(A,t.height)),T!==null&&(!A||sm(A))&&(U=h&&g?T/n*r:t.height),U!==null&&sm(a)&&(T=h&&g?U/r*n:t.width),T!==null&&U!==null)return[T,U];throw new Error("Unable to calculate background-size for element")},cm=function(i,e){var t=i[e];return typeof t>"u"?i[0]:t},jX=function(i,e,t,n,r){var s=e[0],a=e[1],A=t[0],l=t[1];switch(i){case 2:return[new pn(Math.round(n.left),Math.round(n.top+a)),new pn(Math.round(n.left+n.width),Math.round(n.top+a)),new pn(Math.round(n.left+n.width),Math.round(l+n.top+a)),new pn(Math.round(n.left),Math.round(l+n.top+a))];case 3:return[new pn(Math.round(n.left+s),Math.round(n.top)),new pn(Math.round(n.left+s+A),Math.round(n.top)),new pn(Math.round(n.left+s+A),Math.round(n.height+n.top)),new pn(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new pn(Math.round(n.left+s),Math.round(n.top+a)),new pn(Math.round(n.left+s+A),Math.round(n.top+a)),new pn(Math.round(n.left+s+A),Math.round(n.top+a+l)),new pn(Math.round(n.left+s),Math.round(n.top+a+l))];default:return[new pn(Math.round(r.left),Math.round(r.top)),new pn(Math.round(r.left+r.width),Math.round(r.top)),new pn(Math.round(r.left+r.width),Math.round(r.height+r.top)),new pn(Math.round(r.left),Math.round(r.height+r.top))]}},KX="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",NT="Hidden Text",WX=(function(){function i(e){this._data={},this._document=e}return i.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),r=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),r.src=KX,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(NT)),n.appendChild(s),n.appendChild(r);var A=r.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(NT)),n.style.lineHeight="normal",r.style.verticalAlign="super";var l=r.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:A,middle:l}},i.prototype.getMetrics=function(e,t){var n=e+" "+t;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},i})(),ZR=(function(){function i(e,t){this.context=e,this.options=t}return i})(),qX=1e4,XX=(function(i){Ec(e,i);function e(t,n){var r=i.call(this,t,n)||this;return r._activeEffects=[],r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),n.canvas||(r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px"),r.fontMetrics=new WX(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),r}return e.prototype.applyEffects=function(t){for(var n=this;this._activeEffects.length;)this.popEffect();t.forEach(function(r){return n.applyEffect(r)})},e.prototype.applyEffect=function(t){this.ctx.save(),DX(t)&&(this.ctx.globalAlpha=t.opacity),NX(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),WR(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return GA(this,void 0,void 0,function(){var n;return mA(this,function(r){switch(r.label){case 0:return n=t.element.container.styles,n.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return GA(this,void 0,void 0,function(){return mA(this,function(n){switch(n.label){case 0:if(eo(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,n,r){var s=this;if(n===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+r);else{var a=XE(t.text);a.reduce(function(A,l){return s.ctx.fillText(l,A,t.bounds.top+r),A+s.ctx.measureText(l).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var n=t.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),r=eY(t.fontFamily).join(", "),s=Sv(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,n,t.fontWeight,s,r].join(" "),r,s]},e.prototype.renderTextNode=function(t,n){return GA(this,void 0,void 0,function(){var r,s,a,A,l,c,h,g,v=this;return mA(this,function(m){return r=this.createFontStyle(n),s=r[0],a=r[1],A=r[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(a,A),c=l.baseline,h=l.middle,g=n.paintOrder,t.textBounds.forEach(function(x){g.forEach(function(B){switch(B){case 0:v.ctx.fillStyle=yo(n.color),v.renderTextWithLetterSpacing(x,n.letterSpacing,c);var _=n.textShadow;_.length&&x.text.trim().length&&(_.slice(0).reverse().forEach(function(b){v.ctx.shadowColor=yo(b.color),v.ctx.shadowOffsetX=b.offsetX.number*v.options.scale,v.ctx.shadowOffsetY=b.offsetY.number*v.options.scale,v.ctx.shadowBlur=b.blur.number,v.renderTextWithLetterSpacing(x,n.letterSpacing,c)}),v.ctx.shadowColor="",v.ctx.shadowOffsetX=0,v.ctx.shadowOffsetY=0,v.ctx.shadowBlur=0),n.textDecorationLine.length&&(v.ctx.fillStyle=yo(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(b){switch(b){case 1:v.ctx.fillRect(x.bounds.left,Math.round(x.bounds.top+c),x.bounds.width,1);break;case 2:v.ctx.fillRect(x.bounds.left,Math.round(x.bounds.top),x.bounds.width,1);break;case 3:v.ctx.fillRect(x.bounds.left,Math.ceil(x.bounds.top+h),x.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&x.text.trim().length&&(v.ctx.strokeStyle=yo(n.webkitTextStrokeColor),v.ctx.lineWidth=n.webkitTextStrokeWidth,v.ctx.lineJoin=window.chrome?"miter":"round",v.ctx.strokeText(x.text,x.bounds.left,x.bounds.top+c)),v.ctx.strokeStyle="",v.ctx.lineWidth=0,v.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,n,r){if(r&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var s=wb(t),a=yb(n);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(r,0,0,t.intrinsicWidth,t.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return GA(this,void 0,void 0,function(){var n,r,s,a,A,l,M,M,c,h,g,v,U,m,x,R,B,_,b,M,T,U,R;return mA(this,function(O){switch(O.label){case 0:this.applyEffects(t.getEffects(4)),n=t.container,r=t.curves,s=n.styles,a=0,A=n.textNodes,O.label=1;case 1:return a<A.length?(l=A[a],[4,this.renderTextNode(l,s)]):[3,4];case 2:O.sent(),O.label=3;case 3:return a++,[3,1];case 4:if(!(n instanceof TR))return[3,8];O.label=5;case 5:return O.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return M=O.sent(),this.renderReplacedElement(n,r,M),[3,8];case 7:return O.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof FR&&this.renderReplacedElement(n,r,n.canvas),!(n instanceof LR))return[3,12];O.label=9;case 9:return O.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return M=O.sent(),this.renderReplacedElement(n,r,M),[3,12];case 11:return O.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof DR&&n.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,c.render(n.tree)]):[3,14];case 13:h=O.sent(),n.width&&n.height&&this.ctx.drawImage(h,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),O.label=14;case 14:if(n instanceof YE&&(g=Math.min(n.bounds.width,n.bounds.height),n.type===db?n.checked&&(this.ctx.save(),this.path([new pn(n.bounds.left+g*.39363,n.bounds.top+g*.79),new pn(n.bounds.left+g*.16,n.bounds.top+g*.5549),new pn(n.bounds.left+g*.27347,n.bounds.top+g*.44071),new pn(n.bounds.left+g*.39694,n.bounds.top+g*.5649),new pn(n.bounds.left+g*.72983,n.bounds.top+g*.23),new pn(n.bounds.left+g*.84,n.bounds.top+g*.34085),new pn(n.bounds.left+g*.39363,n.bounds.top+g*.79)]),this.ctx.fillStyle=yo(bT),this.ctx.fill(),this.ctx.restore()):n.type===pb&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+g/2,n.bounds.top+g/2,g/4,0,Math.PI*2,!0),this.ctx.fillStyle=yo(bT),this.ctx.fill(),this.ctx.restore())),YX(n)&&n.value.length){switch(v=this.createFontStyle(s),U=v[0],m=v[1],x=this.fontMetrics.getMetrics(U,m).baseline,this.ctx.font=U,this.ctx.fillStyle=yo(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=ZX(n.styles.textAlign),R=wb(n),B=0,n.styles.textAlign){case 1:B+=R.width/2;break;case 2:B+=R.width;break}_=R.add(B,0,0,-R.height/2+1),this.ctx.save(),this.path([new pn(R.left,R.top),new pn(R.left+R.width,R.top),new pn(R.left+R.width,R.top+R.height),new pn(R.left,R.top+R.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new U1(n.value,_),s.letterSpacing,x),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!eo(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(b=n.styles.listStyleImage,b.type!==0)return[3,18];M=void 0,T=b.url,O.label=15;case 15:return O.trys.push([15,17,,18]),[4,this.context.cache.match(T)];case 16:return M=O.sent(),this.ctx.drawImage(M,n.bounds.left-(M.width+10),n.bounds.top),[3,18];case 17:return O.sent(),this.context.logger.error("Error loading list-style-image "+T),[3,18];case 18:return[3,20];case 19:t.listValue&&n.styles.listStyleType!==-1&&(U=this.createFontStyle(s)[0],this.ctx.font=U,this.ctx.fillStyle=yo(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",R=new gh(n.bounds.left,n.bounds.top+ls(n.styles.paddingTop,n.bounds.width),n.bounds.width,sT(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new U1(t.listValue,R),s.letterSpacing,sT(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),O.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return GA(this,void 0,void 0,function(){var n,r,b,s,a,b,A,l,b,c,h,b,g,v,b,m,x,b,B,_,b;return mA(this,function(M){switch(M.label){case 0:if(eo(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:M.sent(),n=0,r=t.negativeZIndex,M.label=2;case 2:return n<r.length?(b=r[n],[4,this.renderStack(b)]):[3,5];case 3:M.sent(),M.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:M.sent(),s=0,a=t.nonInlineLevel,M.label=7;case 7:return s<a.length?(b=a[s],[4,this.renderNode(b)]):[3,10];case 8:M.sent(),M.label=9;case 9:return s++,[3,7];case 10:A=0,l=t.nonPositionedFloats,M.label=11;case 11:return A<l.length?(b=l[A],[4,this.renderStack(b)]):[3,14];case 12:M.sent(),M.label=13;case 13:return A++,[3,11];case 14:c=0,h=t.nonPositionedInlineLevel,M.label=15;case 15:return c<h.length?(b=h[c],[4,this.renderStack(b)]):[3,18];case 16:M.sent(),M.label=17;case 17:return c++,[3,15];case 18:g=0,v=t.inlineLevel,M.label=19;case 19:return g<v.length?(b=v[g],[4,this.renderNode(b)]):[3,22];case 20:M.sent(),M.label=21;case 21:return g++,[3,19];case 22:m=0,x=t.zeroOrAutoZIndexOrTransformedOrOpacity,M.label=23;case 23:return m<x.length?(b=x[m],[4,this.renderStack(b)]):[3,26];case 24:M.sent(),M.label=25;case 25:return m++,[3,23];case 26:B=0,_=t.positiveZIndex,M.label=27;case 27:return B<_.length?(b=_[B],[4,this.renderStack(b)]):[3,30];case 28:M.sent(),M.label=29;case 29:return B++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var n=this;t.forEach(function(r,s){var a=Ou(r)?r.start:r;s===0?n.ctx.moveTo(a.x,a.y):n.ctx.lineTo(a.x,a.y),Ou(r)&&n.ctx.bezierCurveTo(r.startControl.x,r.startControl.y,r.endControl.x,r.endControl.y,r.end.x,r.end.y)})},e.prototype.renderRepeat=function(t,n,r,s){this.path(t),this.ctx.fillStyle=n,this.ctx.translate(r,s),this.ctx.fill(),this.ctx.translate(-r,-s)},e.prototype.resizeImage=function(t,n,r){var s;if(t.width===n&&t.height===r)return t;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,A=a.createElement("canvas");A.width=Math.max(1,n),A.height=Math.max(1,r);var l=A.getContext("2d");return l.drawImage(t,0,0,t.width,t.height,0,0,n,r),A},e.prototype.renderBackgroundImage=function(t){return GA(this,void 0,void 0,function(){var n,r,s,a,A,l;return mA(this,function(c){switch(c.label){case 0:n=t.styles.backgroundImage.length-1,r=function(h){var g,v,m,P,Z,ne,q,H,V,x,P,Z,ne,q,H,B,_,b,M,T,U,R,O,z,V,I,P,k,G,q,H,ae,Z,ne,oe,fe,me,W,Q,X,Y,ie;return mA(this,function(te){switch(te.label){case 0:if(h.type!==0)return[3,5];g=void 0,v=h.url,te.label=1;case 1:return te.trys.push([1,3,,4]),[4,s.context.cache.match(v)];case 2:return g=te.sent(),[3,4];case 3:return te.sent(),s.context.logger.error("Error loading background-image "+v),[3,4];case 4:return g&&(m=qS(t,n,[g.width,g.height,g.width/g.height]),P=m[0],Z=m[1],ne=m[2],q=m[3],H=m[4],V=s.ctx.createPattern(s.resizeImage(g,q,H),"repeat"),s.renderRepeat(P,V,Z,ne)),[3,6];case 5:NK(h)?(x=qS(t,n,[null,null,null]),P=x[0],Z=x[1],ne=x[2],q=x[3],H=x[4],B=TK(h.angle,q,H),_=B[0],b=B[1],M=B[2],T=B[3],U=B[4],R=document.createElement("canvas"),R.width=q,R.height=H,O=R.getContext("2d"),z=O.createLinearGradient(b,T,M,U),iT(h.stops,_).forEach(function(se){return z.addColorStop(se.stop,yo(se.color))}),O.fillStyle=z,O.fillRect(0,0,q,H),q>0&&H>0&&(V=s.ctx.createPattern(R,"repeat"),s.renderRepeat(P,V,Z,ne))):DK(h)&&(I=qS(t,n,[null,null,null]),P=I[0],k=I[1],G=I[2],q=I[3],H=I[4],ae=h.position.length===0?[KE]:h.position,Z=ls(ae[0],q),ne=ls(ae[ae.length-1],H),oe=FK(h,Z,ne,q,H),fe=oe[0],me=oe[1],fe>0&&me>0&&(W=s.ctx.createRadialGradient(k+Z,G+ne,0,k+Z,G+ne,fe),iT(h.stops,fe*2).forEach(function(se){return W.addColorStop(se.stop,yo(se.color))}),s.path(P),s.ctx.fillStyle=W,fe!==me?(Q=t.bounds.left+.5*t.bounds.width,X=t.bounds.top+.5*t.bounds.height,Y=me/fe,ie=1/Y,s.ctx.save(),s.ctx.translate(Q,X),s.ctx.transform(1,0,0,Y,0,0),s.ctx.translate(-Q,-X),s.ctx.fillRect(k,ie*(G-X)+X,q,H*ie),s.ctx.restore()):s.ctx.fill())),te.label=6;case 6:return n--,[2]}})},s=this,a=0,A=t.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return a<A.length?(l=A[a],[5,r(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,n,r){return GA(this,void 0,void 0,function(){return mA(this,function(s){return this.path(RT(r,n)),this.ctx.fillStyle=yo(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,n,r,s){return GA(this,void 0,void 0,function(){var a,A;return mA(this,function(l){switch(l.label){case 0:return n<3?[4,this.renderSolidBorder(t,r,s)]:[3,2];case 1:return l.sent(),[2];case 2:return a=QX(s,r),this.path(a),this.ctx.fillStyle=yo(t),this.ctx.fill(),A=HX(s,r),this.path(A),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return GA(this,void 0,void 0,function(){var n,r,s,a,A,l,c,h,g=this;return mA(this,function(v){switch(v.label){case 0:return this.applyEffects(t.getEffects(2)),n=t.container.styles,r=!md(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],a=JX(cm(n.backgroundClip,0),t.curves),r||n.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),md(n.backgroundColor)||(this.ctx.fillStyle=yo(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:v.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(m){g.ctx.save();var x=vb(t.curves),B=m.inset?0:qX,_=OX(x,-B+(m.inset?1:-1)*m.spread.number,(m.inset?1:-1)*m.spread.number,m.spread.number*(m.inset?-2:2),m.spread.number*(m.inset?-2:2));m.inset?(g.path(x),g.ctx.clip(),g.mask(_)):(g.mask(x),g.ctx.clip(),g.path(_)),g.ctx.shadowOffsetX=m.offsetX.number+B,g.ctx.shadowOffsetY=m.offsetY.number,g.ctx.shadowColor=yo(m.color),g.ctx.shadowBlur=m.blur.number,g.ctx.fillStyle=m.inset?yo(m.color):"rgba(0,0,0,1)",g.ctx.fill(),g.ctx.restore()}),v.label=2;case 2:A=0,l=0,c=s,v.label=3;case 3:return l<c.length?(h=c[l],h.style!==0&&!md(h.color)&&h.width>0?h.style!==2?[3,5]:[4,this.renderDashedDottedBorder(h.color,h.width,A,t.curves,2)]:[3,11]):[3,13];case 4:return v.sent(),[3,11];case 5:return h.style!==3?[3,7]:[4,this.renderDashedDottedBorder(h.color,h.width,A,t.curves,3)];case 6:return v.sent(),[3,11];case 7:return h.style!==4?[3,9]:[4,this.renderDoubleBorder(h.color,h.width,A,t.curves)];case 8:return v.sent(),[3,11];case 9:return[4,this.renderSolidBorder(h.color,A,t.curves)];case 10:v.sent(),v.label=11;case 11:A++,v.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,n,r,s,a){return GA(this,void 0,void 0,function(){var A,l,c,h,g,v,m,x,B,_,b,M,T,U,R,O,R,O;return mA(this,function(z){return this.ctx.save(),A=kX(s,r),l=RT(s,r),a===2&&(this.path(l),this.ctx.clip()),Ou(l[0])?(c=l[0].start.x,h=l[0].start.y):(c=l[0].x,h=l[0].y),Ou(l[1])?(g=l[1].end.x,v=l[1].end.y):(g=l[1].x,v=l[1].y),r===0||r===2?m=Math.abs(c-g):m=Math.abs(h-v),this.ctx.beginPath(),a===3?this.formatPath(A):this.formatPath(l.slice(0,2)),x=n<3?n*3:n*2,B=n<3?n*2:n,a===3&&(x=n,B=n),_=!0,m<=x*2?_=!1:m<=x*2+B?(b=m/(2*x+B),x*=b,B*=b):(M=Math.floor((m+B)/(x+B)),T=(m-M*x)/(M-1),U=(m-(M+1)*x)/M,B=U<=0||Math.abs(B-T)<Math.abs(B-U)?T:U),_&&(a===3?this.ctx.setLineDash([0,x+B]):this.ctx.setLineDash([x,B])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=yo(t),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(Ou(l[0])&&(R=l[3],O=l[0],this.ctx.beginPath(),this.formatPath([new pn(R.end.x,R.end.y),new pn(O.start.x,O.start.y)]),this.ctx.stroke()),Ou(l[1])&&(R=l[1],O=l[2],this.ctx.beginPath(),this.formatPath([new pn(R.end.x,R.end.y),new pn(O.start.x,O.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return GA(this,void 0,void 0,function(){var n;return mA(this,function(r){switch(r.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=yo(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=PX(t),[4,this.renderStack(n)];case 1:return r.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(ZR),YX=function(i){return i instanceof NR||i instanceof RR?!0:i instanceof YE&&i.type!==pb&&i.type!==db},JX=function(i,e){switch(i){case 0:return vb(e);case 2:return LX(e);default:return yb(e)}},ZX=function(i){switch(i){case 1:return"center";case 2:return"right";default:return"left"}},$X=["-apple-system","system-ui"],eY=function(i){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?i.filter(function(e){return $X.indexOf(e)===-1}):i},tY=(function(i){Ec(e,i);function e(t,n){var r=i.call(this,t,n)||this;return r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=n,r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),r}return e.prototype.render=function(t){return GA(this,void 0,void 0,function(){var n,r;return mA(this,function(s){switch(s.label){case 0:return n=dC(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,nY(n)];case 1:return r=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=yo(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(r,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(ZR),nY=function(i){return new Promise(function(e,t){var n=new Image;n.onload=function(){e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(i))})},iY=(function(){function i(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return i.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,vw([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},i.prototype.getTime=function(){return Date.now()-this.start},i.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,vw([this.id,this.getTime()+"ms"],e))},i.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,vw([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},i.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,vw([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},i.instances={},i})(),rY=(function(){function i(e,t){var n;this.windowBounds=t,this.instanceName="#"+i.instanceCount++,this.logger=new iY({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new BX(this,e)}return i.instanceCount=1,i})(),$R=function(i,e){return e===void 0&&(e={}),sY(i,e)};typeof window<"u"&&KR.setContext(window);var sY=function(i,e){return GA(void 0,void 0,void 0,function(){var t,n,r,s,a,A,l,c,h,g,v,m,x,B,_,b,M,T,U,R,z,O,z,V,I,P,k,G,q,H,ae,Z,ne,oe,fe,me,W,Q,X,Y;return mA(this,function(ie){switch(ie.label){case 0:if(!i||typeof i!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=i.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(n=t.defaultView,!n)throw new Error("Document is not attached to a Window");return r={allowTaint:(V=e.allowTaint)!==null&&V!==void 0?V:!1,imageTimeout:(I=e.imageTimeout)!==null&&I!==void 0?I:15e3,proxy:e.proxy,useCORS:(P=e.useCORS)!==null&&P!==void 0?P:!1},s=$2({logging:(k=e.logging)!==null&&k!==void 0?k:!0,cache:e.cache},r),a={windowWidth:(G=e.windowWidth)!==null&&G!==void 0?G:n.innerWidth,windowHeight:(q=e.windowHeight)!==null&&q!==void 0?q:n.innerHeight,scrollX:(H=e.scrollX)!==null&&H!==void 0?H:n.pageXOffset,scrollY:(ae=e.scrollY)!==null&&ae!==void 0?ae:n.pageYOffset},A=new gh(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),l=new rY(s,A),c=(Z=e.foreignObjectRendering)!==null&&Z!==void 0?Z:!1,h={allowTaint:(ne=e.allowTaint)!==null&&ne!==void 0?ne:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+A.width+"x"+A.height+" scrolled to "+-A.left+","+-A.top),g=new FT(l,i,h),v=g.clonedReferenceElement,v?[4,g.toIFrame(t,A)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return m=ie.sent(),x=JE(v)||oX(v)?OV(v.ownerDocument):w_(l,v),B=x.width,_=x.height,b=x.left,M=x.top,T=aY(l,v,e.backgroundColor),U={canvas:e.canvas,backgroundColor:T,scale:(fe=(oe=e.scale)!==null&&oe!==void 0?oe:n.devicePixelRatio)!==null&&fe!==void 0?fe:1,x:((me=e.x)!==null&&me!==void 0?me:0)+b,y:((W=e.y)!==null&&W!==void 0?W:0)+M,width:(Q=e.width)!==null&&Q!==void 0?Q:Math.ceil(B),height:(X=e.height)!==null&&X!==void 0?X:Math.ceil(_)},c?(l.logger.debug("Document cloned, using foreign object rendering"),z=new tY(l,U),[4,z.render(v)]):[3,3];case 2:return R=ie.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+b+","+M+" with size "+B+"x"+_+" using computed rendering"),l.logger.debug("Starting DOM parsing"),O=PR(l,v),T===O.styles.backgroundColor&&(O.styles.backgroundColor=hh.TRANSPARENT),l.logger.debug("Starting renderer for element at "+U.x+","+U.y+" with size "+U.width+"x"+U.height),z=new XX(l,U),[4,z.render(O)];case 4:R=ie.sent(),ie.label=5;case 5:return(!((Y=e.removeContainer)!==null&&Y!==void 0)||Y)&&(FT.destroy(m)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,R]}})})},aY=function(i,e,t){var n=e.ownerDocument,r=n.documentElement?E1(i,getComputedStyle(n.documentElement).backgroundColor):hh.TRANSPARENT,s=n.body?E1(i,getComputedStyle(n.body).backgroundColor):hh.TRANSPARENT,a=typeof t=="string"?E1(i,t):t===null?hh.TRANSPARENT:4294967295;return e===n.documentElement?md(r)?md(s)?a:s:r:a};const oY=Object.freeze(Object.defineProperty({__proto__:null,default:$R},Symbol.toStringTag,{value:"Module"}));function Dr(i){"@babel/helpers - typeof";return Dr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dr(i)}var Bc=Uint8Array,ou=Uint16Array,ZE=Int32Array,$E=new Bc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),e5=new Bc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),DT=new Bc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),eN=function(i,e){for(var t=new ou(31),n=0;n<31;++n)t[n]=e+=1<<i[n-1];for(var r=new ZE(t[30]),n=1;n<30;++n)for(var s=t[n];s<t[n+1];++s)r[s]=s-t[n]<<5|n;return{b:t,r}},tN=eN($E,2),AY=tN.b,xC=tN.r;AY[28]=258,xC[258]=28;var lY=eN(e5,0),OT=lY.r,bC=new ou(32768);for(var ws=0;ws<32768;++ws){var td=(ws&43690)>>1|(ws&21845)<<1;td=(td&52428)>>2|(td&13107)<<2,td=(td&61680)>>4|(td&3855)<<4,bC[ws]=((td&65280)>>8|(td&255)<<8)>>1}var F1=(function(i,e,t){for(var n=i.length,r=0,s=new ou(e);r<n;++r)i[r]&&++s[i[r]-1];var a=new ou(e);for(r=1;r<e;++r)a[r]=a[r-1]+s[r-1]<<1;var A;if(t){A=new ou(1<<e);var l=15-e;for(r=0;r<n;++r)if(i[r])for(var c=r<<4|i[r],h=e-i[r],g=a[i[r]-1]++<<h,v=g|(1<<h)-1;g<=v;++g)A[bC[g]>>l]=c}else for(A=new ou(n),r=0;r<n;++r)i[r]&&(A[r]=bC[a[i[r]-1]++]>>15-i[r]);return A}),Vp=new Bc(288);for(var ws=0;ws<144;++ws)Vp[ws]=8;for(var ws=144;ws<256;++ws)Vp[ws]=9;for(var ws=256;ws<280;++ws)Vp[ws]=7;for(var ws=280;ws<288;++ws)Vp[ws]=8;var xb=new Bc(32);for(var ws=0;ws<32;++ws)xb[ws]=5;var uY=F1(Vp,9,0),cY=F1(xb,5,0),nN=function(i){return(i+7)/8|0},fY=function(i,e,t){return(t==null||t>i.length)&&(t=i.length),new Bc(i.subarray(e,t))},ih=function(i,e,t){t<<=e&7;var n=e/8|0;i[n]|=t,i[n+1]|=t>>8},J0=function(i,e,t){t<<=e&7;var n=e/8|0;i[n]|=t,i[n+1]|=t>>8,i[n+2]|=t>>16},XS=function(i,e){for(var t=[],n=0;n<i.length;++n)i[n]&&t.push({s:n,f:i[n]});var r=t.length,s=t.slice();if(!r)return{t:rN,l:0};if(r==1){var a=new Bc(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(R,O){return R.f-O.f}),t.push({s:-1,f:25001});var A=t[0],l=t[1],c=0,h=1,g=2;for(t[0]={s:-1,f:A.f+l.f,l:A,r:l};h!=r-1;)A=t[t[c].f<t[g].f?c++:g++],l=t[c!=h&&t[c].f<t[g].f?c++:g++],t[h++]={s:-1,f:A.f+l.f,l:A,r:l};for(var v=s[0].s,n=1;n<r;++n)s[n].s>v&&(v=s[n].s);var m=new ou(v+1),x=_C(t[h-1],m,0);if(x>e){var n=0,B=0,_=x-e,b=1<<_;for(s.sort(function(O,z){return m[z.s]-m[O.s]||O.f-z.f});n<r;++n){var M=s[n].s;if(m[M]>e)B+=b-(1<<x-m[M]),m[M]=e;else break}for(B>>=_;B>0;){var T=s[n].s;m[T]<e?B-=1<<e-m[T]++-1:++n}for(;n>=0&&B;--n){var U=s[n].s;m[U]==e&&(--m[U],++B)}x=e}return{t:new Bc(m),l:x}},_C=function(i,e,t){return i.s==-1?Math.max(_C(i.l,e,t+1),_C(i.r,e,t+1)):e[i.s]=t},PT=function(i){for(var e=i.length;e&&!i[--e];);for(var t=new ou(++e),n=0,r=i[0],s=1,a=function(l){t[n++]=l},A=1;A<=e;++A)if(i[A]==r&&A!=e)++s;else{if(!r&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(r),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(r);s=1,r=i[A]}return{c:t.subarray(0,n),n:e}},Z0=function(i,e){for(var t=0,n=0;n<e.length;++n)t+=i[n]*e[n];return t},iN=function(i,e,t){var n=t.length,r=nN(e+2);i[r]=n&255,i[r+1]=n>>8,i[r+2]=i[r]^255,i[r+3]=i[r+1]^255;for(var s=0;s<n;++s)i[r+s+4]=t[s];return(r+4+n)*8},QT=function(i,e,t,n,r,s,a,A,l,c,h){ih(e,h++,t),++r[256];for(var g=XS(r,15),v=g.t,m=g.l,x=XS(s,15),B=x.t,_=x.l,b=PT(v),M=b.c,T=b.n,U=PT(B),R=U.c,O=U.n,z=new ou(19),V=0;V<M.length;++V)++z[M[V]&31];for(var V=0;V<R.length;++V)++z[R[V]&31];for(var I=XS(z,7),P=I.t,k=I.l,G=19;G>4&&!P[DT[G-1]];--G);var q=c+5<<3,H=Z0(r,Vp)+Z0(s,xb)+a,ae=Z0(r,v)+Z0(s,B)+a+14+3*G+Z0(z,P)+2*z[16]+3*z[17]+7*z[18];if(l>=0&&q<=H&&q<=ae)return iN(e,h,i.subarray(l,l+c));var Z,ne,oe,fe;if(ih(e,h,1+(ae<H)),h+=2,ae<H){Z=F1(v,m,0),ne=v,oe=F1(B,_,0),fe=B;var me=F1(P,k,0);ih(e,h,T-257),ih(e,h+5,O-1),ih(e,h+10,G-4),h+=14;for(var V=0;V<G;++V)ih(e,h+3*V,P[DT[V]]);h+=3*G;for(var W=[M,R],Q=0;Q<2;++Q)for(var X=W[Q],V=0;V<X.length;++V){var Y=X[V]&31;ih(e,h,me[Y]),h+=P[Y],Y>15&&(ih(e,h,X[V]>>5&127),h+=X[V]>>12)}}else Z=uY,ne=Vp,oe=cY,fe=xb;for(var V=0;V<A;++V){var ie=n[V];if(ie>255){var Y=ie>>18&31;J0(e,h,Z[Y+257]),h+=ne[Y+257],Y>7&&(ih(e,h,ie>>23&31),h+=$E[Y]);var te=ie&31;J0(e,h,oe[te]),h+=fe[te],te>3&&(J0(e,h,ie>>5&8191),h+=e5[te])}else J0(e,h,Z[ie]),h+=ne[ie]}return J0(e,h,Z[256]),h+ne[256]},hY=new ZE([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),rN=new Bc(0),dY=function(i,e,t,n,r,s){var a=s.z||i.length,A=new Bc(n+a+5*(1+Math.ceil(a/7e3))+r),l=A.subarray(n,A.length-r),c=s.l,h=(s.r||0)&7;if(e){h&&(l[0]=s.r>>3);for(var g=hY[e-1],v=g>>13,m=g&8191,x=(1<<t)-1,B=s.p||new ou(32768),_=s.h||new ou(x+1),b=Math.ceil(t/3),M=2*b,T=function(De){return(i[De]^i[De+1]<<b^i[De+2]<<M)&x},U=new ZE(25e3),R=new ou(288),O=new ou(32),z=0,V=0,I=s.i||0,P=0,k=s.w||0,G=0;I+2<a;++I){var q=T(I),H=I&32767,ae=_[q];if(B[H]=ae,_[q]=H,k<=I){var Z=a-I;if((z>7e3||P>24576)&&(Z>423||!c)){h=QT(i,l,0,U,R,O,V,P,G,I-G,h),P=z=V=0,G=I;for(var ne=0;ne<286;++ne)R[ne]=0;for(var ne=0;ne<30;++ne)O[ne]=0}var oe=2,fe=0,me=m,W=H-ae&32767;if(Z>2&&q==T(I-W))for(var Q=Math.min(v,Z)-1,X=Math.min(32767,I),Y=Math.min(258,Z);W<=X&&--me&&H!=ae;){if(i[I+oe]==i[I+oe-W]){for(var ie=0;ie<Y&&i[I+ie]==i[I+ie-W];++ie);if(ie>oe){if(oe=ie,fe=W,ie>Q)break;for(var te=Math.min(W,ie-2),se=0,ne=0;ne<te;++ne){var ye=I-W+ne&32767,xe=B[ye],Fe=ye-xe&32767;Fe>se&&(se=Fe,ae=ye)}}}H=ae,ae=B[H],W+=H-ae&32767}if(fe){U[P++]=268435456|xC[oe]<<18|OT[fe];var Ne=xC[oe]&31,ze=OT[fe]&31;V+=$E[Ne]+e5[ze],++R[257+Ne],++O[ze],k=I+oe,++z}else U[P++]=i[I],++R[i[I]]}}for(I=Math.max(I,k);I<a;++I)U[P++]=i[I],++R[i[I]];h=QT(i,l,c,U,R,O,V,P,G,I-G,h),c||(s.r=h&7|l[h/8|0]<<3,h-=7,s.h=_,s.p=B,s.i=I,s.w=k)}else{for(var I=s.w||0;I<a+c;I+=65535){var it=I+65535;it>=a&&(l[h/8|0]=c,it=a),h=iN(l,h+1,i.subarray(I,it))}s.i=a}return fY(A,0,n+nN(h)+r)},sN=function(){var i=1,e=0;return{p:function(t){for(var n=i,r=e,s=t.length|0,a=0;a!=s;){for(var A=Math.min(a+2655,s);a<A;++a)r+=n+=t[a];n=(n&65535)+15*(n>>16),r=(r&65535)+15*(r>>16)}i=n,e=r},d:function(){return i%=65521,e%=65521,(i&255)<<24|(i&65280)<<8|(e&255)<<8|e>>8}}},pY=function(i,e,t,n,r){if(!r&&(r={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Bc(s.length+i.length);a.set(s),a.set(i,s.length),i=a,r.w=s.length}return dY(i,e.level==null?6:e.level,e.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(i.length)))*1.5):20:12+e.mem,t,n,r)},aN=function(i,e,t){for(;t;++e)i[e]=t,t>>>=8},gY=function(i,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(i[0]=120,i[1]=n<<6|(e.dictionary&&32),i[1]|=31-(i[0]<<8|i[1])%31,e.dictionary){var r=sN();r.p(e.dictionary),aN(i,2,r.d())}};function BC(i,e){e||(e={});var t=sN();t.p(i);var n=pY(i,e,e.dictionary?6:2,4);return gY(n,e),aN(n,n.length-4,t.d()),n}var mY=typeof TextDecoder<"u"&&new TextDecoder,vY=0;try{mY.decode(rN,{stream:!0}),vY=1}catch{}function yY(i){if(Array.isArray(i))return i}function wY(i,e){var t=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(t!=null){var n,r,s,a,A=[],l=!0,c=!1;try{if(s=(t=t.call(i)).next,e!==0)for(;!(l=(n=s.call(t)).done)&&(A.push(n.value),A.length!==e);l=!0);}catch(h){c=!0,r=h}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw r}}return A}}function HT(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,n=Array(e);t<e;t++)n[t]=i[t];return n}function xY(i,e){if(i){if(typeof i=="string")return HT(i,e);var t={}.toString.call(i).slice(8,-1);return t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set"?Array.from(i):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?HT(i,e):void 0}}function bY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kT(i,e){return yY(i)||wY(i,e)||xY(i,e)||bY()}function zT(i,e="utf8"){return new TextDecoder(e).decode(i)}const _Y=new TextEncoder;function BY(i){return _Y.encode(i)}const SY=1024*8,CY=(()=>{const i=new Uint8Array(4),e=new Uint32Array(i.buffer);return!((e[0]=1)&i[0])})(),YS={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class t5{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=SY,t={}){let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const r=t.offset?t.offset>>>0:0,s=e.byteLength-r;let a=r;(ArrayBuffer.isView(e)||e instanceof t5)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+r),e=e.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,r=new Uint8Array(n);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const n=YS[t].BYTES_PER_ELEMENT*e,r=this.byteOffset+this.offset,s=this.buffer.slice(r,r+n);if(this.littleEndian===CY&&t!=="uint8"&&t!=="int8"){const A=new Uint8Array(this.buffer.slice(r,r+n));A.reverse();const l=new YS[t](A.buffer);return this.offset+=n,l.reverse(),l}const a=new YS[t](s);return this.offset+=n,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(e=1){return zT(this.readBytes(e))}decodeText(e=1,t="utf8"){return zT(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(BY(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Zm(i){let e=i.length;for(;--e>=0;)i[e]=0}const EY=3,MY=258,oN=29,UY=256,TY=UY+1+oN,AN=30,FY=512,LY=new Array((TY+2)*2);Zm(LY);const IY=new Array(AN*2);Zm(IY);const RY=new Array(FY);Zm(RY);const NY=new Array(MY-EY+1);Zm(NY);const DY=new Array(oN);Zm(DY);const OY=new Array(AN);Zm(OY);const PY=(i,e,t,n)=>{let r=i&65535|0,s=i>>>16&65535|0,a=0;for(;t!==0;){a=t>2e3?2e3:t,t-=a;do r=r+e[n++]|0,s=s+r|0;while(--a);r%=65521,s%=65521}return r|s<<16|0};var SC=PY;const QY=()=>{let i,e=[];for(var t=0;t<256;t++){i=t;for(var n=0;n<8;n++)i=i&1?3988292384^i>>>1:i>>>1;e[t]=i}return e},HY=new Uint32Array(QY()),kY=(i,e,t,n)=>{const r=HY,s=n+t;i^=-1;for(let a=n;a<s;a++)i=i>>>8^r[(i^e[a])&255];return i^-1};var cf=kY,CC={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},lN={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const zY=(i,e)=>Object.prototype.hasOwnProperty.call(i,e);var GY=function(i){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)zY(t,n)&&(i[n]=t[n])}}return i},VY=i=>{let e=0;for(let n=0,r=i.length;n<r;n++)e+=i[n].length;const t=new Uint8Array(e);for(let n=0,r=0,s=i.length;n<s;n++){let a=i[n];t.set(a,r),r+=a.length}return t},uN={assign:GY,flattenChunks:VY};let cN=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{cN=!1}const iv=new Uint8Array(256);for(let i=0;i<256;i++)iv[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;iv[254]=iv[254]=1;var jY=i=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(i);let e,t,n,r,s,a=i.length,A=0;for(r=0;r<a;r++)t=i.charCodeAt(r),(t&64512)===55296&&r+1<a&&(n=i.charCodeAt(r+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),r++)),A+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(A),s=0,r=0;s<A;r++)t=i.charCodeAt(r),(t&64512)===55296&&r+1<a&&(n=i.charCodeAt(r+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),r++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const KY=(i,e)=>{if(e<65534&&i.subarray&&cN)return String.fromCharCode.apply(null,i.length===e?i:i.subarray(0,e));let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(i[n]);return t};var WY=(i,e)=>{const t=e||i.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(i.subarray(0,e));let n,r;const s=new Array(t*2);for(r=0,n=0;n<t;){let a=i[n++];if(a<128){s[r++]=a;continue}let A=iv[a];if(A>4){s[r++]=65533,n+=A-1;continue}for(a&=A===2?31:A===3?15:7;A>1&&n<t;)a=a<<6|i[n++]&63,A--;if(A>1){s[r++]=65533;continue}a<65536?s[r++]=a:(a-=65536,s[r++]=55296|a>>10&1023,s[r++]=56320|a&1023)}return KY(s,r)},qY=(i,e)=>{e=e||i.length,e>i.length&&(e=i.length);let t=e-1;for(;t>=0&&(i[t]&192)===128;)t--;return t<0||t===0?e:t+iv[i[t]]>e?t:e},EC={string2buf:jY,buf2string:WY,utf8border:qY};function XY(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var YY=XY;const kw=16209,JY=16191;var ZY=function(e,t){let n,r,s,a,A,l,c,h,g,v,m,x,B,_,b,M,T,U,R,O,z,V,I,P;const k=e.state;n=e.next_in,I=e.input,r=n+(e.avail_in-5),s=e.next_out,P=e.output,a=s-(t-e.avail_out),A=s+(e.avail_out-257),l=k.dmax,c=k.wsize,h=k.whave,g=k.wnext,v=k.window,m=k.hold,x=k.bits,B=k.lencode,_=k.distcode,b=(1<<k.lenbits)-1,M=(1<<k.distbits)-1;e:do{x<15&&(m+=I[n++]<<x,x+=8,m+=I[n++]<<x,x+=8),T=B[m&b];t:for(;;){if(U=T>>>24,m>>>=U,x-=U,U=T>>>16&255,U===0)P[s++]=T&65535;else if(U&16){R=T&65535,U&=15,U&&(x<U&&(m+=I[n++]<<x,x+=8),R+=m&(1<<U)-1,m>>>=U,x-=U),x<15&&(m+=I[n++]<<x,x+=8,m+=I[n++]<<x,x+=8),T=_[m&M];n:for(;;){if(U=T>>>24,m>>>=U,x-=U,U=T>>>16&255,U&16){if(O=T&65535,U&=15,x<U&&(m+=I[n++]<<x,x+=8,x<U&&(m+=I[n++]<<x,x+=8)),O+=m&(1<<U)-1,O>l){e.msg="invalid distance too far back",k.mode=kw;break e}if(m>>>=U,x-=U,U=s-a,O>U){if(U=O-U,U>h&&k.sane){e.msg="invalid distance too far back",k.mode=kw;break e}if(z=0,V=v,g===0){if(z+=c-U,U<R){R-=U;do P[s++]=v[z++];while(--U);z=s-O,V=P}}else if(g<U){if(z+=c+g-U,U-=g,U<R){R-=U;do P[s++]=v[z++];while(--U);if(z=0,g<R){U=g,R-=U;do P[s++]=v[z++];while(--U);z=s-O,V=P}}}else if(z+=g-U,U<R){R-=U;do P[s++]=v[z++];while(--U);z=s-O,V=P}for(;R>2;)P[s++]=V[z++],P[s++]=V[z++],P[s++]=V[z++],R-=3;R&&(P[s++]=V[z++],R>1&&(P[s++]=V[z++]))}else{z=s-O;do P[s++]=P[z++],P[s++]=P[z++],P[s++]=P[z++],R-=3;while(R>2);R&&(P[s++]=P[z++],R>1&&(P[s++]=P[z++]))}}else if((U&64)===0){T=_[(T&65535)+(m&(1<<U)-1)];continue n}else{e.msg="invalid distance code",k.mode=kw;break e}break}}else if((U&64)===0){T=B[(T&65535)+(m&(1<<U)-1)];continue t}else if(U&32){k.mode=JY;break e}else{e.msg="invalid literal/length code",k.mode=kw;break e}break}}while(n<r&&s<A);R=x>>3,n-=R,x-=R<<3,m&=(1<<x)-1,e.next_in=n,e.next_out=s,e.avail_in=n<r?5+(r-n):5-(n-r),e.avail_out=s<A?257+(A-s):257-(s-A),k.hold=m,k.bits=x};const am=15,GT=852,VT=592,jT=0,JS=1,KT=2,$Y=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),eJ=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),tJ=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),nJ=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),iJ=(i,e,t,n,r,s,a,A)=>{const l=A.bits;let c=0,h=0,g=0,v=0,m=0,x=0,B=0,_=0,b=0,M=0,T,U,R,O,z,V=null,I;const P=new Uint16Array(am+1),k=new Uint16Array(am+1);let G=null,q,H,ae;for(c=0;c<=am;c++)P[c]=0;for(h=0;h<n;h++)P[e[t+h]]++;for(m=l,v=am;v>=1&&P[v]===0;v--);if(m>v&&(m=v),v===0)return r[s++]=1<<24|64<<16|0,r[s++]=1<<24|64<<16|0,A.bits=1,0;for(g=1;g<v&&P[g]===0;g++);for(m<g&&(m=g),_=1,c=1;c<=am;c++)if(_<<=1,_-=P[c],_<0)return-1;if(_>0&&(i===jT||v!==1))return-1;for(k[1]=0,c=1;c<am;c++)k[c+1]=k[c]+P[c];for(h=0;h<n;h++)e[t+h]!==0&&(a[k[e[t+h]]++]=h);if(i===jT?(V=G=a,I=20):i===JS?(V=$Y,G=eJ,I=257):(V=tJ,G=nJ,I=0),M=0,h=0,c=g,z=s,x=m,B=0,R=-1,b=1<<m,O=b-1,i===JS&&b>GT||i===KT&&b>VT)return 1;for(;;){q=c-B,a[h]+1<I?(H=0,ae=a[h]):a[h]>=I?(H=G[a[h]-I],ae=V[a[h]-I]):(H=96,ae=0),T=1<<c-B,U=1<<x,g=U;do U-=T,r[z+(M>>B)+U]=q<<24|H<<16|ae|0;while(U!==0);for(T=1<<c-1;M&T;)T>>=1;if(T!==0?(M&=T-1,M+=T):M=0,h++,--P[c]===0){if(c===v)break;c=e[t+a[h]]}if(c>m&&(M&O)!==R){for(B===0&&(B=m),z+=g,x=c-B,_=1<<x;x+B<v&&(_-=P[x+B],!(_<=0));)x++,_<<=1;if(b+=1<<x,i===JS&&b>GT||i===KT&&b>VT)return 1;R=M&O,r[R]=m<<24|x<<16|z-s|0}}return M!==0&&(r[z+M]=c-B<<24|64<<16|0),A.bits=m,0};var L1=iJ;const rJ=0,fN=1,hN=2,{Z_FINISH:WT,Z_BLOCK:sJ,Z_TREES:zw,Z_OK:jp,Z_STREAM_END:aJ,Z_NEED_DICT:oJ,Z_STREAM_ERROR:ju,Z_DATA_ERROR:dN,Z_MEM_ERROR:pN,Z_BUF_ERROR:AJ,Z_DEFLATED:qT}=lN,T_=16180,XT=16181,YT=16182,JT=16183,ZT=16184,$T=16185,e4=16186,t4=16187,n4=16188,i4=16189,bb=16190,rh=16191,ZS=16192,r4=16193,$S=16194,s4=16195,a4=16196,o4=16197,A4=16198,Gw=16199,Vw=16200,l4=16201,u4=16202,c4=16203,f4=16204,h4=16205,e2=16206,d4=16207,p4=16208,Rs=16209,gN=16210,mN=16211,lJ=852,uJ=592,cJ=15,fJ=cJ,g4=i=>(i>>>24&255)+(i>>>8&65280)+((i&65280)<<8)+((i&255)<<24);function hJ(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Jp=i=>{if(!i)return 1;const e=i.state;return!e||e.strm!==i||e.mode<T_||e.mode>mN?1:0},vN=i=>{if(Jp(i))return ju;const e=i.state;return i.total_in=i.total_out=e.total=0,i.msg="",e.wrap&&(i.adler=e.wrap&1),e.mode=T_,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(lJ),e.distcode=e.distdyn=new Int32Array(uJ),e.sane=1,e.back=-1,jp},yN=i=>{if(Jp(i))return ju;const e=i.state;return e.wsize=0,e.whave=0,e.wnext=0,vN(i)},wN=(i,e)=>{let t;if(Jp(i))return ju;const n=i.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ju:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,yN(i))},xN=(i,e)=>{if(!i)return ju;const t=new hJ;i.state=t,t.strm=i,t.window=null,t.mode=T_;const n=wN(i,e);return n!==jp&&(i.state=null),n},dJ=i=>xN(i,fJ);let m4=!0,t2,n2;const pJ=i=>{if(m4){t2=new Int32Array(512),n2=new Int32Array(32);let e=0;for(;e<144;)i.lens[e++]=8;for(;e<256;)i.lens[e++]=9;for(;e<280;)i.lens[e++]=7;for(;e<288;)i.lens[e++]=8;for(L1(fN,i.lens,0,288,t2,0,i.work,{bits:9}),e=0;e<32;)i.lens[e++]=5;L1(hN,i.lens,0,32,n2,0,i.work,{bits:5}),m4=!1}i.lencode=t2,i.lenbits=9,i.distcode=n2,i.distbits=5},bN=(i,e,t,n)=>{let r;const s=i.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(r=s.wsize-s.wnext,r>n&&(r=n),s.window.set(e.subarray(t-n,t-n+r),s.wnext),n-=r,n?(s.window.set(e.subarray(t-n,t),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0},gJ=(i,e)=>{let t,n,r,s,a,A,l,c,h,g,v,m,x,B,_=0,b,M,T,U,R,O,z,V;const I=new Uint8Array(4);let P,k;const G=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Jp(i)||!i.output||!i.input&&i.avail_in!==0)return ju;t=i.state,t.mode===rh&&(t.mode=ZS),a=i.next_out,r=i.output,l=i.avail_out,s=i.next_in,n=i.input,A=i.avail_in,c=t.hold,h=t.bits,g=A,v=l,V=jp;e:for(;;)switch(t.mode){case T_:if(t.wrap===0){t.mode=ZS;break}for(;h<16;){if(A===0)break e;A--,c+=n[s++]<<h,h+=8}if(t.wrap&2&&c===35615){t.wbits===0&&(t.wbits=15),t.check=0,I[0]=c&255,I[1]=c>>>8&255,t.check=cf(t.check,I,2,0),c=0,h=0,t.mode=XT;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((c&255)<<8)+(c>>8))%31){i.msg="incorrect header check",t.mode=Rs;break}if((c&15)!==qT){i.msg="unknown compression method",t.mode=Rs;break}if(c>>>=4,h-=4,z=(c&15)+8,t.wbits===0&&(t.wbits=z),z>15||z>t.wbits){i.msg="invalid window size",t.mode=Rs;break}t.dmax=1<<t.wbits,t.flags=0,i.adler=t.check=1,t.mode=c&512?i4:rh,c=0,h=0;break;case XT:for(;h<16;){if(A===0)break e;A--,c+=n[s++]<<h,h+=8}if(t.flags=c,(t.flags&255)!==qT){i.msg="unknown compression method",t.mode=Rs;break}if(t.flags&57344){i.msg="unknown header flags set",t.mode=Rs;break}t.head&&(t.head.text=c>>8&1),t.flags&512&&t.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,t.check=cf(t.check,I,2,0)),c=0,h=0,t.mode=YT;case YT:for(;h<32;){if(A===0)break e;A--,c+=n[s++]<<h,h+=8}t.head&&(t.head.time=c),t.flags&512&&t.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,I[2]=c>>>16&255,I[3]=c>>>24&255,t.check=cf(t.check,I,4,0)),c=0,h=0,t.mode=JT;case JT:for(;h<16;){if(A===0)break e;A--,c+=n[s++]<<h,h+=8}t.head&&(t.head.xflags=c&255,t.head.os=c>>8),t.flags&512&&t.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,t.check=cf(t.check,I,2,0)),c=0,h=0,t.mode=ZT;case ZT:if(t.flags&1024){for(;h<16;){if(A===0)break e;A--,c+=n[s++]<<h,h+=8}t.length=c,t.head&&(t.head.extra_len=c),t.flags&512&&t.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,t.check=cf(t.check,I,2,0)),c=0,h=0}else t.head&&(t.head.extra=null);t.mode=$T;case $T:if(t.flags&1024&&(m=t.length,m>A&&(m=A),m&&(t.head&&(z=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(s,s+m),z)),t.flags&512&&t.wrap&4&&(t.check=cf(t.check,n,m,s)),A-=m,s+=m,t.length-=m),t.length))break e;t.length=0,t.mode=e4;case e4:if(t.flags&2048){if(A===0)break e;m=0;do z=n[s+m++],t.head&&z&&t.length<65536&&(t.head.name+=String.fromCharCode(z));while(z&&m<A);if(t.flags&512&&t.wrap&4&&(t.check=cf(t.check,n,m,s)),A-=m,s+=m,z)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=t4;case t4:if(t.flags&4096){if(A===0)break e;m=0;do z=n[s+m++],t.head&&z&&t.length<65536&&(t.head.comment+=String.fromCharCode(z));while(z&&m<A);if(t.flags&512&&t.wrap&4&&(t.check=cf(t.check,n,m,s)),A-=m,s+=m,z)break e}else t.head&&(t.head.comment=null);t.mode=n4;case n4:if(t.flags&512){for(;h<16;){if(A===0)break e;A--,c+=n[s++]<<h,h+=8}if(t.wrap&4&&c!==(t.check&65535)){i.msg="header crc mismatch",t.mode=Rs;break}c=0,h=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),i.adler=t.check=0,t.mode=rh;break;case i4:for(;h<32;){if(A===0)break e;A--,c+=n[s++]<<h,h+=8}i.adler=t.check=g4(c),c=0,h=0,t.mode=bb;case bb:if(t.havedict===0)return i.next_out=a,i.avail_out=l,i.next_in=s,i.avail_in=A,t.hold=c,t.bits=h,oJ;i.adler=t.check=1,t.mode=rh;case rh:if(e===sJ||e===zw)break e;case ZS:if(t.last){c>>>=h&7,h-=h&7,t.mode=e2;break}for(;h<3;){if(A===0)break e;A--,c+=n[s++]<<h,h+=8}switch(t.last=c&1,c>>>=1,h-=1,c&3){case 0:t.mode=r4;break;case 1:if(pJ(t),t.mode=Gw,e===zw){c>>>=2,h-=2;break e}break;case 2:t.mode=a4;break;case 3:i.msg="invalid block type",t.mode=Rs}c>>>=2,h-=2;break;case r4:for(c>>>=h&7,h-=h&7;h<32;){if(A===0)break e;A--,c+=n[s++]<<h,h+=8}if((c&65535)!==(c>>>16^65535)){i.msg="invalid stored block lengths",t.mode=Rs;break}if(t.length=c&65535,c=0,h=0,t.mode=$S,e===zw)break e;case $S:t.mode=s4;case s4:if(m=t.length,m){if(m>A&&(m=A),m>l&&(m=l),m===0)break e;r.set(n.subarray(s,s+m),a),A-=m,s+=m,l-=m,a+=m,t.length-=m;break}t.mode=rh;break;case a4:for(;h<14;){if(A===0)break e;A--,c+=n[s++]<<h,h+=8}if(t.nlen=(c&31)+257,c>>>=5,h-=5,t.ndist=(c&31)+1,c>>>=5,h-=5,t.ncode=(c&15)+4,c>>>=4,h-=4,t.nlen>286||t.ndist>30){i.msg="too many length or distance symbols",t.mode=Rs;break}t.have=0,t.mode=o4;case o4:for(;t.have<t.ncode;){for(;h<3;){if(A===0)break e;A--,c+=n[s++]<<h,h+=8}t.lens[G[t.have++]]=c&7,c>>>=3,h-=3}for(;t.have<19;)t.lens[G[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,P={bits:t.lenbits},V=L1(rJ,t.lens,0,19,t.lencode,0,t.work,P),t.lenbits=P.bits,V){i.msg="invalid code lengths set",t.mode=Rs;break}t.have=0,t.mode=A4;case A4:for(;t.have<t.nlen+t.ndist;){for(;_=t.lencode[c&(1<<t.lenbits)-1],b=_>>>24,M=_>>>16&255,T=_&65535,!(b<=h);){if(A===0)break e;A--,c+=n[s++]<<h,h+=8}if(T<16)c>>>=b,h-=b,t.lens[t.have++]=T;else{if(T===16){for(k=b+2;h<k;){if(A===0)break e;A--,c+=n[s++]<<h,h+=8}if(c>>>=b,h-=b,t.have===0){i.msg="invalid bit length repeat",t.mode=Rs;break}z=t.lens[t.have-1],m=3+(c&3),c>>>=2,h-=2}else if(T===17){for(k=b+3;h<k;){if(A===0)break e;A--,c+=n[s++]<<h,h+=8}c>>>=b,h-=b,z=0,m=3+(c&7),c>>>=3,h-=3}else{for(k=b+7;h<k;){if(A===0)break e;A--,c+=n[s++]<<h,h+=8}c>>>=b,h-=b,z=0,m=11+(c&127),c>>>=7,h-=7}if(t.have+m>t.nlen+t.ndist){i.msg="invalid bit length repeat",t.mode=Rs;break}for(;m--;)t.lens[t.have++]=z}}if(t.mode===Rs)break;if(t.lens[256]===0){i.msg="invalid code -- missing end-of-block",t.mode=Rs;break}if(t.lenbits=9,P={bits:t.lenbits},V=L1(fN,t.lens,0,t.nlen,t.lencode,0,t.work,P),t.lenbits=P.bits,V){i.msg="invalid literal/lengths set",t.mode=Rs;break}if(t.distbits=6,t.distcode=t.distdyn,P={bits:t.distbits},V=L1(hN,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,P),t.distbits=P.bits,V){i.msg="invalid distances set",t.mode=Rs;break}if(t.mode=Gw,e===zw)break e;case Gw:t.mode=Vw;case Vw:if(A>=6&&l>=258){i.next_out=a,i.avail_out=l,i.next_in=s,i.avail_in=A,t.hold=c,t.bits=h,ZY(i,v),a=i.next_out,r=i.output,l=i.avail_out,s=i.next_in,n=i.input,A=i.avail_in,c=t.hold,h=t.bits,t.mode===rh&&(t.back=-1);break}for(t.back=0;_=t.lencode[c&(1<<t.lenbits)-1],b=_>>>24,M=_>>>16&255,T=_&65535,!(b<=h);){if(A===0)break e;A--,c+=n[s++]<<h,h+=8}if(M&&(M&240)===0){for(U=b,R=M,O=T;_=t.lencode[O+((c&(1<<U+R)-1)>>U)],b=_>>>24,M=_>>>16&255,T=_&65535,!(U+b<=h);){if(A===0)break e;A--,c+=n[s++]<<h,h+=8}c>>>=U,h-=U,t.back+=U}if(c>>>=b,h-=b,t.back+=b,t.length=T,M===0){t.mode=h4;break}if(M&32){t.back=-1,t.mode=rh;break}if(M&64){i.msg="invalid literal/length code",t.mode=Rs;break}t.extra=M&15,t.mode=l4;case l4:if(t.extra){for(k=t.extra;h<k;){if(A===0)break e;A--,c+=n[s++]<<h,h+=8}t.length+=c&(1<<t.extra)-1,c>>>=t.extra,h-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=u4;case u4:for(;_=t.distcode[c&(1<<t.distbits)-1],b=_>>>24,M=_>>>16&255,T=_&65535,!(b<=h);){if(A===0)break e;A--,c+=n[s++]<<h,h+=8}if((M&240)===0){for(U=b,R=M,O=T;_=t.distcode[O+((c&(1<<U+R)-1)>>U)],b=_>>>24,M=_>>>16&255,T=_&65535,!(U+b<=h);){if(A===0)break e;A--,c+=n[s++]<<h,h+=8}c>>>=U,h-=U,t.back+=U}if(c>>>=b,h-=b,t.back+=b,M&64){i.msg="invalid distance code",t.mode=Rs;break}t.offset=T,t.extra=M&15,t.mode=c4;case c4:if(t.extra){for(k=t.extra;h<k;){if(A===0)break e;A--,c+=n[s++]<<h,h+=8}t.offset+=c&(1<<t.extra)-1,c>>>=t.extra,h-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){i.msg="invalid distance too far back",t.mode=Rs;break}t.mode=f4;case f4:if(l===0)break e;if(m=v-l,t.offset>m){if(m=t.offset-m,m>t.whave&&t.sane){i.msg="invalid distance too far back",t.mode=Rs;break}m>t.wnext?(m-=t.wnext,x=t.wsize-m):x=t.wnext-m,m>t.length&&(m=t.length),B=t.window}else B=r,x=a-t.offset,m=t.length;m>l&&(m=l),l-=m,t.length-=m;do r[a++]=B[x++];while(--m);t.length===0&&(t.mode=Vw);break;case h4:if(l===0)break e;r[a++]=t.length,l--,t.mode=Vw;break;case e2:if(t.wrap){for(;h<32;){if(A===0)break e;A--,c|=n[s++]<<h,h+=8}if(v-=l,i.total_out+=v,t.total+=v,t.wrap&4&&v&&(i.adler=t.check=t.flags?cf(t.check,r,v,a-v):SC(t.check,r,v,a-v)),v=l,t.wrap&4&&(t.flags?c:g4(c))!==t.check){i.msg="incorrect data check",t.mode=Rs;break}c=0,h=0}t.mode=d4;case d4:if(t.wrap&&t.flags){for(;h<32;){if(A===0)break e;A--,c+=n[s++]<<h,h+=8}if(t.wrap&4&&c!==(t.total&4294967295)){i.msg="incorrect length check",t.mode=Rs;break}c=0,h=0}t.mode=p4;case p4:V=aJ;break e;case Rs:V=dN;break e;case gN:return pN;case mN:default:return ju}return i.next_out=a,i.avail_out=l,i.next_in=s,i.avail_in=A,t.hold=c,t.bits=h,(t.wsize||v!==i.avail_out&&t.mode<Rs&&(t.mode<e2||e!==WT))&&bN(i,i.output,i.next_out,v-i.avail_out),g-=i.avail_in,v-=i.avail_out,i.total_in+=g,i.total_out+=v,t.total+=v,t.wrap&4&&v&&(i.adler=t.check=t.flags?cf(t.check,r,v,i.next_out-v):SC(t.check,r,v,i.next_out-v)),i.data_type=t.bits+(t.last?64:0)+(t.mode===rh?128:0)+(t.mode===Gw||t.mode===$S?256:0),(g===0&&v===0||e===WT)&&V===jp&&(V=AJ),V},mJ=i=>{if(Jp(i))return ju;let e=i.state;return e.window&&(e.window=null),i.state=null,jp},vJ=(i,e)=>{if(Jp(i))return ju;const t=i.state;return(t.wrap&2)===0?ju:(t.head=e,e.done=!1,jp)},yJ=(i,e)=>{const t=e.length;let n,r,s;return Jp(i)||(n=i.state,n.wrap!==0&&n.mode!==bb)?ju:n.mode===bb&&(r=1,r=SC(r,e,t,0),r!==n.check)?dN:(s=bN(i,e,t,t),s?(n.mode=gN,pN):(n.havedict=1,jp))};var wJ=yN,xJ=wN,bJ=vN,_J=dJ,BJ=xN,SJ=gJ,CJ=mJ,EJ=vJ,MJ=yJ,UJ="pako inflate (from Nodeca project)",oh={inflateReset:wJ,inflateReset2:xJ,inflateResetKeep:bJ,inflateInit:_J,inflateInit2:BJ,inflate:SJ,inflateEnd:CJ,inflateGetHeader:EJ,inflateSetDictionary:MJ,inflateInfo:UJ};function TJ(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var FJ=TJ;const _N=Object.prototype.toString,{Z_NO_FLUSH:LJ,Z_FINISH:IJ,Z_OK:rv,Z_STREAM_END:i2,Z_NEED_DICT:r2,Z_STREAM_ERROR:RJ,Z_DATA_ERROR:v4,Z_MEM_ERROR:NJ}=lN;function Cv(i){this.options=uN.assign({chunkSize:1024*64,windowBits:15,to:""},i||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(i&&i.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new YY,this.strm.avail_out=0;let t=oh.inflateInit2(this.strm,e.windowBits);if(t!==rv)throw new Error(CC[t]);if(this.header=new FJ,oh.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=EC.string2buf(e.dictionary):_N.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=oh.inflateSetDictionary(this.strm,e.dictionary),t!==rv)))throw new Error(CC[t])}Cv.prototype.push=function(i,e){const t=this.strm,n=this.options.chunkSize,r=this.options.dictionary;let s,a,A;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?IJ:LJ,_N.call(i)==="[object ArrayBuffer]"?t.input=new Uint8Array(i):t.input=i,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),s=oh.inflate(t,a),s===r2&&r&&(s=oh.inflateSetDictionary(t,r),s===rv?s=oh.inflate(t,a):s===v4&&(s=r2));t.avail_in>0&&s===i2&&t.state.wrap>0&&i[t.next_in]!==0;)oh.inflateReset(t),s=oh.inflate(t,a);switch(s){case RJ:case v4:case r2:case NJ:return this.onEnd(s),this.ended=!0,!1}if(A=t.avail_out,t.next_out&&(t.avail_out===0||s===i2))if(this.options.to==="string"){let l=EC.utf8border(t.output,t.next_out),c=t.next_out-l,h=EC.buf2string(t.output,l);t.next_out=c,t.avail_out=n-c,c&&t.output.set(t.output.subarray(l,l+c),0),this.onData(h)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===rv&&A===0)){if(s===i2)return s=oh.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Cv.prototype.onData=function(i){this.chunks.push(i)};Cv.prototype.onEnd=function(i){i===rv&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=uN.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};function DJ(i,e){const t=new Cv(e);if(t.push(i),t.err)throw t.msg||CC[t.err];return t.result}var OJ=Cv,PJ=DJ,QJ={Inflate:OJ,inflate:PJ};const{Inflate:HJ,inflate:kJ}=QJ;var y4=HJ,zJ=kJ;const BN=[];for(let i=0;i<256;i++){let e=i;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;BN[i]=e}const w4=4294967295;function GJ(i,e,t){let n=i;for(let r=0;r<t;r++)n=BN[(n^e[r])&255]^n>>>8;return n}function VJ(i,e){return(GJ(w4,i,e)^w4)>>>0}function x4(i,e,t){const n=i.readUint32(),r=VJ(new Uint8Array(i.buffer,i.byteOffset+i.offset-e-4,e),e);if(r!==n)throw new Error(`CRC mismatch for chunk ${t}. Expected ${n}, found ${r}`)}function SN(i,e,t){for(let n=0;n<t;n++)e[n]=i[n]}function CN(i,e,t,n){let r=0;for(;r<n;r++)e[r]=i[r];for(;r<t;r++)e[r]=i[r]+e[r-n]&255}function EN(i,e,t,n){let r=0;if(t.length===0)for(;r<n;r++)e[r]=i[r];else for(;r<n;r++)e[r]=i[r]+t[r]&255}function MN(i,e,t,n,r){let s=0;if(t.length===0){for(;s<r;s++)e[s]=i[s];for(;s<n;s++)e[s]=i[s]+(e[s-r]>>1)&255}else{for(;s<r;s++)e[s]=i[s]+(t[s]>>1)&255;for(;s<n;s++)e[s]=i[s]+(e[s-r]+t[s]>>1)&255}}function UN(i,e,t,n,r){let s=0;if(t.length===0){for(;s<r;s++)e[s]=i[s];for(;s<n;s++)e[s]=i[s]+e[s-r]&255}else{for(;s<r;s++)e[s]=i[s]+t[s]&255;for(;s<n;s++)e[s]=i[s]+jJ(e[s-r],t[s],t[s-r])&255}}function jJ(i,e,t){const n=i+e-t,r=Math.abs(n-i),s=Math.abs(n-e),a=Math.abs(n-t);return r<=s&&r<=a?i:s<=a?e:t}function KJ(i,e,t,n,r,s){switch(i){case 0:SN(e,t,r);break;case 1:CN(e,t,r,s);break;case 2:EN(e,t,n,r);break;case 3:MN(e,t,n,r,s);break;case 4:UN(e,t,n,r,s);break;default:throw new Error(`Unsupported filter: ${i}`)}}const WJ=new Uint16Array([255]),qJ=new Uint8Array(WJ.buffer),XJ=qJ[0]===255;function YJ(i){const{data:e,width:t,height:n,channels:r,depth:s}=i,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],A=Math.ceil(s/8)*r,l=new Uint8Array(n*t*A);let c=0;for(let h=0;h<7;h++){const g=a[h],v=Math.ceil((t-g.x)/g.xStep),m=Math.ceil((n-g.y)/g.yStep);if(v<=0||m<=0)continue;const x=v*A,B=new Uint8Array(x);for(let _=0;_<m;_++){const b=e[c++],M=e.subarray(c,c+x);c+=x;const T=new Uint8Array(x);KJ(b,M,T,B,x,A),B.set(T);for(let U=0;U<v;U++){const R=g.x+U*g.xStep,O=g.y+_*g.yStep;if(!(R>=t||O>=n))for(let z=0;z<A;z++)l[(O*t+R)*A+z]=T[U*A+z]}}}if(s===16){const h=new Uint16Array(l.buffer);if(XJ)for(let g=0;g<h.length;g++)h[g]=JJ(h[g]);return h}else return l}function JJ(i){return(i&255)<<8|i>>8&255}const ZJ=new Uint16Array([255]),$J=new Uint8Array(ZJ.buffer),eZ=$J[0]===255,tZ=new Uint8Array(0);function b4(i){const{data:e,width:t,height:n,channels:r,depth:s}=i,a=Math.ceil(s/8)*r,A=Math.ceil(s/8*r*t),l=new Uint8Array(n*A);let c=tZ,h=0,g,v;for(let m=0;m<n;m++){switch(g=e.subarray(h+1,h+1+A),v=l.subarray(m*A,(m+1)*A),e[h]){case 0:SN(g,v,A);break;case 1:CN(g,v,A,a);break;case 2:EN(g,v,c,A);break;case 3:MN(g,v,c,A,a);break;case 4:UN(g,v,c,A,a);break;default:throw new Error(`Unsupported filter: ${e[h]}`)}c=v,h+=A+1}if(s===16){const m=new Uint16Array(l.buffer);if(eZ)for(let x=0;x<m.length;x++)m[x]=nZ(m[x]);return m}else return l}function nZ(i){return(i&255)<<8|i>>8&255}const ox=Uint8Array.of(137,80,78,71,13,10,26,10);function _4(i){if(!iZ(i.readBytes(ox.length)))throw new Error("wrong PNG signature")}function iZ(i){if(i.length<ox.length)return!1;for(let e=0;e<ox.length;e++)if(i[e]!==ox[e])return!1;return!0}const rZ="tEXt",sZ=0,TN=new TextDecoder("latin1");function aZ(i){if(AZ(i),i.length===0||i.length>79)throw new Error("keyword length must be between 1 and 79")}const oZ=/^[\u0000-\u00FF]*$/;function AZ(i){if(!oZ.test(i))throw new Error("invalid latin1 text")}function lZ(i,e,t){const n=FN(e);i[n]=uZ(e,t-n.length-1)}function FN(i){for(i.mark();i.readByte()!==sZ;);const e=i.offset;i.reset();const t=TN.decode(i.readBytes(e-i.offset-1));return i.skip(1),aZ(t),t}function uZ(i,e){return TN.decode(i.readBytes(e))}const iu={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},s2={UNKNOWN:-1,DEFLATE:0},B4={UNKNOWN:-1,ADAPTIVE:0},a2={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},jw={NONE:0,BACKGROUND:1,PREVIOUS:2},o2={SOURCE:0,OVER:1};class cZ extends t5{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:n=!1}=t;this._checkCrc=n,this._inflator=new y4,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=s2.UNKNOWN,this._filterMethod=B4.UNKNOWN,this._interlaceMethod=a2.UNKNOWN,this._colorType=iu.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(_4(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(_4(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const n=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case rZ:lZ(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?x4(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const n=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=n+e;break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?x4(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=fZ(this.readUint8());const t=this.readUint8();this._colorType=t;let n;switch(t){case iu.GREYSCALE:n=1;break;case iu.TRUECOLOUR:n=3;break;case iu.INDEXED_COLOUR:n=1;break;case iu.GREYSCALE_ALPHA:n=2;break;case iu.TRUECOLOUR_ALPHA:n=4;break;case iu.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==s2.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let r=0;r<t;r++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,n=this.offset+this.byteOffset;if(n+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case iu.GREYSCALE:case iu.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case iu.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const n=this.readByte();this._palette[t].push(n)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case iu.UNKNOWN:case iu.GREYSCALE_ALPHA:case iu.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=FN(this),n=this.readUint8();if(n!==s2.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const r=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:zJ(r)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:t,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=b4({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)t.data=n.data;else{const r=this._apng.frames.at(e-1);this.disposeFrame(n,r,t),this.addFrameDataToCanvas(t,n)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,n){switch(e.disposeOp){case jw.NONE:break;case jw.BACKGROUND:for(let r=0;r<this._png.height;r++)for(let s=0;s<this._png.width;s++){const a=(r*e.width+s)*this._png.channels;for(let A=0;A<this._png.channels;A++)n.data[a+A]=0}break;case jw.PREVIOUS:n.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const n=1<<this._png.depth,r=(s,a)=>{const A=((s+t.yOffset)*this._png.width+t.xOffset+a)*this._png.channels,l=(s*t.width+a)*this._png.channels;return{index:A,frameIndex:l}};switch(t.blendOp){case o2.SOURCE:for(let s=0;s<t.height;s++)for(let a=0;a<t.width;a++){const{index:A,frameIndex:l}=r(s,a);for(let c=0;c<this._png.channels;c++)e.data[A+c]=t.data[l+c]}break;case o2.OVER:for(let s=0;s<t.height;s++)for(let a=0;a<t.width;a++){const{index:A,frameIndex:l}=r(s,a);for(let c=0;c<this._png.channels;c++){const h=t.data[l+this._png.channels-1]/n,g=c%(this._png.channels-1)===0?1:t.data[l+c],v=Math.floor(h*g+(1-h)*e.data[A+c]);e.data[A+c]+=v}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==B4.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===a2.NO_INTERLACE)this._png.data=b4({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===a2.ADAM7)this._png.data=YJ({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:jw.NONE,blendOp:o2.SOURCE,data:e}),this._inflator=new y4,this._writingDataChunks=!1}}function fZ(i){if(i!==1&&i!==2&&i!==4&&i!==8&&i!==16)throw new Error(`invalid bit depth: ${i}`);return i}var S4;(function(i){i[i.UNKNOWN=0]="UNKNOWN",i[i.METRE=1]="METRE"})(S4||(S4={}));function hZ(i,e){return new cZ(i,e).decode()}var Jn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function A2(){Jn.console&&typeof Jn.console.log=="function"&&Jn.console.log.apply(Jn.console,arguments)}var Zr={log:A2,warn:function(i){Jn.console&&(typeof Jn.console.warn=="function"?Jn.console.warn.apply(Jn.console,arguments):A2.call(null,arguments))},error:function(i){Jn.console&&(typeof Jn.console.error=="function"?Jn.console.error.apply(Jn.console,arguments):A2(i))}};function l2(i,e,t){var n=new XMLHttpRequest;n.open("GET",i),n.responseType="blob",n.onload=function(){vp(n.response,e,t)},n.onerror=function(){Zr.error("could not download file")},n.send()}function C4(i){var e=new XMLHttpRequest;e.open("HEAD",i,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Kw(i){try{i.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),i.dispatchEvent(e)}}var vp=Jn.saveAs||((typeof window>"u"?"undefined":Dr(window))!=="object"||window!==Jn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(i,e,t){var n=Jn.URL||Jn.webkitURL,r=document.createElement("a");e=e||i.name||"download",r.download=e,r.rel="noopener",typeof i=="string"?(r.href=i,r.origin!==location.origin?C4(r.href)?l2(i,e,t):Kw(r,r.target="_blank"):Kw(r)):(r.href=n.createObjectURL(i),setTimeout(function(){n.revokeObjectURL(r.href)},4e4),setTimeout(function(){Kw(r)},0))}:"msSaveOrOpenBlob"in navigator?function(i,e,t){if(e=e||i.name||"download",typeof i=="string")if(C4(i))l2(i,e,t);else{var n=document.createElement("a");n.href=i,n.target="_blank",setTimeout(function(){Kw(n)})}else navigator.msSaveOrOpenBlob((function(r,s){return s===void 0?s={autoBom:!1}:Dr(s)!=="object"&&(Zr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r})(i,t),e)}:function(i,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof i=="string")return l2(i,e,t);var r=i.type==="application/octet-stream",s=/constructor/i.test(Jn.HTMLElement)||Jn.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||r&&s)&&(typeof FileReader>"u"?"undefined":Dr(FileReader))==="object"){var A=new FileReader;A.onloadend=function(){var h=A.result;h=a?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},A.readAsDataURL(i)}else{var l=Jn.URL||Jn.webkitURL,c=l.createObjectURL(i);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function LN(i){var e;i=i||"",this.ok=!1,i.charAt(0)=="#"&&(i=i.substr(1,6)),i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[i=(i=i.replace(/ /g,"")).toLowerCase()]||i;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(A){return[parseInt(A[1]),parseInt(A[2]),parseInt(A[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(A){return[parseInt(A[1],16),parseInt(A[2],16),parseInt(A[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(A){return[parseInt(A[1]+A[1],16),parseInt(A[2]+A[2],16),parseInt(A[3]+A[3],16)]}}],n=0;n<t.length;n++){var r=t[n].re,s=t[n].process,a=r.exec(i);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var A=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return A.length==1&&(A="0"+A),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+A+l+c}}var Ax=Jn.atob.bind(Jn),E4=Jn.btoa.bind(Jn);function u2(i,e){var t=i[0],n=i[1],r=i[2],s=i[3];t=fA(t,n,r,s,e[0],7,-680876936),s=fA(s,t,n,r,e[1],12,-389564586),r=fA(r,s,t,n,e[2],17,606105819),n=fA(n,r,s,t,e[3],22,-1044525330),t=fA(t,n,r,s,e[4],7,-176418897),s=fA(s,t,n,r,e[5],12,1200080426),r=fA(r,s,t,n,e[6],17,-1473231341),n=fA(n,r,s,t,e[7],22,-45705983),t=fA(t,n,r,s,e[8],7,1770035416),s=fA(s,t,n,r,e[9],12,-1958414417),r=fA(r,s,t,n,e[10],17,-42063),n=fA(n,r,s,t,e[11],22,-1990404162),t=fA(t,n,r,s,e[12],7,1804603682),s=fA(s,t,n,r,e[13],12,-40341101),r=fA(r,s,t,n,e[14],17,-1502002290),t=hA(t,n=fA(n,r,s,t,e[15],22,1236535329),r,s,e[1],5,-165796510),s=hA(s,t,n,r,e[6],9,-1069501632),r=hA(r,s,t,n,e[11],14,643717713),n=hA(n,r,s,t,e[0],20,-373897302),t=hA(t,n,r,s,e[5],5,-701558691),s=hA(s,t,n,r,e[10],9,38016083),r=hA(r,s,t,n,e[15],14,-660478335),n=hA(n,r,s,t,e[4],20,-405537848),t=hA(t,n,r,s,e[9],5,568446438),s=hA(s,t,n,r,e[14],9,-1019803690),r=hA(r,s,t,n,e[3],14,-187363961),n=hA(n,r,s,t,e[8],20,1163531501),t=hA(t,n,r,s,e[13],5,-1444681467),s=hA(s,t,n,r,e[2],9,-51403784),r=hA(r,s,t,n,e[7],14,1735328473),t=dA(t,n=hA(n,r,s,t,e[12],20,-1926607734),r,s,e[5],4,-378558),s=dA(s,t,n,r,e[8],11,-2022574463),r=dA(r,s,t,n,e[11],16,1839030562),n=dA(n,r,s,t,e[14],23,-35309556),t=dA(t,n,r,s,e[1],4,-1530992060),s=dA(s,t,n,r,e[4],11,1272893353),r=dA(r,s,t,n,e[7],16,-155497632),n=dA(n,r,s,t,e[10],23,-1094730640),t=dA(t,n,r,s,e[13],4,681279174),s=dA(s,t,n,r,e[0],11,-358537222),r=dA(r,s,t,n,e[3],16,-722521979),n=dA(n,r,s,t,e[6],23,76029189),t=dA(t,n,r,s,e[9],4,-640364487),s=dA(s,t,n,r,e[12],11,-421815835),r=dA(r,s,t,n,e[15],16,530742520),t=pA(t,n=dA(n,r,s,t,e[2],23,-995338651),r,s,e[0],6,-198630844),s=pA(s,t,n,r,e[7],10,1126891415),r=pA(r,s,t,n,e[14],15,-1416354905),n=pA(n,r,s,t,e[5],21,-57434055),t=pA(t,n,r,s,e[12],6,1700485571),s=pA(s,t,n,r,e[3],10,-1894986606),r=pA(r,s,t,n,e[10],15,-1051523),n=pA(n,r,s,t,e[1],21,-2054922799),t=pA(t,n,r,s,e[8],6,1873313359),s=pA(s,t,n,r,e[15],10,-30611744),r=pA(r,s,t,n,e[6],15,-1560198380),n=pA(n,r,s,t,e[13],21,1309151649),t=pA(t,n,r,s,e[4],6,-145523070),s=pA(s,t,n,r,e[11],10,-1120210379),r=pA(r,s,t,n,e[2],15,718787259),n=pA(n,r,s,t,e[9],21,-343485551),i[0]=hd(t,i[0]),i[1]=hd(n,i[1]),i[2]=hd(r,i[2]),i[3]=hd(s,i[3])}function F_(i,e,t,n,r,s){return e=hd(hd(e,i),hd(n,s)),hd(e<<r|e>>>32-r,t)}function fA(i,e,t,n,r,s,a){return F_(e&t|~e&n,i,e,r,s,a)}function hA(i,e,t,n,r,s,a){return F_(e&n|t&~n,i,e,r,s,a)}function dA(i,e,t,n,r,s,a){return F_(e^t^n,i,e,r,s,a)}function pA(i,e,t,n,r,s,a){return F_(t^(e|~n),i,e,r,s,a)}function IN(i){var e,t=i.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=i.length;e+=64)u2(n,dZ(i.substring(e-64,e)));i=i.substring(e-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<i.length;e++)r[e>>2]|=i.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(u2(n,r),e=0;e<16;e++)r[e]=0;return r[14]=8*t,u2(n,r),n}function dZ(i){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=i.charCodeAt(e)+(i.charCodeAt(e+1)<<8)+(i.charCodeAt(e+2)<<16)+(i.charCodeAt(e+3)<<24);return t}var M4="0123456789abcdef".split("");function pZ(i){for(var e="",t=0;t<4;t++)e+=M4[i>>8*t+4&15]+M4[i>>8*t&15];return e}function gZ(i){return String.fromCharCode(255&i,(65280&i)>>8,(16711680&i)>>16,(4278190080&i)>>24)}function MC(i){return IN(i).map(gZ).join("")}var mZ=(function(i){for(var e=0;e<i.length;e++)i[e]=pZ(i[e]);return i.join("")})(IN("hello"))!="5d41402abc4b2a76b9719d911017c592";function hd(i,e){if(mZ){var t=(65535&i)+(65535&e);return(i>>16)+(e>>16)+(t>>16)<<16|65535&t}return i+e&4294967295}function UC(i,e){var t,n,r,s;if(i!==t){for(var a=(r=i,s=1+(256/i.length|0),new Array(s+1).join(r)),A=[],l=0;l<256;l++)A[l]=l;var c=0;for(l=0;l<256;l++){var h=A[l];c=(c+h+a.charCodeAt(l))%256,A[l]=A[c],A[c]=h}t=i,n=A}else A=n;var g=e.length,v=0,m=0,x="";for(l=0;l<g;l++)m=(m+(h=A[v=(v+1)%256]))%256,A[v]=A[m],A[m]=h,a=A[(A[v]+A[m])%256],x+=String.fromCharCode(e.charCodeAt(l)^a);return x}var U4={print:4,modify:8,copy:16,"annot-forms":32};function fm(i,e,t,n){this.v=1,this.r=2;var r=192;i.forEach(function(A){if(U4.perm!==void 0)throw new Error("Invalid permission: "+A);r+=U4[A]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^r)),this.encryptionKey=MC(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=UC(this.encryptionKey,this.padding)}function hm(i){if(/[^\u0000-\u00ff]/.test(i))throw new Error("Invalid PDF Name Object: "+i+", Only accept ASCII characters.");for(var e="",t=i.length,n=0;n<t;n++){var r=i.charCodeAt(n);e+=r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?"#"+("0"+r.toString(16)).slice(-2):i[n]}return e}function T4(i){if(Dr(i)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,r){if(r=r||!1,typeof t!="string"||typeof n!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[n,!!r],s},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),r=[];for(var s in e[t]){var a=e[t][s];try{a[0].apply(i,n)}catch(A){Jn.console&&Zr.error("jsPDF PubSub Error",A.message,A)}a[1]&&r.push(s)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function _b(i){if(!(this instanceof _b))return new _b(i);var e="opacity,stroke-opacity".split(",");for(var t in i)i.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=i[t]);this.id="",this.objectNumber=-1}function RN(i,e){this.gState=i,this.matrix=e,this.id="",this.objectNumber=-1}function xp(i,e,t,n,r){if(!(this instanceof xp))return new xp(i,e,t,n,r);this.type=i==="axial"?2:3,this.coords=e,this.colors=t,RN.call(this,n,r)}function mm(i,e,t,n,r){if(!(this instanceof mm))return new mm(i,e,t,n,r);this.boundingBox=i,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,RN.call(this,n,r)}function Tn(i){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],r=arguments[2],s=arguments[3],a=[],A=1,l=16,c="S",h=null;Dr(i=i||{})==="object"&&(t=i.orientation,n=i.unit||n,r=i.format||r,s=i.compress||i.compressPdf||s,(h=i.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),A=typeof i.userUnit=="number"?Math.abs(i.userUnit):1,i.precision!==void 0&&(e=i.precision),i.floatPrecision!==void 0&&(l=i.floatPrecision),c=i.defaultPathOperation||"S"),a=i.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",t=(""+(t||"P")).toLowerCase();var g=i.putOnlyUsedFonts||!1,v={},m={internal:{},__private__:{}};m.__private__.PubSub=T4;var x="1.3",B=m.__private__.getPdfVersion=function(){return x};m.__private__.setPdfVersion=function(D){x=D};var _={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return _};var b=m.__private__.getPageFormat=function(D){return _[D]};r=r||"a4";var M="compat",T="advanced",U=M;function R(){this.saveGraphicsState(),re(new qt(At,0,0,-At,0,Yo()*At).toString()+" cm"),this.setFontSize(this.getFontSize()/At),c="n",U=T}function O(){this.restoreGraphicsState(),c="S",U=M}var z=m.__private__.combineFontStyleAndFontWeight=function(D,le){if(D=="bold"&&le=="normal"||D=="bold"&&le==400||D=="normal"&&le=="italic"||D=="bold"&&le=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return le&&(D=le==400||le==="normal"?D==="italic"?"italic":"normal":le!=700&&le!=="bold"||D!=="normal"?(le==700?"bold":le)+""+D:"bold"),D};m.advancedAPI=function(D){var le=U===M;return le&&R.call(this),typeof D!="function"||(D(this),le&&O.call(this)),this},m.compatAPI=function(D){var le=U===T;return le&&O.call(this),typeof D!="function"||(D(this),le&&R.call(this)),this},m.isAdvancedAPI=function(){return U===T};var V,I=function(D){if(U!==T)throw new Error(D+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},P=m.roundToPrecision=m.__private__.roundToPrecision=function(D,le){var Ue=e||le;if(isNaN(D)||isNaN(Ue))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return D.toFixed(Ue).replace(/0+$/,"")};V=m.hpf=m.__private__.hpf=typeof l=="number"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return P(D,l)}:l==="smart"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return P(D,D>-1&&D<1?16:5)}:function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return P(D,16)};var k=m.f2=m.__private__.f2=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f2");return P(D,2)},G=m.__private__.f3=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f3");return P(D,3)},q=m.scale=m.__private__.scale=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.scale");return U===M?D*At:U===T?D:void 0},H=function(D){return q((function(le){return U===M?Yo()-le:U===T?le:void 0})(D))};m.__private__.setPrecision=m.setPrecision=function(D){typeof parseInt(D,10)=="number"&&(e=parseInt(D,10))};var ae,Z="00000000000000000000000000000000",ne=m.__private__.getFileId=function(){return Z},oe=m.__private__.setFileId=function(D){return Z=D!==void 0&&/^[a-fA-F0-9]{32}$/.test(D)?D.toUpperCase():Z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Cn=new fm(h.userPermissions,h.userPassword,h.ownerPassword,Z)),Z};m.setFileId=function(D){return oe(D),this},m.getFileId=function(){return ne()};var fe=m.__private__.convertDateToPDFDate=function(D){var le=D.getTimezoneOffset(),Ue=le<0?"+":"-",Pe=Math.floor(Math.abs(le/60)),st=Math.abs(le%60),Ft=[Ue,Y(Pe),"'",Y(st),"'"].join("");return["D:",D.getFullYear(),Y(D.getMonth()+1),Y(D.getDate()),Y(D.getHours()),Y(D.getMinutes()),Y(D.getSeconds()),Ft].join("")},me=m.__private__.convertPDFDateToDate=function(D){var le=parseInt(D.substr(2,4),10),Ue=parseInt(D.substr(6,2),10)-1,Pe=parseInt(D.substr(8,2),10),st=parseInt(D.substr(10,2),10),Ft=parseInt(D.substr(12,2),10),Pt=parseInt(D.substr(14,2),10);return new Date(le,Ue,Pe,st,Ft,Pt,0)},W=m.__private__.setCreationDate=function(D){var le;if(D===void 0&&(D=new Date),D instanceof Date)le=fe(D);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(D))throw new Error("Invalid argument passed to jsPDF.setCreationDate");le=D}return ae=le},Q=m.__private__.getCreationDate=function(D){var le=ae;return D==="jsDate"&&(le=me(ae)),le};m.setCreationDate=function(D){return W(D),this},m.getCreationDate=function(D){return Q(D)};var X,Y=m.__private__.padd2=function(D){return("0"+parseInt(D)).slice(-2)},ie=m.__private__.padd2Hex=function(D){return("00"+(D=D.toString())).substr(D.length)},te=0,se=[],ye=[],xe=0,Fe=[],Ne=[],ze=!1,it=ye;m.__private__.setCustomOutputDestination=function(D){ze=!0,it=D};var De=function(D){ze||(it=D)};m.__private__.resetCustomOutputDestination=function(){ze=!1,it=ye};var re=m.__private__.out=function(D){return D=D.toString(),xe+=D.length+1,it.push(D),it},Le=m.__private__.write=function(D){return re(arguments.length===1?D.toString():Array.prototype.join.call(arguments," "))},rt=m.__private__.getArrayBuffer=function(D){for(var le=D.length,Ue=new ArrayBuffer(le),Pe=new Uint8Array(Ue);le--;)Pe[le]=D.charCodeAt(le);return Ue},ce=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return ce};var He=i.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(D){return He=U===T?D/At:D,this};var Xe,Oe=m.__private__.getFontSize=m.getFontSize=function(){return U===M?He:He*At},Ye=i.R2L||!1;m.__private__.setR2L=m.setR2L=function(D){return Ye=D,this},m.__private__.getR2L=m.getR2L=function(){return Ye};var Ae,$=m.__private__.setZoomMode=function(D){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(D))Xe=D;else if(isNaN(D)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(D)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+D+'" is not recognized.');Xe=D}else Xe=parseInt(D,10)};m.__private__.getZoomMode=function(){return Xe};var Se,Ge=m.__private__.setPageMode=function(D){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(D)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+D+'" is not recognized.');Ae=D};m.__private__.getPageMode=function(){return Ae};var Ve=m.__private__.setLayoutMode=function(D){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(D)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+D+'" is not recognized.');Se=D};m.__private__.getLayoutMode=function(){return Se},m.__private__.setDisplayMode=m.setDisplayMode=function(D,le,Ue){return $(D),Ve(le),Ge(Ue),this};var Re={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(D){if(Object.keys(Re).indexOf(D)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Re[D]},m.__private__.getDocumentProperties=function(){return Re},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(D){for(var le in Re)Re.hasOwnProperty(le)&&D[le]&&(Re[le]=D[le]);return this},m.__private__.setDocumentProperty=function(D,le){if(Object.keys(Re).indexOf(D)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Re[D]=le};var $e,At,wt,zt,at,ut={},ct={},Ee=[],Ie={},Ut={},Be={},Je={},mt=null,Et=0,tt=[],Ze=new T4(m),Lt=i.hotfixes||[],Vt={},Wt={},nn=[],qt=function D(le,Ue,Pe,st,Ft,Pt){if(!(this instanceof D))return new D(le,Ue,Pe,st,Ft,Pt);isNaN(le)&&(le=1),isNaN(Ue)&&(Ue=0),isNaN(Pe)&&(Pe=0),isNaN(st)&&(st=1),isNaN(Ft)&&(Ft=0),isNaN(Pt)&&(Pt=0),this._matrix=[le,Ue,Pe,st,Ft,Pt]};Object.defineProperty(qt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(qt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(qt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(qt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(qt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(qt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(qt.prototype,"a",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(qt.prototype,"b",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(qt.prototype,"c",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(qt.prototype,"d",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(qt.prototype,"e",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(qt.prototype,"f",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(qt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(qt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(qt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(qt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),qt.prototype.join=function(D){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(V).join(D)},qt.prototype.multiply=function(D){var le=D.sx*this.sx+D.shy*this.shx,Ue=D.sx*this.shy+D.shy*this.sy,Pe=D.shx*this.sx+D.sy*this.shx,st=D.shx*this.shy+D.sy*this.sy,Ft=D.tx*this.sx+D.ty*this.shx+this.tx,Pt=D.tx*this.shy+D.ty*this.sy+this.ty;return new qt(le,Ue,Pe,st,Ft,Pt)},qt.prototype.decompose=function(){var D=this.sx,le=this.shy,Ue=this.shx,Pe=this.sy,st=this.tx,Ft=this.ty,Pt=Math.sqrt(D*D+le*le),vn=(D/=Pt)*Ue+(le/=Pt)*Pe;Ue-=D*vn,Pe-=le*vn;var bn=Math.sqrt(Ue*Ue+Pe*Pe);return vn/=bn,D*(Pe/=bn)<le*(Ue/=bn)&&(D=-D,le=-le,vn=-vn,Pt=-Pt),{scale:new qt(Pt,0,0,bn,0,0),translate:new qt(1,0,0,1,st,Ft),rotate:new qt(D,le,-le,D,0,0),skew:new qt(1,0,vn,1,0,0)}},qt.prototype.toString=function(D){return this.join(" ")},qt.prototype.inversed=function(){var D=this.sx,le=this.shy,Ue=this.shx,Pe=this.sy,st=this.tx,Ft=this.ty,Pt=1/(D*Pe-le*Ue),vn=Pe*Pt,bn=-le*Pt,Pn=-Ue*Pt,Yn=D*Pt;return new qt(vn,bn,Pn,Yn,-vn*st-Pn*Ft,-bn*st-Yn*Ft)},qt.prototype.applyToPoint=function(D){var le=D.x*this.sx+D.y*this.shx+this.tx,Ue=D.x*this.shy+D.y*this.sy+this.ty;return new ca(le,Ue)},qt.prototype.applyToRectangle=function(D){var le=this.applyToPoint(D),Ue=this.applyToPoint(new ca(D.x+D.w,D.y+D.h));return new ao(le.x,le.y,Ue.x-le.x,Ue.y-le.y)},qt.prototype.clone=function(){var D=this.sx,le=this.shy,Ue=this.shx,Pe=this.sy,st=this.tx,Ft=this.ty;return new qt(D,le,Ue,Pe,st,Ft)},m.Matrix=qt;var Wn=m.matrixMult=function(D,le){return le.multiply(D)},Bi=new qt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Bi;var Xi=function(D,le){if(!Ut[D]){var Ue=(le instanceof xp?"Sh":"P")+(Object.keys(Ie).length+1).toString(10);le.id=Ue,Ut[D]=Ue,Ie[Ue]=le,Ze.publish("addPattern",le)}};m.ShadingPattern=xp,m.TilingPattern=mm,m.addShadingPattern=function(D,le){return I("addShadingPattern()"),Xi(D,le),this},m.beginTilingPattern=function(D){I("beginTilingPattern()"),Xo(D.boundingBox[0],D.boundingBox[1],D.boundingBox[2]-D.boundingBox[0],D.boundingBox[3]-D.boundingBox[1],D.matrix)},m.endTilingPattern=function(D,le){I("endTilingPattern()"),le.stream=Ne[X].join(`
`),Xi(D,le),Ze.publish("endTilingPattern",le),nn.pop().restore()};var lr,ci=m.__private__.newObject=function(){var D=Ui();return Yi(D,!0),D},Ui=m.__private__.newObjectDeferred=function(){return te++,se[te]=function(){return xe},te},Yi=function(D,le){return le=typeof le=="boolean"&&le,se[D]=xe,le&&re(D+" 0 obj"),D},ki=m.__private__.newAdditionalObject=function(){var D={objId:Ui(),content:""};return Fe.push(D),D},Si=Ui(),ei=Ui(),Ji=m.__private__.decodeColorString=function(D){var le=D.split(" ");if(le.length!==2||le[1]!=="g"&&le[1]!=="G")le.length!==5||le[4]!=="k"&&le[4]!=="K"||(le=[(1-le[0])*(1-le[3]),(1-le[1])*(1-le[3]),(1-le[2])*(1-le[3]),"r"]);else{var Ue=parseFloat(le[0]);le=[Ue,Ue,Ue,"r"]}for(var Pe="#",st=0;st<3;st++)Pe+=("0"+Math.floor(255*parseFloat(le[st])).toString(16)).slice(-2);return Pe},ur=m.__private__.encodeColorString=function(D){var le;typeof D=="string"&&(D={ch1:D});var Ue=D.ch1,Pe=D.ch2,st=D.ch3,Ft=D.ch4,Pt=D.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ue=="string"&&Ue.charAt(0)!=="#"){var vn=new LN(Ue);if(vn.ok)Ue=vn.toHex();else if(!/^\d*\.?\d*$/.test(Ue))throw new Error('Invalid color "'+Ue+'" passed to jsPDF.encodeColorString.')}if(typeof Ue=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ue)&&(Ue="#"+Ue[1]+Ue[1]+Ue[2]+Ue[2]+Ue[3]+Ue[3]),typeof Ue=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ue)){var bn=parseInt(Ue.substr(1),16);Ue=bn>>16&255,Pe=bn>>8&255,st=255&bn}if(Pe===void 0||Ft===void 0&&Ue===Pe&&Pe===st)le=typeof Ue=="string"?Ue+" "+Pt[0]:D.precision===2?k(Ue/255)+" "+Pt[0]:G(Ue/255)+" "+Pt[0];else if(Ft===void 0||Dr(Ft)==="object"){if(Ft&&!isNaN(Ft.a)&&Ft.a===0)return["1.","1.","1.",Pt[1]].join(" ");le=typeof Ue=="string"?[Ue,Pe,st,Pt[1]].join(" "):D.precision===2?[k(Ue/255),k(Pe/255),k(st/255),Pt[1]].join(" "):[G(Ue/255),G(Pe/255),G(st/255),Pt[1]].join(" ")}else le=typeof Ue=="string"?[Ue,Pe,st,Ft,Pt[2]].join(" "):D.precision===2?[k(Ue),k(Pe),k(st),k(Ft),Pt[2]].join(" "):[G(Ue),G(Pe),G(st),G(Ft),Pt[2]].join(" ");return le},Fr=m.__private__.getFilters=function(){return a},cr=m.__private__.putStream=function(D){var le=(D=D||{}).data||"",Ue=D.filters||Fr(),Pe=D.alreadyAppliedFilters||[],st=D.addLength1||!1,Ft=le.length,Pt=D.objectId,vn=function(Ss){return Ss};if(h!==null&&Pt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(vn=Cn.encryptor(Pt,0));var bn={};Ue===!0&&(Ue=["FlateEncode"]);var Pn=D.additionalKeyValues||[],Yn=(bn=Tn.API.processDataByFilters!==void 0?Tn.API.processDataByFilters(le,Ue):{data:le,reverseChain:[]}).reverseChain+(Array.isArray(Pe)?Pe.join(" "):Pe.toString());if(bn.data.length!==0&&(Pn.push({key:"Length",value:bn.data.length}),st===!0&&Pn.push({key:"Length1",value:Ft})),Yn.length!=0)if(Yn.split("/").length-1==1)Pn.push({key:"Filter",value:Yn});else{Pn.push({key:"Filter",value:"["+Yn+"]"});for(var di=0;di<Pn.length;di+=1)if(Pn[di].key==="DecodeParms"){for(var xr=[],es=0;es<bn.reverseChain.split("/").length-1;es+=1)xr.push("null");xr.push(Pn[di].value),Pn[di].value="["+xr.join(" ")+"]"}}re("<<");for(var ar=0;ar<Pn.length;ar++)re("/"+Pn[ar].key+" "+Pn[ar].value);re(">>"),bn.data.length!==0&&(re("stream"),re(vn(bn.data)),re("endstream"))},Ns=m.__private__.putPage=function(D){var le=D.number,Ue=D.data,Pe=D.objId,st=D.contentsObjId;Yi(Pe,!0),re("<</Type /Page"),re("/Parent "+D.rootDictionaryObjId+" 0 R"),re("/Resources "+D.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(V(D.mediaBox.bottomLeftX))+" "+parseFloat(V(D.mediaBox.bottomLeftY))+" "+V(D.mediaBox.topRightX)+" "+V(D.mediaBox.topRightY)+"]"),D.cropBox!==null&&re("/CropBox ["+V(D.cropBox.bottomLeftX)+" "+V(D.cropBox.bottomLeftY)+" "+V(D.cropBox.topRightX)+" "+V(D.cropBox.topRightY)+"]"),D.bleedBox!==null&&re("/BleedBox ["+V(D.bleedBox.bottomLeftX)+" "+V(D.bleedBox.bottomLeftY)+" "+V(D.bleedBox.topRightX)+" "+V(D.bleedBox.topRightY)+"]"),D.trimBox!==null&&re("/TrimBox ["+V(D.trimBox.bottomLeftX)+" "+V(D.trimBox.bottomLeftY)+" "+V(D.trimBox.topRightX)+" "+V(D.trimBox.topRightY)+"]"),D.artBox!==null&&re("/ArtBox ["+V(D.artBox.bottomLeftX)+" "+V(D.artBox.bottomLeftY)+" "+V(D.artBox.topRightX)+" "+V(D.artBox.topRightY)+"]"),typeof D.userUnit=="number"&&D.userUnit!==1&&re("/UserUnit "+D.userUnit),Ze.publish("putPage",{objId:Pe,pageContext:tt[le],pageNumber:le,page:Ue}),re("/Contents "+st+" 0 R"),re(">>"),re("endobj");var Ft=Ue.join(`
`);return U===T&&(Ft+=`
Q`),Yi(st,!0),cr({data:Ft,filters:Fr(),objectId:st}),re("endobj"),Pe},bs=m.__private__.putPages=function(){var D,le,Ue=[];for(D=1;D<=Et;D++)tt[D].objId=Ui(),tt[D].contentsObjId=Ui();for(D=1;D<=Et;D++)Ue.push(Ns({number:D,data:Ne[D],objId:tt[D].objId,contentsObjId:tt[D].contentsObjId,mediaBox:tt[D].mediaBox,cropBox:tt[D].cropBox,bleedBox:tt[D].bleedBox,trimBox:tt[D].trimBox,artBox:tt[D].artBox,userUnit:tt[D].userUnit,rootDictionaryObjId:Si,resourceDictionaryObjId:ei}));Yi(Si,!0),re("<</Type /Pages");var Pe="/Kids [";for(le=0;le<Et;le++)Pe+=Ue[le]+" 0 R ";re(Pe+"]"),re("/Count "+Et),re(">>"),re("endobj"),Ze.publish("postPutPages")},Ds=function(D){Ze.publish("putFont",{font:D,out:re,newObject:ci,putStream:cr}),D.isAlreadyPutted!==!0&&(D.objectNumber=ci(),re("<<"),re("/Type /Font"),re("/BaseFont /"+hm(D.postScriptName)),re("/Subtype /Type1"),typeof D.encoding=="string"&&re("/Encoding /"+D.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},Aa=function(D){D.objectNumber=ci();var le=[];le.push({key:"Type",value:"/XObject"}),le.push({key:"Subtype",value:"/Form"}),le.push({key:"BBox",value:"["+[V(D.x),V(D.y),V(D.x+D.width),V(D.y+D.height)].join(" ")+"]"}),le.push({key:"Matrix",value:"["+D.matrix.toString()+"]"});var Ue=D.pages[1].join(`
`);cr({data:Ue,additionalKeyValues:le,objectId:D.objectNumber}),re("endobj")},Os=function(D,le){le||(le=21);var Ue=ci(),Pe=(function(Pt,vn){var bn,Pn=[],Yn=1/(vn-1);for(bn=0;bn<1;bn+=Yn)Pn.push(bn);if(Pn.push(1),Pt[0].offset!=0){var di={offset:0,color:Pt[0].color};Pt.unshift(di)}if(Pt[Pt.length-1].offset!=1){var xr={offset:1,color:Pt[Pt.length-1].color};Pt.push(xr)}for(var es="",ar=0,Ss=0;Ss<Pn.length;Ss++){for(bn=Pn[Ss];bn>Pt[ar+1].offset;)ar++;var fs=Pt[ar].offset,fa=(bn-fs)/(Pt[ar+1].offset-fs),Ir=Pt[ar].color,Jo=Pt[ar+1].color;es+=ie(Math.round((1-fa)*Ir[0]+fa*Jo[0]).toString(16))+ie(Math.round((1-fa)*Ir[1]+fa*Jo[1]).toString(16))+ie(Math.round((1-fa)*Ir[2]+fa*Jo[2]).toString(16))}return es.trim()})(D.colors,le),st=[];st.push({key:"FunctionType",value:"0"}),st.push({key:"Domain",value:"[0.0 1.0]"}),st.push({key:"Size",value:"["+le+"]"}),st.push({key:"BitsPerSample",value:"8"}),st.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),st.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),cr({data:Pe,additionalKeyValues:st,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ue}),re("endobj"),D.objectNumber=ci(),re("<< /ShadingType "+D.type),re("/ColorSpace /DeviceRGB");var Ft="/Coords ["+V(parseFloat(D.coords[0]))+" "+V(parseFloat(D.coords[1]))+" ";D.type===2?Ft+=V(parseFloat(D.coords[2]))+" "+V(parseFloat(D.coords[3])):Ft+=V(parseFloat(D.coords[2]))+" "+V(parseFloat(D.coords[3]))+" "+V(parseFloat(D.coords[4]))+" "+V(parseFloat(D.coords[5])),re(Ft+="]"),D.matrix&&re("/Matrix ["+D.matrix.toString()+"]"),re("/Function "+Ue+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},Js=function(D,le){var Ue=Ui(),Pe=ci();le.push({resourcesOid:Ue,objectOid:Pe}),D.objectNumber=Pe;var st=[];st.push({key:"Type",value:"/Pattern"}),st.push({key:"PatternType",value:"1"}),st.push({key:"PaintType",value:"1"}),st.push({key:"TilingType",value:"1"}),st.push({key:"BBox",value:"["+D.boundingBox.map(V).join(" ")+"]"}),st.push({key:"XStep",value:V(D.xStep)}),st.push({key:"YStep",value:V(D.yStep)}),st.push({key:"Resources",value:Ue+" 0 R"}),D.matrix&&st.push({key:"Matrix",value:"["+D.matrix.toString()+"]"}),cr({data:D.stream,additionalKeyValues:st,objectId:D.objectNumber}),re("endobj")},io=function(D){for(var le in D.objectNumber=ci(),re("<<"),D)switch(le){case"opacity":re("/ca "+k(D[le]));break;case"stroke-opacity":re("/CA "+k(D[le]))}re(">>"),re("endobj")},ln=function(D){Yi(D.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var le in re("/Font <<"),ut)ut.hasOwnProperty(le)&&(g===!1||g===!0&&v.hasOwnProperty(le))&&re("/"+le+" "+ut[le].objectNumber+" 0 R");re(">>")})(),(function(){if(Object.keys(Ie).length>0){for(var le in re("/Shading <<"),Ie)Ie.hasOwnProperty(le)&&Ie[le]instanceof xp&&Ie[le].objectNumber>=0&&re("/"+le+" "+Ie[le].objectNumber+" 0 R");Ze.publish("putShadingPatternDict"),re(">>")}})(),(function(le){if(Object.keys(Ie).length>0){for(var Ue in re("/Pattern <<"),Ie)Ie.hasOwnProperty(Ue)&&Ie[Ue]instanceof m.TilingPattern&&Ie[Ue].objectNumber>=0&&Ie[Ue].objectNumber<le&&re("/"+Ue+" "+Ie[Ue].objectNumber+" 0 R");Ze.publish("putTilingPatternDict"),re(">>")}})(D.objectOid),(function(){if(Object.keys(Be).length>0){var le;for(le in re("/ExtGState <<"),Be)Be.hasOwnProperty(le)&&Be[le].objectNumber>=0&&re("/"+le+" "+Be[le].objectNumber+" 0 R");Ze.publish("putGStateDict"),re(">>")}})(),(function(){for(var le in re("/XObject <<"),Vt)Vt.hasOwnProperty(le)&&Vt[le].objectNumber>=0&&re("/"+le+" "+Vt[le].objectNumber+" 0 R");Ze.publish("putXobjectDict"),re(">>")})(),re(">>"),re("endobj")},pe=function(D){ct[D.fontName]=ct[D.fontName]||{},ct[D.fontName][D.fontStyle]=D.id},We=function(D,le,Ue,Pe,st){var Ft={id:"F"+(Object.keys(ut).length+1).toString(10),postScriptName:D,fontName:le,fontStyle:Ue,encoding:Pe,isStandardFont:st||!1,metadata:{}};return Ze.publish("addFont",{font:Ft,instance:this}),ut[Ft.id]=Ft,pe(Ft),Ft.id},dt=m.__private__.pdfEscape=m.pdfEscape=function(D,le){return(function(Ue,Pe){var st,Ft,Pt,vn,bn,Pn,Yn,di,xr;if(Pt=(Pe=Pe||{}).sourceEncoding||"Unicode",bn=Pe.outputEncoding,(Pe.autoencode||bn)&&ut[$e].metadata&&ut[$e].metadata[Pt]&&ut[$e].metadata[Pt].encoding&&(vn=ut[$e].metadata[Pt].encoding,!bn&&ut[$e].encoding&&(bn=ut[$e].encoding),!bn&&vn.codePages&&(bn=vn.codePages[0]),typeof bn=="string"&&(bn=vn[bn]),bn)){for(Yn=!1,Pn=[],st=0,Ft=Ue.length;st<Ft;st++)(di=bn[Ue.charCodeAt(st)])?Pn.push(String.fromCharCode(di)):Pn.push(Ue[st]),Pn[st].charCodeAt(0)>>8&&(Yn=!0);Ue=Pn.join("")}for(st=Ue.length;Yn===void 0&&st!==0;)Ue.charCodeAt(st-1)>>8&&(Yn=!0),st--;if(!Yn)return Ue;for(Pn=Pe.noBOM?[]:[254,255],st=0,Ft=Ue.length;st<Ft;st++){if((xr=(di=Ue.charCodeAt(st))>>8)>>8)throw new Error("Character at position "+st+" of string '"+Ue+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Pn.push(xr),Pn.push(di-(xr<<8))}return String.fromCharCode.apply(void 0,Pn)})(D,le).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},pt=m.__private__.beginPage=function(D){Ne[++Et]=[],tt[Et]={objId:0,contentsObjId:0,userUnit:Number(A),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(D[0]),topRightY:Number(D[1])}},Zt(Et),De(Ne[X])},nt=function(D,le){var Ue,Pe,st;switch(t=le||t,typeof D=="string"&&(Ue=b(D.toLowerCase()),Array.isArray(Ue)&&(Pe=Ue[0],st=Ue[1])),Array.isArray(D)&&(Pe=D[0]*At,st=D[1]*At),isNaN(Pe)&&(Pe=r[0],st=r[1]),(Pe>14400||st>14400)&&(Zr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Pe=Math.min(14400,Pe),st=Math.min(14400,st)),r=[Pe,st],t.substr(0,1)){case"l":st>Pe&&(r=[st,Pe]);break;case"p":Pe>st&&(r=[st,Pe])}pt(r),En(_A),re(cs),qo!==0&&re(qo+" J"),sr!==0&&re(sr+" j"),Ze.publish("addPage",{pageNumber:Et})},Gt=function(D){D>0&&D<=Et&&(Ne.splice(D,1),tt.splice(D,1),Et--,X>Et&&(X=Et),this.setPage(X))},Zt=function(D){D>0&&D<=Et&&(X=D)},Qt=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Ne.length-1},on=function(D,le,Ue){var Pe,st=void 0;return Ue=Ue||{},D=D!==void 0?D:ut[$e].fontName,le=le!==void 0?le:ut[$e].fontStyle,Pe=D.toLowerCase(),ct[Pe]!==void 0&&ct[Pe][le]!==void 0?st=ct[Pe][le]:ct[D]!==void 0&&ct[D][le]!==void 0?st=ct[D][le]:Ue.disableWarning===!1&&Zr.warn("Unable to look up font label for font '"+D+"', '"+le+"'. Refer to getFontList() for available fonts."),st||Ue.noFallback||(st=ct.times[le])==null&&(st=ct.times.normal),st},$t=m.__private__.putInfo=function(){var D=ci(),le=function(Pe){return Pe};for(var Ue in h!==null&&(le=Cn.encryptor(D,0)),re("<<"),re("/Producer ("+dt(le("jsPDF "+Tn.version))+")"),Re)Re.hasOwnProperty(Ue)&&Re[Ue]&&re("/"+Ue.substr(0,1).toUpperCase()+Ue.substr(1)+" ("+dt(le(Re[Ue]))+")");re("/CreationDate ("+dt(le(ae))+")"),re(">>"),re("endobj")},xn=m.__private__.putCatalog=function(D){var le=(D=D||{}).rootDictionaryObjId||Si;switch(ci(),re("<<"),re("/Type /Catalog"),re("/Pages "+le+" 0 R"),Xe||(Xe="fullwidth"),Xe){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ue=""+Xe;Ue.substr(Ue.length-1)==="%"&&(Xe=parseInt(Xe)/100),typeof Xe=="number"&&re("/OpenAction [3 0 R /XYZ null null "+k(Xe)+"]")}switch(Se||(Se="continuous"),Se){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}Ae&&re("/PageMode /"+Ae),Ze.publish("putCatalog"),re(">>"),re("endobj")},un=m.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(te+1)),re("/Root "+te+" 0 R"),re("/Info "+(te-1)+" 0 R"),h!==null&&re("/Encrypt "+Cn.oid+" 0 R"),re("/ID [ <"+Z+"> <"+Z+"> ]"),re(">>")},An=m.__private__.putHeader=function(){re("%PDF-"+x),re("%")},Zn=m.__private__.putXRef=function(){var D="0000000000";re("xref"),re("0 "+(te+1)),re("0000000000 65535 f ");for(var le=1;le<=te;le++)typeof se[le]=="function"?re((D+se[le]()).slice(-10)+" 00000 n "):se[le]!==void 0?re((D+se[le]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},fi=m.__private__.buildDocument=function(){var D;te=0,xe=0,ye=[],se=[],Fe=[],Si=Ui(),ei=Ui(),De(ye),Ze.publish("buildDocument"),An(),bs(),(function(){Ze.publish("putAdditionalObjects");for(var Ue=0;Ue<Fe.length;Ue++){var Pe=Fe[Ue];Yi(Pe.objId,!0),re(Pe.content),re("endobj")}Ze.publish("postPutAdditionalObjects")})(),D=[],(function(){for(var Ue in ut)ut.hasOwnProperty(Ue)&&(g===!1||g===!0&&v.hasOwnProperty(Ue))&&Ds(ut[Ue])})(),(function(){var Ue;for(Ue in Be)Be.hasOwnProperty(Ue)&&io(Be[Ue])})(),(function(){for(var Ue in Vt)Vt.hasOwnProperty(Ue)&&Aa(Vt[Ue])})(),(function(Ue){var Pe;for(Pe in Ie)Ie.hasOwnProperty(Pe)&&(Ie[Pe]instanceof xp?Os(Ie[Pe]):Ie[Pe]instanceof mm&&Js(Ie[Pe],Ue))})(D),Ze.publish("putResources"),D.forEach(ln),ln({resourcesOid:ei,objectOid:Number.MAX_SAFE_INTEGER}),Ze.publish("postPutResources"),h!==null&&(Cn.oid=ci(),re("<<"),re("/Filter /Standard"),re("/V "+Cn.v),re("/R "+Cn.r),re("/U <"+Cn.toHexString(Cn.U)+">"),re("/O <"+Cn.toHexString(Cn.O)+">"),re("/P "+Cn.P),re(">>"),re("endobj")),$t(),xn();var le=xe;return Zn(),un(),re("startxref"),re(""+le),re("%%EOF"),De(Ne[X]),ye.join(`
`)},ri=m.__private__.getBlob=function(D){return new Blob([rt(D)],{type:"application/pdf"})},Rn=m.output=m.__private__.output=(lr=function(D,le){switch(typeof(le=le||{})=="string"?le={filename:le}:le.filename=le.filename||"generated.pdf",D){case void 0:return fi();case"save":m.save(le.filename);break;case"arraybuffer":return rt(fi());case"blob":return ri(fi());case"bloburi":case"bloburl":if(Jn.URL!==void 0&&typeof Jn.URL.createObjectURL=="function")return Jn.URL&&Jn.URL.createObjectURL(ri(fi()))||void 0;Zr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ue="",Pe=fi();try{Ue=E4(Pe)}catch{Ue=E4(unescape(encodeURIComponent(Pe)))}return"data:application/pdf;filename="+le.filename+";base64,"+Ue;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Jn)==="[object Window]"){var st="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ft=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';le.pdfObjectUrl&&(st=le.pdfObjectUrl,Ft="");var Pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+st+'"'+Ft+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(le)+");<\/script></body></html>",vn=Jn.open();return vn!==null&&vn.document.write(Pt),vn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Jn)==="[object Window]"){var bn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(le.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+le.filename+'" width="500px" height="400px" /></body></html>',Pn=Jn.open();if(Pn!==null){Pn.document.write(bn);var Yn=this;Pn.document.documentElement.querySelector("#pdfViewer").onload=function(){Pn.document.title=le.filename,Pn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Yn.output("bloburl"))}}return Pn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Jn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var di='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",le)+'"></iframe></body></html>',xr=Jn.open();if(xr!==null&&(xr.document.write(di),xr.document.title=le.filename),xr||typeof safari>"u")return xr;break;case"datauri":case"dataurl":return Jn.document.location.href=this.output("datauristring",le);default:return null}},lr.foo=function(){try{return lr.apply(this,arguments)}catch(Ue){var D=Ue.stack||"";~D.indexOf(" at ")&&(D=D.split(" at ")[1]);var le="Error in function "+D.split(`
`)[0].split("<")[0]+": "+Ue.message;if(!Jn.console)throw new Error(le);Jn.console.error(le,Ue),Jn.alert&&alert(le)}},lr.foo.bar=lr,lr.foo),Kt=function(D){return Array.isArray(Lt)===!0&&Lt.indexOf(D)>-1};switch(n){case"pt":At=1;break;case"mm":At=72/25.4;break;case"cm":At=72/2.54;break;case"in":At=72;break;case"px":At=Kt("px_scaling")==1?.75:96/72;break;case"pc":case"em":At=12;break;case"ex":At=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);At=n}var Cn=null;W(),oe();var dn=m.__private__.getPageInfo=m.getPageInfo=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:tt[D].objId,pageNumber:D,pageContext:tt[D]}},Lr=m.__private__.getPageInfoByObjId=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var le in tt)if(tt[le].objId===D)break;return dn(le)},Zs=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:tt[X].objId,pageNumber:X,pageContext:tt[X]}};m.addPage=function(){return nt.apply(this,arguments),this},m.setPage=function(){return Zt.apply(this,arguments),De.call(this,Ne[X]),this},m.insertPage=function(D){return this.addPage(),this.movePage(X,D),this},m.movePage=function(D,le){var Ue,Pe;if(D>le){Ue=Ne[D],Pe=tt[D];for(var st=D;st>le;st--)Ne[st]=Ne[st-1],tt[st]=tt[st-1];Ne[le]=Ue,tt[le]=Pe,this.setPage(le)}else if(D<le){Ue=Ne[D],Pe=tt[D];for(var Ft=D;Ft<le;Ft++)Ne[Ft]=Ne[Ft+1],tt[Ft]=tt[Ft+1];Ne[le]=Ue,tt[le]=Pe,this.setPage(le)}return this},m.deletePage=function(){return Gt.apply(this,arguments),this},m.__private__.text=m.text=function(D,le,Ue,Pe,st){var Ft,Pt,vn,bn,Pn,Yn,di,xr,es,ar=(Pe=Pe||{}).scope||this;if(typeof D=="number"&&typeof le=="number"&&(typeof Ue=="string"||Array.isArray(Ue))){var Ss=Ue;Ue=le,le=D,D=Ss}if(arguments[3]instanceof qt==0?(vn=arguments[4],bn=arguments[5],Dr(di=arguments[3])==="object"&&di!==null||(typeof vn=="string"&&(bn=vn,vn=null),typeof di=="string"&&(bn=di,di=null),typeof di=="number"&&(vn=di,di=null),Pe={flags:di,angle:vn,align:bn})):(I("The transform parameter of text() with a Matrix value"),es=st),isNaN(le)||isNaN(Ue)||D==null)throw new Error("Invalid arguments passed to jsPDF.text");if(D.length===0)return ar;var fs,fa="",Ir=typeof Pe.lineHeightFactor=="number"?Pe.lineHeightFactor:La,Jo=ar.internal.scaleFactor;function ZA(Ti){return Ti=Ti.split("	").join(Array(Pe.TabLen||9).join(" ")),dt(Ti,di)}function Tc(Ti){for(var $n,pr=Ti.concat(),Wr=[],FA=pr.length;FA--;)typeof($n=pr.shift())=="string"?Wr.push($n):Array.isArray(Ti)&&($n.length===1||$n[1]===void 0&&$n[2]===void 0)?Wr.push($n[0]):Wr.push([$n[0],$n[1],$n[2]]);return Wr}function Wu(Ti,$n){var pr;if(typeof Ti=="string")pr=$n(Ti)[0];else if(Array.isArray(Ti)){for(var Wr,FA,So=Ti.concat(),Pl=[],du=So.length;du--;)typeof(Wr=So.shift())=="string"?Pl.push($n(Wr)[0]):Array.isArray(Wr)&&typeof Wr[0]=="string"&&(FA=$n(Wr[0],Wr[1],Wr[2]),Pl.push([FA[0],FA[1],FA[2]]));pr=Pl}return pr}var Ao=!1,Zo=!0;if(typeof D=="string")Ao=!0;else if(Array.isArray(D)){var $A=D.concat();Pt=[];for(var el,ta=$A.length;ta--;)(typeof(el=$A.shift())!="string"||Array.isArray(el)&&typeof el[0]!="string")&&(Zo=!1);Ao=Zo}if(Ao===!1)throw new Error('Type of text must be string or Array. "'+D+'" is not recognized.');typeof D=="string"&&(D=D.match(/[\r?\n]/)?D.split(/\r\n|\r|\n/g):[D]);var SA=He/ar.internal.scaleFactor,tl=SA*(Ir-1);switch(Pe.baseline){case"bottom":Ue-=tl;break;case"top":Ue+=SA-tl;break;case"hanging":Ue+=SA-2*tl;break;case"middle":Ue+=SA/2-tl}if((Yn=Pe.maxWidth||0)>0&&(typeof D=="string"?D=ar.splitTextToSize(D,Yn):Object.prototype.toString.call(D)==="[object Array]"&&(D=D.reduce(function(Ti,$n){return Ti.concat(ar.splitTextToSize($n,Yn))},[]))),Ft={text:D,x:le,y:Ue,options:Pe,mutex:{pdfEscape:dt,activeFontKey:$e,fonts:ut,activeFontSize:He}},Ze.publish("preProcessText",Ft),D=Ft.text,vn=(Pe=Ft.options).angle,es instanceof qt==0&&vn&&typeof vn=="number"){vn*=Math.PI/180,Pe.rotationDirection===0&&(vn=-vn),U===T&&(vn=-vn);var qu=Math.cos(vn),CA=Math.sin(vn);es=new qt(qu,CA,-CA,qu,0,0)}else vn&&vn instanceof qt&&(es=vn);U!==T||es||(es=Bi),(Pn=Pe.charSpace||Ia)!==void 0&&(fa+=V(q(Pn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(xr=Pe.horizontalScale)!==void 0&&(fa+=V(100*xr)+` Tz
`),Pe.lang;var Na=-1,EA=Pe.renderingMode!==void 0?Pe.renderingMode:Pe.stroke,fu=ar.internal.getCurrentPageInfo().pageContext;switch(EA){case 0:case!1:case"fill":Na=0;break;case 1:case!0:case"stroke":Na=1;break;case 2:case"fillThenStroke":Na=2;break;case 3:case"invisible":Na=3;break;case 4:case"fillAndAddForClipping":Na=4;break;case 5:case"strokeAndAddPathForClipping":Na=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Na=6;break;case 7:case"addToPathForClipping":Na=7}var Fc=fu.usedRenderingMode!==void 0?fu.usedRenderingMode:-1;Na!==-1?fa+=Na+` Tr
`:Fc!==-1&&(fa+=`0 Tr
`),Na!==-1&&(fu.usedRenderingMode=Na),bn=Pe.align||"left";var qa,lo=He*Ir,MA=ar.internal.pageSize.getWidth(),Lc=ut[$e];Pn=Pe.charSpace||Ia,Yn=Pe.maxWidth||0,di=Object.assign({autoencode:!0,noBOM:!0},Pe.flags);var _o=[],Rl=function(Ti){return ar.getStringUnitWidth(Ti,{font:Lc,charSpace:Pn,fontSize:He,doKerning:!1})*He/Jo};if(Object.prototype.toString.call(D)==="[object Array]"){var ts;Pt=Tc(D),bn!=="left"&&(qa=Pt.map(Rl));var ha,nl=0;if(bn==="right"){le-=qa[0],D=[],ta=Pt.length;for(var UA=0;UA<ta;UA++)UA===0?(ha=ea(le),ts=us(Ue)):(ha=q(nl-qa[UA]),ts=-lo),D.push([Pt[UA],ha,ts]),nl=qa[UA]}else if(bn==="center"){le-=qa[0]/2,D=[],ta=Pt.length;for(var Ps=0;Ps<ta;Ps++)Ps===0?(ha=ea(le),ts=us(Ue)):(ha=q((nl-qa[Ps])/2),ts=-lo),D.push([Pt[Ps],ha,ts]),nl=qa[Ps]}else if(bn==="left"){D=[],ta=Pt.length;for(var Nl=0;Nl<ta;Nl++)D.push(Pt[Nl])}else if(bn==="justify"&&Lc.encoding==="Identity-H"){D=[],ta=Pt.length,Yn=Yn!==0?Yn:MA;for(var Xu=0,Kr=0;Kr<ta;Kr++)if(ts=Kr===0?us(Ue):-lo,ha=Kr===0?ea(le):Xu,Kr<ta-1){var Mf=q((Yn-qa[Kr])/(Pt[Kr].split(" ").length-1)),TA=Pt[Kr].split(" ");D.push([TA[0]+" ",ha,ts]),Xu=0;for(var $o=1;$o<TA.length;$o++){var Qs=(Rl(TA[$o-1]+" "+TA[$o])-Rl(TA[$o]))*Jo+Mf;$o==TA.length-1?D.push([TA[$o],Qs,0]):D.push([TA[$o]+" ",Qs,0]),Xu-=Qs}}else D.push([Pt[Kr],ha,ts]);D.push(["",Xu,0])}else{if(bn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(D=[],ta=Pt.length,Yn=Yn!==0?Yn:MA,Kr=0;Kr<ta;Kr++){ts=Kr===0?us(Ue):-lo,ha=Kr===0?ea(le):0;var il=Pt[Kr].split(" ").length-1,Dl=il>0?(Yn-qa[Kr])/il:0;Kr<ta-1?_o.push(V(q(Dl))):_o.push(0),D.push([Pt[Kr],ha,ts])}}}(typeof Pe.R2L=="boolean"?Pe.R2L:Ye)===!0&&(D=Wu(D,function(Ti,$n,pr){return[Ti.split("").reverse().join(""),$n,pr]})),Ft={text:D,x:le,y:Ue,options:Pe,mutex:{pdfEscape:dt,activeFontKey:$e,fonts:ut,activeFontSize:He}},Ze.publish("postProcessText",Ft),D=Ft.text,fs=Ft.mutex.isHex||!1;var rl=ut[$e].encoding;rl!=="WinAnsiEncoding"&&rl!=="StandardEncoding"||(D=Wu(D,function(Ti,$n,pr){return[ZA(Ti),$n,pr]})),Pt=Tc(D),D=[];for(var Di,Ol,sl,hu=Array.isArray(Pt[0])?1:0,da="",Da=function(Ti,$n,pr){var Wr="";return pr instanceof qt?(pr=typeof Pe.angle=="number"?Wn(pr,new qt(1,0,0,1,Ti,$n)):Wn(new qt(1,0,0,1,Ti,$n),pr),U===T&&(pr=Wn(new qt(1,0,0,-1,0,0),pr)),Wr=pr.join(" ")+` Tm
`):Wr=V(Ti)+" "+V($n)+` Td
`,Wr},pa=0;pa<Pt.length;pa++){switch(da="",hu){case 1:sl=(fs?"<":"(")+Pt[pa][0]+(fs?">":")"),Di=parseFloat(Pt[pa][1]),Ol=parseFloat(Pt[pa][2]);break;case 0:sl=(fs?"<":"(")+Pt[pa]+(fs?">":")"),Di=ea(le),Ol=us(Ue)}_o!==void 0&&_o[pa]!==void 0&&(da=_o[pa]+` Tw
`),pa===0?D.push(da+Da(Di,Ol,es)+sl):hu===0?D.push(da+sl):hu===1&&D.push(da+Da(Di,Ol,es)+sl)}D=hu===0?D.join(` Tj
T* `):D.join(` Tj
`),D+=` Tj
`;var Bo=`BT
/`;return Bo+=$e+" "+He+` Tf
`,Bo+=V(He*Ir)+` TL
`,Bo+=ua+`
`,Bo+=fa,Bo+=D,re(Bo+="ET"),v[$e]=!0,ar};var Ni=m.__private__.clip=m.clip=function(D){return re(D==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Ni("evenodd")},m.__private__.discardPath=m.discardPath=function(){return re("n"),this};var fr=m.__private__.isValidStyle=function(D){var le=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(D)!==-1&&(le=!0),le};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(D){return fr(D)&&(c=D),this};var hi=m.__private__.getStyle=m.getStyle=function(D){var le=c;switch(D){case"D":case"S":le="S";break;case"F":le="f";break;case"FD":case"DF":le="B";break;case"f":case"f*":case"B":case"B*":le=D}return le},hr=m.close=function(){return re("h"),this};m.stroke=function(){return re("S"),this},m.fill=function(D){return nr("f",D),this},m.fillEvenOdd=function(D){return nr("f*",D),this},m.fillStroke=function(D){return nr("B",D),this},m.fillStrokeEvenOdd=function(D){return nr("B*",D),this};var nr=function(D,le){Dr(le)==="object"?xo(le,D):re(D)},dr=function(D){D===null||U===T&&D===void 0||(D=hi(D),re(D))};function Vr(D,le,Ue,Pe,st){var Ft=new mm(le||this.boundingBox,Ue||this.xStep,Pe||this.yStep,this.gState,st||this.matrix);Ft.stream=this.stream;var Pt=D+"$$"+this.cloneIndex+++"$$";return Xi(Pt,Ft),Ft}var xo=function(D,le){var Ue=Ut[D.key],Pe=Ie[Ue];if(Pe instanceof xp)re("q"),re(_s(le)),Pe.gState&&m.setGState(Pe.gState),re(D.matrix.toString()+" cm"),re("/"+Ue+" sh"),re("Q");else if(Pe instanceof mm){var st=new qt(1,0,0,-1,0,Yo());D.matrix&&(st=st.multiply(D.matrix||Bi),Ue=Vr.call(Pe,D.key,D.boundingBox,D.xStep,D.yStep,st).id),re("q"),re("/Pattern cs"),re("/"+Ue+" scn"),Pe.gState&&m.setGState(Pe.gState),re(le),re("Q")}},_s=function(D){switch(D){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Tl=m.moveTo=function(D,le){return re(V(q(D))+" "+V(H(le))+" m"),this},bA=m.lineTo=function(D,le){return re(V(q(D))+" "+V(H(le))+" l"),this},$r=m.curveTo=function(D,le,Ue,Pe,st,Ft){return re([V(q(D)),V(H(le)),V(q(Ue)),V(H(Pe)),V(q(st)),V(H(Ft)),"c"].join(" ")),this};m.__private__.line=m.line=function(D,le,Ue,Pe,st){if(isNaN(D)||isNaN(le)||isNaN(Ue)||isNaN(Pe)||!fr(st))throw new Error("Invalid arguments passed to jsPDF.line");return U===M?this.lines([[Ue-D,Pe-le]],D,le,[1,1],st||"S"):this.lines([[Ue-D,Pe-le]],D,le,[1,1]).stroke()},m.__private__.lines=m.lines=function(D,le,Ue,Pe,st,Ft){var Pt,vn,bn,Pn,Yn,di,xr,es,ar,Ss,fs,fa;if(typeof D=="number"&&(fa=Ue,Ue=le,le=D,D=fa),Pe=Pe||[1,1],Ft=Ft||!1,isNaN(le)||isNaN(Ue)||!Array.isArray(D)||!Array.isArray(Pe)||!fr(st)||typeof Ft!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Tl(le,Ue),Pt=Pe[0],vn=Pe[1],Pn=D.length,Ss=le,fs=Ue,bn=0;bn<Pn;bn++)(Yn=D[bn]).length===2?(Ss=Yn[0]*Pt+Ss,fs=Yn[1]*vn+fs,bA(Ss,fs)):(di=Yn[0]*Pt+Ss,xr=Yn[1]*vn+fs,es=Yn[2]*Pt+Ss,ar=Yn[3]*vn+fs,Ss=Yn[4]*Pt+Ss,fs=Yn[5]*vn+fs,$r(di,xr,es,ar,Ss,fs));return Ft&&hr(),dr(st),this},m.path=function(D){for(var le=0;le<D.length;le++){var Ue=D[le],Pe=Ue.c;switch(Ue.op){case"m":Tl(Pe[0],Pe[1]);break;case"l":bA(Pe[0],Pe[1]);break;case"c":$r.apply(this,Pe);break;case"h":hr()}}return this},m.__private__.rect=m.rect=function(D,le,Ue,Pe,st){if(isNaN(D)||isNaN(le)||isNaN(Ue)||isNaN(Pe)||!fr(st))throw new Error("Invalid arguments passed to jsPDF.rect");return U===M&&(Pe=-Pe),re([V(q(D)),V(H(le)),V(q(Ue)),V(q(Pe)),"re"].join(" ")),dr(st),this},m.__private__.triangle=m.triangle=function(D,le,Ue,Pe,st,Ft,Pt){if(isNaN(D)||isNaN(le)||isNaN(Ue)||isNaN(Pe)||isNaN(st)||isNaN(Ft)||!fr(Pt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ue-D,Pe-le],[st-Ue,Ft-Pe],[D-st,le-Ft]],D,le,[1,1],Pt,!0),this},m.__private__.roundedRect=m.roundedRect=function(D,le,Ue,Pe,st,Ft,Pt){if(isNaN(D)||isNaN(le)||isNaN(Ue)||isNaN(Pe)||isNaN(st)||isNaN(Ft)||!fr(Pt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var vn=4/3*(Math.SQRT2-1);return st=Math.min(st,.5*Ue),Ft=Math.min(Ft,.5*Pe),this.lines([[Ue-2*st,0],[st*vn,0,st,Ft-Ft*vn,st,Ft],[0,Pe-2*Ft],[0,Ft*vn,-st*vn,Ft,-st,Ft],[2*st-Ue,0],[-st*vn,0,-st,-Ft*vn,-st,-Ft],[0,2*Ft-Pe],[0,-Ft*vn,st*vn,-Ft,st,-Ft]],D+st,le,[1,1],Pt,!0),this},m.__private__.ellipse=m.ellipse=function(D,le,Ue,Pe,st){if(isNaN(D)||isNaN(le)||isNaN(Ue)||isNaN(Pe)||!fr(st))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ft=4/3*(Math.SQRT2-1)*Ue,Pt=4/3*(Math.SQRT2-1)*Pe;return Tl(D+Ue,le),$r(D+Ue,le-Pt,D+Ft,le-Pe,D,le-Pe),$r(D-Ft,le-Pe,D-Ue,le-Pt,D-Ue,le),$r(D-Ue,le+Pt,D-Ft,le+Pe,D,le+Pe),$r(D+Ft,le+Pe,D+Ue,le+Pt,D+Ue,le),dr(st),this},m.__private__.circle=m.circle=function(D,le,Ue,Pe){if(isNaN(D)||isNaN(le)||isNaN(Ue)||!fr(Pe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(D,le,Ue,Ue,Pe)},m.setFont=function(D,le,Ue){return Ue&&(le=z(le,Ue)),$e=on(D,le,{disableWarning:!1}),this};var $s=m.__private__.getFont=m.getFont=function(){return ut[on.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var D,le,Ue={};for(D in ct)if(ct.hasOwnProperty(D))for(le in Ue[D]=[],ct[D])ct[D].hasOwnProperty(le)&&Ue[D].push(le);return Ue},m.addFont=function(D,le,Ue,Pe,st){var Ft=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ft.indexOf(arguments[3])!==-1?st=arguments[3]:arguments[3]&&Ft.indexOf(arguments[3])==-1&&(Ue=z(Ue,Pe)),We.call(this,D,le,Ue,st=st||"Identity-H")};var La,_A=i.lineWidth||.200025,ja=m.__private__.getLineWidth=m.getLineWidth=function(){return _A},En=m.__private__.setLineWidth=m.setLineWidth=function(D){return _A=D,re(V(q(D))+" w"),this};m.__private__.setLineDash=Tn.API.setLineDash=Tn.API.setLineDashPattern=function(D,le){if(D=D||[],le=le||0,isNaN(le)||!Array.isArray(D))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return D=D.map(function(Ue){return V(q(Ue))}).join(" "),le=V(q(le)),re("["+D+"] "+le+" d"),this};var Fl=m.__private__.getLineHeight=m.getLineHeight=function(){return He*La};m.__private__.getLineHeight=m.getLineHeight=function(){return He*La};var Ll=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(D){return typeof(D=D||1.15)=="number"&&(La=D),this},YA=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return La};Ll(i.lineHeight);var ea=m.__private__.getHorizontalCoordinate=function(D){return q(D)},us=m.__private__.getVerticalCoordinate=function(D){return U===T?D:tt[X].mediaBox.topRightY-tt[X].mediaBox.bottomLeftY-q(D)},la=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(D){return V(ea(D))},Wo=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(D){return V(us(D))},cs=i.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Ji(cs)},m.__private__.setStrokeColor=m.setDrawColor=function(D,le,Ue,Pe){return cs=ur({ch1:D,ch2:le,ch3:Ue,ch4:Pe,pdfColorType:"draw",precision:2}),re(cs),this};var BA=i.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Ji(BA)},m.__private__.setFillColor=m.setFillColor=function(D,le,Ue,Pe){return BA=ur({ch1:D,ch2:le,ch3:Ue,ch4:Pe,pdfColorType:"fill",precision:2}),re(BA),this};var ua=i.textColor||"0 g",JA=m.__private__.getTextColor=m.getTextColor=function(){return Ji(ua)};m.__private__.setTextColor=m.setTextColor=function(D,le,Ue,Pe){return ua=ur({ch1:D,ch2:le,ch3:Ue,ch4:Pe,pdfColorType:"text",precision:3}),this};var Ia=i.charSpace,ro=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Ia||0)};m.__private__.setCharSpace=m.setCharSpace=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ia=D,this};var qo=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(D){var le=m.CapJoinStyles[D];if(le===void 0)throw new Error("Line cap style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return qo=le,re(le+" J"),this};var sr=0;m.__private__.setLineJoin=m.setLineJoin=function(D){var le=m.CapJoinStyles[D];if(le===void 0)throw new Error("Line join style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return sr=le,re(le+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(D){if(D=D||0,isNaN(D))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(V(q(D))+" M"),this},m.GState=_b,m.setGState=function(D){(D=typeof D=="string"?Be[Je[D]]:so(null,D)).equals(mt)||(re("/"+D.id+" gs"),mt=D)};var so=function(D,le){if(!D||!Je[D]){var Ue=!1;for(var Pe in Be)if(Be.hasOwnProperty(Pe)&&Be[Pe].equals(le)){Ue=!0;break}if(Ue)le=Be[Pe];else{var st="GS"+(Object.keys(Be).length+1).toString(10);Be[st]=le,le.id=st}return D&&(Je[D]=le.id),Ze.publish("addGState",le),le}};m.addGState=function(D,le){return so(D,le),this},m.saveGraphicsState=function(){return re("q"),Ee.push({key:$e,size:He,color:ua}),this},m.restoreGraphicsState=function(){re("Q");var D=Ee.pop();return $e=D.key,He=D.size,ua=D.color,mt=null,this},m.setCurrentTransformationMatrix=function(D){return re(D.toString()+" cm"),this},m.comment=function(D){return re("#"+D),this};var ca=function(D,le){var Ue=D||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ue},set:function(Ft){isNaN(Ft)||(Ue=parseFloat(Ft))}});var Pe=le||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Pe},set:function(Ft){isNaN(Ft)||(Pe=parseFloat(Ft))}});var st="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return st},set:function(Ft){st=Ft.toString()}}),this},ao=function(D,le,Ue,Pe){ca.call(this,D,le),this.type="rect";var st=Ue||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return st},set:function(Pt){isNaN(Pt)||(st=parseFloat(Pt))}});var Ft=Pe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ft},set:function(Pt){isNaN(Pt)||(Ft=parseFloat(Pt))}}),this},bo=function(){this.page=Et,this.currentPage=X,this.pages=Ne.slice(0),this.pagesContext=tt.slice(0),this.x=wt,this.y=zt,this.matrix=at,this.width=oo(X),this.height=cu(X),this.outputDestination=it,this.id="",this.objectNumber=-1};bo.prototype.restore=function(){Et=this.page,X=this.currentPage,tt=this.pagesContext,Ne=this.pages,wt=this.x,zt=this.y,at=this.matrix,jr(X,this.width),Ka(X,this.height),it=this.outputDestination};var Xo=function(D,le,Ue,Pe,st){nn.push(new bo),Et=X=0,Ne=[],wt=D,zt=le,at=st,pt([Ue,Pe])};for(var Ra in m.beginFormObject=function(D,le,Ue,Pe,st){return Xo(D,le,Ue,Pe,st),this},m.endFormObject=function(D){return(function(le){if(Wt[le])nn.pop().restore();else{var Ue=new bo,Pe="Xo"+(Object.keys(Vt).length+1).toString(10);Ue.id=Pe,Wt[le]=Pe,Vt[Pe]=Ue,Ze.publish("addFormObject",Ue),nn.pop().restore()}})(D),this},m.doFormObject=function(D,le){var Ue=Vt[Wt[D]];return re("q"),re(le.toString()+" cm"),re("/"+Ue.id+" Do"),re("Q"),this},m.getFormObject=function(D){var le=Vt[Wt[D]];return{x:le.x,y:le.y,width:le.width,height:le.height,matrix:le.matrix}},m.save=function(D,le){return D=D||"generated.pdf",(le=le||{}).returnPromise=le.returnPromise||!1,le.returnPromise===!1?(vp(ri(fi()),D),typeof vp.unload=="function"&&Jn.setTimeout&&setTimeout(vp.unload,911),this):new Promise(function(Ue,Pe){try{var st=vp(ri(fi()),D);typeof vp.unload=="function"&&Jn.setTimeout&&setTimeout(vp.unload,911),Ue(st)}catch(Ft){Pe(Ft.message)}})},Tn.API)Tn.API.hasOwnProperty(Ra)&&(Ra==="events"&&Tn.API.events.length?(function(D,le){var Ue,Pe,st;for(st=le.length-1;st!==-1;st--)Ue=le[st][0],Pe=le[st][1],D.subscribe.apply(D,[Ue].concat(typeof Pe=="function"?[Pe]:Pe))})(Ze,Tn.API.events):m[Ra]=Tn.API[Ra]);function oo(D){return tt[D].mediaBox.topRightX-tt[D].mediaBox.bottomLeftX}function jr(D,le){tt[D].mediaBox.topRightX=le+tt[D].mediaBox.bottomLeftX}function cu(D){return tt[D].mediaBox.topRightY-tt[D].mediaBox.bottomLeftY}function Ka(D,le){tt[D].mediaBox.topRightY=le+tt[D].mediaBox.bottomLeftY}var Wa=m.getPageWidth=function(D){return oo(D=D||X)/At},Il=m.setPageWidth=function(D,le){jr(D,le*At)},Yo=m.getPageHeight=function(D){return cu(D=D||X)/At},Bs=m.setPageHeight=function(D,le){Ka(D,le*At)};return m.internal={pdfEscape:dt,getStyle:hi,getFont:$s,getFontSize:Oe,getCharSpace:ro,getTextColor:JA,getLineHeight:Fl,getLineHeightFactor:YA,getLineWidth:ja,write:Le,getHorizontalCoordinate:ea,getVerticalCoordinate:us,getCoordinateString:la,getVerticalCoordinateString:Wo,collections:{},newObject:ci,newAdditionalObject:ki,newObjectDeferred:Ui,newObjectDeferredBegin:Yi,getFilters:Fr,putStream:cr,events:Ze,scaleFactor:At,pageSize:{getWidth:function(){return Wa(X)},setWidth:function(D){Il(X,D)},getHeight:function(){return Yo(X)},setHeight:function(D){Bs(X,D)}},encryptionOptions:h,encryption:Cn,getEncryptor:function(D){return h!==null?Cn.encryptor(D,0):function(le){return le}},output:Rn,getNumberOfPages:Qt,get pages(){return Ne},out:re,f2:k,f3:G,getPageInfo:dn,getPageInfoByObjId:Lr,getCurrentPageInfo:Zs,getPDFVersion:B,Point:ca,Rectangle:ao,Matrix:qt,hasHotfix:Kt},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Wa(X)},set:function(D){Il(X,D)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Yo(X)},set:function(D){Bs(X,D)},enumerable:!0,configurable:!0}),(function(D){for(var le=0,Ue=ce.length;le<Ue;le++){var Pe=We.call(this,D[le][0],D[le][1],D[le][2],ce[le][3],!0);g===!1&&(v[Pe]=!0);var st=D[le][0].split("-");pe({id:Pe,fontName:st[0],fontStyle:st[1]||""})}Ze.publish("addFonts",{fonts:ut,dictionary:ct})}).call(m,ce),$e="F1",nt(r,t),Ze.publish("initialized"),m}fm.prototype.lsbFirstWord=function(i){return String.fromCharCode(255&i,i>>8&255,i>>16&255,i>>24&255)},fm.prototype.toHexString=function(i){return i.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},fm.prototype.hexToBytes=function(i){for(var e=[],t=0;t<i.length;t+=2)e.push(String.fromCharCode(parseInt(i.substr(t,2),16)));return e.join("")},fm.prototype.processOwnerPassword=function(i,e){return UC(MC(e).substr(0,5),i)},fm.prototype.encryptor=function(i,e){var t=MC(this.encryptionKey+String.fromCharCode(255&i,i>>8&255,i>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return UC(t,n)}},_b.prototype.equals=function(i){var e,t="id,objectNumber,equals";if(!i||Dr(i)!==Dr(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!i.hasOwnProperty(e)||this[e]!==i[e])return!1;n++}for(e in i)i.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},Tn.API={events:[]},Tn.version="4.0.0";var aa=Tn.API,n5=1,Zp=function(i){return i.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},om=function(i){return i.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},oi=function(i){return i.toFixed(2)},nd=function(i){return i.toFixed(5)};aa.__acroform__={};var Ul=function(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i},F4=function(i){return i*n5},ff=function(i){var e=new DN,t=Bn.internal.getHeight(i)||0,n=Bn.internal.getWidth(i)||0;return e.BBox=[0,0,Number(oi(n)),Number(oi(t))],e},vZ=aa.__acroform__.setBit=function(i,e){if(i=i||0,e=e||0,isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return i|1<<e},yZ=aa.__acroform__.clearBit=function(i,e){if(i=i||0,e=e||0,isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return i&~(1<<e)},wZ=aa.__acroform__.getBit=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return i&1<<e?1:0},Ma=aa.__acroform__.getBitForPdf=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return wZ(i,e-1)},Ua=aa.__acroform__.setBitForPdf=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return vZ(i,e-1)},Ta=aa.__acroform__.clearBitForPdf=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return yZ(i,e-1)},xZ=aa.__acroform__.calculateCoordinates=function(i,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,r=i[0],s=i[1],a=i[2],A=i[3],l={};return l.lowerLeft_X=t(r)||0,l.lowerLeft_Y=n(s+A)||0,l.upperRight_X=t(r+a)||0,l.upperRight_Y=n(s)||0,[Number(oi(l.lowerLeft_X)),Number(oi(l.lowerLeft_Y)),Number(oi(l.upperRight_X)),Number(oi(l.upperRight_Y))]},bZ=function(i){if(i.appearanceStreamContent)return i.appearanceStreamContent;if(i.V||i.DV){var e=[],t=i._V||i.DV,n=TC(i,t),r=i.scope.internal.getFont(i.fontName,i.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(i.scope.__private__.encodeColorString(i.color)),e.push("/"+r+" "+oi(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=ff(i);return s.scope=i.scope,s.stream=e.join(`
`),s}},TC=function(i,e){var t=i.fontSize===0?i.maxFontSize:i.fontSize,n={text:"",fontSize:""},r=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");r=i.multiline?r.map(function(k){return k.split(`
`)}):r.map(function(k){return[k]});var s=t,a=Bn.internal.getHeight(i)||0;a=a<0?-a:a;var A=Bn.internal.getWidth(i)||0;A=A<0?-A:A;var l=function(k,G,q){if(k+1<r.length){var H=G+" "+r[k+1][0];return Ww(H,i,q).width<=A-4}return!1};s++;e:for(;s>0;){e="",s--;var c,h,g=Ww("3",i,s).height,v=i.multiline?a-s:(a-g)/2,m=v+=2,x=0,B=0,_=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Ww(e,i,s=12).width+", FieldWidth:"+A+`
`;break}for(var b="",M=0,T=0;T<r.length;T++)if(r.hasOwnProperty(T)){var U=!1;if(r[T].length!==1&&_!==r[T].length-1){if((g+2)*(M+2)+2>a)continue e;b+=r[T][_],U=!0,B=T,T--}else{b=(b+=r[T][_]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var R=parseInt(T),O=l(R,b,s),z=T>=r.length-1;if(O&&!z){b+=" ",_=0;continue}if(O||z){if(z)B=R;else if(i.multiline&&(g+2)*(M+2)+2>a)continue e}else{if(!i.multiline||(g+2)*(M+2)+2>a)continue e;B=R}}for(var V="",I=x;I<=B;I++){var P=r[I];if(i.multiline){if(I===B){V+=P[_]+" ",_=(_+1)%P.length;continue}if(I===x){V+=P[P.length-1]+" ";continue}}V+=P[0]+" "}switch(V=V.substr(V.length-1)==" "?V.substr(0,V.length-1):V,h=Ww(V,i,s).width,i.textAlign){case"right":c=A-h-2;break;case"center":c=(A-h)/2;break;default:c=2}e+=oi(c)+" "+oi(m)+` Td
`,e+="("+Zp(V)+`) Tj
`,e+=-oi(c)+` 0 Td
`,m=-(s+2),h=0,x=U?B:B+1,M++,b=""}break}return n.text=e,n.fontSize=s,n},Ww=function(i,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),r=e.scope.getStringUnitWidth(i,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:r}},_Z={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},BZ=function(i,e){var t={type:"reference",object:i};e.internal.getPageInfo(i.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(i.page).pageContext.annotations.push(t)},SZ=function(i,e){if(e.scope=i,i.internal!==void 0&&(i.internal.acroformPlugin===void 0||i.internal.acroformPlugin.isInitialized===!1)){if(Mc.FieldNum=0,i.internal.acroformPlugin=JSON.parse(JSON.stringify(_Z)),i.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");n5=i.internal.scaleFactor,i.internal.acroformPlugin.acroFormDictionaryRoot=new ON,i.internal.acroformPlugin.acroFormDictionaryRoot.scope=i,i.internal.acroformPlugin.acroFormDictionaryRoot._eventID=i.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(i)}),i.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in n)if(n.hasOwnProperty(r)){var s=n[r];s.objId=void 0,s.hasAnnotation&&BZ(s,t)}})(i)}),i.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(i)}),i.internal.events.subscribe("postPutPages",function(t){(function(n,r){var s=!n;for(var a in n||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var A=n[a],l=[],c=A.Rect;if(A.Rect&&(A.Rect=xZ(A.Rect,r)),r.internal.newObjectDeferredBegin(A.objId,!0),A.DA=Bn.createDefaultAppearanceStream(A),Dr(A)==="object"&&typeof A.getKeyValueListForStream=="function"&&(l=A.getKeyValueListForStream()),A.Rect=c,A.hasAppearanceStream&&!A.appearanceStreamContent){var h=bZ(A);l.push({key:"AP",value:"<</N "+h+">>"}),r.internal.acroformPlugin.xForms.push(h)}if(A.appearanceStreamContent){var g="";for(var v in A.appearanceStreamContent)if(A.appearanceStreamContent.hasOwnProperty(v)){var m=A.appearanceStreamContent[v];if(g+="/"+v+" ",g+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var a in m)if(m.hasOwnProperty(a)){var x=m[a];typeof x=="function"&&(x=x.call(r,A)),g+="/"+a+" "+x+" ",r.internal.acroformPlugin.xForms.indexOf(x)>=0||r.internal.acroformPlugin.xForms.push(x)}}else typeof(x=m)=="function"&&(x=x.call(r,A)),g+="/"+a+" "+x,r.internal.acroformPlugin.xForms.indexOf(x)>=0||r.internal.acroformPlugin.xForms.push(x);g+=">>"}l.push({key:"AP",value:`<<
`+g+">>"})}r.internal.putStream({additionalKeyValues:l,objectId:A.objId}),r.internal.out("endobj")}s&&(function(B,_){for(var b in B)if(B.hasOwnProperty(b)){var M=b,T=B[b];_.internal.newObjectDeferredBegin(T.objId,!0),Dr(T)==="object"&&typeof T.putStream=="function"&&T.putStream(),delete B[M]}})(r.internal.acroformPlugin.xForms,r)})(t,i)}),i.internal.acroformPlugin.isInitialized=!0}},NN=aa.__acroform__.arrayToPdfArray=function(i,e,t){var n=function(a){return a};if(Array.isArray(i)){for(var r="[",s=0;s<i.length;s++)switch(s!==0&&(r+=" "),Dr(i[s])){case"boolean":case"number":case"object":r+=i[s].toString();break;case"string":i[s].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),r+="("+Zp(n(i[s].toString()))+")"):r+=i[s].toString()}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},c2=function(i,e,t){var n=function(r){return r};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(i=i||"").toString(),"("+Zp(n(i))+")"},vf=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(i){this._objId=i}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};vf.prototype.toString=function(){return this.objId+" 0 R"},vf.prototype.putStream=function(){var i=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:i,objectId:this.objId}),this.scope.internal.out("endobj")},vf.prototype.getKeyValueListForStream=function(){var i=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],r=this[n];r&&(Array.isArray(r)?i.push({key:n,value:NN(r,this.objId,this.scope)}):r instanceof vf?(r.scope=this.scope,i.push({key:n,value:r.objId+" 0 R"})):typeof r!="function"&&i.push({key:n,value:r}))}return i};var DN=function(){vf.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var i,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){i=t.trim()},get:function(){return i||null}})};Ul(DN,vf);var ON=function(){vf.call(this);var i,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(i){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Zp(t(i))+")"}},set:function(t){i=t}})};Ul(ON,vf);var Mc=function i(){vf.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');e=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ma(e,3)},set:function(b){b?this.F=Ua(e,3):this.F=Ta(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');t=b}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(b){n=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(b){n[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(b){n[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(b){n[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(b){n[3]=b}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Bb)return;s="FieldObject"+i.FieldNum++}var b=function(M){return M};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+Zp(b(s))+")"},set:function(b){s=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(b){s=b}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(b){a=b}});var A="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return A},set:function(b){A=b}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/n5:c},set:function(b){c=b}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(b){h=b}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof Bb||this instanceof Op))return c2(g,this.objId,this.scope)},set:function(b){b=b.toString(),g=b}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof wo==0?c2(v,this.objId,this.scope):v},set:function(b){b=b.toString(),v=this instanceof wo==0?b.substr(0,1)==="("?om(b.substr(1,b.length-2)):om(b):b}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof wo==1?om(v.substr(1,v.length-1)):v},set:function(b){b=b.toString(),v=this instanceof wo==1?"/"+b:b}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof wo==0?c2(m,this.objId,this.scope):m},set:function(b){b=b.toString(),m=this instanceof wo==0?b.substr(0,1)==="("?om(b.substr(1,b.length-2)):om(b):b}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof wo==1?om(m.substr(1,m.length-1)):m},set:function(b){b=b.toString(),m=this instanceof wo==1?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,B=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return B},set:function(b){b=!!b,B=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(b){x=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,1)},set:function(b){b?this.Ff=Ua(this.Ff,1):this.Ff=Ta(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,2)},set:function(b){b?this.Ff=Ua(this.Ff,2):this.Ff=Ta(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,3)},set:function(b){b?this.Ff=Ua(this.Ff,3):this.Ff=Ta(this.Ff,3)}});var _=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(_!==null)return _},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');_=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(_){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:_=2;break;case"center":case 1:_=1;break;default:_=0}}})};Ul(Mc,vf);var Bm=function(){Mc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var i=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return i},set:function(t){i=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return NN(e,this.objId,this.scope)},set:function(t){var n,r;r=[],typeof(n=t)=="string"&&(r=(function(s,a,A){A||(A=1);for(var l,c=[];l=a.exec(s);)c.push(l[A]);return c})(n,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,18)},set:function(t){t?this.Ff=Ua(this.Ff,18):this.Ff=Ta(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Ua(this.Ff,19):this.Ff=Ta(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,20)},set:function(t){t?(this.Ff=Ua(this.Ff,20),e.sort()):this.Ff=Ta(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,22)},set:function(t){t?this.Ff=Ua(this.Ff,22):this.Ff=Ta(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,23)},set:function(t){t?this.Ff=Ua(this.Ff,23):this.Ff=Ta(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,27)},set:function(t){t?this.Ff=Ua(this.Ff,27):this.Ff=Ta(this.Ff,27)}}),this.hasAppearanceStream=!1};Ul(Bm,Mc);var Sm=function(){Bm.call(this),this.fontName="helvetica",this.combo=!1};Ul(Sm,Bm);var Cm=function(){Sm.call(this),this.combo=!0};Ul(Cm,Sm);var lx=function(){Cm.call(this),this.edit=!0};Ul(lx,Cm);var wo=function(){Mc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,15)},set:function(t){t?this.Ff=Ua(this.Ff,15):this.Ff=Ta(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,16)},set:function(t){t?this.Ff=Ua(this.Ff,16):this.Ff=Ta(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,17)},set:function(t){t?this.Ff=Ua(this.Ff,17):this.Ff=Ta(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,26)},set:function(t){t?this.Ff=Ua(this.Ff,26):this.Ff=Ta(this.Ff,26)}});var i,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,r=[];for(n in r.push("<<"),e)r.push("/"+n+" ("+Zp(t(e[n]))+")");return r.push(">>"),r.join(`
`)}},set:function(t){Dr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(t){i="/"+t}})};Ul(wo,Mc);var ux=function(){wo.call(this),this.pushButton=!0};Ul(ux,wo);var Em=function(){wo.call(this),this.radio=!0,this.pushButton=!1;var i=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){i=e!==void 0?e:[]}})};Ul(Em,wo);var Bb=function(){var i,e;Mc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return i},set:function(r){i=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(r){e=r}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(A){return A};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+Zp(r(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(r){Dr(r)==="object"&&(n=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(r){typeof r=="string"&&(n.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Bn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ul(Bb,Mc),Em.prototype.setAppearance=function(i){if(!("createAppearanceStream"in i)||!("getCA"in i))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=i.createAppearanceStream(t.optionName),t.caption=i.getCA()}},Em.prototype.createOption=function(i){var e=new Bb;return e.Parent=this,e.optionName=i,this.Kids.push(e),CZ.call(this.scope,e),e};var cx=function(){wo.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Bn.CheckBox.createAppearanceStream()};Ul(cx,wo);var Op=function(){Mc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,13)},set:function(e){e?this.Ff=Ua(this.Ff,13):this.Ff=Ta(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,21)},set:function(e){e?this.Ff=Ua(this.Ff,21):this.Ff=Ta(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,23)},set:function(e){e?this.Ff=Ua(this.Ff,23):this.Ff=Ta(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,24)},set:function(e){e?this.Ff=Ua(this.Ff,24):this.Ff=Ta(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,25)},set:function(e){e?this.Ff=Ua(this.Ff,25):this.Ff=Ta(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,26)},set:function(e){e?this.Ff=Ua(this.Ff,26):this.Ff=Ta(this.Ff,26)}});var i=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return i},set:function(e){Number.isInteger(e)&&(i=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ul(Op,Mc);var fx=function(){Op.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,14)},set:function(i){i?this.Ff=Ua(this.Ff,14):this.Ff=Ta(this.Ff,14)}}),this.password=!0};Ul(fx,Op);var Bn={CheckBox:{createAppearanceStream:function(){return{N:{On:Bn.CheckBox.YesNormal},D:{On:Bn.CheckBox.YesPushDown,Off:Bn.CheckBox.OffPushDown}}},YesPushDown:function(i){var e=ff(i);e.scope=i.scope;var t=[],n=i.scope.internal.getFont(i.fontName,i.fontStyle).id,r=i.scope.__private__.encodeColorString(i.color),s=TC(i,i.caption);return t.push("0.749023 g"),t.push("0 0 "+oi(Bn.internal.getWidth(i))+" "+oi(Bn.internal.getHeight(i))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+oi(s.fontSize)+" Tf "+r),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(i){var e=ff(i);e.scope=i.scope;var t=i.scope.internal.getFont(i.fontName,i.fontStyle).id,n=i.scope.__private__.encodeColorString(i.color),r=[],s=Bn.internal.getHeight(i),a=Bn.internal.getWidth(i),A=TC(i,i.caption);return r.push("1 g"),r.push("0 0 "+oi(a)+" "+oi(s)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+oi(a-1)+" "+oi(s-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+t+" "+oi(A.fontSize)+" Tf "+n),r.push(A.text),r.push("ET"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(i){var e=ff(i);e.scope=i.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+oi(Bn.internal.getWidth(i))+" "+oi(Bn.internal.getHeight(i))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(i){var e={D:{Off:Bn.RadioButton.Circle.OffPushDown},N:{}};return e.N[i]=Bn.RadioButton.Circle.YesNormal,e.D[i]=Bn.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(i){var e=ff(i);e.scope=i.scope;var t=[],n=Bn.internal.getWidth(i)<=Bn.internal.getHeight(i)?Bn.internal.getWidth(i)/4:Bn.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var r=Bn.internal.Bezier_C,s=Number((n*r).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+nd(Bn.internal.getWidth(i)/2)+" "+nd(Bn.internal.getHeight(i)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),t.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),t.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),t.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(i){var e=ff(i);e.scope=i.scope;var t=[],n=Bn.internal.getWidth(i)<=Bn.internal.getHeight(i)?Bn.internal.getWidth(i)/4:Bn.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var r=Number((2*n).toFixed(5)),s=Number((r*Bn.internal.Bezier_C).toFixed(5)),a=Number((n*Bn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+nd(Bn.internal.getWidth(i)/2)+" "+nd(Bn.internal.getHeight(i)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+nd(Bn.internal.getWidth(i)/2)+" "+nd(Bn.internal.getHeight(i)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),t.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),t.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),t.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(i){var e=ff(i);e.scope=i.scope;var t=[],n=Bn.internal.getWidth(i)<=Bn.internal.getHeight(i)?Bn.internal.getWidth(i)/4:Bn.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var r=Number((2*n).toFixed(5)),s=Number((r*Bn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+nd(Bn.internal.getWidth(i)/2)+" "+nd(Bn.internal.getHeight(i)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(i){var e={D:{Off:Bn.RadioButton.Cross.OffPushDown},N:{}};return e.N[i]=Bn.RadioButton.Cross.YesNormal,e.D[i]=Bn.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(i){var e=ff(i);e.scope=i.scope;var t=[],n=Bn.internal.calculateCross(i);return t.push("q"),t.push("1 1 "+oi(Bn.internal.getWidth(i)-2)+" "+oi(Bn.internal.getHeight(i)-2)+" re"),t.push("W"),t.push("n"),t.push(oi(n.x1.x)+" "+oi(n.x1.y)+" m"),t.push(oi(n.x2.x)+" "+oi(n.x2.y)+" l"),t.push(oi(n.x4.x)+" "+oi(n.x4.y)+" m"),t.push(oi(n.x3.x)+" "+oi(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(i){var e=ff(i);e.scope=i.scope;var t=Bn.internal.calculateCross(i),n=[];return n.push("0.749023 g"),n.push("0 0 "+oi(Bn.internal.getWidth(i))+" "+oi(Bn.internal.getHeight(i))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+oi(Bn.internal.getWidth(i)-2)+" "+oi(Bn.internal.getHeight(i)-2)+" re"),n.push("W"),n.push("n"),n.push(oi(t.x1.x)+" "+oi(t.x1.y)+" m"),n.push(oi(t.x2.x)+" "+oi(t.x2.y)+" l"),n.push(oi(t.x4.x)+" "+oi(t.x4.y)+" m"),n.push(oi(t.x3.x)+" "+oi(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(i){var e=ff(i);e.scope=i.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+oi(Bn.internal.getWidth(i))+" "+oi(Bn.internal.getHeight(i))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(i){var e=i.scope.internal.getFont(i.fontName,i.fontStyle).id,t=i.scope.__private__.encodeColorString(i.color);return"/"+e+" "+i.fontSize+" Tf "+t}};Bn.internal={Bezier_C:.551915024494,calculateCross:function(i){var e=Bn.internal.getWidth(i),t=Bn.internal.getHeight(i),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},Bn.internal.getWidth=function(i){var e=0;return Dr(i)==="object"&&(e=F4(i.Rect[2])),e},Bn.internal.getHeight=function(i){var e=0;return Dr(i)==="object"&&(e=F4(i.Rect[3])),e};var CZ=aa.addField=function(i){if(SZ(this,i),!(i instanceof Mc))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=i).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),i.page=i.scope.internal.getCurrentPageInfo().pageNumber,this};aa.AcroFormChoiceField=Bm,aa.AcroFormListBox=Sm,aa.AcroFormComboBox=Cm,aa.AcroFormEditBox=lx,aa.AcroFormButton=wo,aa.AcroFormPushButton=ux,aa.AcroFormRadioButton=Em,aa.AcroFormCheckBox=cx,aa.AcroFormTextField=Op,aa.AcroFormPasswordField=fx,aa.AcroFormAppearance=Bn,aa.AcroForm={ChoiceField:Bm,ListBox:Sm,ComboBox:Cm,EditBox:lx,Button:wo,PushButton:ux,RadioButton:Em,CheckBox:cx,TextField:Op,PasswordField:fx,Appearance:Bn},Tn.AcroForm={ChoiceField:Bm,ListBox:Sm,ComboBox:Cm,EditBox:lx,Button:wo,PushButton:ux,RadioButton:Em,CheckBox:cx,TextField:Op,PasswordField:fx,Appearance:Bn};Tn.AcroForm;function PN(i){return i.reduce(function(e,t,n){return e[t]=n,e},{})}(function(i){var e="addImage_";i.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=i.__addimage__.getImageFileTypeByImageData=function(k,G){var q,H,ae,Z,ne,oe=t;if((G=G||t)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(O(k))for(ne in n)for(ae=n[ne],q=0;q<ae.length;q+=1){for(Z=!0,H=0;H<ae[q].length;H+=1)if(ae[q][H]!==void 0&&ae[q][H]!==k[H]){Z=!1;break}if(Z===!0){oe=ne;break}}else for(ne in n)for(ae=n[ne],q=0;q<ae.length;q+=1){for(Z=!0,H=0;H<ae[q].length;H+=1)if(ae[q][H]!==void 0&&ae[q][H]!==k.charCodeAt(H)){Z=!1;break}if(Z===!0){oe=ne;break}}return oe===t&&G!==t&&(oe=G),oe},s=function k(G){for(var q=this.internal.write,H=this.internal.putStream,ae=(0,this.internal.getFilters)();ae.indexOf("FlateEncode")!==-1;)ae.splice(ae.indexOf("FlateEncode"),1);G.objectId=this.internal.newObject();var Z=[];if(Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Image"}),Z.push({key:"Width",value:G.width}),Z.push({key:"Height",value:G.height}),G.colorSpace===b.INDEXED?Z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(G.palette.length/3-1)+" "+("sMask"in G&&G.sMask!==void 0?G.objectId+2:G.objectId+1)+" 0 R]"}):(Z.push({key:"ColorSpace",value:"/"+G.colorSpace}),G.colorSpace===b.DEVICE_CMYK&&Z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Z.push({key:"BitsPerComponent",value:G.bitsPerComponent}),"decodeParameters"in G&&G.decodeParameters!==void 0&&Z.push({key:"DecodeParms",value:"<<"+G.decodeParameters+">>"}),"transparency"in G&&Array.isArray(G.transparency)&&G.transparency.length>0){for(var ne="",oe=0,fe=G.transparency.length;oe<fe;oe++)ne+=G.transparency[oe]+" "+G.transparency[oe]+" ";Z.push({key:"Mask",value:"["+ne+"]"})}G.sMask!==void 0&&Z.push({key:"SMask",value:G.objectId+1+" 0 R"});var me=G.filter!==void 0?["/"+G.filter]:void 0;if(H({data:G.data,additionalKeyValues:Z,alreadyAppliedFilters:me,objectId:G.objectId}),q("endobj"),"sMask"in G&&G.sMask!==void 0){var W,Q=(W=G.sMaskBitsPerComponent)!==null&&W!==void 0?W:G.bitsPerComponent,X={width:G.width,height:G.height,colorSpace:"DeviceGray",bitsPerComponent:Q,data:G.sMask};"filter"in G&&(X.decodeParameters="/Predictor ".concat(G.predictor," /Colors 1 /BitsPerComponent ").concat(Q," /Columns ").concat(G.width),X.filter=G.filter),k.call(this,X)}if(G.colorSpace===b.INDEXED){var Y=this.internal.newObject();H({data:V(new Uint8Array(G.palette)),objectId:Y}),q("endobj")}},a=function(){var k=this.internal.collections[e+"images"];for(var G in k)s.call(this,k[G])},A=function(){var k,G=this.internal.collections[e+"images"],q=this.internal.write;for(var H in G)q("/I"+(k=G[H]).index,k.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",A))},c=function(){var k=this.internal.collections[e+"images"];return l.call(this),k},h=function(){return Object.keys(this.internal.collections[e+"images"]).length},g=function(k){return typeof i["process"+k.toUpperCase()]=="function"},v=function(k){return Dr(k)==="object"&&k.nodeType===1},m=function(k,G){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var q=""+k.getAttribute("src");if(q.indexOf("data:image/")===0)return Ax(unescape(q).split("base64,").pop());var H=i.loadFile(q,!0);if(H!==void 0)return H}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var ae;switch(G){case"PNG":ae="image/png";break;case"WEBP":ae="image/webp";break;default:ae="image/jpeg"}return Ax(k.toDataURL(ae,1).split("base64,").pop())}},x=function(k){var G=this.internal.collections[e+"images"];if(G){for(var q in G)if(k===G[q].alias)return G[q]}},B=function(k,G,q){return k||G||(k=-96,G=-96),k<0&&(k=-1*q.width*72/k/this.internal.scaleFactor),G<0&&(G=-1*q.height*72/G/this.internal.scaleFactor),k===0&&(k=G*q.width/q.height),G===0&&(G=k*q.height/q.width),[k,G]},_=function(k,G,q,H,ae,Z){var ne=B.call(this,q,H,ae),oe=this.internal.getCoordinateString,fe=this.internal.getVerticalCoordinateString,me=c.call(this);if(q=ne[0],H=ne[1],me[ae.index]=ae,Z){Z*=Math.PI/180;var W=Math.cos(Z),Q=Math.sin(Z),X=function(ie){return ie.toFixed(4)},Y=[X(W),X(Q),X(-1*Q),X(W),0,0,"cm"]}this.internal.write("q"),Z?(this.internal.write([1,"0","0",1,oe(k),fe(G+H),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([oe(q),"0","0",oe(H),"0","0","cm"].join(" "))):this.internal.write([oe(q),"0","0",oe(H),oe(k),fe(G+H),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ae.index+" Do"),this.internal.write("Q")},b=i.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};i.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var M=i.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},T=i.__addimage__.sHashCode=function(k){var G,q,H=0;if(typeof k=="string")for(q=k.length,G=0;G<q;G++)H=(H<<5)-H+k.charCodeAt(G),H|=0;else if(O(k))for(q=k.byteLength/2,G=0;G<q;G++)H=(H<<5)-H+k[G],H|=0;return H},U=i.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var G=!0;return k.length===0&&(G=!1),k.length%4!=0&&(G=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(G=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(G=!1),G},R=i.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var G=k.indexOf(",");return G<0?null:k.substring(0,G).trim().endsWith("base64")?k.substring(G+1):null};i.__addimage__.isArrayBuffer=function(k){return k instanceof ArrayBuffer};var O=i.__addimage__.isArrayBufferView=function(k){return k instanceof Int8Array||k instanceof Uint8Array||k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array},z=i.__addimage__.binaryStringToUint8Array=function(k){for(var G=k.length,q=new Uint8Array(G),H=0;H<G;H++)q[H]=k.charCodeAt(H);return q},V=i.__addimage__.arrayBufferToBinaryString=function(k){for(var G="",q=O(k)?k:new Uint8Array(k),H=0;H<q.length;H+=8192)G+=String.fromCharCode.apply(null,q.subarray(H,H+8192));return G};i.addImage=function(){var k,G,q,H,ae,Z,ne,oe,fe;if(typeof arguments[1]=="number"?(G=t,q=arguments[1],H=arguments[2],ae=arguments[3],Z=arguments[4],ne=arguments[5],oe=arguments[6],fe=arguments[7]):(G=arguments[1],q=arguments[2],H=arguments[3],ae=arguments[4],Z=arguments[5],ne=arguments[6],oe=arguments[7],fe=arguments[8]),Dr(k=arguments[0])==="object"&&!v(k)&&"imageData"in k){var me=k;k=me.imageData,G=me.format||G||t,q=me.x||q||0,H=me.y||H||0,ae=me.w||me.width||ae,Z=me.h||me.height||Z,ne=me.alias||ne,oe=me.compression||oe,fe=me.rotation||me.angle||fe}var W=this.internal.getFilters();if(oe===void 0&&W.indexOf("FlateEncode")!==-1&&(oe="SLOW"),isNaN(q)||isNaN(H))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var Q=I.call(this,k,G,ne,oe);return _.call(this,q,H,ae,Z,Q,fe),this};var I=function(k,G,q,H){var ae,Z,ne;if(typeof k=="string"&&r(k)===t){k=unescape(k);var oe=P(k,!1);(oe!==""||(oe=i.loadFile(k,!0))!==void 0)&&(k=oe)}if(v(k)&&(k=m(k,G)),G=r(k,G),!g(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(((ne=q)==null||ne.length===0)&&(q=(function(fe){return typeof fe=="string"||O(fe)?T(fe):O(fe.data)?T(fe.data):null})(k)),(ae=x.call(this,q))||(k instanceof Uint8Array||G==="RGBA"||(Z=k,k=z(k)),ae=this["process"+G.toUpperCase()](k,h.call(this),q,(function(fe){return fe&&typeof fe=="string"&&(fe=fe.toUpperCase()),fe in i.image_compression?fe:M.NONE})(H),Z)),!ae)throw new Error("An unknown error occurred whilst processing the image.");return ae},P=i.__addimage__.convertBase64ToBinaryString=function(k,G){G=typeof G!="boolean"||G;var q,H="";if(typeof k=="string"){var ae;q=(ae=R(k))!==null&&ae!==void 0?ae:k;try{H=Ax(q)}catch(Z){if(G)throw U(q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return H};i.getImageProperties=function(k){var G,q,H="";if(v(k)&&(k=m(k)),typeof k=="string"&&r(k)===t&&((H=P(k,!1))===""&&(H=i.loadFile(k)||""),k=H),q=r(k),!g(q))throw new Error("addImage does not support files of type '"+q+"', please ensure that a plugin for '"+q+"' support is added.");if(k instanceof Uint8Array||(k=z(k)),!(G=this["process"+q.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return G.fileType=q,G}})(Tn.API),(function(i){var e=function(t){if(t!==void 0&&t!="")return!0};Tn.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),i.events.push(["putPage",function(t){for(var n,r,s,a=this.internal.getCoordinateString,A=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,h=!1,g=0;g<c.length&&!h;g++)switch((n=c[g]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var v=0;v<c.length;v++){n=c[v];var m=this.internal.pdfEscape,x=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var B=this.internal.newAdditionalObject(),_=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(B.objId),M=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+a(n.bounds.x)+" "+A(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+A(n.bounds.y)+"] ")+"/Contents ("+m(b(n.contents))+")",s+=" /Popup "+_.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+m(b(M))+") >>",B.content=s;var T=B.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+a(n.bounds.x+30)+" "+A(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+A(n.bounds.y)+"] ")+" /Parent "+T,n.open&&(s+=" /Open true"),s+=" >>",_.content=s,this.internal.write(B.objId,"0 R",_.objId,"0 R");break;case"freetext":r="/Rect ["+a(n.bounds.x)+" "+A(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+A(n.bounds.y+n.bounds.h)+"] ";var U=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+m(x(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+U+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var R=this.annotations._nameMap[n.options.name];n.options.pageNumber=R.page,n.options.top=R.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+m(x(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var O=A(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+O+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),i.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},i.link=function(t,n,r,s,a){var A=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;A.pageContext.annotations.push({finalBounds:{x:l(t),y:c(n),w:l(t+r),h:c(n+s)},options:a,type:"link"})},i.textWithLink=function(t,n,r,s){var a,A,l=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){A=s.maxWidth;var h=this.splitTextToSize(t,A).length;a=Math.ceil(c*h)}else A=l,a=c;return this.text(t,n,r,s),r+=.2*c,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,r-c,A,a,s),l},i.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}})(Tn.API),(function(i){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];i.__arabicParser__={};var s=i.__arabicParser__.isInArabicSubstitutionA=function(B){return e[B.charCodeAt(0)]!==void 0},a=i.__arabicParser__.isArabicLetter=function(B){return typeof B=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(B)},A=i.__arabicParser__.isArabicEndLetter=function(B){return a(B)&&s(B)&&e[B.charCodeAt(0)].length<=2},l=i.__arabicParser__.isArabicAlfLetter=function(B){return a(B)&&r.indexOf(B.charCodeAt(0))>=0};i.__arabicParser__.arabicLetterHasIsolatedForm=function(B){return a(B)&&s(B)&&e[B.charCodeAt(0)].length>=1};var c=i.__arabicParser__.arabicLetterHasFinalForm=function(B){return a(B)&&s(B)&&e[B.charCodeAt(0)].length>=2};i.__arabicParser__.arabicLetterHasInitialForm=function(B){return a(B)&&s(B)&&e[B.charCodeAt(0)].length>=3};var h=i.__arabicParser__.arabicLetterHasMedialForm=function(B){return a(B)&&s(B)&&e[B.charCodeAt(0)].length==4},g=i.__arabicParser__.resolveLigatures=function(B){var _=0,b=t,M="",T=0;for(_=0;_<B.length;_+=1)b[B.charCodeAt(_)]!==void 0?(T++,typeof(b=b[B.charCodeAt(_)])=="number"&&(M+=String.fromCharCode(b),b=t,T=0),_===B.length-1&&(b=t,M+=B.charAt(_-(T-1)),_-=T-1,T=0)):(b=t,M+=B.charAt(_-T),_-=T,T=0);return M};i.__arabicParser__.isArabicDiacritic=function(B){return B!==void 0&&n[B.charCodeAt(0)]!==void 0};var v=i.__arabicParser__.getCorrectForm=function(B,_,b){return a(B)?s(B)===!1?-1:!c(B)||!a(_)&&!a(b)||!a(b)&&A(_)||A(B)&&!a(_)||A(B)&&l(_)||A(B)&&A(_)?0:h(B)&&a(_)&&!A(_)&&a(b)&&c(b)?3:A(B)||!a(b)?1:2:-1},m=function(B){var _=0,b=0,M=0,T="",U="",R="",O=(B=B||"").split("\\s+"),z=[];for(_=0;_<O.length;_+=1){for(z.push(""),b=0;b<O[_].length;b+=1)T=O[_][b],U=O[_][b-1],R=O[_][b+1],a(T)?(M=v(T,U,R),z[_]+=M!==-1?String.fromCharCode(e[T.charCodeAt(0)][M]):T):z[_]+=T;z[_]=g(z[_])}return z.join(" ")},x=i.__arabicParser__.processArabic=i.processArabic=function(){var B,_=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(_)){var M=0;for(b=[],M=0;M<_.length;M+=1)Array.isArray(_[M])?b.push([m(_[M][0]),_[M][1],_[M][2]]):b.push([m(_[M])]);B=b}else B=m(_);return typeof arguments[0]=="string"?B:(arguments[0].text=B,arguments[0])};i.events.push(["preProcessText",x])})(Tn.API),Tn.API.autoPrint=function(i){var e;return(i=i||{}).variant=i.variant||"non-conform",i.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(i){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(A){t=A}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(A){n=isNaN(A)||Number.isInteger(A)===!1||A<0?150:A,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(A){r=isNaN(A)||Number.isInteger(A)===!1||A<0?300:A,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(A){s=A}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(A){a=A}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var r;if((t=t||"2d")!=="2d")return null;for(r in n)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=n[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},i.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Tn.API),(function(i){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(B){l=B}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(B){c=B}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(B){h=B}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(B){g=B}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(B){v=B}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(B){m=B}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(B){x=B}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},i.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},i.getTextDimensions=function(l,c){n.call(this);var h=(c=c||{}).fontSize||this.getFontSize(),g=c.font||this.getFont(),v=c.scaleFactor||this.internal.scaleFactor,m=0,x=0,B=0,_=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var b=c.maxWidth;b>0?typeof l=="string"?l=this.splitTextToSize(l,b):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(T,U){return T.concat(_.splitTextToSize(U,b))},[])):l=Array.isArray(l)?l:[l];for(var M=0;M<l.length;M++)m<(B=this.getStringUnitWidth(l[M],{font:g})*h)&&(m=B);return m!==0&&(x=l.length),{w:m/=v,h:Math.max((x*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/v,0)}},i.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=i.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var c=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,g=this.internal.__cell__.margins||e,v=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=g.top,m&&v&&(this.printHeaderRow(l.lineNumber,!0),l.y+=v[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,t===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-h,l.y+h,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+h,{align:"center",baseline:"top",maxWidth:l.width-h-h}):this.text(l.text,l.x+h,l.y+h,{align:"left",baseline:"top",maxWidth:l.width-h-h})),this.internal.__cell__.lastCell=l,this};i.table=function(l,c,h,g,v){if(n.call(this),!h)throw new Error("No data for PDF table.");var m,x,B,_,b=[],M=[],T=[],U={},R={},O=[],z=[],V=(v=v||{}).autoSize||!1,I=v.printHeaders!==!1,P=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,k=v.margins||Object.assign({width:this.getPageWidth()},e),G=typeof v.padding=="number"?v.padding:3,q=v.headerBackgroundColor||"#c8c8c8",H=v.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=P,this.internal.__cell__.padding=G,this.internal.__cell__.headerBackgroundColor=q,this.internal.__cell__.headerTextColor=H,this.setFontSize(P),g==null)M=b=Object.keys(h[0]),T=b.map(function(){return"left"});else if(Array.isArray(g)&&Dr(g[0])==="object")for(b=g.map(function(me){return me.name}),M=g.map(function(me){return me.prompt||me.name||""}),T=g.map(function(me){return me.align||"left"}),m=0;m<g.length;m+=1)R[g[m].name]=.7499990551181103*g[m].width;else Array.isArray(g)&&typeof g[0]=="string"&&(M=b=g,T=b.map(function(){return"left"}));if(V||Array.isArray(g)&&typeof g[0]=="string")for(m=0;m<b.length;m+=1){for(U[_=b[m]]=h.map(function(me){return me[_]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(M[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=U[_],this.setFont(void 0,"normal"),B=0;B<x.length;B+=1)O.push(this.getTextDimensions(x[B],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);R[_]=Math.max.apply(null,O)+G+G,O=[]}if(I){var ae={};for(m=0;m<b.length;m+=1)ae[b[m]]={},ae[b[m]].text=M[m],ae[b[m]].align=T[m];var Z=A.call(this,ae,R);z=b.map(function(me){return new s(l,c,R[me],Z,ae[me].text,void 0,ae[me].align)}),this.setTableHeaderRow(z),this.printHeaderRow(1,!1)}var ne=g.reduce(function(me,W){return me[W.name]=W.align,me},{});for(m=0;m<h.length;m+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:m,data:h[m]},this);var oe=A.call(this,h[m],R);for(B=0;B<b.length;B+=1){var fe=h[m][b[B]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:m,col:B,data:fe},this),a.call(this,new s(l,c,R[b[B]],oe,fe,m+2,ne[b[B]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var A=function(l,c){var h=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(l).map(function(m){var x=l[m];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,c[m]-h-h)},this).map(function(m){return this.getLineHeightFactor()*m.length*g/v+h+h},this).reduce(function(m,x){return Math.max(m,x)},0)};i.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},i.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){h=this.internal.__cell__.tableHeaderRow[m].clone(),c&&(h.y=this.internal.__cell__.margins.top||0,v.push(h)),h.lineNumber=l;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,h),this.setTextColor(x)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),t=!1}})(Tn.API);var QN={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},HN=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],FC=PN(HN),kN=[100,200,300,400,500,600,700,800,900],EZ=PN(kN);function f2(i){var e=i.family.replace(/"|'/g,"").toLowerCase(),t=(function(s){return QN[s=s||"normal"]?s:"normal"})(i.style),n=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(i.weight),r=(function(s){return typeof FC[s=s||"normal"]=="number"?s:"normal"})(i.stretch);return{family:e,style:t,weight:n,stretch:r,src:i.src||[],ref:i.ref||{name:e,style:[r,t,n].join(" ")}}}function L4(i,e,t,n){var r;for(r=t;r>=0&&r<e.length;r+=n)if(i[e[r]])return i[e[r]];for(r=t;r>=0&&r<e.length;r-=n)if(i[e[r]])return i[e[r]]}var MZ={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},I4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function R4(i){return[i.stretch,i.style,i.weight,i.family].join(" ")}function N4(i){return i.trimLeft()}function UZ(i,e){for(var t=0;t<i.length;){if(i.charAt(t)===e)return[i.substring(0,t),i.substring(t+1)];t+=1}return null}function TZ(i){var e=i.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],i.substring(e[0].length)]}var qw,D4,O4,Am,Xw,P4,Q4,H4,h2=["times"];function k4(i,e,t,n,r){var s=4,a=G4;switch(r){case Tn.API.image_compression.FAST:s=1,a=z4;break;case Tn.API.image_compression.MEDIUM:s=6,a=V4;break;case Tn.API.image_compression.SLOW:s=9,a=j4}i=(function(l,c,h,g){for(var v,m=l.length/c,x=new Uint8Array(l.length+m),B=[FZ,z4,G4,V4,j4],_=0;_<m;_+=1){var b=_*c,M=l.subarray(b,b+c);if(g)x.set(g(M,h,v),b+_);else{for(var T=B.length,U=[],R=0;R<T;R+=1)U[R]=B[R](M,h,v);var O=IZ(U.concat());x.set(U[O],b+_)}v=M}return x})(i,e,Math.ceil(t*n/8),a);var A=BC(i,{level:s});return Tn.API.__addimage__.arrayBufferToBinaryString(A)}function FZ(i){var e=Array.apply([],i);return e.unshift(0),e}function z4(i,e){var t=i.length,n=[];n[0]=1;for(var r=0;r<t;r+=1){var s=i[r-e]||0;n[r+1]=i[r]-s+256&255}return n}function G4(i,e,t){var n=i.length,r=[];r[0]=2;for(var s=0;s<n;s+=1){var a=t&&t[s]||0;r[s+1]=i[s]-a+256&255}return r}function V4(i,e,t){var n=i.length,r=[];r[0]=3;for(var s=0;s<n;s+=1){var a=i[s-e]||0,A=t&&t[s]||0;r[s+1]=i[s]+256-(a+A>>>1)&255}return r}function j4(i,e,t){var n=i.length,r=[];r[0]=4;for(var s=0;s<n;s+=1){var a=LZ(i[s-e]||0,t&&t[s]||0,t&&t[s-e]||0);r[s+1]=i[s]-a+256&255}return r}function LZ(i,e,t){if(i===e&&e===t)return i;var n=Math.abs(e-t),r=Math.abs(i-t),s=Math.abs(i+e-t-t);return n<=r&&n<=s?i:r<=s?e:t}function IZ(i){var e=i.map(function(t){return t.reduce(function(n,r){return n+Math.abs(r)},0)});return e.indexOf(Math.min.apply(null,e))}function d2(i,e,t){var n=e*t,r=Math.floor(n/8),s=16-(n-8*r+t),a=(1<<t)-1;return zN(i,r)>>s&a}function K4(i,e,t,n){var r=t*n,s=Math.floor(r/8),a=16-(r-8*s+n),A=(1<<n)-1,l=(e&A)<<a;(function(c,h,g){if(h+1<c.byteLength)c.setUint16(h,g,!1);else{var v=g>>8&255;c.setUint8(h,v)}})(i,s,zN(i,s)&~(A<<a)&65535|l)}function zN(i,e){return e+1<i.byteLength?i.getUint16(e,!1):i.getUint8(e)<<8}function RZ(i){var e=0;if(i[e++]!==71||i[e++]!==73||i[e++]!==70||i[e++]!==56||(i[e++]+1&253)!=56||i[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=i[e++]|i[e++]<<8,n=i[e++]|i[e++]<<8,r=i[e++],s=r>>7,a=1<<1+(7&r);i[e++],i[e++];var A=null,l=null;s&&(A=e,l=a,e+=3*a);var c=!0,h=[],g=0,v=null,m=0,x=null;for(this.width=t,this.height=n;c&&e<i.length;)switch(i[e++]){case 33:switch(i[e++]){case 255:if(i[e]!==11||i[e+1]==78&&i[e+2]==69&&i[e+3]==84&&i[e+4]==83&&i[e+5]==67&&i[e+6]==65&&i[e+7]==80&&i[e+8]==69&&i[e+9]==50&&i[e+10]==46&&i[e+11]==48&&i[e+12]==3&&i[e+13]==1&&i[e+16]==0)e+=14,x=i[e++]|i[e++]<<8,e++;else for(e+=12;;){if(!((k=i[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;case 249:if(i[e++]!==4||i[e+4]!==0)throw new Error("Invalid graphics extension block.");var B=i[e++];g=i[e++]|i[e++]<<8,v=i[e++],1&B||(v=null),m=B>>2&7,e++;break;case 254:for(;;){if(!((k=i[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;default:throw new Error("Unknown graphic control label: 0x"+i[e-1].toString(16))}break;case 44:var _=i[e++]|i[e++]<<8,b=i[e++]|i[e++]<<8,M=i[e++]|i[e++]<<8,T=i[e++]|i[e++]<<8,U=i[e++],R=U>>6&1,O=1<<1+(7&U),z=A,V=l,I=!1;U>>7&&(I=!0,z=e,V=O,e+=3*O);var P=e;for(e++;;){var k;if(!((k=i[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}h.push({x:_,y:b,width:M,height:T,has_local_palette:I,palette_offset:z,palette_size:V,data_offset:P,data_length:e-P,transparent_index:v,interlaced:!!R,delay:g,disposal:m});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+i[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return x},this.frameInfo=function(G){if(G<0||G>=h.length)throw new Error("Frame index out of range.");return h[G]},this.decodeAndBlitFrameBGRA=function(G,q){var H=this.frameInfo(G),ae=H.width*H.height,Z=new Uint8Array(ae);W4(i,H.data_offset,Z,ae);var ne=H.palette_offset,oe=H.transparent_index;oe===null&&(oe=256);var fe=H.width,me=t-fe,W=fe,Q=4*(H.y*t+H.x),X=4*((H.y+H.height)*t+H.x),Y=Q,ie=4*me;H.interlaced===!0&&(ie+=4*t*7);for(var te=8,se=0,ye=Z.length;se<ye;++se){var xe=Z[se];if(W===0&&(W=fe,(Y+=ie)>=X&&(ie=4*me+4*t*(te-1),Y=Q+(fe+me)*(te<<1),te>>=1)),xe===oe)Y+=4;else{var Fe=i[ne+3*xe],Ne=i[ne+3*xe+1],ze=i[ne+3*xe+2];q[Y++]=ze,q[Y++]=Ne,q[Y++]=Fe,q[Y++]=255}--W}},this.decodeAndBlitFrameRGBA=function(G,q){var H=this.frameInfo(G),ae=H.width*H.height,Z=new Uint8Array(ae);W4(i,H.data_offset,Z,ae);var ne=H.palette_offset,oe=H.transparent_index;oe===null&&(oe=256);var fe=H.width,me=t-fe,W=fe,Q=4*(H.y*t+H.x),X=4*((H.y+H.height)*t+H.x),Y=Q,ie=4*me;H.interlaced===!0&&(ie+=4*t*7);for(var te=8,se=0,ye=Z.length;se<ye;++se){var xe=Z[se];if(W===0&&(W=fe,(Y+=ie)>=X&&(ie=4*me+4*t*(te-1),Y=Q+(fe+me)*(te<<1),te>>=1)),xe===oe)Y+=4;else{var Fe=i[ne+3*xe],Ne=i[ne+3*xe+1],ze=i[ne+3*xe+2];q[Y++]=Fe,q[Y++]=Ne,q[Y++]=ze,q[Y++]=255}--W}}}function W4(i,e,t,n){for(var r=i[e++],s=1<<r,a=s+1,A=a+1,l=r+1,c=(1<<l)-1,h=0,g=0,v=0,m=i[e++],x=new Int32Array(4096),B=null;;){for(;h<16&&m!==0;)g|=i[e++]<<h,h+=8,m===1?m=i[e++]:--m;if(h<l)break;var _=g&c;if(g>>=l,h-=l,_!==s){if(_===a)break;for(var b=_<A?_:B,M=0,T=b;T>s;)T=x[T]>>8,++M;var U=T;if(v+M+(b!==_?1:0)>n)return void Zr.log("Warning, gif stream longer than expected.");t[v++]=U;var R=v+=M;for(b!==_&&(t[v++]=U),T=b;M--;)T=x[T],t[--R]=255&T,T>>=8;B!==null&&A<4096&&(x[A++]=B<<8|U,A>=c+1&&l<12&&(++l,c=c<<1|1)),B=_}else A=a+1,c=(1<<(l=r+1))-1,B=null}return v!==n&&Zr.log("Warning, gif stream shorter than expected."),t}function p2(i){var e,t,n,r,s,a=Math.floor,A=new Array(64),l=new Array(64),c=new Array(64),h=new Array(64),g=new Array(65535),v=new Array(65535),m=new Array(64),x=new Array(64),B=[],_=0,b=7,M=new Array(64),T=new Array(64),U=new Array(64),R=new Array(256),O=new Array(2048),z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],V=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],G=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Z(Q,X){for(var Y=0,ie=0,te=new Array,se=1;se<=16;se++){for(var ye=1;ye<=Q[se];ye++)te[X[ie]]=[],te[X[ie]][0]=Y,te[X[ie]][1]=se,ie++,Y++;Y*=2}return te}function ne(Q){for(var X=Q[0],Y=Q[1]-1;Y>=0;)X&1<<Y&&(_|=1<<b),Y--,--b<0&&(_==255?(oe(255),oe(0)):oe(_),b=7,_=0)}function oe(Q){B.push(Q)}function fe(Q){oe(Q>>8&255),oe(255&Q)}function me(Q,X,Y,ie,te){for(var se,ye=te[0],xe=te[240],Fe=(function(He,Xe){var Oe,Ye,Ae,$,Se,Ge,Ve,Re,$e,At,wt=0;for($e=0;$e<8;++$e){Oe=He[wt],Ye=He[wt+1],Ae=He[wt+2],$=He[wt+3],Se=He[wt+4],Ge=He[wt+5],Ve=He[wt+6];var zt=Oe+(Re=He[wt+7]),at=Oe-Re,ut=Ye+Ve,ct=Ye-Ve,Ee=Ae+Ge,Ie=Ae-Ge,Ut=$+Se,Be=$-Se,Je=zt+Ut,mt=zt-Ut,Et=ut+Ee,tt=ut-Ee;He[wt]=Je+Et,He[wt+4]=Je-Et;var Ze=.707106781*(tt+mt);He[wt+2]=mt+Ze,He[wt+6]=mt-Ze;var Lt=.382683433*((Je=Be+Ie)-(tt=ct+at)),Vt=.5411961*Je+Lt,Wt=1.306562965*tt+Lt,nn=.707106781*(Et=Ie+ct),qt=at+nn,Wn=at-nn;He[wt+5]=Wn+Vt,He[wt+3]=Wn-Vt,He[wt+1]=qt+Wt,He[wt+7]=qt-Wt,wt+=8}for(wt=0,$e=0;$e<8;++$e){Oe=He[wt],Ye=He[wt+8],Ae=He[wt+16],$=He[wt+24],Se=He[wt+32],Ge=He[wt+40],Ve=He[wt+48];var Bi=Oe+(Re=He[wt+56]),Xi=Oe-Re,lr=Ye+Ve,ci=Ye-Ve,Ui=Ae+Ge,Yi=Ae-Ge,ki=$+Se,Si=$-Se,ei=Bi+ki,Ji=Bi-ki,ur=lr+Ui,Fr=lr-Ui;He[wt]=ei+ur,He[wt+32]=ei-ur;var cr=.707106781*(Fr+Ji);He[wt+16]=Ji+cr,He[wt+48]=Ji-cr;var Ns=.382683433*((ei=Si+Yi)-(Fr=ci+Xi)),bs=.5411961*ei+Ns,Ds=1.306562965*Fr+Ns,Aa=.707106781*(ur=Yi+ci),Os=Xi+Aa,Js=Xi-Aa;He[wt+40]=Js+bs,He[wt+24]=Js-bs,He[wt+8]=Os+Ds,He[wt+56]=Os-Ds,wt++}for($e=0;$e<64;++$e)At=He[$e]*Xe[$e],m[$e]=At>0?At+.5|0:At-.5|0;return m})(Q,X),Ne=0;Ne<64;++Ne)x[z[Ne]]=Fe[Ne];var ze=x[0]-Y;Y=x[0],ze==0?ne(ie[0]):(ne(ie[v[se=32767+ze]]),ne(g[se]));for(var it=63;it>0&&x[it]==0;)it--;if(it==0)return ne(ye),Y;for(var De,re=1;re<=it;){for(var Le=re;x[re]==0&&re<=it;)++re;var rt=re-Le;if(rt>=16){De=rt>>4;for(var ce=1;ce<=De;++ce)ne(xe);rt&=15}se=32767+x[re],ne(te[(rt<<4)+v[se]]),ne(g[se]),re++}return it!=63&&ne(ye),Y}function W(Q){Q=Math.min(Math.max(Q,1),100),s!=Q&&((function(X){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var te=a((Y[ie]*X+50)/100);te=Math.min(Math.max(te,1),255),A[z[ie]]=te}for(var se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ye=0;ye<64;ye++){var xe=a((se[ye]*X+50)/100);xe=Math.min(Math.max(xe,1),255),l[z[ye]]=xe}for(var Fe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ne=0,ze=0;ze<8;ze++)for(var it=0;it<8;it++)c[Ne]=1/(A[z[Ne]]*Fe[ze]*Fe[it]*8),h[Ne]=1/(l[z[Ne]]*Fe[ze]*Fe[it]*8),Ne++})(Q<50?Math.floor(5e3/Q):Math.floor(200-2*Q)),s=Q)}this.encode=function(Q,X){X&&W(X),B=new Array,_=0,b=7,fe(65496),fe(65504),fe(16),oe(74),oe(70),oe(73),oe(70),oe(0),oe(1),oe(1),oe(0),fe(1),fe(1),oe(0),oe(0),(function(){fe(65499),fe(132),oe(0);for(var Ye=0;Ye<64;Ye++)oe(A[Ye]);oe(1);for(var Ae=0;Ae<64;Ae++)oe(l[Ae])})(),(function(Ye,Ae){fe(65472),fe(17),oe(8),fe(Ae),fe(Ye),oe(3),oe(1),oe(17),oe(0),oe(2),oe(17),oe(1),oe(3),oe(17),oe(1)})(Q.width,Q.height),(function(){fe(65476),fe(418),oe(0);for(var Ye=0;Ye<16;Ye++)oe(V[Ye+1]);for(var Ae=0;Ae<=11;Ae++)oe(I[Ae]);oe(16);for(var $=0;$<16;$++)oe(P[$+1]);for(var Se=0;Se<=161;Se++)oe(k[Se]);oe(1);for(var Ge=0;Ge<16;Ge++)oe(G[Ge+1]);for(var Ve=0;Ve<=11;Ve++)oe(q[Ve]);oe(17);for(var Re=0;Re<16;Re++)oe(H[Re+1]);for(var $e=0;$e<=161;$e++)oe(ae[$e])})(),fe(65498),fe(12),oe(3),oe(1),oe(0),oe(2),oe(17),oe(3),oe(17),oe(0),oe(63),oe(0);var Y=0,ie=0,te=0;_=0,b=7,this.encode.displayName="_encode_";for(var se,ye,xe,Fe,Ne,ze,it,De,re,Le=Q.data,rt=Q.width,ce=Q.height,He=4*rt,Xe=0;Xe<ce;){for(se=0;se<He;){for(Ne=He*Xe+se,it=-1,De=0,re=0;re<64;re++)ze=Ne+(De=re>>3)*He+(it=4*(7&re)),Xe+De>=ce&&(ze-=He*(Xe+1+De-ce)),se+it>=He&&(ze-=se+it-He+4),ye=Le[ze++],xe=Le[ze++],Fe=Le[ze++],M[re]=(O[ye]+O[xe+256|0]+O[Fe+512|0]>>16)-128,T[re]=(O[ye+768|0]+O[xe+1024|0]+O[Fe+1280|0]>>16)-128,U[re]=(O[ye+1280|0]+O[xe+1536|0]+O[Fe+1792|0]>>16)-128;Y=me(M,c,Y,e,n),ie=me(T,h,ie,t,r),te=me(U,h,te,t,r),se+=32}Xe+=8}if(b>=0){var Oe=[];Oe[1]=b+1,Oe[0]=(1<<b+1)-1,ne(Oe)}return fe(65497),new Uint8Array(B)},i=i||50,(function(){for(var Q=String.fromCharCode,X=0;X<256;X++)R[X]=Q(X)})(),e=Z(V,I),t=Z(G,q),n=Z(P,k),r=Z(H,ae),(function(){for(var Q=1,X=2,Y=1;Y<=15;Y++){for(var ie=Q;ie<X;ie++)v[32767+ie]=Y,g[32767+ie]=[],g[32767+ie][1]=Y,g[32767+ie][0]=ie;for(var te=-(X-1);te<=-Q;te++)v[32767+te]=Y,g[32767+te]=[],g[32767+te][1]=Y,g[32767+te][0]=X-1+te;Q<<=1,X<<=1}})(),(function(){for(var Q=0;Q<256;Q++)O[Q]=19595*Q,O[Q+256|0]=38470*Q,O[Q+512|0]=7471*Q+32768,O[Q+768|0]=-11059*Q,O[Q+1024|0]=-21709*Q,O[Q+1280|0]=32768*Q+8421375,O[Q+1536|0]=-27439*Q,O[Q+1792|0]=-5329*Q})(),W(i)}function dc(i,e){if(this.pos=0,this.buffer=i,this.datav=new DataView(i.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function q4(i){function e(I){if(!I)throw Error("assert :P")}function t(I,P,k){for(var G=0;4>G;G++)if(I[P+G]!=k.charCodeAt(G))return!0;return!1}function n(I,P,k,G,q){for(var H=0;H<q;H++)I[P+H]=k[G+H]}function r(I,P,k,G){for(var q=0;q<G;q++)I[P+q]=k}function s(I){return new Int32Array(I)}function a(I,P){for(var k=[],G=0;G<I;G++)k.push(new P);return k}function A(I,P){var k=[];return(function G(q,H,ae){for(var Z=ae[H],ne=0;ne<Z&&(q.push(ae.length>H+1?[]:new P),!(ae.length<H+1));ne++)G(q[ne],H+1,ae)})(k,0,I),k}var l=function(){var I=this;function P(S,F){for(var j=1<<F-1>>>0;S&j;)j>>>=1;return j?(S&j-1)+j:S}function k(S,F,j,J,ue){e(!(J%j));do S[F+(J-=j)]=ue;while(0<J)}function G(S,F,j,J,ue){if(e(2328>=ue),512>=ue)var he=s(512);else if((he=s(ue))==null)return 0;return(function(de,we,_e,Te,je,gt){var be,qe,et=we,Mt=1<<_e,ft=s(16),Ct=s(16);for(e(je!=0),e(Te!=null),e(de!=null),e(0<_e),qe=0;qe<je;++qe){if(15<Te[qe])return 0;++ft[Te[qe]]}if(ft[0]==je)return 0;for(Ct[1]=0,be=1;15>be;++be){if(ft[be]>1<<be)return 0;Ct[be+1]=Ct[be]+ft[be]}for(qe=0;qe<je;++qe)be=Te[qe],0<Te[qe]&&(gt[Ct[be]++]=qe);if(Ct[15]==1)return(Te=new q).g=0,Te.value=gt[0],k(de,et,1,Mt,Te),Mt;var Tt,Ht=-1,Dt=Mt-1,yn=0,cn=1,In=1,gn=1<<_e;for(qe=0,be=1,je=2;be<=_e;++be,je<<=1){if(cn+=In<<=1,0>(In-=ft[be]))return 0;for(;0<ft[be];--ft[be])(Te=new q).g=be,Te.value=gt[qe++],k(de,et+yn,je,gn,Te),yn=P(yn,be)}for(be=_e+1,je=2;15>=be;++be,je<<=1){if(cn+=In<<=1,0>(In-=ft[be]))return 0;for(;0<ft[be];--ft[be]){if(Te=new q,(yn&Dt)!=Ht){for(et+=gn,Tt=1<<(Ht=be)-_e;15>Ht&&!(0>=(Tt-=ft[Ht]));)++Ht,Tt<<=1;Mt+=gn=1<<(Tt=Ht-_e),de[we+(Ht=yn&Dt)].g=Tt+_e,de[we+Ht].value=et-we-Ht}Te.g=be-_e,Te.value=gt[qe++],k(de,et+(yn>>_e),je,gn,Te),yn=P(yn,be)}}return cn!=2*Ct[15]-1?0:Mt})(S,F,j,J,ue,he)}function q(){this.value=this.g=0}function H(){this.value=this.g=0}function ae(){this.G=a(5,q),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Rl,H)}function Z(S,F,j,J){e(S!=null),e(F!=null),e(2147483648>J),S.Ca=254,S.I=0,S.b=-8,S.Ka=0,S.oa=F,S.pa=j,S.Jd=F,S.Yc=j+J,S.Zc=4<=J?j+J-4+1:j,ye(S)}function ne(S,F){for(var j=0;0<F--;)j|=Fe(S,128)<<F;return j}function oe(S,F){var j=ne(S,F);return xe(S)?-j:j}function fe(S,F,j,J){var ue,he=0;for(e(S!=null),e(F!=null),e(4294967288>J),S.Sb=J,S.Ra=0,S.u=0,S.h=0,4<J&&(J=4),ue=0;ue<J;++ue)he+=F[j+ue]<<8*ue;S.Ra=he,S.bb=J,S.oa=F,S.pa=j}function me(S){for(;8<=S.u&&S.bb<S.Sb;)S.Ra>>>=8,S.Ra+=S.oa[S.pa+S.bb]<<nl-8>>>0,++S.bb,S.u-=8;ie(S)&&(S.h=1,S.u=0)}function W(S,F){if(e(0<=F),!S.h&&F<=ha){var j=Y(S)&ts[F];return S.u+=F,me(S),j}return S.h=1,S.u=0}function Q(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function X(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(S){return S.Ra>>>(S.u&nl-1)>>>0}function ie(S){return e(S.bb<=S.Sb),S.h||S.bb==S.Sb&&S.u>nl}function te(S,F){S.u=F,S.h=ie(S)}function se(S){S.u>=UA&&(e(S.u>=UA),me(S))}function ye(S){e(S!=null&&S.oa!=null),S.pa<S.Zc?(S.I=(S.oa[S.pa++]|S.I<<8)>>>0,S.b+=8):(e(S!=null&&S.oa!=null),S.pa<S.Yc?(S.b+=8,S.I=S.oa[S.pa++]|S.I<<8):S.Ka?S.b=0:(S.I<<=8,S.b+=8,S.Ka=1))}function xe(S){return ne(S,1)}function Fe(S,F){var j=S.Ca;0>S.b&&ye(S);var J=S.b,ue=j*F>>>8,he=(S.I>>>J>ue)+0;for(he?(j-=ue,S.I-=ue+1<<J>>>0):j=ue+1,J=j,ue=0;256<=J;)ue+=8,J>>=8;return J=7^ue+Ps[J],S.b-=J,S.Ca=(j<<J)-1,he}function Ne(S,F,j){S[F+0]=j>>24&255,S[F+1]=j>>16&255,S[F+2]=j>>8&255,S[F+3]=255&j}function ze(S,F){return S[F+0]|S[F+1]<<8}function it(S,F){return ze(S,F)|S[F+2]<<16}function De(S,F){return ze(S,F)|ze(S,F+2)<<16}function re(S,F){var j=1<<F;return e(S!=null),e(0<F),S.X=s(j),S.X==null?0:(S.Mb=32-F,S.Xa=F,1)}function Le(S,F){e(S!=null),e(F!=null),e(S.Xa==F.Xa),n(F.X,0,S.X,0,1<<F.Xa)}function rt(){this.X=[],this.Xa=this.Mb=0}function ce(S,F,j,J){e(j!=null),e(J!=null);var ue=j[0],he=J[0];return ue==0&&(ue=(S*he+F/2)/F),he==0&&(he=(F*ue+S/2)/S),0>=ue||0>=he?0:(j[0]=ue,J[0]=he,1)}function He(S,F){return S+(1<<F)-1>>>F}function Xe(S,F){return((4278255360&S)+(4278255360&F)>>>0&4278255360)+((16711935&S)+(16711935&F)>>>0&16711935)>>>0}function Oe(S,F){I[F]=function(j,J,ue,he,de,we,_e){var Te;for(Te=0;Te<de;++Te){var je=I[S](we[_e+Te-1],ue,he+Te);we[_e+Te]=Xe(j[J+Te],je)}}}function Ye(){this.ud=this.hd=this.jd=0}function Ae(S,F){return((4278124286&(S^F))>>>1)+(S&F)>>>0}function $(S){return 0<=S&&256>S?S:0>S?0:255<S?255:void 0}function Se(S,F){return $(S+(S-F+.5>>1))}function Ge(S,F,j){return Math.abs(F-j)-Math.abs(S-j)}function Ve(S,F,j,J,ue,he,de){for(J=he[de-1],j=0;j<ue;++j)he[de+j]=J=Xe(S[F+j],J)}function Re(S,F,j,J,ue){var he;for(he=0;he<j;++he){var de=S[F+he],we=de>>8&255,_e=16711935&(_e=(_e=16711935&de)+((we<<16)+we));J[ue+he]=(4278255360&de)+_e>>>0}}function $e(S,F){F.jd=255&S,F.hd=S>>8&255,F.ud=S>>16&255}function At(S,F,j,J,ue,he){var de;for(de=0;de<J;++de){var we=F[j+de],_e=we>>>8,Te=we,je=255&(je=(je=we>>>16)+((S.jd<<24>>24)*(_e<<24>>24)>>>5));Te=255&(Te=(Te+=(S.hd<<24>>24)*(_e<<24>>24)>>>5)+((S.ud<<24>>24)*(je<<24>>24)>>>5)),ue[he+de]=(4278255360&we)+(je<<16)+Te}}function wt(S,F,j,J,ue){I[F]=function(he,de,we,_e,Te,je,gt,be,qe){for(_e=gt;_e<be;++_e)for(gt=0;gt<qe;++gt)Te[je++]=ue(we[J(he[de++])])},I[S]=function(he,de,we,_e,Te,je,gt){var be=8>>he.b,qe=he.Ea,et=he.K[0],Mt=he.w;if(8>be)for(he=(1<<he.b)-1,Mt=(1<<be)-1;de<we;++de){var ft,Ct=0;for(ft=0;ft<qe;++ft)ft&he||(Ct=J(_e[Te++])),je[gt++]=ue(et[Ct&Mt]),Ct>>=be}else I["VP8LMapColor"+j](_e,Te,et,Mt,je,gt,de,we,qe)}}function zt(S,F,j,J,ue){for(j=F+j;F<j;){var he=S[F++];J[ue++]=he>>16&255,J[ue++]=he>>8&255,J[ue++]=255&he}}function at(S,F,j,J,ue){for(j=F+j;F<j;){var he=S[F++];J[ue++]=he>>16&255,J[ue++]=he>>8&255,J[ue++]=255&he,J[ue++]=he>>24&255}}function ut(S,F,j,J,ue){for(j=F+j;F<j;){var he=(de=S[F++])>>16&240|de>>12&15,de=240&de|de>>28&15;J[ue++]=he,J[ue++]=de}}function ct(S,F,j,J,ue){for(j=F+j;F<j;){var he=(de=S[F++])>>16&248|de>>13&7,de=de>>5&224|de>>3&31;J[ue++]=he,J[ue++]=de}}function Ee(S,F,j,J,ue){for(j=F+j;F<j;){var he=S[F++];J[ue++]=255&he,J[ue++]=he>>8&255,J[ue++]=he>>16&255}}function Ie(S,F,j,J,ue,he){if(he==0)for(j=F+j;F<j;)Ne(J,((he=S[F++])[0]>>24|he[1]>>8&65280|he[2]<<8&16711680|he[3]<<24)>>>0),ue+=32;else n(J,ue,S,F,j)}function Ut(S,F){I[F][0]=I[S+"0"],I[F][1]=I[S+"1"],I[F][2]=I[S+"2"],I[F][3]=I[S+"3"],I[F][4]=I[S+"4"],I[F][5]=I[S+"5"],I[F][6]=I[S+"6"],I[F][7]=I[S+"7"],I[F][8]=I[S+"8"],I[F][9]=I[S+"9"],I[F][10]=I[S+"10"],I[F][11]=I[S+"11"],I[F][12]=I[S+"12"],I[F][13]=I[S+"13"],I[F][14]=I[S+"0"],I[F][15]=I[S+"0"]}function Be(S){return S==Dc||S==pu||S==Yu||S==Ju}function Je(){this.eb=[],this.size=this.A=this.fb=0}function mt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Et(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Je,this.f.kb=new mt,this.sd=null}function tt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ze(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Lt(S){return alert("todo:WebPSamplerProcessPlane"),S.T}function Vt(S,F){var j=S.T,J=F.ba.f.RGBA,ue=J.eb,he=J.fb+S.ka*J.A,de=va[F.ba.S],we=S.y,_e=S.O,Te=S.f,je=S.N,gt=S.ea,be=S.W,qe=F.cc,et=F.dc,Mt=F.Mc,ft=F.Nc,Ct=S.ka,Tt=S.ka+S.T,Ht=S.U,Dt=Ht+1>>1;for(Ct==0?de(we,_e,null,null,Te,je,gt,be,Te,je,gt,be,ue,he,null,null,Ht):(de(F.ec,F.fc,we,_e,qe,et,Mt,ft,Te,je,gt,be,ue,he-J.A,ue,he,Ht),++j);Ct+2<Tt;Ct+=2)qe=Te,et=je,Mt=gt,ft=be,je+=S.Rc,be+=S.Rc,he+=2*J.A,de(we,(_e+=2*S.fa)-S.fa,we,_e,qe,et,Mt,ft,Te,je,gt,be,ue,he-J.A,ue,he,Ht);return _e+=S.fa,S.j+Tt<S.o?(n(F.ec,F.fc,we,_e,Ht),n(F.cc,F.dc,Te,je,Dt),n(F.Mc,F.Nc,gt,be,Dt),j--):1&Tt||de(we,_e,null,null,Te,je,gt,be,Te,je,gt,be,ue,he+J.A,null,null,Ht),j}function Wt(S,F,j){var J=S.F,ue=[S.J];if(J!=null){var he=S.U,de=F.ba.S,we=de==Hl||de==Yu;F=F.ba.f.RGBA;var _e=[0],Te=S.ka;_e[0]=S.T,S.Kb&&(Te==0?--_e[0]:(--Te,ue[0]-=S.width),S.j+S.ka+S.T==S.o&&(_e[0]=S.o-S.j-Te));var je=F.eb;Te=F.fb+Te*F.A,S=Ic(J,ue[0],S.width,he,_e,je,Te+(we?0:3),F.A),e(j==_e),S&&Be(de)&&Ql(je,Te,we,he,_e,F.A)}return 0}function nn(S){var F=S.ma,j=F.ba.S,J=11>j,ue=j==br||j==ma||j==Hl||j==eA||j==12||Be(j);if(F.memory=null,F.Ib=null,F.Jb=null,F.Nd=null,!MA(F.Oa,S,ue?11:12))return 0;if(ue&&Be(j)&&Tc(),S.da)alert("todo:use_scaling");else{if(J){if(F.Ib=Lt,S.Kb){if(j=S.U+1>>1,F.memory=s(S.U+2*j),F.memory==null)return 0;F.ec=F.memory,F.fc=0,F.cc=F.ec,F.dc=F.fc+S.U,F.Mc=F.cc,F.Nc=F.dc+j,F.Ib=Vt,Tc()}}else alert("todo:EmitYUV");ue&&(F.Jb=Wt,J&&Jo())}if(J&&!Wl){for(S=0;256>S;++S)Hn[S]=89858*(S-128)+$u>>Fo,ng[S]=-22014*(S-128)+$u,tg[S]=-45773*(S-128),Qc[S]=113618*(S-128)+$u>>Fo;for(S=vu;S<tA;++S)F=76283*(S-16)+$u>>Fo,$m[S-vu]=$t(F,255),e0[S-vu]=$t(F+8>>4,15);Wl=1}return 1}function qt(S){var F=S.ma,j=S.U,J=S.T;return e(!(1&S.ka)),0>=j||0>=J?0:(j=F.Ib(S,F),F.Jb!=null&&F.Jb(S,F,j),F.Dc+=j,1)}function Wn(S){S.ma.memory=null}function Bi(S,F,j,J){return W(S,8)!=47?0:(F[0]=W(S,14)+1,j[0]=W(S,14)+1,J[0]=W(S,1),W(S,3)!=0?0:!S.h)}function Xi(S,F){if(4>S)return S+1;var j=S-2>>1;return(2+(1&S)<<j)+W(F,j)+1}function lr(S,F){return 120<F?F-120:1<=(j=((j=uo[F-1])>>4)*S+(8-(15&j)))?j:1;var j}function ci(S,F,j){var J=Y(j),ue=S[F+=255&J].g-8;return 0<ue&&(te(j,j.u+8),J=Y(j),F+=S[F].value,F+=J&(1<<ue)-1),te(j,j.u+S[F].g),S[F].value}function Ui(S,F,j){return j.g+=S.g,j.value+=S.value<<F>>>0,e(8>=j.g),S.g}function Yi(S,F,j){var J=S.xc;return e((F=J==0?0:S.vc[S.md*(j>>J)+(F>>J)])<S.Wb),S.Ya[F]}function ki(S,F,j,J){var ue=S.ab,he=S.c*F,de=S.C;F=de+F;var we=j,_e=J;for(J=S.Ta,j=S.Ua;0<ue--;){var Te=S.gc[ue],je=de,gt=F,be=we,qe=_e,et=(_e=J,we=j,Te.Ea);switch(e(je<gt),e(gt<=Te.nc),Te.hc){case 2:Kr(be,qe,(gt-je)*et,_e,we);break;case 0:var Mt=je,ft=gt,Ct=_e,Tt=we,Ht=(gn=Te).Ea;Mt==0&&(Nl(be,qe,null,null,1,Ct,Tt),Ve(be,qe+1,0,0,Ht-1,Ct,Tt+1),qe+=Ht,Tt+=Ht,++Mt);for(var Dt=1<<gn.b,yn=Dt-1,cn=He(Ht,gn.b),In=gn.K,gn=gn.w+(Mt>>gn.b)*cn;Mt<ft;){var gi=In,gr=gn,qn=1;for(Xu(be,qe,Ct,Tt-Ht,1,Ct,Tt);qn<Ht;){var tn=(qn&~yn)+Dt;tn>Ht&&(tn=Ht),(0,il[gi[gr++]>>8&15])(be,qe+ +qn,Ct,Tt+qn-Ht,tn-qn,Ct,Tt+qn),qn=tn}qe+=Ht,Tt+=Ht,++Mt&yn||(gn+=cn)}gt!=Te.nc&&n(_e,we-et,_e,we+(gt-je-1)*et,et);break;case 1:for(et=be,ft=qe,Ht=(be=Te.Ea)-(Tt=be&~(Ct=(qe=1<<Te.b)-1)),Mt=He(be,Te.b),Dt=Te.K,Te=Te.w+(je>>Te.b)*Mt;je<gt;){for(yn=Dt,cn=Te,In=new Ye,gn=ft+Tt,gi=ft+be;ft<gn;)$e(yn[cn++],In),Dl(In,et,ft,qe,_e,we),ft+=qe,we+=qe;ft<gi&&($e(yn[cn++],In),Dl(In,et,ft,Ht,_e,we),ft+=Ht,we+=Ht),++je&Ct||(Te+=Mt)}break;case 3:if(be==_e&&qe==we&&0<Te.b){for(ft=_e,be=et=we+(gt-je)*et-(Tt=(gt-je)*He(Te.Ea,Te.b)),qe=_e,Ct=we,Mt=[],Tt=(Ht=Tt)-1;0<=Tt;--Tt)Mt[Tt]=qe[Ct+Tt];for(Tt=Ht-1;0<=Tt;--Tt)ft[be+Tt]=Mt[Tt];Mf(Te,je,gt,_e,et,_e,we)}else Mf(Te,je,gt,be,qe,_e,we)}we=J,_e=j}_e!=j&&n(J,j,we,_e,he)}function Si(S,F){var j=S.V,J=S.Ba+S.c*S.C,ue=F-S.C;if(e(F<=S.l.o),e(16>=ue),0<ue){var he=S.l,de=S.Ta,we=S.Ua,_e=he.width;if(ki(S,ue,j,J),ue=we=[we],e((j=S.C)<(J=F)),e(he.v<he.va),J>he.o&&(J=he.o),j<he.j){var Te=he.j-j;j=he.j,ue[0]+=Te*_e}if(j>=J?j=0:(ue[0]+=4*he.v,he.ka=j-he.j,he.U=he.va-he.v,he.T=J-j,j=1),j){if(we=we[0],11>(j=S.ca).S){var je=j.f.RGBA,gt=(J=j.S,ue=he.U,he=he.T,Te=je.eb,je.A),be=he;for(je=je.fb+S.Ma*je.A;0<be--;){var qe=de,et=we,Mt=ue,ft=Te,Ct=je;switch(J){case Nc:rl(qe,et,Mt,ft,Ct);break;case br:Di(qe,et,Mt,ft,Ct);break;case Dc:Di(qe,et,Mt,ft,Ct),Ql(ft,Ct,0,Mt,1,0);break;case Tf:hu(qe,et,Mt,ft,Ct);break;case ma:Ie(qe,et,Mt,ft,Ct,1);break;case pu:Ie(qe,et,Mt,ft,Ct,1),Ql(ft,Ct,0,Mt,1,0);break;case Hl:Ie(qe,et,Mt,ft,Ct,0);break;case Yu:Ie(qe,et,Mt,ft,Ct,0),Ql(ft,Ct,1,Mt,1,0);break;case eA:Ol(qe,et,Mt,ft,Ct);break;case Ju:Ol(qe,et,Mt,ft,Ct),Eo(ft,Ct,Mt,1,0);break;case kl:sl(qe,et,Mt,ft,Ct);break;default:e(0)}we+=_e,je+=gt}S.Ma+=he}else alert("todo:EmitRescaledRowsYUVA");e(S.Ma<=j.height)}}S.C=F,e(S.C<=S.i)}function ei(S){var F;if(0<S.ua)return 0;for(F=0;F<S.Wb;++F){var j=S.Ya[F].G,J=S.Ya[F].H;if(0<j[1][J[1]+0].g||0<j[2][J[2]+0].g||0<j[3][J[3]+0].g)return 0}return 1}function Ji(S,F,j,J,ue,he){if(S.Z!=0){var de=S.qd,we=S.rd;for(e(Vl[S.Z]!=null);F<j;++F)Vl[S.Z](de,we,J,ue,J,ue,he),de=J,we=ue,ue+=he;S.qd=de,S.rd=we}}function ur(S,F){var j=S.l.ma,J=j.Z==0||j.Z==1?S.l.j:S.C;if(J=S.C<J?J:S.C,e(F<=S.l.o),F>J){var ue=S.l.width,he=j.ca,de=j.tb+ue*J,we=S.V,_e=S.Ba+S.c*J,Te=S.gc;e(S.ab==1),e(Te[0].hc==3),$o(Te[0],J,F,we,_e,he,de),Ji(j,J,F,he,de,ue)}S.C=S.Ma=F}function Fr(S,F,j,J,ue,he,de){var we=S.$/J,_e=S.$%J,Te=S.m,je=S.s,gt=j+S.$,be=gt;ue=j+J*ue;var qe=j+J*he,et=280+je.ua,Mt=S.Pb?we:16777216,ft=0<je.ua?je.Wa:null,Ct=je.wc,Tt=gt<qe?Yi(je,_e,we):null;e(S.C<he),e(qe<=ue);var Ht=!1;e:for(;;){for(;Ht||gt<qe;){var Dt=0;if(we>=Mt){var yn=gt-j;e((Mt=S).Pb),Mt.wd=Mt.m,Mt.xd=yn,0<Mt.s.ua&&Le(Mt.s.Wa,Mt.s.vb),Mt=we+Gl}if(_e&Ct||(Tt=Yi(je,_e,we)),e(Tt!=null),Tt.Qb&&(F[gt]=Tt.qb,Ht=!0),!Ht)if(se(Te),Tt.jc){Dt=Te,yn=F;var cn=gt,In=Tt.pd[Y(Dt)&Rl-1];e(Tt.jc),256>In.g?(te(Dt,Dt.u+In.g),yn[cn]=In.value,Dt=0):(te(Dt,Dt.u+In.g-256),e(256<=In.value),Dt=In.value),Dt==0&&(Ht=!0)}else Dt=ci(Tt.G[0],Tt.H[0],Te);if(Te.h)break;if(Ht||256>Dt){if(!Ht)if(Tt.nd)F[gt]=(Tt.qb|Dt<<8)>>>0;else{if(se(Te),Ht=ci(Tt.G[1],Tt.H[1],Te),se(Te),yn=ci(Tt.G[2],Tt.H[2],Te),cn=ci(Tt.G[3],Tt.H[3],Te),Te.h)break;F[gt]=(cn<<24|Ht<<16|Dt<<8|yn)>>>0}if(Ht=!1,++gt,++_e>=J&&(_e=0,++we,de!=null&&we<=he&&!(we%16)&&de(S,we),ft!=null))for(;be<gt;)Dt=F[be++],ft.X[(506832829*Dt&4294967295)>>>ft.Mb]=Dt}else if(280>Dt){if(Dt=Xi(Dt-256,Te),yn=ci(Tt.G[4],Tt.H[4],Te),se(Te),yn=lr(J,yn=Xi(yn,Te)),Te.h)break;if(gt-j<yn||ue-gt<Dt)break e;for(cn=0;cn<Dt;++cn)F[gt+cn]=F[gt+cn-yn];for(gt+=Dt,_e+=Dt;_e>=J;)_e-=J,++we,de!=null&&we<=he&&!(we%16)&&de(S,we);if(e(gt<=ue),_e&Ct&&(Tt=Yi(je,_e,we)),ft!=null)for(;be<gt;)Dt=F[be++],ft.X[(506832829*Dt&4294967295)>>>ft.Mb]=Dt}else{if(!(Dt<et))break e;for(Ht=Dt-280,e(ft!=null);be<gt;)Dt=F[be++],ft.X[(506832829*Dt&4294967295)>>>ft.Mb]=Dt;Dt=gt,e(!(Ht>>>(yn=ft).Xa)),F[Dt]=yn.X[Ht],Ht=!0}Ht||e(Te.h==ie(Te))}if(S.Pb&&Te.h&&gt<ue)e(S.m.h),S.a=5,S.m=S.wd,S.$=S.xd,0<S.s.ua&&Le(S.s.vb,S.s.Wa);else{if(Te.h)break e;de?.(S,we>he?he:we),S.a=0,S.$=gt-j}return 1}return S.a=3,0}function cr(S){e(S!=null),S.vc=null,S.yc=null,S.Ya=null;var F=S.Wa;F!=null&&(F.X=null),S.vb=null,e(S!=null)}function Ns(){var S=new Pn;return S==null?null:(S.a=0,S.xb=Td,Ut("Predictor","VP8LPredictors"),Ut("Predictor","VP8LPredictors_C"),Ut("PredictorAdd","VP8LPredictorsAdd"),Ut("PredictorAdd","VP8LPredictorsAdd_C"),Kr=Re,Dl=At,rl=zt,Di=at,Ol=ut,sl=ct,hu=Ee,I.VP8LMapColor32b=TA,I.VP8LMapColor8b=Qs,S)}function bs(S,F,j,J,ue){var he=1,de=[S],we=[F],_e=J.m,Te=J.s,je=null,gt=0;e:for(;;){if(j)for(;he&&W(_e,1);){var be=de,qe=we,et=J,Mt=1,ft=et.m,Ct=et.gc[et.ab],Tt=W(ft,2);if(et.Oc&1<<Tt)he=0;else{switch(et.Oc|=1<<Tt,Ct.hc=Tt,Ct.Ea=be[0],Ct.nc=qe[0],Ct.K=[null],++et.ab,e(4>=et.ab),Tt){case 0:case 1:Ct.b=W(ft,3)+2,Mt=bs(He(Ct.Ea,Ct.b),He(Ct.nc,Ct.b),0,et,Ct.K),Ct.K=Ct.K[0];break;case 3:var Ht,Dt=W(ft,8)+1,yn=16<Dt?0:4<Dt?1:2<Dt?2:3;if(be[0]=He(Ct.Ea,yn),Ct.b=yn,Ht=Mt=bs(Dt,1,0,et,Ct.K)){var cn,In=Dt,gn=Ct,gi=1<<(8>>gn.b),gr=s(gi);if(gr==null)Ht=0;else{var qn=gn.K[0],tn=gn.w;for(gr[0]=gn.K[0][0],cn=1;cn<1*In;++cn)gr[cn]=Xe(qn[tn+cn],gr[cn-1]);for(;cn<4*gi;++cn)gr[cn]=0;gn.K[0]=null,gn.K[0]=gr,Ht=1}}Mt=Ht;break;case 2:break;default:e(0)}he=Mt}}if(de=de[0],we=we[0],he&&W(_e,1)&&!(he=1<=(gt=W(_e,4))&&11>=gt)){J.a=3;break e}var Jt;if(Jt=he)t:{var Xr,Nn,ti,zi=J,fn=de,ya=we,Br=gt,ds=j,Cs=zi.m,Es=zi.s,mi=[null],Gi=1,Yr=0,Zi=Pr[Br];n:for(;;){if(ds&&W(Cs,1)){var ps=W(Cs,3)+2,Qr=He(fn,ps),Fi=He(ya,ps),is=Qr*Fi;if(!bs(Qr,Fi,0,zi,mi))break n;for(mi=mi[0],Es.xc=ps,Xr=0;Xr<is;++Xr){var ir=mi[Xr]>>8&65535;mi[Xr]=ir,ir>=Gi&&(Gi=ir+1)}}if(Cs.h)break n;for(Nn=0;5>Nn;++Nn){var Ms=zl[Nn];!Nn&&0<Br&&(Ms+=1<<Br),Yr<Ms&&(Yr=Ms)}var Sr=a(Gi*Zi,q),Li=Gi,kn=a(Li,ae);if(kn==null)var Nr=null;else e(65536>=Li),Nr=kn;var bi=s(Yr);if(Nr==null||bi==null||Sr==null){zi.a=1;break n}var Un=Sr;for(Xr=ti=0;Xr<Gi;++Xr){var Ln=Nr[Xr],Qn=Ln.G,rs=Ln.H,nA=0,Xa=1,Us=0;for(Nn=0;5>Nn;++Nn){Ms=zl[Nn],Qn[Nn]=Un,rs[Nn]=ti,!Nn&&0<Br&&(Ms+=1<<Br);r:{var yu,wu=Ms,kc=zi,mr=bi,Fd=Un,_h=ti,Bh=0,ho=kc.m,tc=W(ho,1);if(r(mr,0,0,wu),tc){var Ld=W(ho,1)+1,Id=W(ho,1),Sh=W(ho,Id==0?1:8);mr[Sh]=1,Ld==2&&(mr[Sh=W(ho,8)]=1);var ss=1}else{var as=s(19),Rf=W(ho,4)+4;if(19<Rf){kc.a=3;var xu=0;break r}for(yu=0;yu<Rf;++yu)as[Pc[yu]]=W(ho,3);var ll=void 0,nc=void 0,ul=kc,Ch=as,zc=wu,Eh=mr,Mh=0,ql=ul.m,Rd=8,Nd=a(128,q);i:for(;G(Nd,0,7,Ch,19);){if(W(ql,1)){var ig=2+2*W(ql,3);if((ll=2+W(ql,ig))>zc)break i}else ll=zc;for(nc=0;nc<zc&&ll--;){se(ql);var Dd=Nd[0+(127&Y(ql))];te(ql,ql.u+Dd.g);var bu=Dd.value;if(16>bu)Eh[nc++]=bu,bu!=0&&(Rd=bu);else{var Od=bu==16,rg=bu-16,sg=gu[rg],Pd=W(ql,Uo[rg])+sg;if(nc+Pd>zc)break i;for(var ag=Od?Rd:0;0<Pd--;)Eh[nc++]=ag}}Mh=1;break i}Mh||(ul.a=3),ss=Mh}(ss=ss&&!ho.h)&&(Bh=G(Fd,_h,8,mr,wu)),ss&&Bh!=0?xu=Bh:(kc.a=3,xu=0)}if(xu==0)break n;if(Xa&&Oc[Nn]==1&&(Xa=Un[ti].g==0),nA+=Un[ti].g,ti+=xu,3>=Nn){var ic,Uh=bi[0];for(ic=1;ic<Ms;++ic)bi[ic]>Uh&&(Uh=bi[ic]);Us+=Uh}}if(Ln.nd=Xa,Ln.Qb=0,Xa&&(Ln.qb=(Qn[3][rs[3]+0].value<<24|Qn[1][rs[1]+0].value<<16|Qn[2][rs[2]+0].value)>>>0,nA==0&&256>Qn[0][rs[0]+0].value&&(Ln.Qb=1,Ln.qb+=Qn[0][rs[0]+0].value<<8)),Ln.jc=!Ln.Qb&&6>Us,Ln.jc){var Gc,NA=Ln;for(Gc=0;Gc<Rl;++Gc){var Xl=Gc,cl=NA.pd[Xl],Nf=NA.G[0][NA.H[0]+Xl];256<=Nf.value?(cl.g=Nf.g+256,cl.value=Nf.value):(cl.g=0,cl.value=0,Xl>>=Ui(Nf,8,cl),Xl>>=Ui(NA.G[1][NA.H[1]+Xl],16,cl),Xl>>=Ui(NA.G[2][NA.H[2]+Xl],0,cl),Ui(NA.G[3][NA.H[3]+Xl],24,cl))}}}Es.vc=mi,Es.Wb=Gi,Es.Ya=Nr,Es.yc=Sr,Jt=1;break t}Jt=0}if(!(he=Jt)){J.a=3;break e}if(0<gt){if(Te.ua=1<<gt,!re(Te.Wa,gt)){J.a=1,he=0;break e}}else Te.ua=0;var Df=J,Yl=de,Th=we,Vc=Df.s,jc=Vc.xc;if(Df.c=Yl,Df.i=Th,Vc.md=He(Yl,jc),Vc.wc=jc==0?-1:(1<<jc)-1,j){J.xb=Al;break e}if((je=s(de*we))==null){J.a=1,he=0;break e}he=(he=Fr(J,je,0,de,we,we,null))&&!_e.h;break e}return he?(ue!=null?ue[0]=je:(e(je==null),e(j)),J.$=0,j||cr(Te)):cr(Te),he}function Ds(S,F){var j=S.c*S.i,J=j+F+16*F;return e(S.c<=F),S.V=s(J),S.V==null?(S.Ta=null,S.Ua=0,S.a=1,0):(S.Ta=S.V,S.Ua=S.Ba+j+F,1)}function Aa(S,F){var j=S.C,J=F-j,ue=S.V,he=S.Ba+S.c*j;for(e(F<=S.l.o);0<J;){var de=16<J?16:J,we=S.l.ma,_e=S.l.width,Te=_e*de,je=we.ca,gt=we.tb+_e*j,be=S.Ta,qe=S.Ua;ki(S,de,ue,he),Mo(be,qe,je,gt,Te),Ji(we,j,j+de,je,gt,_e),J-=de,ue+=de*S.c,j+=de}e(j==F),S.C=S.Ma=F}function Os(){this.ub=this.yd=this.td=this.Rb=0}function Js(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function io(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function ln(){this.Yb=(function(){var S=[];return(function F(j,J,ue){for(var he=ue[J],de=0;de<he&&(j.push(ue.length>J+1?[]:0),!(ue.length<J+1));de++)F(j[de],J+1,ue)})(S,0,[3,11]),S})()}function pe(){this.jb=s(3),this.Wc=A([4,8],ln),this.Xc=A([4,17],ln)}function We(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function dt(){this.ld=this.La=this.dd=this.tc=0}function pt(){this.Na=this.la=0}function nt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Gt(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Zt(){this.uc=this.M=this.Nb=0,this.wa=Array(new dt),this.Y=0,this.ya=Array(new Gt),this.aa=0,this.l=new xn}function Qt(){this.y=s(16),this.f=s(8),this.ea=s(8)}function on(){this.cb=this.a=0,this.sc="",this.m=new Q,this.Od=new Os,this.Kc=new Js,this.ed=new We,this.Qa=new io,this.Ic=this.$c=this.Aa=0,this.D=new Zt,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,Q),this.ia=0,this.pb=a(4,nt),this.Pa=new pe,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Qt),this.Hd=0,this.rb=Array(new pt),this.sb=0,this.wa=Array(new dt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Gt),this.L=this.aa=0,this.gd=A([4,2],dt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function $t(S,F){return 0>S?0:S>F?F:S}function xn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function un(){var S=new on;return S!=null&&(S.a=0,S.sc="OK",S.cb=0,S.Xb=0,co||(co=ri)),S}function An(S,F,j){return S.a==0&&(S.a=F,S.sc=j,S.cb=0),0}function Zn(S,F,j){return 3<=j&&S[F+0]==157&&S[F+1]==1&&S[F+2]==42}function fi(S,F){if(S==null)return 0;if(S.a=0,S.sc="OK",F==null)return An(S,2,"null VP8Io passed to VP8GetHeaders()");var j=F.data,J=F.w,ue=F.ha;if(4>ue)return An(S,7,"Truncated header.");var he=j[J+0]|j[J+1]<<8|j[J+2]<<16,de=S.Od;if(de.Rb=!(1&he),de.td=he>>1&7,de.yd=he>>4&1,de.ub=he>>5,3<de.td)return An(S,3,"Incorrect keyframe parameters.");if(!de.yd)return An(S,4,"Frame not displayable.");J+=3,ue-=3;var we=S.Kc;if(de.Rb){if(7>ue)return An(S,7,"cannot parse picture header");if(!Zn(j,J,ue))return An(S,3,"Bad code word");we.c=16383&(j[J+4]<<8|j[J+3]),we.Td=j[J+4]>>6,we.i=16383&(j[J+6]<<8|j[J+5]),we.Ud=j[J+6]>>6,J+=7,ue-=7,S.za=we.c+15>>4,S.Ub=we.i+15>>4,F.width=we.c,F.height=we.i,F.Da=0,F.j=0,F.v=0,F.va=F.width,F.o=F.height,F.da=0,F.ib=F.width,F.hb=F.height,F.U=F.width,F.T=F.height,r((he=S.Pa).jb,0,255,he.jb.length),e((he=S.Qa)!=null),he.Cb=0,he.Bb=0,he.Fb=1,r(he.Zb,0,0,he.Zb.length),r(he.Lb,0,0,he.Lb)}if(de.ub>ue)return An(S,7,"bad partition length");Z(he=S.m,j,J,de.ub),J+=de.ub,ue-=de.ub,de.Rb&&(we.Ld=xe(he),we.Kd=xe(he)),we=S.Qa;var _e,Te=S.Pa;if(e(he!=null),e(we!=null),we.Cb=xe(he),we.Cb){if(we.Bb=xe(he),xe(he)){for(we.Fb=xe(he),_e=0;4>_e;++_e)we.Zb[_e]=xe(he)?oe(he,7):0;for(_e=0;4>_e;++_e)we.Lb[_e]=xe(he)?oe(he,6):0}if(we.Bb)for(_e=0;3>_e;++_e)Te.jb[_e]=xe(he)?ne(he,8):255}else we.Bb=0;if(he.Ka)return An(S,3,"cannot parse segment header");if((we=S.ed).zd=xe(he),we.Tb=ne(he,6),we.wb=ne(he,3),we.Pc=xe(he),we.Pc&&xe(he)){for(Te=0;4>Te;++Te)xe(he)&&(we.vd[Te]=oe(he,6));for(Te=0;4>Te;++Te)xe(he)&&(we.od[Te]=oe(he,6))}if(S.L=we.Tb==0?0:we.zd?1:2,he.Ka)return An(S,3,"cannot parse filter header");var je=ue;if(ue=_e=J,J=_e+je,we=je,S.Xb=(1<<ne(S.m,2))-1,je<3*(Te=S.Xb))j=7;else{for(_e+=3*Te,we-=3*Te,je=0;je<Te;++je){var gt=j[ue+0]|j[ue+1]<<8|j[ue+2]<<16;gt>we&&(gt=we),Z(S.Jc[+je],j,_e,gt),_e+=gt,we-=gt,ue+=3}Z(S.Jc[+Te],j,_e,we),j=_e<J?0:5}if(j!=0)return An(S,j,"cannot parse partitions");for(j=ne(_e=S.m,7),ue=xe(_e)?oe(_e,4):0,J=xe(_e)?oe(_e,4):0,we=xe(_e)?oe(_e,4):0,Te=xe(_e)?oe(_e,4):0,_e=xe(_e)?oe(_e,4):0,je=S.Qa,gt=0;4>gt;++gt){if(je.Cb){var be=je.Zb[gt];je.Fb||(be+=j)}else{if(0<gt){S.pb[gt]=S.pb[0];continue}be=j}var qe=S.pb[gt];qe.Sc[0]=Rr[$t(be+ue,127)],qe.Sc[1]=To[$t(be+0,127)],qe.Eb[0]=2*Rr[$t(be+J,127)],qe.Eb[1]=101581*To[$t(be+we,127)]>>16,8>qe.Eb[1]&&(qe.Eb[1]=8),qe.Qc[0]=Rr[$t(be+Te,117)],qe.Qc[1]=To[$t(be+_e,127)],qe.lc=be+_e}if(!de.Rb)return An(S,4,"Not a key frame.");for(xe(he),de=S.Pa,j=0;4>j;++j){for(ue=0;8>ue;++ue)for(J=0;3>J;++J)for(we=0;11>we;++we)Te=Fe(he,_r[j][ue][J][we])?ne(he,8):xh[j][ue][J][we],de.Wc[j][ue].Yb[J][we]=Te;for(ue=0;17>ue;++ue)de.Xc[j][ue]=de.Wc[j][Ci[ue]]}return S.kc=xe(he),S.kc&&(S.Bd=ne(he,8)),S.cb=1}function ri(S,F,j,J,ue,he,de){var we=F[ue].Yb[j];for(j=0;16>ue;++ue){if(!Fe(S,we[j+0]))return ue;for(;!Fe(S,we[j+1]);)if(we=F[++ue].Yb[0],j=0,ue==16)return 16;var _e=F[ue+1].Yb;if(Fe(S,we[j+2])){var Te=S,je=0;if(Fe(Te,(be=we)[(gt=j)+3]))if(Fe(Te,be[gt+6])){for(we=0,gt=2*(je=Fe(Te,be[gt+8]))+(be=Fe(Te,be[gt+9+je])),je=0,be=eg[gt];be[we];++we)je+=je+Fe(Te,be[we]);je+=3+(8<<gt)}else Fe(Te,be[gt+7])?(je=7+2*Fe(Te,165),je+=Fe(Te,145)):je=5+Fe(Te,159);else je=Fe(Te,be[gt+4])?3+Fe(Te,be[gt+5]):2;we=_e[2]}else je=1,we=_e[1];_e=de+ol[ue],0>(Te=S).b&&ye(Te);var gt,be=Te.b,qe=(gt=Te.Ca>>1)-(Te.I>>be)>>31;--Te.b,Te.Ca+=qe,Te.Ca|=1,Te.I-=(gt+1&qe)<<be,he[_e]=((je^qe)-qe)*J[(0<ue)+0]}return 16}function Rn(S){var F=S.rb[S.sb-1];F.la=0,F.Na=0,r(S.zc,0,0,S.zc.length),S.ja=0}function Kt(S,F,j,J,ue){ue=S[F+j+32*J]+(ue>>3),S[F+j+32*J]=-256&ue?0>ue?0:255:ue}function Cn(S,F,j,J,ue,he){Kt(S,F,0,j,J+ue),Kt(S,F,1,j,J+he),Kt(S,F,2,j,J-he),Kt(S,F,3,j,J-ue)}function dn(S){return(20091*S>>16)+S}function Lr(S,F,j,J){var ue,he=0,de=s(16);for(ue=0;4>ue;++ue){var we=S[F+0]+S[F+8],_e=S[F+0]-S[F+8],Te=(35468*S[F+4]>>16)-dn(S[F+12]),je=dn(S[F+4])+(35468*S[F+12]>>16);de[he+0]=we+je,de[he+1]=_e+Te,de[he+2]=_e-Te,de[he+3]=we-je,he+=4,F++}for(ue=he=0;4>ue;++ue)we=(S=de[he+0]+4)+de[he+8],_e=S-de[he+8],Te=(35468*de[he+4]>>16)-dn(de[he+12]),Kt(j,J,0,0,we+(je=dn(de[he+4])+(35468*de[he+12]>>16))),Kt(j,J,1,0,_e+Te),Kt(j,J,2,0,_e-Te),Kt(j,J,3,0,we-je),he++,J+=32}function Zs(S,F,j,J){var ue=S[F+0]+4,he=35468*S[F+4]>>16,de=dn(S[F+4]),we=35468*S[F+1]>>16;Cn(j,J,0,ue+de,S=dn(S[F+1]),we),Cn(j,J,1,ue+he,S,we),Cn(j,J,2,ue-he,S,we),Cn(j,J,3,ue-de,S,we)}function Ni(S,F,j,J,ue){Lr(S,F,j,J),ue&&Lr(S,F+16,j,J+4)}function fr(S,F,j,J){Da(S,F+0,j,J,1),Da(S,F+32,j,J+128,1)}function hi(S,F,j,J){var ue;for(S=S[F+0]+4,ue=0;4>ue;++ue)for(F=0;4>F;++F)Kt(j,J,F,ue,S)}function hr(S,F,j,J){S[F+0]&&Ti(S,F+0,j,J),S[F+16]&&Ti(S,F+16,j,J+4),S[F+32]&&Ti(S,F+32,j,J+128),S[F+48]&&Ti(S,F+48,j,J+128+4)}function nr(S,F,j,J){var ue,he=s(16);for(ue=0;4>ue;++ue){var de=S[F+0+ue]+S[F+12+ue],we=S[F+4+ue]+S[F+8+ue],_e=S[F+4+ue]-S[F+8+ue],Te=S[F+0+ue]-S[F+12+ue];he[0+ue]=de+we,he[8+ue]=de-we,he[4+ue]=Te+_e,he[12+ue]=Te-_e}for(ue=0;4>ue;++ue)de=(S=he[0+4*ue]+3)+he[3+4*ue],we=he[1+4*ue]+he[2+4*ue],_e=he[1+4*ue]-he[2+4*ue],Te=S-he[3+4*ue],j[J+0]=de+we>>3,j[J+16]=Te+_e>>3,j[J+32]=de-we>>3,j[J+48]=Te-_e>>3,J+=64}function dr(S,F,j){var J,ue=F-32,he=Or,de=255-S[ue-1];for(J=0;J<j;++J){var we,_e=he,Te=de+S[F-1];for(we=0;we<j;++we)S[F+we]=_e[Te+S[ue+we]];F+=32}}function Vr(S,F){dr(S,F,4)}function xo(S,F){dr(S,F,8)}function _s(S,F){dr(S,F,16)}function Tl(S,F){var j;for(j=0;16>j;++j)n(S,F+32*j,S,F-32,16)}function bA(S,F){var j;for(j=16;0<j;--j)r(S,F,S[F-1],16),F+=32}function $r(S,F,j){var J;for(J=0;16>J;++J)r(F,j+32*J,S,16)}function $s(S,F){var j,J=16;for(j=0;16>j;++j)J+=S[F-1+32*j]+S[F+j-32];$r(J>>5,S,F)}function La(S,F){var j,J=8;for(j=0;16>j;++j)J+=S[F-1+32*j];$r(J>>4,S,F)}function _A(S,F){var j,J=8;for(j=0;16>j;++j)J+=S[F+j-32];$r(J>>4,S,F)}function ja(S,F){$r(128,S,F)}function En(S,F,j){return S+2*F+j+2>>2}function Fl(S,F){var j,J=F-32;for(J=new Uint8Array([En(S[J-1],S[J+0],S[J+1]),En(S[J+0],S[J+1],S[J+2]),En(S[J+1],S[J+2],S[J+3]),En(S[J+2],S[J+3],S[J+4])]),j=0;4>j;++j)n(S,F+32*j,J,0,J.length)}function Ll(S,F){var j=S[F-1],J=S[F-1+32],ue=S[F-1+64],he=S[F-1+96];Ne(S,F+0,16843009*En(S[F-1-32],j,J)),Ne(S,F+32,16843009*En(j,J,ue)),Ne(S,F+64,16843009*En(J,ue,he)),Ne(S,F+96,16843009*En(ue,he,he))}function YA(S,F){var j,J=4;for(j=0;4>j;++j)J+=S[F+j-32]+S[F-1+32*j];for(J>>=3,j=0;4>j;++j)r(S,F+32*j,J,4)}function ea(S,F){var j=S[F-1+0],J=S[F-1+32],ue=S[F-1+64],he=S[F-1-32],de=S[F+0-32],we=S[F+1-32],_e=S[F+2-32],Te=S[F+3-32];S[F+0+96]=En(J,ue,S[F-1+96]),S[F+1+96]=S[F+0+64]=En(j,J,ue),S[F+2+96]=S[F+1+64]=S[F+0+32]=En(he,j,J),S[F+3+96]=S[F+2+64]=S[F+1+32]=S[F+0+0]=En(de,he,j),S[F+3+64]=S[F+2+32]=S[F+1+0]=En(we,de,he),S[F+3+32]=S[F+2+0]=En(_e,we,de),S[F+3+0]=En(Te,_e,we)}function us(S,F){var j=S[F+1-32],J=S[F+2-32],ue=S[F+3-32],he=S[F+4-32],de=S[F+5-32],we=S[F+6-32],_e=S[F+7-32];S[F+0+0]=En(S[F+0-32],j,J),S[F+1+0]=S[F+0+32]=En(j,J,ue),S[F+2+0]=S[F+1+32]=S[F+0+64]=En(J,ue,he),S[F+3+0]=S[F+2+32]=S[F+1+64]=S[F+0+96]=En(ue,he,de),S[F+3+32]=S[F+2+64]=S[F+1+96]=En(he,de,we),S[F+3+64]=S[F+2+96]=En(de,we,_e),S[F+3+96]=En(we,_e,_e)}function la(S,F){var j=S[F-1+0],J=S[F-1+32],ue=S[F-1+64],he=S[F-1-32],de=S[F+0-32],we=S[F+1-32],_e=S[F+2-32],Te=S[F+3-32];S[F+0+0]=S[F+1+64]=he+de+1>>1,S[F+1+0]=S[F+2+64]=de+we+1>>1,S[F+2+0]=S[F+3+64]=we+_e+1>>1,S[F+3+0]=_e+Te+1>>1,S[F+0+96]=En(ue,J,j),S[F+0+64]=En(J,j,he),S[F+0+32]=S[F+1+96]=En(j,he,de),S[F+1+32]=S[F+2+96]=En(he,de,we),S[F+2+32]=S[F+3+96]=En(de,we,_e),S[F+3+32]=En(we,_e,Te)}function Wo(S,F){var j=S[F+0-32],J=S[F+1-32],ue=S[F+2-32],he=S[F+3-32],de=S[F+4-32],we=S[F+5-32],_e=S[F+6-32],Te=S[F+7-32];S[F+0+0]=j+J+1>>1,S[F+1+0]=S[F+0+64]=J+ue+1>>1,S[F+2+0]=S[F+1+64]=ue+he+1>>1,S[F+3+0]=S[F+2+64]=he+de+1>>1,S[F+0+32]=En(j,J,ue),S[F+1+32]=S[F+0+96]=En(J,ue,he),S[F+2+32]=S[F+1+96]=En(ue,he,de),S[F+3+32]=S[F+2+96]=En(he,de,we),S[F+3+64]=En(de,we,_e),S[F+3+96]=En(we,_e,Te)}function cs(S,F){var j=S[F-1+0],J=S[F-1+32],ue=S[F-1+64],he=S[F-1+96];S[F+0+0]=j+J+1>>1,S[F+2+0]=S[F+0+32]=J+ue+1>>1,S[F+2+32]=S[F+0+64]=ue+he+1>>1,S[F+1+0]=En(j,J,ue),S[F+3+0]=S[F+1+32]=En(J,ue,he),S[F+3+32]=S[F+1+64]=En(ue,he,he),S[F+3+64]=S[F+2+64]=S[F+0+96]=S[F+1+96]=S[F+2+96]=S[F+3+96]=he}function BA(S,F){var j=S[F-1+0],J=S[F-1+32],ue=S[F-1+64],he=S[F-1+96],de=S[F-1-32],we=S[F+0-32],_e=S[F+1-32],Te=S[F+2-32];S[F+0+0]=S[F+2+32]=j+de+1>>1,S[F+0+32]=S[F+2+64]=J+j+1>>1,S[F+0+64]=S[F+2+96]=ue+J+1>>1,S[F+0+96]=he+ue+1>>1,S[F+3+0]=En(we,_e,Te),S[F+2+0]=En(de,we,_e),S[F+1+0]=S[F+3+32]=En(j,de,we),S[F+1+32]=S[F+3+64]=En(J,j,de),S[F+1+64]=S[F+3+96]=En(ue,J,j),S[F+1+96]=En(he,ue,J)}function ua(S,F){var j;for(j=0;8>j;++j)n(S,F+32*j,S,F-32,8)}function JA(S,F){var j;for(j=0;8>j;++j)r(S,F,S[F-1],8),F+=32}function Ia(S,F,j){var J;for(J=0;8>J;++J)r(F,j+32*J,S,8)}function ro(S,F){var j,J=8;for(j=0;8>j;++j)J+=S[F+j-32]+S[F-1+32*j];Ia(J>>4,S,F)}function qo(S,F){var j,J=4;for(j=0;8>j;++j)J+=S[F+j-32];Ia(J>>3,S,F)}function sr(S,F){var j,J=4;for(j=0;8>j;++j)J+=S[F-1+32*j];Ia(J>>3,S,F)}function so(S,F){Ia(128,S,F)}function ca(S,F,j){var J=S[F-j],ue=S[F+0],he=3*(ue-J)+ga[1020+S[F-2*j]-S[F+j]],de=LA[112+(he+4>>3)];S[F-j]=Or[255+J+LA[112+(he+3>>3)]],S[F+0]=Or[255+ue-de]}function ao(S,F,j,J){var ue=S[F+0],he=S[F+j];return zs[255+S[F-2*j]-S[F-j]]>J||zs[255+he-ue]>J}function bo(S,F,j,J){return 4*zs[255+S[F-j]-S[F+0]]+zs[255+S[F-2*j]-S[F+j]]<=J}function Xo(S,F,j,J,ue){var he=S[F-3*j],de=S[F-2*j],we=S[F-j],_e=S[F+0],Te=S[F+j],je=S[F+2*j],gt=S[F+3*j];return 4*zs[255+we-_e]+zs[255+de-Te]>J?0:zs[255+S[F-4*j]-he]<=ue&&zs[255+he-de]<=ue&&zs[255+de-we]<=ue&&zs[255+gt-je]<=ue&&zs[255+je-Te]<=ue&&zs[255+Te-_e]<=ue}function Ra(S,F,j,J){var ue=2*J+1;for(J=0;16>J;++J)bo(S,F+J,j,ue)&&ca(S,F+J,j)}function oo(S,F,j,J){var ue=2*J+1;for(J=0;16>J;++J)bo(S,F+J*j,1,ue)&&ca(S,F+J*j,1)}function jr(S,F,j,J){var ue;for(ue=3;0<ue;--ue)Ra(S,F+=4*j,j,J)}function cu(S,F,j,J){var ue;for(ue=3;0<ue;--ue)oo(S,F+=4,j,J)}function Ka(S,F,j,J,ue,he,de,we){for(he=2*he+1;0<ue--;){if(Xo(S,F,j,he,de))if(ao(S,F,j,we))ca(S,F,j);else{var _e=S,Te=F,je=j,gt=_e[Te-2*je],be=_e[Te-je],qe=_e[Te+0],et=_e[Te+je],Mt=_e[Te+2*je],ft=27*(Tt=ga[1020+3*(qe-be)+ga[1020+gt-et]])+63>>7,Ct=18*Tt+63>>7,Tt=9*Tt+63>>7;_e[Te-3*je]=Or[255+_e[Te-3*je]+Tt],_e[Te-2*je]=Or[255+gt+Ct],_e[Te-je]=Or[255+be+ft],_e[Te+0]=Or[255+qe-ft],_e[Te+je]=Or[255+et-Ct],_e[Te+2*je]=Or[255+Mt-Tt]}F+=J}}function Wa(S,F,j,J,ue,he,de,we){for(he=2*he+1;0<ue--;){if(Xo(S,F,j,he,de))if(ao(S,F,j,we))ca(S,F,j);else{var _e=S,Te=F,je=j,gt=_e[Te-je],be=_e[Te+0],qe=_e[Te+je],et=LA[112+(4+(Mt=3*(be-gt))>>3)],Mt=LA[112+(Mt+3>>3)],ft=et+1>>1;_e[Te-2*je]=Or[255+_e[Te-2*je]+ft],_e[Te-je]=Or[255+gt+Mt],_e[Te+0]=Or[255+be-et],_e[Te+je]=Or[255+qe-ft]}F+=J}}function Il(S,F,j,J,ue,he){Ka(S,F,j,1,16,J,ue,he)}function Yo(S,F,j,J,ue,he){Ka(S,F,1,j,16,J,ue,he)}function Bs(S,F,j,J,ue,he){var de;for(de=3;0<de;--de)Wa(S,F+=4*j,j,1,16,J,ue,he)}function D(S,F,j,J,ue,he){var de;for(de=3;0<de;--de)Wa(S,F+=4,1,j,16,J,ue,he)}function le(S,F,j,J,ue,he,de,we){Ka(S,F,ue,1,8,he,de,we),Ka(j,J,ue,1,8,he,de,we)}function Ue(S,F,j,J,ue,he,de,we){Ka(S,F,1,ue,8,he,de,we),Ka(j,J,1,ue,8,he,de,we)}function Pe(S,F,j,J,ue,he,de,we){Wa(S,F+4*ue,ue,1,8,he,de,we),Wa(j,J+4*ue,ue,1,8,he,de,we)}function st(S,F,j,J,ue,he,de,we){Wa(S,F+4,1,ue,8,he,de,we),Wa(j,J+4,1,ue,8,he,de,we)}function Ft(){this.ba=new Et,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ze,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Pt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function vn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function bn(){this.ua=0,this.Wa=new rt,this.vb=new rt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ae,this.yc=new q}function Pn(){this.xb=this.a=0,this.l=new xn,this.ca=new Et,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new X,this.Pb=0,this.wd=new X,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new bn,this.ab=0,this.gc=a(4,vn),this.Oc=0}function Yn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new xn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function di(S,F,j,J,ue,he,de){for(S=S==null?0:S[F+0],F=0;F<de;++F)ue[he+F]=S+j[J+F]&255,S=ue[he+F]}function xr(S,F,j,J,ue,he,de){var we;if(S==null)di(null,null,j,J,ue,he,de);else for(we=0;we<de;++we)ue[he+we]=S[F+we]+j[J+we]&255}function es(S,F,j,J,ue,he,de){if(S==null)di(null,null,j,J,ue,he,de);else{var we,_e=S[F+0],Te=_e,je=_e;for(we=0;we<de;++we)Te=je+(_e=S[F+we])-Te,je=j[J+we]+(-256&Te?0>Te?0:255:Te)&255,Te=_e,ue[he+we]=je}}function ar(S,F,j,J){var ue=F.width,he=F.o;if(e(S!=null&&F!=null),0>j||0>=J||j+J>he)return null;if(!S.Cc){if(S.ga==null){var de;if(S.ga=new Yn,(de=S.ga==null)||(de=F.width*F.o,e(S.Gb.length==0),S.Gb=s(de),S.Uc=0,S.Gb==null?de=0:(S.mb=S.Gb,S.nb=S.Uc,S.rc=null,de=1),de=!de),!de){de=S.ga;var we=S.Fa,_e=S.P,Te=S.qc,je=S.mb,gt=S.nb,be=_e+1,qe=Te-1,et=de.l;if(e(we!=null&&je!=null&&F!=null),Vl[0]=null,Vl[1]=di,Vl[2]=xr,Vl[3]=es,de.ca=je,de.tb=gt,de.c=F.width,de.i=F.height,e(0<de.c&&0<de.i),1>=Te)F=0;else if(de.$a=3&we[_e+0],de.Z=we[_e+0]>>2&3,de.Lc=we[_e+0]>>4&3,_e=we[_e+0]>>6&3,0>de.$a||1<de.$a||4<=de.Z||1<de.Lc||_e)F=0;else if(et.put=qt,et.ac=nn,et.bc=Wn,et.ma=de,et.width=F.width,et.height=F.height,et.Da=F.Da,et.v=F.v,et.va=F.va,et.j=F.j,et.o=F.o,de.$a)e:{e(de.$a==1),F=Ns();t:for(;;){if(F==null){F=0;break e}if(e(de!=null),de.mc=F,F.c=de.c,F.i=de.i,F.l=de.l,F.l.ma=de,F.l.width=de.c,F.l.height=de.i,F.a=0,fe(F.m,we,be,qe),!bs(de.c,de.i,1,F,null)||(F.ab==1&&F.gc[0].hc==3&&ei(F.s)?(de.ic=1,we=F.c*F.i,F.Ta=null,F.Ua=0,F.V=s(we),F.Ba=0,F.V==null?(F.a=1,F=0):F=1):(de.ic=0,F=Ds(F,de.c)),!F))break t;F=1;break e}de.mc=null,F=0}else F=qe>=de.c*de.i;de=!F}if(de)return null;S.ga.Lc!=1?S.Ga=0:J=he-j}e(S.ga!=null),e(j+J<=he);e:{if(F=(we=S.ga).c,he=we.l.o,we.$a==0){if(be=S.rc,qe=S.Vc,et=S.Fa,_e=S.P+1+j*F,Te=S.mb,je=S.nb+j*F,e(_e<=S.P+S.qc),we.Z!=0)for(e(Vl[we.Z]!=null),de=0;de<J;++de)Vl[we.Z](be,qe,et,_e,Te,je,F),be=Te,qe=je,je+=F,_e+=F;else for(de=0;de<J;++de)n(Te,je,et,_e,F),be=Te,qe=je,je+=F,_e+=F;S.rc=be,S.Vc=qe}else{if(e(we.mc!=null),F=j+J,e((de=we.mc)!=null),e(F<=de.i),de.C>=F)F=1;else if(we.ic||Jo(),we.ic){we=de.V,be=de.Ba,qe=de.c;var Mt=de.i,ft=(et=1,_e=de.$/qe,Te=de.$%qe,je=de.m,gt=de.s,de.$),Ct=qe*Mt,Tt=qe*F,Ht=gt.wc,Dt=ft<Tt?Yi(gt,Te,_e):null;e(ft<=Ct),e(F<=Mt),e(ei(gt));t:for(;;){for(;!je.h&&ft<Tt;){if(Te&Ht||(Dt=Yi(gt,Te,_e)),e(Dt!=null),se(je),256>(Mt=ci(Dt.G[0],Dt.H[0],je)))we[be+ft]=Mt,++ft,++Te>=qe&&(Te=0,++_e<=F&&!(_e%16)&&ur(de,_e));else{if(!(280>Mt)){et=0;break t}Mt=Xi(Mt-256,je);var yn,cn=ci(Dt.G[4],Dt.H[4],je);if(se(je),!(ft>=(cn=lr(qe,cn=Xi(cn,je)))&&Ct-ft>=Mt)){et=0;break t}for(yn=0;yn<Mt;++yn)we[be+ft+yn]=we[be+ft+yn-cn];for(ft+=Mt,Te+=Mt;Te>=qe;)Te-=qe,++_e<=F&&!(_e%16)&&ur(de,_e);ft<Tt&&Te&Ht&&(Dt=Yi(gt,Te,_e))}e(je.h==ie(je))}ur(de,_e>F?F:_e);break t}!et||je.h&&ft<Ct?(et=0,de.a=je.h?5:3):de.$=ft,F=et}else F=Fr(de,de.V,de.Ba,de.c,de.i,F,Aa);if(!F){J=0;break e}}j+J>=he&&(S.Cc=1),J=1}if(!J)return null;if(S.Cc&&((J=S.ga)!=null&&(J.mc=null),S.ga=null,0<S.Ga))return alert("todo:WebPDequantizeLevels"),null}return S.nb+j*ue}function Ss(S,F,j,J,ue,he){for(;0<ue--;){var de,we=S,_e=F+(j?1:0),Te=S,je=F+(j?0:3);for(de=0;de<J;++de){var gt=Te[je+4*de];gt!=255&&(gt*=32897,we[_e+4*de+0]=we[_e+4*de+0]*gt>>23,we[_e+4*de+1]=we[_e+4*de+1]*gt>>23,we[_e+4*de+2]=we[_e+4*de+2]*gt>>23)}F+=he}}function fs(S,F,j,J,ue){for(;0<J--;){var he;for(he=0;he<j;++he){var de=S[F+2*he+0],we=15&(Te=S[F+2*he+1]),_e=4369*we,Te=(240&Te|Te>>4)*_e>>16;S[F+2*he+0]=(240&de|de>>4)*_e>>16&240|(15&de|de<<4)*_e>>16>>4&15,S[F+2*he+1]=240&Te|we}F+=ue}}function fa(S,F,j,J,ue,he,de,we){var _e,Te,je=255;for(Te=0;Te<ue;++Te){for(_e=0;_e<J;++_e){var gt=S[F+_e];he[de+4*_e]=gt,je&=gt}F+=j,de+=we}return je!=255}function Ir(S,F,j,J,ue){var he;for(he=0;he<ue;++he)j[J+he]=S[F+he]>>8}function Jo(){Ql=Ss,Eo=fs,Ic=fa,Mo=Ir}function ZA(S,F,j){I[S]=function(J,ue,he,de,we,_e,Te,je,gt,be,qe,et,Mt,ft,Ct,Tt,Ht){var Dt,yn=Ht-1>>1,cn=we[_e+0]|Te[je+0]<<16,In=gt[be+0]|qe[et+0]<<16;e(J!=null);var gn=3*cn+In+131074>>2;for(F(J[ue+0],255&gn,gn>>16,Mt,ft),he!=null&&(gn=3*In+cn+131074>>2,F(he[de+0],255&gn,gn>>16,Ct,Tt)),Dt=1;Dt<=yn;++Dt){var gi=we[_e+Dt]|Te[je+Dt]<<16,gr=gt[be+Dt]|qe[et+Dt]<<16,qn=cn+gi+In+gr+524296,tn=qn+2*(gi+In)>>3;gn=tn+cn>>1,cn=(qn=qn+2*(cn+gr)>>3)+gi>>1,F(J[ue+2*Dt-1],255&gn,gn>>16,Mt,ft+(2*Dt-1)*j),F(J[ue+2*Dt-0],255&cn,cn>>16,Mt,ft+(2*Dt-0)*j),he!=null&&(gn=qn+In>>1,cn=tn+gr>>1,F(he[de+2*Dt-1],255&gn,gn>>16,Ct,Tt+(2*Dt-1)*j),F(he[de+2*Dt+0],255&cn,cn>>16,Ct,Tt+(2*Dt+0)*j)),cn=gi,In=gr}1&Ht||(gn=3*cn+In+131074>>2,F(J[ue+Ht-1],255&gn,gn>>16,Mt,ft+(Ht-1)*j),he!=null&&(gn=3*In+cn+131074>>2,F(he[de+Ht-1],255&gn,gn>>16,Ct,Tt+(Ht-1)*j)))}}function Tc(){va[Nc]=mu,va[br]=IA,va[Tf]=bh,va[ma]=Zu,va[Hl]=jl,va[eA]=RA,va[kl]=Kl,va[Dc]=IA,va[pu]=Zu,va[Yu]=jl,va[Ju]=RA}function Wu(S){return S&-16384?0>S?0:255:S>>Lf}function Ao(S,F){return Wu((19077*S>>8)+(26149*F>>8)-14234)}function Zo(S,F,j){return Wu((19077*S>>8)-(6419*F>>8)-(13320*j>>8)+8708)}function $A(S,F){return Wu((19077*S>>8)+(33050*F>>8)-17685)}function el(S,F,j,J,ue){J[ue+0]=Ao(S,j),J[ue+1]=Zo(S,F,j),J[ue+2]=$A(S,F)}function ta(S,F,j,J,ue){J[ue+0]=$A(S,F),J[ue+1]=Zo(S,F,j),J[ue+2]=Ao(S,j)}function SA(S,F,j,J,ue){var he=Zo(S,F,j);F=he<<3&224|$A(S,F)>>3,J[ue+0]=248&Ao(S,j)|he>>5,J[ue+1]=F}function tl(S,F,j,J,ue){var he=240&$A(S,F)|15;J[ue+0]=240&Ao(S,j)|Zo(S,F,j)>>4,J[ue+1]=he}function qu(S,F,j,J,ue){J[ue+0]=255,el(S,F,j,J,ue+1)}function CA(S,F,j,J,ue){ta(S,F,j,J,ue),J[ue+3]=255}function Na(S,F,j,J,ue){el(S,F,j,J,ue),J[ue+3]=255}function EA(S,F,j){I[S]=function(J,ue,he,de,we,_e,Te,je,gt){for(var be=je+(-2&gt)*j;je!=be;)F(J[ue+0],he[de+0],we[_e+0],Te,je),F(J[ue+1],he[de+0],we[_e+0],Te,je+j),ue+=2,++de,++_e,je+=2*j;1&gt&&F(J[ue+0],he[de+0],we[_e+0],Te,je)}}function fu(S,F,j){return j==0?S==0?F==0?6:5:F==0?4:0:j}function Fc(S,F,j,J,ue){switch(S>>>30){case 3:Da(F,j,J,ue,0);break;case 2:pa(F,j,J,ue);break;case 1:Ti(F,j,J,ue)}}function qa(S,F){var j,J,ue=F.M,he=F.Nb,de=S.oc,we=S.pc+40,_e=S.oc,Te=S.pc+584,je=S.oc,gt=S.pc+600;for(j=0;16>j;++j)de[we+32*j-1]=129;for(j=0;8>j;++j)_e[Te+32*j-1]=129,je[gt+32*j-1]=129;for(0<ue?de[we-1-32]=_e[Te-1-32]=je[gt-1-32]=129:(r(de,we-32-1,127,21),r(_e,Te-32-1,127,9),r(je,gt-32-1,127,9)),J=0;J<S.za;++J){var be=F.ya[F.aa+J];if(0<J){for(j=-1;16>j;++j)n(de,we+32*j-4,de,we+32*j+12,4);for(j=-1;8>j;++j)n(_e,Te+32*j-4,_e,Te+32*j+4,4),n(je,gt+32*j-4,je,gt+32*j+4,4)}var qe=S.Gd,et=S.Hd+J,Mt=be.ad,ft=be.Hc;if(0<ue&&(n(de,we-32,qe[et].y,0,16),n(_e,Te-32,qe[et].f,0,8),n(je,gt-32,qe[et].ea,0,8)),be.Za){var Ct=de,Tt=we-32+16;for(0<ue&&(J>=S.za-1?r(Ct,Tt,qe[et].y[15],4):n(Ct,Tt,qe[et+1].y,0,4)),j=0;4>j;j++)Ct[Tt+128+j]=Ct[Tt+256+j]=Ct[Tt+384+j]=Ct[Tt+0+j];for(j=0;16>j;++j,ft<<=2)Ct=de,Tt=we+hs[j],qr[be.Ob[j]](Ct,Tt),Fc(ft,Mt,16*+j,Ct,Tt)}else if(Ct=fu(J,ue,be.Ob[0]),Oa[Ct](de,we),ft!=0)for(j=0;16>j;++j,ft<<=2)Fc(ft,Mt,16*+j,de,we+hs[j]);for(j=be.Gc,Ct=fu(J,ue,be.Dd),fo[Ct](_e,Te),fo[Ct](je,gt),ft=Mt,Ct=_e,Tt=Te,255&(be=0|j)&&(170&be?Bo(ft,256,Ct,Tt):$n(ft,256,Ct,Tt)),be=je,ft=gt,255&(j>>=8)&&(170&j?Bo(Mt,320,be,ft):$n(Mt,320,be,ft)),ue<S.Ub-1&&(n(qe[et].y,0,de,we+480,16),n(qe[et].f,0,_e,Te+224,8),n(qe[et].ea,0,je,gt+224,8)),j=8*he*S.B,qe=S.sa,et=S.ta+16*J+16*he*S.R,Mt=S.qa,be=S.ra+8*J+j,ft=S.Ha,Ct=S.Ia+8*J+j,j=0;16>j;++j)n(qe,et+j*S.R,de,we+32*j,16);for(j=0;8>j;++j)n(Mt,be+j*S.B,_e,Te+32*j,8),n(ft,Ct+j*S.B,je,gt+32*j,8)}}function lo(S,F,j,J,ue,he,de,we,_e){var Te=[0],je=[0],gt=0,be=_e!=null?_e.kd:0,qe=_e??new Pt;if(S==null||12>j)return 7;qe.data=S,qe.w=F,qe.ha=j,F=[F],j=[j],qe.gb=[qe.gb];e:{var et=F,Mt=j,ft=qe.gb;if(e(S!=null),e(Mt!=null),e(ft!=null),ft[0]=0,12<=Mt[0]&&!t(S,et[0],"RIFF")){if(t(S,et[0]+8,"WEBP")){ft=3;break e}var Ct=De(S,et[0]+4);if(12>Ct||4294967286<Ct){ft=3;break e}if(be&&Ct>Mt[0]-8){ft=7;break e}ft[0]=Ct,et[0]+=12,Mt[0]-=12}ft=0}if(ft!=0)return ft;for(Ct=0<qe.gb[0],j=j[0];;){e:{var Tt=S;Mt=F,ft=j;var Ht=Te,Dt=je,yn=et=[0];if((gn=gt=[gt])[0]=0,8>ft[0])ft=7;else{if(!t(Tt,Mt[0],"VP8X")){if(De(Tt,Mt[0]+4)!=10){ft=3;break e}if(18>ft[0]){ft=7;break e}var cn=De(Tt,Mt[0]+8),In=1+it(Tt,Mt[0]+12);if(2147483648<=In*(Tt=1+it(Tt,Mt[0]+15))){ft=3;break e}yn!=null&&(yn[0]=cn),Ht!=null&&(Ht[0]=In),Dt!=null&&(Dt[0]=Tt),Mt[0]+=18,ft[0]-=18,gn[0]=1}ft=0}}if(gt=gt[0],et=et[0],ft!=0)return ft;if(Mt=!!(2&et),!Ct&&gt)return 3;if(he!=null&&(he[0]=!!(16&et)),de!=null&&(de[0]=Mt),we!=null&&(we[0]=0),de=Te[0],et=je[0],gt&&Mt&&_e==null){ft=0;break}if(4>j){ft=7;break}if(Ct&&gt||!Ct&&!gt&&!t(S,F[0],"ALPH")){j=[j],qe.na=[qe.na],qe.P=[qe.P],qe.Sa=[qe.Sa];e:{cn=S,ft=F,Ct=j;var gn=qe.gb;Ht=qe.na,Dt=qe.P,yn=qe.Sa,In=22,e(cn!=null),e(Ct!=null),Tt=ft[0];var gi=Ct[0];for(e(Ht!=null),e(yn!=null),Ht[0]=null,Dt[0]=null,yn[0]=0;;){if(ft[0]=Tt,Ct[0]=gi,8>gi){ft=7;break e}var gr=De(cn,Tt+4);if(4294967286<gr){ft=3;break e}var qn=8+gr+1&-2;if(In+=qn,0<gn&&In>gn){ft=3;break e}if(!t(cn,Tt,"VP8 ")||!t(cn,Tt,"VP8L")){ft=0;break e}if(gi[0]<qn){ft=7;break e}t(cn,Tt,"ALPH")||(Ht[0]=cn,Dt[0]=Tt+8,yn[0]=gr),Tt+=qn,gi-=qn}}if(j=j[0],qe.na=qe.na[0],qe.P=qe.P[0],qe.Sa=qe.Sa[0],ft!=0)break}j=[j],qe.Ja=[qe.Ja],qe.xa=[qe.xa];e:if(gn=S,ft=F,Ct=j,Ht=qe.gb[0],Dt=qe.Ja,yn=qe.xa,cn=ft[0],Tt=!t(gn,cn,"VP8 "),In=!t(gn,cn,"VP8L"),e(gn!=null),e(Ct!=null),e(Dt!=null),e(yn!=null),8>Ct[0])ft=7;else{if(Tt||In){if(gn=De(gn,cn+4),12<=Ht&&gn>Ht-12){ft=3;break e}if(be&&gn>Ct[0]-8){ft=7;break e}Dt[0]=gn,ft[0]+=8,Ct[0]-=8,yn[0]=In}else yn[0]=5<=Ct[0]&&gn[cn+0]==47&&!(gn[cn+4]>>5),Dt[0]=Ct[0];ft=0}if(j=j[0],qe.Ja=qe.Ja[0],qe.xa=qe.xa[0],F=F[0],ft!=0)break;if(4294967286<qe.Ja)return 3;if(we==null||Mt||(we[0]=qe.xa?2:1),de=[de],et=[et],qe.xa){if(5>j){ft=7;break}we=de,be=et,Mt=he,S==null||5>j?S=0:5<=j&&S[F+0]==47&&!(S[F+4]>>5)?(Ct=[0],gn=[0],Ht=[0],fe(Dt=new X,S,F,j),Bi(Dt,Ct,gn,Ht)?(we!=null&&(we[0]=Ct[0]),be!=null&&(be[0]=gn[0]),Mt!=null&&(Mt[0]=Ht[0]),S=1):S=0):S=0}else{if(10>j){ft=7;break}we=et,S==null||10>j||!Zn(S,F+3,j-3)?S=0:(be=S[F+0]|S[F+1]<<8|S[F+2]<<16,Mt=16383&(S[F+7]<<8|S[F+6]),S=16383&(S[F+9]<<8|S[F+8]),1&be||3<(be>>1&7)||!(be>>4&1)||be>>5>=qe.Ja||!Mt||!S?S=0:(de&&(de[0]=Mt),we&&(we[0]=S),S=1))}if(!S||(de=de[0],et=et[0],gt&&(Te[0]!=de||je[0]!=et)))return 3;_e!=null&&(_e[0]=qe,_e.offset=F-_e.w,e(4294967286>F-_e.w),e(_e.offset==_e.ha-j));break}return ft==0||ft==7&&gt&&_e==null?(he!=null&&(he[0]|=qe.na!=null&&0<qe.na.length),J!=null&&(J[0]=de),ue!=null&&(ue[0]=et),0):ft}function MA(S,F,j){var J=F.width,ue=F.height,he=0,de=0,we=J,_e=ue;if(F.Da=S!=null&&0<S.Da,F.Da&&(we=S.cd,_e=S.bd,he=S.v,de=S.j,11>j||(he&=-2,de&=-2),0>he||0>de||0>=we||0>=_e||he+we>J||de+_e>ue))return 0;if(F.v=he,F.j=de,F.va=he+we,F.o=de+_e,F.U=we,F.T=_e,F.da=S!=null&&0<S.da,F.da){if(!ce(we,_e,j=[S.ib],he=[S.hb]))return 0;F.ib=j[0],F.hb=he[0]}return F.ob=S!=null&&S.ob,F.Kb=S==null||!S.Sd,F.da&&(F.ob=F.ib<3*J/4&&F.hb<3*ue/4,F.Kb=0),1}function Lc(S){if(S==null)return 2;if(11>S.S){var F=S.f.RGBA;F.fb+=(S.height-1)*F.A,F.A=-F.A}else F=S.f.kb,S=S.height,F.O+=(S-1)*F.fa,F.fa=-F.fa,F.N+=(S-1>>1)*F.Ab,F.Ab=-F.Ab,F.W+=(S-1>>1)*F.Db,F.Db=-F.Db,F.F!=null&&(F.J+=(S-1)*F.lb,F.lb=-F.lb);return 0}function _o(S,F,j,J){if(J==null||0>=S||0>=F)return 2;if(j!=null){if(j.Da){var ue=j.cd,he=j.bd,de=-2&j.v,we=-2&j.j;if(0>de||0>we||0>=ue||0>=he||de+ue>S||we+he>F)return 2;S=ue,F=he}if(j.da){if(!ce(S,F,ue=[j.ib],he=[j.hb]))return 2;S=ue[0],F=he[0]}}J.width=S,J.height=F;e:{var _e=J.width,Te=J.height;if(S=J.S,0>=_e||0>=Te||!(S>=Nc&&13>S))S=2;else{if(0>=J.Rd&&J.sd==null){de=he=ue=F=0;var je=(we=_e*If[S])*Te;if(11>S||(he=(Te+1)/2*(F=(_e+1)/2),S==12&&(de=(ue=_e)*Te)),(Te=s(je+2*he+de))==null){S=1;break e}J.sd=Te,11>S?((_e=J.f.RGBA).eb=Te,_e.fb=0,_e.A=we,_e.size=je):((_e=J.f.kb).y=Te,_e.O=0,_e.fa=we,_e.Fd=je,_e.f=Te,_e.N=0+je,_e.Ab=F,_e.Cd=he,_e.ea=Te,_e.W=0+je+he,_e.Db=F,_e.Ed=he,S==12&&(_e.F=Te,_e.J=0+je+2*he),_e.Tc=de,_e.lb=ue)}if(F=1,ue=J.S,he=J.width,de=J.height,ue>=Nc&&13>ue)if(11>ue)S=J.f.RGBA,F&=(we=Math.abs(S.A))*(de-1)+he<=S.size,F&=we>=he*If[ue],F&=S.eb!=null;else{S=J.f.kb,we=(he+1)/2,je=(de+1)/2,_e=Math.abs(S.fa),Te=Math.abs(S.Ab);var gt=Math.abs(S.Db),be=Math.abs(S.lb),qe=be*(de-1)+he;F&=_e*(de-1)+he<=S.Fd,F&=Te*(je-1)+we<=S.Cd,F=(F&=gt*(je-1)+we<=S.Ed)&_e>=he&Te>=we&gt>=we,F&=S.y!=null,F&=S.f!=null,F&=S.ea!=null,ue==12&&(F&=be>=he,F&=qe<=S.Tc,F&=S.F!=null)}else F=0;S=F?0:2}}return S!=0||j!=null&&j.fd&&(S=Lc(J)),S}var Rl=64,ts=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ha=24,nl=32,UA=8,Ps=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Oe("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(S){return S},I.Predictor2=function(S,F,j){return F[j+0]},I.Predictor3=function(S,F,j){return F[j+1]},I.Predictor4=function(S,F,j){return F[j-1]},I.Predictor5=function(S,F,j){return Ae(Ae(S,F[j+1]),F[j+0])},I.Predictor6=function(S,F,j){return Ae(S,F[j-1])},I.Predictor7=function(S,F,j){return Ae(S,F[j+0])},I.Predictor8=function(S,F,j){return Ae(F[j-1],F[j+0])},I.Predictor9=function(S,F,j){return Ae(F[j+0],F[j+1])},I.Predictor10=function(S,F,j){return Ae(Ae(S,F[j-1]),Ae(F[j+0],F[j+1]))},I.Predictor11=function(S,F,j){var J=F[j+0];return 0>=Ge(J>>24&255,S>>24&255,(F=F[j-1])>>24&255)+Ge(J>>16&255,S>>16&255,F>>16&255)+Ge(J>>8&255,S>>8&255,F>>8&255)+Ge(255&J,255&S,255&F)?J:S},I.Predictor12=function(S,F,j){var J=F[j+0];return($((S>>24&255)+(J>>24&255)-((F=F[j-1])>>24&255))<<24|$((S>>16&255)+(J>>16&255)-(F>>16&255))<<16|$((S>>8&255)+(J>>8&255)-(F>>8&255))<<8|$((255&S)+(255&J)-(255&F)))>>>0},I.Predictor13=function(S,F,j){var J=F[j-1];return(Se((S=Ae(S,F[j+0]))>>24&255,J>>24&255)<<24|Se(S>>16&255,J>>16&255)<<16|Se(S>>8&255,J>>8&255)<<8|Se(255&S,255&J))>>>0};var Nl=I.PredictorAdd0;I.PredictorAdd1=Ve,Oe("Predictor2","PredictorAdd2"),Oe("Predictor3","PredictorAdd3"),Oe("Predictor4","PredictorAdd4"),Oe("Predictor5","PredictorAdd5"),Oe("Predictor6","PredictorAdd6"),Oe("Predictor7","PredictorAdd7"),Oe("Predictor8","PredictorAdd8"),Oe("Predictor9","PredictorAdd9"),Oe("Predictor10","PredictorAdd10"),Oe("Predictor11","PredictorAdd11"),Oe("Predictor12","PredictorAdd12"),Oe("Predictor13","PredictorAdd13");var Xu=I.PredictorAdd2;wt("ColorIndexInverseTransform","MapARGB","32b",function(S){return S>>8&255},function(S){return S}),wt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(S){return S},function(S){return S>>8&255});var Kr,Mf=I.ColorIndexInverseTransform,TA=I.MapARGB,$o=I.VP8LColorIndexInverseTransformAlpha,Qs=I.MapAlpha,il=I.VP8LPredictorsAdd=[];il.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var Dl,rl,Di,Ol,sl,hu,da,Da,pa,Bo,Ti,$n,pr,Wr,FA,So,Pl,du,yh,Md,$p,Ud,wh,Co,Ql,Eo,Ic,Mo,al=s(511),Hs=s(2041),Rc=s(225),ks=s(767),Uf=0,ga=Hs,LA=Rc,Or=ks,zs=al,Nc=0,br=1,Tf=2,ma=3,Hl=4,eA=5,kl=6,Dc=7,pu=8,Yu=9,Ju=10,Uo=[2,3,7],gu=[3,3,11],zl=[280,256,256,256,40],Oc=[0,1,1,1,0],Pc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],uo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Pr=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Gl=8,Rr=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],To=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],co=null,eg=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ol=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ff=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],xh=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ns=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],_r=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Ci=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Oa=[],qr=[],fo=[],Al=1,Td=2,Vl=[],va=[];ZA("UpsampleRgbLinePair",el,3),ZA("UpsampleBgrLinePair",ta,3),ZA("UpsampleRgbaLinePair",Na,4),ZA("UpsampleBgraLinePair",CA,4),ZA("UpsampleArgbLinePair",qu,4),ZA("UpsampleRgba4444LinePair",tl,2),ZA("UpsampleRgb565LinePair",SA,2);var mu=I.UpsampleRgbLinePair,bh=I.UpsampleBgrLinePair,IA=I.UpsampleRgbaLinePair,Zu=I.UpsampleBgraLinePair,jl=I.UpsampleArgbLinePair,RA=I.UpsampleRgba4444LinePair,Kl=I.UpsampleRgb565LinePair,Fo=16,$u=1<<Fo-1,vu=-227,tA=482,Lf=6,Wl=0,Hn=s(256),Qc=s(256),tg=s(256),ng=s(256),$m=s(tA-vu),e0=s(tA-vu);EA("YuvToRgbRow",el,3),EA("YuvToBgrRow",ta,3),EA("YuvToRgbaRow",Na,4),EA("YuvToBgraRow",CA,4),EA("YuvToArgbRow",qu,4),EA("YuvToRgba4444Row",tl,2),EA("YuvToRgb565Row",SA,2);var hs=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Hc=[0,2,8],ec=[8,7,6,4,4,2,2,2,1,1,1,1],Lo=1;this.WebPDecodeRGBA=function(S,F,j,J,ue){var he=br,de=new Ft,we=new Et;de.ba=we,we.S=he,we.width=[we.width],we.height=[we.height];var _e=we.width,Te=we.height,je=new tt;if(je==null||S==null)var gt=2;else e(je!=null),gt=lo(S,F,j,je.width,je.height,je.Pd,je.Qd,je.format,null);if(gt!=0?_e=0:(_e!=null&&(_e[0]=je.width[0]),Te!=null&&(Te[0]=je.height[0]),_e=1),_e){we.width=we.width[0],we.height=we.height[0],J!=null&&(J[0]=we.width),ue!=null&&(ue[0]=we.height);e:{if(J=new xn,(ue=new Pt).data=S,ue.w=F,ue.ha=j,ue.kd=1,F=[0],e(ue!=null),((S=lo(ue.data,ue.w,ue.ha,null,null,null,F,null,ue))==0||S==7)&&F[0]&&(S=4),(F=S)==0){if(e(de!=null),J.data=ue.data,J.w=ue.w+ue.offset,J.ha=ue.ha-ue.offset,J.put=qt,J.ac=nn,J.bc=Wn,J.ma=de,ue.xa){if((S=Ns())==null){de=1;break e}if((function(be,qe){var et=[0],Mt=[0],ft=[0];t:for(;;){if(be==null)return 0;if(qe==null)return be.a=2,0;if(be.l=qe,be.a=0,fe(be.m,qe.data,qe.w,qe.ha),!Bi(be.m,et,Mt,ft)){be.a=3;break t}if(be.xb=Td,qe.width=et[0],qe.height=Mt[0],!bs(et[0],Mt[0],1,be,null))break t;return 1}return e(be.a!=0),0})(S,J)){if(J=(F=_o(J.width,J.height,de.Oa,de.ba))==0){t:{J=S;n:for(;;){if(J==null){J=0;break t}if(e(J.s.yc!=null),e(J.s.Ya!=null),e(0<J.s.Wb),e((j=J.l)!=null),e((ue=j.ma)!=null),J.xb!=0){if(J.ca=ue.ba,J.tb=ue.tb,e(J.ca!=null),!MA(ue.Oa,j,ma)){J.a=2;break n}if(!Ds(J,j.width)||j.da)break n;if((j.da||Be(J.ca.S))&&Jo(),11>J.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),J.ca.f.kb.F!=null&&Jo()),J.Pb&&0<J.s.ua&&J.s.vb.X==null&&!re(J.s.vb,J.s.Wa.Xa)){J.a=1;break n}J.xb=0}if(!Fr(J,J.V,J.Ba,J.c,J.i,j.o,Si))break n;ue.Dc=J.Ma,J=1;break t}e(J.a!=0),J=0}J=!J}J&&(F=S.a)}else F=S.a}else{if((S=new un)==null){de=1;break e}if(S.Fa=ue.na,S.P=ue.P,S.qc=ue.Sa,fi(S,J)){if((F=_o(J.width,J.height,de.Oa,de.ba))==0){if(S.Aa=0,j=de.Oa,e((ue=S)!=null),j!=null){if(0<(_e=0>(_e=j.Md)?0:100<_e?255:255*_e/100)){for(Te=je=0;4>Te;++Te)12>(gt=ue.pb[Te]).lc&&(gt.ia=_e*ec[0>gt.lc?0:gt.lc]>>3),je|=gt.ia;je&&(alert("todo:VP8InitRandom"),ue.ia=1)}ue.Ga=j.Id,100<ue.Ga?ue.Ga=100:0>ue.Ga&&(ue.Ga=0)}(function(be,qe){if(be==null)return 0;if(qe==null)return An(be,2,"NULL VP8Io parameter in VP8Decode().");if(!be.cb&&!fi(be,qe))return 0;if(e(be.cb),qe.ac==null||qe.ac(qe)){qe.ob&&(be.L=0);var et=Hc[be.L];if(be.L==2?(be.yb=0,be.zb=0):(be.yb=qe.v-et>>4,be.zb=qe.j-et>>4,0>be.yb&&(be.yb=0),0>be.zb&&(be.zb=0)),be.Va=qe.o+15+et>>4,be.Hb=qe.va+15+et>>4,be.Hb>be.za&&(be.Hb=be.za),be.Va>be.Ub&&(be.Va=be.Ub),0<be.L){var Mt=be.ed;for(et=0;4>et;++et){var ft;if(be.Qa.Cb){var Ct=be.Qa.Lb[et];be.Qa.Fb||(Ct+=Mt.Tb)}else Ct=Mt.Tb;for(ft=0;1>=ft;++ft){var Tt=be.gd[et][ft],Ht=Ct;if(Mt.Pc&&(Ht+=Mt.vd[0],ft&&(Ht+=Mt.od[0])),0<(Ht=0>Ht?0:63<Ht?63:Ht)){var Dt=Ht;0<Mt.wb&&(Dt=4<Mt.wb?Dt>>2:Dt>>1)>9-Mt.wb&&(Dt=9-Mt.wb),1>Dt&&(Dt=1),Tt.dd=Dt,Tt.tc=2*Ht+Dt,Tt.ld=40<=Ht?2:15<=Ht?1:0}else Tt.tc=0;Tt.La=ft}}}et=0}else An(be,6,"Frame setup failed"),et=be.a;if(et=et==0){if(et){be.$c=0,0<be.Aa||(be.Ic=Lo);t:{et=be.Ic,Mt=4*(Dt=be.za);var yn=32*Dt,cn=Dt+1,In=0<be.L?Dt*(0<be.Aa?2:1):0,gn=(be.Aa==2?2:1)*Dt;if((Tt=Mt+832+(ft=3*(16*et+Hc[be.L])/2*yn)+(Ct=be.Fa!=null&&0<be.Fa.length?be.Kc.c*be.Kc.i:0))!=Tt)et=0;else{if(Tt>be.Vb){if(be.Vb=0,be.Ec=s(Tt),be.Fc=0,be.Ec==null){et=An(be,1,"no memory during frame initialization.");break t}be.Vb=Tt}Tt=be.Ec,Ht=be.Fc,be.Ac=Tt,be.Bc=Ht,Ht+=Mt,be.Gd=a(yn,Qt),be.Hd=0,be.rb=a(cn+1,pt),be.sb=1,be.wa=In?a(In,dt):null,be.Y=0,be.D.Nb=0,be.D.wa=be.wa,be.D.Y=be.Y,0<be.Aa&&(be.D.Y+=Dt),e(!0),be.oc=Tt,be.pc=Ht,Ht+=832,be.ya=a(gn,Gt),be.aa=0,be.D.ya=be.ya,be.D.aa=be.aa,be.Aa==2&&(be.D.aa+=Dt),be.R=16*Dt,be.B=8*Dt,Dt=(yn=Hc[be.L])*be.R,yn=yn/2*be.B,be.sa=Tt,be.ta=Ht+Dt,be.qa=be.sa,be.ra=be.ta+16*et*be.R+yn,be.Ha=be.qa,be.Ia=be.ra+8*et*be.B+yn,be.$c=0,Ht+=ft,be.mb=Ct?Tt:null,be.nb=Ct?Ht:null,e(Ht+Ct<=be.Fc+be.Vb),Rn(be),r(be.Ac,be.Bc,0,Mt),et=1}}if(et){if(qe.ka=0,qe.y=be.sa,qe.O=be.ta,qe.f=be.qa,qe.N=be.ra,qe.ea=be.Ha,qe.Vd=be.Ia,qe.fa=be.R,qe.Rc=be.B,qe.F=null,qe.J=0,!Uf){for(et=-255;255>=et;++et)al[255+et]=0>et?-et:et;for(et=-1020;1020>=et;++et)Hs[1020+et]=-128>et?-128:127<et?127:et;for(et=-112;112>=et;++et)Rc[112+et]=-16>et?-16:15<et?15:et;for(et=-255;510>=et;++et)ks[255+et]=0>et?0:255<et?255:et;Uf=1}da=nr,Da=Ni,Bo=fr,Ti=hi,$n=hr,pa=Zs,pr=Il,Wr=Yo,FA=le,So=Ue,Pl=Bs,du=D,yh=Pe,Md=st,$p=Ra,Ud=oo,wh=jr,Co=cu,qr[0]=YA,qr[1]=Vr,qr[2]=Fl,qr[3]=Ll,qr[4]=ea,qr[5]=la,qr[6]=us,qr[7]=Wo,qr[8]=BA,qr[9]=cs,Oa[0]=$s,Oa[1]=_s,Oa[2]=Tl,Oa[3]=bA,Oa[4]=La,Oa[5]=_A,Oa[6]=ja,fo[0]=ro,fo[1]=xo,fo[2]=ua,fo[3]=JA,fo[4]=sr,fo[5]=qo,fo[6]=so,et=1}else et=0}et&&(et=(function(gi,gr){for(gi.M=0;gi.M<gi.Va;++gi.M){var qn,tn=gi.Jc[gi.M&gi.Xb],Jt=gi.m,Xr=gi;for(qn=0;qn<Xr.za;++qn){var Nn=Jt,ti=Xr,zi=ti.Ac,fn=ti.Bc+4*qn,ya=ti.zc,Br=ti.ya[ti.aa+qn];if(ti.Qa.Bb?Br.$b=Fe(Nn,ti.Pa.jb[0])?2+Fe(Nn,ti.Pa.jb[2]):Fe(Nn,ti.Pa.jb[1]):Br.$b=0,ti.kc&&(Br.Ad=Fe(Nn,ti.Bd)),Br.Za=!Fe(Nn,145)+0,Br.Za){var ds=Br.Ob,Cs=0;for(ti=0;4>ti;++ti){var Es,mi=ya[0+ti];for(Es=0;4>Es;++Es){mi=ns[zi[fn+Es]][mi];for(var Gi=Ff[Fe(Nn,mi[0])];0<Gi;)Gi=Ff[2*Gi+Fe(Nn,mi[Gi])];mi=-Gi,zi[fn+Es]=mi}n(ds,Cs,zi,fn,4),Cs+=4,ya[0+ti]=mi}}else mi=Fe(Nn,156)?Fe(Nn,128)?1:3:Fe(Nn,163)?2:0,Br.Ob[0]=mi,r(zi,fn,mi,4),r(ya,0,mi,4);Br.Dd=Fe(Nn,142)?Fe(Nn,114)?Fe(Nn,183)?1:3:2:0}if(Xr.m.Ka)return An(gi,7,"Premature end-of-partition0 encountered.");for(;gi.ja<gi.za;++gi.ja){if(Xr=tn,Nn=(Jt=gi).rb[Jt.sb-1],zi=Jt.rb[Jt.sb+Jt.ja],qn=Jt.ya[Jt.aa+Jt.ja],fn=Jt.kc?qn.Ad:0)Nn.la=zi.la=0,qn.Za||(Nn.Na=zi.Na=0),qn.Hc=0,qn.Gc=0,qn.ia=0;else{var Yr,Zi;if(Nn=zi,zi=Xr,fn=Jt.Pa.Xc,ya=Jt.ya[Jt.aa+Jt.ja],Br=Jt.pb[ya.$b],ti=ya.ad,ds=0,Cs=Jt.rb[Jt.sb-1],mi=Es=0,r(ti,ds,0,384),ya.Za)var ps=0,Qr=fn[3];else{Gi=s(16);var Fi=Nn.Na+Cs.Na;if(Fi=co(zi,fn[1],Fi,Br.Eb,0,Gi,0),Nn.Na=Cs.Na=(0<Fi)+0,1<Fi)da(Gi,0,ti,ds);else{var is=Gi[0]+3>>3;for(Gi=0;256>Gi;Gi+=16)ti[ds+Gi]=is}ps=1,Qr=fn[0]}var ir=15&Nn.la,Ms=15&Cs.la;for(Gi=0;4>Gi;++Gi){var Sr=1&Ms;for(is=Zi=0;4>is;++is)ir=ir>>1|(Sr=(Fi=co(zi,Qr,Fi=Sr+(1&ir),Br.Sc,ps,ti,ds))>ps)<<7,Zi=Zi<<2|(3<Fi?3:1<Fi?2:ti[ds+0]!=0),ds+=16;ir>>=4,Ms=Ms>>1|Sr<<7,Es=(Es<<8|Zi)>>>0}for(Qr=ir,ps=Ms>>4,Yr=0;4>Yr;Yr+=2){for(Zi=0,ir=Nn.la>>4+Yr,Ms=Cs.la>>4+Yr,Gi=0;2>Gi;++Gi){for(Sr=1&Ms,is=0;2>is;++is)Fi=Sr+(1&ir),ir=ir>>1|(Sr=0<(Fi=co(zi,fn[2],Fi,Br.Qc,0,ti,ds)))<<3,Zi=Zi<<2|(3<Fi?3:1<Fi?2:ti[ds+0]!=0),ds+=16;ir>>=2,Ms=Ms>>1|Sr<<5}mi|=Zi<<4*Yr,Qr|=ir<<4<<Yr,ps|=(240&Ms)<<Yr}Nn.la=Qr,Cs.la=ps,ya.Hc=Es,ya.Gc=mi,ya.ia=43690&mi?0:Br.ia,fn=!(Es|mi)}if(0<Jt.L&&(Jt.wa[Jt.Y+Jt.ja]=Jt.gd[qn.$b][qn.Za],Jt.wa[Jt.Y+Jt.ja].La|=!fn),Xr.Ka)return An(gi,7,"Premature end-of-file encountered.")}if(Rn(gi),Jt=gr,Xr=1,qn=(tn=gi).D,Nn=0<tn.L&&tn.M>=tn.zb&&tn.M<=tn.Va,tn.Aa==0)t:{if(qn.M=tn.M,qn.uc=Nn,qa(tn,qn),Xr=1,qn=(Zi=tn.D).Nb,Nn=(mi=Hc[tn.L])*tn.R,zi=mi/2*tn.B,Gi=16*qn*tn.R,is=8*qn*tn.B,fn=tn.sa,ya=tn.ta-Nn+Gi,Br=tn.qa,ti=tn.ra-zi+is,ds=tn.Ha,Cs=tn.Ia-zi+is,Ms=(ir=Zi.M)==0,Es=ir>=tn.Va-1,tn.Aa==2&&qa(tn,Zi),Zi.uc)for(Sr=(Fi=tn).D.M,e(Fi.D.uc),Zi=Fi.yb;Zi<Fi.Hb;++Zi){ps=Zi,Qr=Sr;var Li=(kn=(Us=Fi).D).Nb;Yr=Us.R;var kn=kn.wa[kn.Y+ps],Nr=Us.sa,bi=Us.ta+16*Li*Yr+16*ps,Un=kn.dd,Ln=kn.tc;if(Ln!=0)if(e(3<=Ln),Us.L==1)0<ps&&Ud(Nr,bi,Yr,Ln+4),kn.La&&Co(Nr,bi,Yr,Ln),0<Qr&&$p(Nr,bi,Yr,Ln+4),kn.La&&wh(Nr,bi,Yr,Ln);else{var Qn=Us.B,rs=Us.qa,nA=Us.ra+8*Li*Qn+8*ps,Xa=Us.Ha,Us=Us.Ia+8*Li*Qn+8*ps;Li=kn.ld,0<ps&&(Wr(Nr,bi,Yr,Ln+4,Un,Li),So(rs,nA,Xa,Us,Qn,Ln+4,Un,Li)),kn.La&&(du(Nr,bi,Yr,Ln,Un,Li),Md(rs,nA,Xa,Us,Qn,Ln,Un,Li)),0<Qr&&(pr(Nr,bi,Yr,Ln+4,Un,Li),FA(rs,nA,Xa,Us,Qn,Ln+4,Un,Li)),kn.La&&(Pl(Nr,bi,Yr,Ln,Un,Li),yh(rs,nA,Xa,Us,Qn,Ln,Un,Li))}}if(tn.ia&&alert("todo:DitherRow"),Jt.put!=null){if(Zi=16*ir,ir=16*(ir+1),Ms?(Jt.y=tn.sa,Jt.O=tn.ta+Gi,Jt.f=tn.qa,Jt.N=tn.ra+is,Jt.ea=tn.Ha,Jt.W=tn.Ia+is):(Zi-=mi,Jt.y=fn,Jt.O=ya,Jt.f=Br,Jt.N=ti,Jt.ea=ds,Jt.W=Cs),Es||(ir-=mi),ir>Jt.o&&(ir=Jt.o),Jt.F=null,Jt.J=null,tn.Fa!=null&&0<tn.Fa.length&&Zi<ir&&(Jt.J=ar(tn,Jt,Zi,ir-Zi),Jt.F=tn.mb,Jt.F==null&&Jt.F.length==0)){Xr=An(tn,3,"Could not decode alpha data.");break t}Zi<Jt.j&&(mi=Jt.j-Zi,Zi=Jt.j,e(!(1&mi)),Jt.O+=tn.R*mi,Jt.N+=tn.B*(mi>>1),Jt.W+=tn.B*(mi>>1),Jt.F!=null&&(Jt.J+=Jt.width*mi)),Zi<ir&&(Jt.O+=Jt.v,Jt.N+=Jt.v>>1,Jt.W+=Jt.v>>1,Jt.F!=null&&(Jt.J+=Jt.v),Jt.ka=Zi-Jt.j,Jt.U=Jt.va-Jt.v,Jt.T=ir-Zi,Xr=Jt.put(Jt))}qn+1!=tn.Ic||Es||(n(tn.sa,tn.ta-Nn,fn,ya+16*tn.R,Nn),n(tn.qa,tn.ra-zi,Br,ti+8*tn.B,zi),n(tn.Ha,tn.Ia-zi,ds,Cs+8*tn.B,zi))}if(!Xr)return An(gi,6,"Output aborted.")}return 1})(be,qe)),qe.bc!=null&&qe.bc(qe),et&=1}return et?(be.cb=0,et):0})(S,J)||(F=S.a)}}else F=S.a}F==0&&de.Oa!=null&&de.Oa.fd&&(F=Lc(de.ba))}de=F}he=de!=0?null:11>he?we.f.RGBA.eb:we.f.kb.y}else he=null;return he};var If=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(I,P){for(var k="",G=0;G<4;G++)k+=String.fromCharCode(I[P++]);return k}function h(I,P){return I[P+0]|I[P+1]<<8}function g(I,P){return(I[P+0]|I[P+1]<<8|I[P+2]<<16)>>>0}function v(I,P){return(I[P+0]|I[P+1]<<8|I[P+2]<<16|I[P+3]<<24)>>>0}new l;var m=[0],x=[0],B=[],_=new l,b=i,M=(function(I,P){var k={},G=0,q=!1,H=0,ae=0;if(k.frames=[],!(function(Q,X){for(var Y=0;Y<4;Y++)if(Q[X+Y]!="RIFF".charCodeAt(Y))return!0;return!1})(I,P)){for(v(I,P+=4),P+=8;P<I.length;){var Z=c(I,P),ne=v(I,P+=4);P+=4;var oe=ne+(1&ne);switch(Z){case"VP8 ":case"VP8L":k.frames[G]===void 0&&(k.frames[G]={}),(W=k.frames[G]).src_off=q?ae:P-8,W.src_size=H+ne+8,G++,q&&(q=!1,H=0,ae=0);break;case"VP8X":(W=k.header={}).feature_flags=I[P];var fe=P+4;W.canvas_width=1+g(I,fe),fe+=3,W.canvas_height=1+g(I,fe),fe+=3;break;case"ALPH":q=!0,H=oe+8,ae=P-8;break;case"ANIM":(W=k.header).bgcolor=v(I,P),fe=P+4,W.loop_count=h(I,fe),fe+=2;break;case"ANMF":var me,W;(W=k.frames[G]={}).offset_x=2*g(I,P),P+=3,W.offset_y=2*g(I,P),P+=3,W.width=1+g(I,P),P+=3,W.height=1+g(I,P),P+=3,W.duration=g(I,P),P+=3,me=I[P++],W.dispose=1&me,W.blend=me>>1&1}Z!="ANMF"&&(P+=oe)}return k}})(b,0);M.response=b,M.rgbaoutput=!0,M.dataurl=!1;var T=M.header?M.header:null,U=M.frames?M.frames:null;if(T){T.loop_counter=T.loop_count,m=[T.canvas_height],x=[T.canvas_width];for(var R=0;R<U.length&&U[R].blend!=0;R++);}var O=U[0],z=_.WebPDecodeRGBA(b,O.src_off,O.src_size,x,m);O.rgba=z,O.imgwidth=x[0],O.imgheight=m[0];for(var V=0;V<x[0]*m[0]*4;V++)B[V]=z[V];return this.width=x,this.height=m,this.data=B,this}(function(i){var e,t,n,r,s,a,A,l,c,h=function(Q){return Q=Q||{},this.isStrokeTransparent=Q.isStrokeTransparent||!1,this.strokeOpacity=Q.strokeOpacity||1,this.strokeStyle=Q.strokeStyle||"#000000",this.fillStyle=Q.fillStyle||"#000000",this.isFillTransparent=Q.isFillTransparent||!1,this.fillOpacity=Q.fillOpacity||1,this.font=Q.font||"10px sans-serif",this.textBaseline=Q.textBaseline||"alphabetic",this.textAlign=Q.textAlign||"left",this.lineWidth=Q.lineWidth||1,this.lineJoin=Q.lineJoin||"miter",this.lineCap=Q.lineCap||"butt",this.path=Q.path||[],this.transform=Q.transform!==void 0?Q.transform.clone():new l,this.globalCompositeOperation=Q.globalCompositeOperation||"normal",this.globalAlpha=Q.globalAlpha||1,this.clip_path=Q.clip_path||[],this.currentPoint=Q.currentPoint||new a,this.miterLimit=Q.miterLimit||10,this.lastPoint=Q.lastPoint||new a,this.lineDashOffset=Q.lineDashOffset||0,this.lineDash=Q.lineDash||[],this.margin=Q.margin||[0,0,0,0],this.prevPageLastElemOffset=Q.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Q.ignoreClearRect!="boolean"||Q.ignoreClearRect,this};i.events.push(["initialized",function(){this.context2d=new g(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,A=this.internal.Rectangle,l=this.internal.Matrix,c=new h}]);var g=function(Q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var X=Q;Object.defineProperty(this,"pdf",{get:function(){return X}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(re){Y=!!re}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(re){ie=!!re}});var te=0;Object.defineProperty(this,"posX",{get:function(){return te},set:function(re){isNaN(re)||(te=re)}});var se=0;Object.defineProperty(this,"posY",{get:function(){return se},set:function(re){isNaN(re)||(se=re)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(re){var Le;typeof re=="number"?Le=[re,re,re,re]:((Le=new Array(4))[0]=re[0],Le[1]=re.length>=2?re[1]:Le[0],Le[2]=re.length>=3?re[2]:Le[0],Le[3]=re.length>=4?re[3]:Le[1]),c.margin=Le}});var ye=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ye},set:function(re){ye=re}});var xe=0;Object.defineProperty(this,"lastBreak",{get:function(){return xe},set:function(re){xe=re}});var Fe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Fe},set:function(re){Fe=re}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(re){re instanceof h&&(c=re)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(re){c.path=re}});var Ne=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ne},set:function(re){Ne=re}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(re){var Le;Le=v(re),this.ctx.fillStyle=Le.style,this.ctx.isFillTransparent=Le.a===0,this.ctx.fillOpacity=Le.a,this.pdf.setFillColor(Le.r,Le.g,Le.b,{a:Le.a}),this.pdf.setTextColor(Le.r,Le.g,Le.b,{a:Le.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(re){var Le=v(re);this.ctx.strokeStyle=Le.style,this.ctx.isStrokeTransparent=Le.a===0,this.ctx.strokeOpacity=Le.a,Le.a===0?this.pdf.setDrawColor(255,255,255):(Le.a,this.pdf.setDrawColor(Le.r,Le.g,Le.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(re){["butt","round","square"].indexOf(re)!==-1&&(this.ctx.lineCap=re,this.pdf.setLineCap(re))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(re){isNaN(re)||(this.ctx.lineWidth=re,this.pdf.setLineWidth(re))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(re){["bevel","round","miter"].indexOf(re)!==-1&&(this.ctx.lineJoin=re,this.pdf.setLineJoin(re))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(re){isNaN(re)||(this.ctx.miterLimit=re,this.pdf.setMiterLimit(re))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(re){this.ctx.textBaseline=re}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(re){["right","end","center","left","start"].indexOf(re)!==-1&&(this.ctx.textAlign=re)}});var ze=null,it=null,De=null;Object.defineProperty(this,"fontFaces",{get:function(){return De},set:function(re){ze=null,it=null,De=re}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(re){var Le;if(this.ctx.font=re,(Le=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(re))!==null){var rt=Le[1];Le[2];var ce=Le[3],He=Le[4];Le[5];var Xe=Le[6],Oe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(He)[2];He=Math.floor(Oe==="px"?parseFloat(He)*this.pdf.internal.scaleFactor:Oe==="em"?parseFloat(He)*this.pdf.getFontSize():parseFloat(He)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(He);var Ye=(function(wt){var zt,at,ut=[],ct=wt.trim();if(ct==="")return h2;if(ct in I4)return[I4[ct]];for(;ct!=="";){switch(at=null,zt=(ct=N4(ct)).charAt(0)){case'"':case"'":at=UZ(ct.substring(1),zt);break;default:at=TZ(ct)}if(at===null||(ut.push(at[0]),(ct=N4(at[1]))!==""&&ct.charAt(0)!==","))return h2;ct=ct.replace(/^,/,"")}return ut})(Xe);if(this.fontFaces){var Ae=(function(wt,zt){var at=wt.getFontList(),ut=JSON.stringify(at);if(ze===null||it!==ut){var ct=(function(Ee){var Ie=[];return Object.keys(Ee).forEach(function(Ut){Ee[Ut].forEach(function(Be){var Je=null;switch(Be){case"bold":Je={family:Ut,weight:"bold"};break;case"italic":Je={family:Ut,style:"italic"};break;case"bolditalic":Je={family:Ut,weight:"bold",style:"italic"};break;case"":case"normal":Je={family:Ut}}Je!==null&&(Je.ref={name:Ut,style:Be},Ie.push(Je))})}),Ie})(at);ze=(function(Ee){for(var Ie={},Ut=0;Ut<Ee.length;++Ut){var Be=f2(Ee[Ut]),Je=Be.family,mt=Be.stretch,Et=Be.style,tt=Be.weight;Ie[Je]=Ie[Je]||{},Ie[Je][mt]=Ie[Je][mt]||{},Ie[Je][mt][Et]=Ie[Je][mt][Et]||{},Ie[Je][mt][Et][tt]=Be}return Ie})(ct.concat(zt)),it=ut}return ze})(this.pdf,this.fontFaces),$=Ye.map(function(wt){return{family:wt,stretch:"normal",weight:ce,style:rt}}),Se=(function(wt,zt,at){for(var ut=(at=at||{}).defaultFontFamily||"times",ct=Object.assign({},MZ,at.genericFontFamilies||{}),Ee=null,Ie=null,Ut=0;Ut<zt.length;++Ut)if(ct[(Ee=f2(zt[Ut])).family]&&(Ee.family=ct[Ee.family]),wt.hasOwnProperty(Ee.family)){Ie=wt[Ee.family];break}if(!(Ie=Ie||wt[ut]))throw new Error("Could not find a font-family for the rule '"+R4(Ee)+"' and default family '"+ut+"'.");if(Ie=(function(Be,Je){if(Je[Be])return Je[Be];var mt=FC[Be],Et=mt<=FC.normal?-1:1,tt=L4(Je,HN,mt,Et);if(!tt)throw new Error("Could not find a matching font-stretch value for "+Be);return tt})(Ee.stretch,Ie),Ie=(function(Be,Je){if(Je[Be])return Je[Be];for(var mt=QN[Be],Et=0;Et<mt.length;++Et)if(Je[mt[Et]])return Je[mt[Et]];throw new Error("Could not find a matching font-style for "+Be)})(Ee.style,Ie),!(Ie=(function(Be,Je){if(Je[Be])return Je[Be];if(Be===400&&Je[500])return Je[500];if(Be===500&&Je[400])return Je[400];var mt=EZ[Be],Et=L4(Je,kN,mt,Be<400?-1:1);if(!Et)throw new Error("Could not find a matching font-weight for value "+Be);return Et})(Ee.weight,Ie)))throw new Error("Failed to resolve a font for the rule '"+R4(Ee)+"'.");return Ie})(Ae,$);this.pdf.setFont(Se.ref.name,Se.ref.style)}else{var Ge="";(ce==="bold"||parseInt(ce,10)>=700||rt==="bold")&&(Ge="bold"),rt==="italic"&&(Ge+="italic"),Ge.length===0&&(Ge="normal");for(var Ve="",Re={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},$e=0;$e<Ye.length;$e++){if(this.pdf.internal.getFont(Ye[$e],Ge,{noFallback:!0,disableWarning:!0})!==void 0){Ve=Ye[$e];break}if(Ge==="bolditalic"&&this.pdf.internal.getFont(Ye[$e],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ve=Ye[$e],Ge="bold";else if(this.pdf.internal.getFont(Ye[$e],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ve=Ye[$e],Ge="normal";break}}if(Ve===""){for(var At=0;At<Ye.length;At++)if(Re[Ye[At]]){Ve=Re[Ye[At]];break}}Ve=Ve===""?"Times":Ve,this.pdf.setFont(Ve,Ge)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(re){this.ctx.globalCompositeOperation=re}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(re){this.ctx.globalAlpha=re}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(re){this.ctx.lineDashOffset=re,W.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(re){this.ctx.lineDash=re,W.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(re){this.ctx.ignoreClearRect=!!re}})};g.prototype.setLineDash=function(Q){this.lineDash=Q},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){U.call(this,"fill",!1)},g.prototype.stroke=function(){U.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(Q,X){if(isNaN(Q)||isNaN(X))throw Zr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new a(Q,X));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new a(Q,X)},g.prototype.closePath=function(){var Q=new a(0,0),X=0;for(X=this.path.length-1;X!==-1;X--)if(this.path[X].type==="begin"&&Dr(this.path[X+1])==="object"&&typeof this.path[X+1].x=="number"){Q=new a(this.path[X+1].x,this.path[X+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(Q.x,Q.y)},g.prototype.lineTo=function(Q,X){if(isNaN(Q)||isNaN(X))throw Zr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new a(Q,X));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new a(Y.x,Y.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),U.call(this,null,!0)},g.prototype.quadraticCurveTo=function(Q,X,Y,ie){if(isNaN(Y)||isNaN(ie)||isNaN(Q)||isNaN(X))throw Zr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var te=this.ctx.transform.applyToPoint(new a(Y,ie)),se=this.ctx.transform.applyToPoint(new a(Q,X));this.path.push({type:"qct",x1:se.x,y1:se.y,x:te.x,y:te.y}),this.ctx.lastPoint=new a(te.x,te.y)},g.prototype.bezierCurveTo=function(Q,X,Y,ie,te,se){if(isNaN(te)||isNaN(se)||isNaN(Q)||isNaN(X)||isNaN(Y)||isNaN(ie))throw Zr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ye=this.ctx.transform.applyToPoint(new a(te,se)),xe=this.ctx.transform.applyToPoint(new a(Q,X)),Fe=this.ctx.transform.applyToPoint(new a(Y,ie));this.path.push({type:"bct",x1:xe.x,y1:xe.y,x2:Fe.x,y2:Fe.y,x:ye.x,y:ye.y}),this.ctx.lastPoint=new a(ye.x,ye.y)},g.prototype.arc=function(Q,X,Y,ie,te,se){if(isNaN(Q)||isNaN(X)||isNaN(Y)||isNaN(ie)||isNaN(te))throw Zr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(se=!!se,!this.ctx.transform.isIdentity){var ye=this.ctx.transform.applyToPoint(new a(Q,X));Q=ye.x,X=ye.y;var xe=this.ctx.transform.applyToPoint(new a(0,Y)),Fe=this.ctx.transform.applyToPoint(new a(0,0));Y=Math.sqrt(Math.pow(xe.x-Fe.x,2)+Math.pow(xe.y-Fe.y,2))}Math.abs(te-ie)>=2*Math.PI&&(ie=0,te=2*Math.PI),this.path.push({type:"arc",x:Q,y:X,radius:Y,startAngle:ie,endAngle:te,counterclockwise:se})},g.prototype.arcTo=function(Q,X,Y,ie,te){throw new Error("arcTo not implemented.")},g.prototype.rect=function(Q,X,Y,ie){if(isNaN(Q)||isNaN(X)||isNaN(Y)||isNaN(ie))throw Zr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Q,X),this.lineTo(Q+Y,X),this.lineTo(Q+Y,X+ie),this.lineTo(Q,X+ie),this.lineTo(Q,X),this.lineTo(Q+Y,X),this.lineTo(Q,X)},g.prototype.fillRect=function(Q,X,Y,ie){if(isNaN(Q)||isNaN(X)||isNaN(Y)||isNaN(ie))throw Zr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var te={};this.lineCap!=="butt"&&(te.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(te.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Q,X,Y,ie),this.fill(),te.hasOwnProperty("lineCap")&&(this.lineCap=te.lineCap),te.hasOwnProperty("lineJoin")&&(this.lineJoin=te.lineJoin)}},g.prototype.strokeRect=function(Q,X,Y,ie){if(isNaN(Q)||isNaN(X)||isNaN(Y)||isNaN(ie))throw Zr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(Q,X,Y,ie),this.stroke())},g.prototype.clearRect=function(Q,X,Y,ie){if(isNaN(Q)||isNaN(X)||isNaN(Y)||isNaN(ie))throw Zr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Q,X,Y,ie))},g.prototype.save=function(Q){Q=typeof Q!="boolean"||Q;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(X),Q){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},g.prototype.restore=function(Q){Q=typeof Q!="boolean"||Q;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(X),Q&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(Q){var X,Y,ie,te;if(Q.isCanvasGradient===!0&&(Q=Q.getColor()),!Q)return{r:0,g:0,b:0,a:0,style:Q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Q))X=0,Y=0,ie=0,te=0;else{var se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Q);if(se!==null)X=parseInt(se[1]),Y=parseInt(se[2]),ie=parseInt(se[3]),te=1;else if((se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Q))!==null)X=parseInt(se[1]),Y=parseInt(se[2]),ie=parseInt(se[3]),te=parseFloat(se[4]);else{if(te=1,typeof Q=="string"&&Q.charAt(0)!=="#"){var ye=new LN(Q);Q=ye.ok?ye.toHex():"#000000"}Q.length===4?(X=Q.substring(1,2),X+=X,Y=Q.substring(2,3),Y+=Y,ie=Q.substring(3,4),ie+=ie):(X=Q.substring(1,3),Y=Q.substring(3,5),ie=Q.substring(5,7)),X=parseInt(X,16),Y=parseInt(Y,16),ie=parseInt(ie,16)}}return{r:X,g:Y,b:ie,a:te,style:Q}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(Q,X,Y,ie){if(isNaN(X)||isNaN(Y)||typeof Q!="string")throw Zr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!m.call(this)){var te=oe(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;G.call(this,{text:Q,x:X,y:Y,scale:se,angle:te,align:this.textAlign,maxWidth:ie})}},g.prototype.strokeText=function(Q,X,Y,ie){if(isNaN(X)||isNaN(Y)||typeof Q!="string")throw Zr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){ie=isNaN(ie)?void 0:ie;var te=oe(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;G.call(this,{text:Q,x:X,y:Y,scale:se,renderingMode:"stroke",angle:te,align:this.textAlign,maxWidth:ie})}},g.prototype.measureText=function(Q){if(typeof Q!="string")throw Zr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var X=this.pdf,Y=this.pdf.internal.scaleFactor,ie=X.internal.getFontSize(),te=X.getStringUnitWidth(Q)*ie/X.internal.scaleFactor;return new function(se){var ye=(se=se||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ye}}),this}({width:te*=Math.round(96*Y/72*1e4)/1e4})},g.prototype.scale=function(Q,X){if(isNaN(Q)||isNaN(X))throw Zr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new l(Q,0,0,X,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},g.prototype.rotate=function(Q){if(isNaN(Q))throw Zr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var X=new l(Math.cos(Q),Math.sin(Q),-Math.sin(Q),Math.cos(Q),0,0);this.ctx.transform=this.ctx.transform.multiply(X)},g.prototype.translate=function(Q,X){if(isNaN(Q)||isNaN(X))throw Zr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new l(1,0,0,1,Q,X);this.ctx.transform=this.ctx.transform.multiply(Y)},g.prototype.transform=function(Q,X,Y,ie,te,se){if(isNaN(Q)||isNaN(X)||isNaN(Y)||isNaN(ie)||isNaN(te)||isNaN(se))throw Zr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ye=new l(Q,X,Y,ie,te,se);this.ctx.transform=this.ctx.transform.multiply(ye)},g.prototype.setTransform=function(Q,X,Y,ie,te,se){Q=isNaN(Q)?1:Q,X=isNaN(X)?0:X,Y=isNaN(Y)?0:Y,ie=isNaN(ie)?1:ie,te=isNaN(te)?0:te,se=isNaN(se)?0:se,this.ctx.transform=new l(Q,X,Y,ie,te,se)};var B=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(Q,X,Y,ie,te,se,ye,xe,Fe){var Ne=this.pdf.getImageProperties(Q),ze=1,it=1,De=1,re=1;ie!==void 0&&xe!==void 0&&(De=xe/ie,re=Fe/te,ze=Ne.width/ie*xe/ie,it=Ne.height/te*Fe/te),se===void 0&&(se=X,ye=Y,X=0,Y=0),ie!==void 0&&xe===void 0&&(xe=ie,Fe=te),ie===void 0&&xe===void 0&&(xe=Ne.width,Fe=Ne.height);var Le=this.ctx.transform.decompose(),rt=oe(Le.rotate.shx),ce=new l,He=(ce=(ce=(ce=ce.multiply(Le.translate)).multiply(Le.skew)).multiply(Le.scale)).applyToRectangle(new A(se-X*De,ye-Y*re,ie*ze,te*it));if(this.autoPaging){for(var Xe,Oe=_.call(this,He),Ye=[],Ae=0;Ae<Oe.length;Ae+=1)Ye.indexOf(Oe[Ae])===-1&&Ye.push(Oe[Ae]);T(Ye);for(var $=Ye[0],Se=Ye[Ye.length-1],Ge=$;Ge<Se+1;Ge++){this.pdf.setPage(Ge);var Ve=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Re=Ge===1?this.posY+this.margin[0]:this.margin[0],$e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],wt=Ge===1?0:$e+(Ge-2)*At;if(this.ctx.clip_path.length!==0){var zt=this.path;Xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(Xe,this.posX+this.margin[3],-wt+Re+this.ctx.prevPageLastElemOffset),R.call(this,"fill",!0),this.path=zt}var at=JSON.parse(JSON.stringify(He));at=M([at],this.posX+this.margin[3],-wt+Re+this.ctx.prevPageLastElemOffset)[0];var ut=(Ge>$||Ge<Se)&&B.call(this);ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ve,At,null).clip().discardPath()),this.pdf.addImage(Q,"JPEG",at.x,at.y,at.w,at.h,null,null,rt),ut&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(Q,"JPEG",He.x,He.y,He.w,He.h,null,null,rt)};var _=function(Q,X,Y){var ie=[];X=X||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var te=this.posY+this.ctx.prevPageLastElemOffset;switch(Q.type){default:case"mt":case"lt":ie.push(Math.floor((Q.y+te)/Y)+1);break;case"arc":ie.push(Math.floor((Q.y+te-Q.radius)/Y)+1),ie.push(Math.floor((Q.y+te+Q.radius)/Y)+1);break;case"qct":var se=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x,Q.y);ie.push(Math.floor((se.y+te)/Y)+1),ie.push(Math.floor((se.y+se.h+te)/Y)+1);break;case"bct":var ye=me(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x2,Q.y2,Q.x,Q.y);ie.push(Math.floor((ye.y+te)/Y)+1),ie.push(Math.floor((ye.y+ye.h+te)/Y)+1);break;case"rect":ie.push(Math.floor((Q.y+te)/Y)+1),ie.push(Math.floor((Q.y+Q.h+te)/Y)+1)}for(var xe=0;xe<ie.length;xe+=1)for(;this.pdf.internal.getNumberOfPages()<ie[xe];)b.call(this);return ie},b=function(){var Q=this.fillStyle,X=this.strokeStyle,Y=this.font,ie=this.lineCap,te=this.lineWidth,se=this.lineJoin;this.pdf.addPage(),this.fillStyle=Q,this.strokeStyle=X,this.font=Y,this.lineCap=ie,this.lineWidth=te,this.lineJoin=se},M=function(Q,X,Y){for(var ie=0;ie<Q.length;ie++)switch(Q[ie].type){case"bct":Q[ie].x2+=X,Q[ie].y2+=Y;case"qct":Q[ie].x1+=X,Q[ie].y1+=Y;default:Q[ie].x+=X,Q[ie].y+=Y}return Q},T=function(Q){return Q.sort(function(X,Y){return X-Y})},U=function(Q,X){var Y=this.fillStyle,ie=this.strokeStyle,te=this.lineCap,se=this.lineWidth,ye=Math.abs(se*this.ctx.transform.scaleX),xe=this.lineJoin;if(this.autoPaging){for(var Fe,Ne,ze=JSON.parse(JSON.stringify(this.path)),it=JSON.parse(JSON.stringify(this.path)),De=[],re=0;re<it.length;re++)if(it[re].x!==void 0)for(var Le=_.call(this,it[re]),rt=0;rt<Le.length;rt+=1)De.indexOf(Le[rt])===-1&&De.push(Le[rt]);for(var ce=0;ce<De.length;ce++)for(;this.pdf.internal.getNumberOfPages()<De[ce];)b.call(this);T(De);for(var He=De[0],Xe=De[De.length-1],Oe=He;Oe<Xe+1;Oe++){this.pdf.setPage(Oe),this.fillStyle=Y,this.strokeStyle=ie,this.lineCap=te,this.lineWidth=ye,this.lineJoin=xe;var Ye=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ae=Oe===1?this.posY+this.margin[0]:this.margin[0],$=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Se=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ge=Oe===1?0:$+(Oe-2)*Se;if(this.ctx.clip_path.length!==0){var Ve=this.path;Fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(Fe,this.posX+this.margin[3],-Ge+Ae+this.ctx.prevPageLastElemOffset),R.call(this,Q,!0),this.path=Ve}if(Ne=JSON.parse(JSON.stringify(ze)),this.path=M(Ne,this.posX+this.margin[3],-Ge+Ae+this.ctx.prevPageLastElemOffset),X===!1||Oe===0){var Re=(Oe>He||Oe<Xe)&&B.call(this);Re&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ye,Se,null).clip().discardPath()),R.call(this,Q,X),Re&&this.pdf.restoreGraphicsState()}this.lineWidth=se}this.path=ze}else this.lineWidth=ye,R.call(this,Q,X),this.lineWidth=se},R=function(Q,X){if((Q!=="stroke"||X||!x.call(this))&&(Q==="stroke"||X||!m.call(this))){for(var Y,ie,te=[],se=this.path,ye=0;ye<se.length;ye++){var xe=se[ye];switch(xe.type){case"begin":te.push({begin:!0});break;case"close":te.push({close:!0});break;case"mt":te.push({start:xe,deltas:[],abs:[]});break;case"lt":var Fe=te.length;if(se[ye-1]&&!isNaN(se[ye-1].x)&&(Y=[xe.x-se[ye-1].x,xe.y-se[ye-1].y],Fe>0)){for(;Fe>=0;Fe--)if(te[Fe-1].close!==!0&&te[Fe-1].begin!==!0){te[Fe-1].deltas.push(Y),te[Fe-1].abs.push(xe);break}}break;case"bct":Y=[xe.x1-se[ye-1].x,xe.y1-se[ye-1].y,xe.x2-se[ye-1].x,xe.y2-se[ye-1].y,xe.x-se[ye-1].x,xe.y-se[ye-1].y],te[te.length-1].deltas.push(Y);break;case"qct":var Ne=se[ye-1].x+2/3*(xe.x1-se[ye-1].x),ze=se[ye-1].y+2/3*(xe.y1-se[ye-1].y),it=xe.x+2/3*(xe.x1-xe.x),De=xe.y+2/3*(xe.y1-xe.y),re=xe.x,Le=xe.y;Y=[Ne-se[ye-1].x,ze-se[ye-1].y,it-se[ye-1].x,De-se[ye-1].y,re-se[ye-1].x,Le-se[ye-1].y],te[te.length-1].deltas.push(Y);break;case"arc":te.push({deltas:[],abs:[],arc:!0}),Array.isArray(te[te.length-1].abs)&&te[te.length-1].abs.push(xe)}}ie=X?null:Q==="stroke"?"stroke":"fill";for(var rt=!1,ce=0;ce<te.length;ce++)if(te[ce].arc)for(var He=te[ce].abs,Xe=0;Xe<He.length;Xe++){var Oe=He[Xe];Oe.type==="arc"?V.call(this,Oe.x,Oe.y,Oe.radius,Oe.startAngle,Oe.endAngle,Oe.counterclockwise,void 0,X,!rt):q.call(this,Oe.x,Oe.y),rt=!0}else if(te[ce].close===!0)this.pdf.internal.out("h"),rt=!1;else if(te[ce].begin!==!0){var Ye=te[ce].start.x,Ae=te[ce].start.y;H.call(this,te[ce].deltas,Ye,Ae),rt=!0}ie&&I.call(this,ie),X&&P.call(this)}},O=function(Q){var X=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=X*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Q-Y;case"top":return Q+X-Y;case"hanging":return Q+X-2*Y;case"middle":return Q+X/2-Y;default:return Q}},z=function(Q){return Q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var Q=function(){};return Q.colorStops=[],Q.addColorStop=function(X,Y){this.colorStops.push([X,Y])},Q.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Q.isCanvasGradient=!0,Q},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var V=function(Q,X,Y,ie,te,se,ye,xe,Fe){for(var Ne=Z.call(this,Y,ie,te,se),ze=0;ze<Ne.length;ze++){var it=Ne[ze];ze===0&&(Fe?k.call(this,it.x1+Q,it.y1+X):q.call(this,it.x1+Q,it.y1+X)),ae.call(this,Q,X,it.x2,it.y2,it.x3,it.y3,it.x4,it.y4)}xe?P.call(this):I.call(this,ye)},I=function(Q){switch(Q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},P=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(Q,X){this.pdf.internal.out(t(Q)+" "+n(X)+" m")},G=function(Q){var X;switch(Q.align){case"right":case"end":X="right";break;case"center":X="center";break;default:X="left"}var Y,ie,te,se=this.pdf.getTextDimensions(Q.text),ye=O.call(this,Q.y),xe=z.call(this,ye)-se.h,Fe=this.ctx.transform.applyToPoint(new a(Q.x,ye));if(this.autoPaging){var Ne=this.ctx.transform.decompose(),ze=new l;ze=(ze=(ze=ze.multiply(Ne.translate)).multiply(Ne.skew)).multiply(Ne.scale);for(var it=this.ctx.transform.applyToRectangle(new A(Q.x,ye,se.w,se.h)),De=ze.applyToRectangle(new A(Q.x,xe,se.w,se.h)),re=_.call(this,De),Le=[],rt=0;rt<re.length;rt+=1)Le.indexOf(re[rt])===-1&&Le.push(re[rt]);T(Le);for(var ce=Le[0],He=Le[Le.length-1],Xe=ce;Xe<He+1;Xe++){this.pdf.setPage(Xe);var Oe=Xe===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ae=this.pdf.internal.pageSize.height-this.margin[2],$=Ae-this.margin[0],Se=this.pdf.internal.pageSize.width-this.margin[1],Ge=Se-this.margin[3],Ve=Xe===1?0:Ye+(Xe-2)*$;if(this.ctx.clip_path.length!==0){var Re=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(Y,this.posX+this.margin[3],-1*Ve+Oe),R.call(this,"fill",!0),this.path=Re}var $e=M([JSON.parse(JSON.stringify(De))],this.posX+this.margin[3],-Ve+Oe+this.ctx.prevPageLastElemOffset)[0];Q.scale>=.01&&(ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ie*Q.scale),te=this.lineWidth,this.lineWidth=te*Q.scale);var At=this.autoPaging!=="text";if(At||$e.y+$e.h<=Ae){if(At||$e.y>=Oe&&$e.x<=Se){var wt=At?Q.text:this.pdf.splitTextToSize(Q.text,Q.maxWidth||Se-$e.x)[0],zt=M([JSON.parse(JSON.stringify(it))],this.posX+this.margin[3],-Ve+Oe+this.ctx.prevPageLastElemOffset)[0],at=At&&(Xe>ce||Xe<He)&&B.call(this);at&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ge,$,null).clip().discardPath()),this.pdf.text(wt,zt.x,zt.y,{angle:Q.angle,align:X,renderingMode:Q.renderingMode}),at&&this.pdf.restoreGraphicsState()}}else $e.y<Ae&&(this.ctx.prevPageLastElemOffset+=Ae-$e.y);Q.scale>=.01&&(this.pdf.setFontSize(ie),this.lineWidth=te)}}else Q.scale>=.01&&(ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ie*Q.scale),te=this.lineWidth,this.lineWidth=te*Q.scale),this.pdf.text(Q.text,Fe.x+this.posX,Fe.y+this.posY,{angle:Q.angle,align:X,renderingMode:Q.renderingMode,maxWidth:Q.maxWidth}),Q.scale>=.01&&(this.pdf.setFontSize(ie),this.lineWidth=te)},q=function(Q,X,Y,ie){Y=Y||0,ie=ie||0,this.pdf.internal.out(t(Q+Y)+" "+n(X+ie)+" l")},H=function(Q,X,Y){return this.pdf.lines(Q,X,Y,null,null)},ae=function(Q,X,Y,ie,te,se,ye,xe){this.pdf.internal.out([e(r(Y+Q)),e(s(ie+X)),e(r(te+Q)),e(s(se+X)),e(r(ye+Q)),e(s(xe+X)),"c"].join(" "))},Z=function(Q,X,Y,ie){for(var te=2*Math.PI,se=Math.PI/2;X>Y;)X-=te;var ye=Math.abs(Y-X);ye<te&&ie&&(ye=te-ye);for(var xe=[],Fe=ie?-1:1,Ne=X;ye>1e-5;){var ze=Ne+Fe*Math.min(ye,se);xe.push(ne.call(this,Q,Ne,ze)),ye-=Math.abs(ze-Ne),Ne=ze}return xe},ne=function(Q,X,Y){var ie=(Y-X)/2,te=Q*Math.cos(ie),se=Q*Math.sin(ie),ye=te,xe=-se,Fe=ye*ye+xe*xe,Ne=Fe+ye*te+xe*se,ze=4/3*(Math.sqrt(2*Fe*Ne)-Ne)/(ye*se-xe*te),it=ye-ze*xe,De=xe+ze*ye,re=it,Le=-De,rt=ie+X,ce=Math.cos(rt),He=Math.sin(rt);return{x1:Q*Math.cos(X),y1:Q*Math.sin(X),x2:it*ce-De*He,y2:it*He+De*ce,x3:re*ce-Le*He,y3:re*He+Le*ce,x4:Q*Math.cos(Y),y4:Q*Math.sin(Y)}},oe=function(Q){return 180*Q/Math.PI},fe=function(Q,X,Y,ie,te,se){var ye=Q+.5*(Y-Q),xe=X+.5*(ie-X),Fe=te+.5*(Y-te),Ne=se+.5*(ie-se),ze=Math.min(Q,te,ye,Fe),it=Math.max(Q,te,ye,Fe),De=Math.min(X,se,xe,Ne),re=Math.max(X,se,xe,Ne);return new A(ze,De,it-ze,re-De)},me=function(Q,X,Y,ie,te,se,ye,xe){var Fe,Ne,ze,it,De,re,Le,rt,ce,He,Xe,Oe,Ye,Ae,$=Y-Q,Se=ie-X,Ge=te-Y,Ve=se-ie,Re=ye-te,$e=xe-se;for(Ne=0;Ne<41;Ne++)ce=(Le=(ze=Q+(Fe=Ne/40)*$)+Fe*((De=Y+Fe*Ge)-ze))+Fe*(De+Fe*(te+Fe*Re-De)-Le),He=(rt=(it=X+Fe*Se)+Fe*((re=ie+Fe*Ve)-it))+Fe*(re+Fe*(se+Fe*$e-re)-rt),Ne==0?(Xe=ce,Oe=He,Ye=ce,Ae=He):(Xe=Math.min(Xe,ce),Oe=Math.min(Oe,He),Ye=Math.max(Ye,ce),Ae=Math.max(Ae,He));return new A(Math.round(Xe),Math.round(Oe),Math.round(Ye-Xe),Math.round(Ae-Oe))},W=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Q,X,Y=(Q=this.ctx.lineDash,X=this.ctx.lineDashOffset,JSON.stringify({lineDash:Q,lineDashOffset:X}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(Tn.API),(function(i){var e=function(a){var A,l,c,h,g,v,m,x,B,_;for(l=[],c=0,h=(a+=A="\0\0\0\0".slice(a.length%4||4)).length;h>c;c+=4)(g=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(v=(g=((g=((g=((g=(g-(_=g%85))/85)-(B=g%85))/85)-(x=g%85))/85)-(m=g%85))/85)%85,l.push(v+33,m+33,x+33,B+33,_+33)):l.push(122);return(function(b,M){for(var T=M;T>0;T--)b.pop()})(l,A.length),String.fromCharCode.apply(String,l)+"~>"},t=function(a){var A,l,c,h,g,v=String,m="length",x=255,B="charCodeAt",_="slice",b="replace";for(a[_](-2),a=a[_](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),c=[],h=0,g=(a+=A="uuuuu"[_](a[m]%5||5))[m];g>h;h+=5)l=52200625*(a[B](h)-33)+614125*(a[B](h+1)-33)+7225*(a[B](h+2)-33)+85*(a[B](h+3)-33)+(a[B](h+4)-33),c.push(x&l>>24,x&l>>16,x&l>>8,x&l);return(function(M,T){for(var U=T;U>0;U--)M.pop()})(c,A[m]),v.fromCharCode.apply(v,c)},n=function(a){return a.split("").map(function(A){return("0"+A.charCodeAt().toString(16)).slice(-2)}).join("")+">"},r=function(a){var A=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),A.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},s=function(a){for(var A=new Uint8Array(a.length),l=a.length;l--;)A[l]=a.charCodeAt(l);return(A=BC(A)).reduce(function(c,h){return c+String.fromCharCode(h)},"")};i.processDataByFilters=function(a,A){var l=0,c=a||"",h=[];for(typeof(A=A||[])=="string"&&(A=[A]),l=0;l<A.length;l+=1)switch(A[l]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+A[l]+'" is not implemented')}return{data:c,reverseChain:h.reverse().join(" ")}}})(Tn.API),(function(i){i.loadFile=function(e,t,n){return(function(r,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var A=void 0;try{A=(function(l,c,h){var g=new XMLHttpRequest,v=0,m=function(x){var B=x.length,_=[],b=String.fromCharCode;for(v=0;v<B;v+=1)_.push(b(255&x.charCodeAt(v)));return _.join("")};if(g.open("GET",l,!c),g.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(g.onload=function(){g.status===200?h(m(this.responseText)):h(void 0)}),g.send(null),c&&g.status===200)return m(g.responseText)})(r,s,a)}catch{}return A})(e,t,n)},i.allowFsRead=void 0,i.loadImageFile=i.loadFile})(Tn.API),(function(i){function e(){return(Jn.html2canvas?Promise.resolve(Jn.html2canvas):BS(()=>Promise.resolve().then(()=>oY),void 0,import.meta.url)).catch(function(A){return Promise.reject(new Error("Could not load html2canvas: "+A))}).then(function(A){return A.default?A.default:A})}function t(){return(Jn.DOMPurify?Promise.resolve(Jn.DOMPurify):BS(()=>import("./purify.es-Bzr520pe.js"),[],import.meta.url)).catch(function(A){return Promise.reject(new Error("Could not load dompurify: "+A))}).then(function(A){return A.default?A.default:A})}var n=function(A){var l=Dr(A);return l==="undefined"?"undefined":l==="string"||A instanceof String?"string":l==="number"||A instanceof Number?"number":l==="function"||A instanceof Function?"function":A&&A.constructor===Array?"array":A&&A.nodeType===1?"element":l==="object"?"object":"unknown"},r=function(A,l){var c=document.createElement(A);for(var h in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[h]=l.style[h];return c},s=function A(l,c){for(var h=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),g=l.firstChild;g;g=g.nextSibling)c!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||h.appendChild(A(g,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(h.width=l.width,h.height=l.height,h.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(h.value=l.value),h.addEventListener("load",function(){h.scrollTop=l.scrollTop,h.scrollLeft=l.scrollLeft},!0)),h},a=function A(l){var c=Object.assign(A.convert(Promise.resolve()),JSON.parse(JSON.stringify(A.template))),h=A.convert(Promise.resolve(),c);return(h=h.setProgress(1,A,1,[A])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(A,l){return A.__proto__=l||a.prototype,A},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(A,l){return this.then(function(){switch(l=l||(function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(A),l){case"string":return this.then(t).then(function(c){return this.set({src:r("div",{innerHTML:A,dompurify:c})})});case"element":return this.set({src:A});case"canvas":return this.set({canvas:A});case"img":return this.set({img:A});default:return this.error("Unknown source type.")}})},a.prototype.to=function(A){switch(A){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var A={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(A.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:A}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var A=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(A).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var A=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(A).then(e).then(function(l){var c=this.opt.jsPDF,h=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=h,h)for(var m=0;m<h.length;++m){var x=h[m],B=x.src.find(function(_){return _.format==="truetype"});B&&c.addFont(B.url,x.ref.name,x.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,c.context2d.save(!0),l(this.prop.container,v)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var A=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=A})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(A,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(A,l):this.outputPdf(A,l)},a.prototype.outputPdf=function(A,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(A,l)})},a.prototype.outputImg=function(A){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(A){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+A+'" is not supported.'}})},a.prototype.save=function(A){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(A?{filename:A}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(A){if(n(A)!=="object")return this;var l=Object.keys(A||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=A[c]};switch(c){case"margin":return this.setMargin.bind(this,A.margin);case"jsPDF":return function(){return this.opt.jsPDF=A.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,A.pageSize);default:return function(){this.opt[c]=A[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(A,l){return this.then(function(){var c=A in a.template.prop?this.prop[A]:this.opt[A];return l?l(c):c})},a.prototype.setMargin=function(A){return this.then(function(){switch(n(A)){case"number":A=[A,A,A,A];case"array":if(A.length===2&&(A=[A[0],A[1],A[0],A[1]]),A.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=A}).then(this.setPageSize)},a.prototype.setPageSize=function(A){function l(c,h){return Math.floor(c*h/72*96)}return this.then(function(){(A=A||Tn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(A.inner={width:A.width-this.opt.margin[1]-this.opt.margin[3],height:A.height-this.opt.margin[0]-this.opt.margin[2]},A.inner.px={width:l(A.inner.width,A.k),height:l(A.inner.height,A.k)},A.inner.ratio=A.inner.height/A.inner.width),this.prop.pageSize=A})},a.prototype.setProgress=function(A,l,c,h){return A!=null&&(this.progress.val=A),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(A,l,c,h){return this.setProgress(A?this.progress.val+A:null,l||null,c?this.progress.n+c:null,h?this.progress.stack.concat(h):null)},a.prototype.then=function(A,l){var c=this;return this.thenCore(A,l,function(h,g){return c.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(v){return c.updateProgress(null,h),v}).then(h,g).then(function(v){return c.updateProgress(1),v})})},a.prototype.thenCore=function(A,l,c){c=c||Promise.prototype.then;var h=this;A&&(A=A.bind(h)),l&&(l=l.bind(h));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:a.convert(Object.assign({},h),Promise.prototype),v=c.call(g,A,l);return a.convert(v,h.__proto__)},a.prototype.thenExternal=function(A,l){return Promise.prototype.then.call(this,A,l)},a.prototype.thenList=function(A){var l=this;return A.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(A){A&&(A=A.bind(this));var l=Promise.prototype.catch.call(this,A);return a.convert(l,this)},a.prototype.catchExternal=function(A){return Promise.prototype.catch.call(this,A)},a.prototype.error=function(A){return this.then(function(){throw new Error(A)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Tn.getPageSize=function(A,l,c){if(Dr(A)==="object"){var h=A;A=h.orientation,l=h.unit||l,c=h.format||c}l=l||"mm",c=c||"a4",A=(""+(A||"P")).toLowerCase();var g,v=(""+c).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+l}var x,B=0,_=0;if(m.hasOwnProperty(v))B=m[v][1]/g,_=m[v][0]/g;else try{B=c[1],_=c[0]}catch{throw new Error("Invalid format: "+c)}if(A==="p"||A==="portrait")A="p",_>B&&(x=_,_=B,B=x);else{if(A!=="l"&&A!=="landscape")throw"Invalid orientation: "+A;A="l",B>_&&(x=_,_=B,B=x)}return{width:_,height:B,unit:l,k:g,orientation:A}},i.html=function(A,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(f2):null;var c=new a(l);return l.worker?c:c.from(A).doCallback()}})(Tn.API),Tn.API.addJS=function(i){return O4=i,this.internal.events.subscribe("postPutResources",function(){qw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(qw+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),D4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+O4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){qw!==void 0&&D4!==void 0&&this.internal.out("/Names <</JavaScript "+qw+" 0 R>>")}),this},(function(i){var e;i.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=t.outline.render().split(/\r\n/),s=0;s<r.length;s++){var a=r[s],A=n.exec(a);if(A!=null){var l=A[1];t.internal.newObjectDeferredBegin(l,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,h=[];for(s=0;s<c;s++){var g=t.internal.newObject();h.push(g);var v=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var m=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<h.length;s++)t.internal.write("(page_"+(s+1)+")"+h[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+m+" 0 R"),t.internal.write(">>","endobj")}}]),i.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),i.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,r,s){var a={title:r,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var r=0;r<n.children.length;r++)this.genIds_r(n.children[r])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var A=this.count=this.count_r({count:0},a);if(A>0&&this.line("/Count "+A),a.options&&a.options.pageNumber){var l=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,r){for(var s=0;s<r.children.length;s++)n.count++,this.count_r(n,r.children[s]);return n.count}}])})(Tn.API),(function(i){var e=[192,193,194,195,196,197,198,199];i.processJPEG=function(t,n,r,s,a,A){var l,c=this.decode.DCT_DECODE,h=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,l=(function(g){for(var v,m=256*g.charCodeAt(4)+g.charCodeAt(5),x=g.length,B={width:0,height:0,numcomponents:1},_=4;_<x;_+=2){if(_+=m,e.indexOf(g.charCodeAt(_+1))!==-1){v=256*g.charCodeAt(_+5)+g.charCodeAt(_+6),B={width:256*g.charCodeAt(_+7)+g.charCodeAt(_+8),height:v,numcomponents:g.charCodeAt(_+9)};break}m=256*g.charCodeAt(_+2)+g.charCodeAt(_+3)}return B})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),l.numcomponents){case 1:A=this.color_spaces.DEVICE_GRAY;break;case 4:A=this.color_spaces.DEVICE_CMYK;break;case 3:A=this.color_spaces.DEVICE_RGB}h={data:t,width:l.width,height:l.height,colorSpace:A,bitsPerComponent:8,filter:c,index:n,alias:r}}return h}})(Tn.API),Tn.API.processPNG=function(i,e,t,n){if(this.__addimage__.isArrayBuffer(i)&&(i=new Uint8Array(i)),this.__addimage__.isArrayBufferView(i)){var r,s=hZ(i,{checkCrc:!0}),a=s.width,A=s.height,l=s.channels,c=s.palette,h=s.depth;r=c&&l===1?(function(V){for(var I=V.width,P=V.height,k=V.data,G=V.palette,q=V.depth,H=!1,ae=[],Z=[],ne=void 0,oe=!1,fe=0,me=0;me<G.length;me++){var W=kT(G[me],4),Q=W[0],X=W[1],Y=W[2],ie=W[3];ae.push(Q,X,Y),ie!=null&&(ie===0?(fe++,Z.length<1&&Z.push(me)):ie<255&&(oe=!0))}if(oe||fe>1){H=!0,Z=void 0;var te=I*P;ne=new Uint8Array(te);for(var se=new DataView(k.buffer),ye=0;ye<te;ye++){var xe=d2(se,ye,q),Fe=kT(G[xe],4)[3];ne[ye]=Fe}}else fe===0&&(Z=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:H?8:void 0,colorBytes:k,alphaBytes:ne,needSMask:H,palette:ae,mask:Z}})(s):l===2||l===4?(function(V){for(var I=V.data,P=V.width,k=V.height,G=V.channels,q=V.depth,H=G===2?"DeviceGray":"DeviceRGB",ae=G-1,Z=P*k,ne=ae,oe=Z*ne,fe=1*Z,me=Math.ceil(oe*q/8),W=Math.ceil(fe*q/8),Q=new Uint8Array(me),X=new Uint8Array(W),Y=new DataView(I.buffer),ie=new DataView(Q.buffer),te=new DataView(X.buffer),se=!1,ye=0;ye<Z;ye++){for(var xe=ye*G,Fe=0;Fe<ne;Fe++)K4(ie,d2(Y,xe+Fe,q),ye*ne+Fe,q);var Ne=d2(Y,xe+ne,q);Ne<(1<<q)-1&&(se=!0),K4(te,Ne,1*ye,q)}return{colorSpace:H,colorsPerPixel:ae,sMaskBitsPerComponent:se?q:void 0,colorBytes:Q,alphaBytes:X,needSMask:se}})(s):(function(V){var I=V.data,P=V.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:P,colorsPerPixel:P==="DeviceGray"?1:3,colorBytes:I instanceof Uint16Array?(function(k){for(var G=k.length,q=new Uint8Array(2*G),H=new DataView(q.buffer,q.byteOffset,q.byteLength),ae=0;ae<G;ae++)H.setUint16(2*ae,k[ae],!1);return q})(I):I,needSMask:!1}})(s);var g,v,m,x=r,B=x.colorSpace,_=x.colorsPerPixel,b=x.sMaskBitsPerComponent,M=x.colorBytes,T=x.alphaBytes,U=x.needSMask,R=x.palette,O=x.mask,z=null;return n!==Tn.API.image_compression.NONE&&typeof BC=="function"?(z=(function(V){var I;switch(V){case Tn.API.image_compression.FAST:I=11;break;case Tn.API.image_compression.MEDIUM:I=13;break;case Tn.API.image_compression.SLOW:I=14;break;default:I=12}return I})(n),g=this.decode.FLATE_DECODE,v="/Predictor ".concat(z," /Colors ").concat(_," /BitsPerComponent ").concat(h," /Columns ").concat(a),i=k4(M,Math.ceil(a*_*h/8),_,h,n),U&&(m=k4(T,Math.ceil(a*b/8),1,b,n))):(g=void 0,v=void 0,i=M,U&&(m=T)),(this.__addimage__.isArrayBuffer(i)||this.__addimage__.isArrayBufferView(i))&&(i=this.__addimage__.arrayBufferToBinaryString(i)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:t,data:i,index:e,filter:g,decodeParameters:v,transparency:O,palette:R,sMask:m,predictor:z,width:a,height:A,bitsPerComponent:h,sMaskBitsPerComponent:b,colorSpace:B}}},(function(i){i.processGIF89A=function(e,t,n,r){var s=new RZ(e),a=s.width,A=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:A},h=new p2(100).encode(c,100);return i.processJPEG.call(this,h,t,n,r)},i.processGIF87A=i.processGIF89A})(Tn.API),dc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var i=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(i);for(var e=0;e<i;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:r,green:n,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},dc.prototype.parseBGR=function(){this.pos=this.offset;try{var i="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[i]()}catch(t){Zr.log("bit decode error:"+t)}},dc.prototype.bit1=function(){var i,e=Math.ceil(this.width/8),t=e%4;for(i=this.height-1;i>=0;i--){for(var n=this.bottom_up?i:this.height-1-i,r=0;r<e;r++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*r*4,A=0;A<8&&8*r+A<this.width;A++){var l=this.palette[s>>7-A&1];this.data[a+4*A]=l.blue,this.data[a+4*A+1]=l.green,this.data[a+4*A+2]=l.red,this.data[a+4*A+3]=255}t!==0&&(this.pos+=4-t)}},dc.prototype.bit4=function(){for(var i=Math.ceil(this.width/2),e=i%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<i;r++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*r*4,A=s>>4,l=15&s,c=this.palette[A];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*r+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},dc.prototype.bit8=function(){for(var i=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;if(r<this.palette.length){var a=this.palette[r];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}i!==0&&(this.pos+=4-i)}},dc.prototype.bit15=function(){for(var i=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,A=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,h=n*this.width*4+4*r;this.data[h]=l,this.data[h+1]=A,this.data[h+2]=a,this.data[h+3]=c}this.pos+=i}},dc.prototype.bit16=function(){for(var i=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var A=(a&e)/e*255|0,l=(a>>5&t)/t*255|0,c=(a>>11)/e*255|0,h=r*this.width*4+4*s;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=A,this.data[h+3]=255}this.pos+=i}},dc.prototype.bit24=function(){for(var i=this.height-1;i>=0;i--){for(var e=this.bottom_up?i:this.height-1-i,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=r,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},dc.prototype.bit32=function(){for(var i=this.height-1;i>=0;i--)for(var e=this.bottom_up?i:this.height-1-i,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),A=e*this.width*4+4*t;this.data[A]=s,this.data[A+1]=r,this.data[A+2]=n,this.data[A+3]=a}},dc.prototype.getData=function(){return this.data},(function(i){i.processBMP=function(e,t,n,r){var s=new dc(e,!1),a=s.width,A=s.height,l={data:s.getData(),width:a,height:A},c=new p2(100).encode(l,100);return i.processJPEG.call(this,c,t,n,r)}})(Tn.API),q4.prototype.getData=function(){return this.data},(function(i){i.processWEBP=function(e,t,n,r){var s=new q4(e),a=s.width,A=s.height,l={data:s.getData(),width:a,height:A},c=new p2(100).encode(l,100);return i.processJPEG.call(this,c,t,n,r)}})(Tn.API),Tn.API.processRGBA=function(i,e,t){for(var n=i.data,r=n.length,s=new Uint8Array(r/4*3),a=new Uint8Array(r/4),A=0,l=0,c=0;c<r;c+=4){var h=n[c],g=n[c+1],v=n[c+2],m=n[c+3];s[A++]=h,s[A++]=g,s[A++]=v,a[l++]=m}var x=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:x,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:i.width,height:i.height}},Tn.API.setLanguage=function(i){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[i]!==void 0&&(this.internal.languageSettings.languageCode=i,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Am=Tn.API,Xw=Am.getCharWidthsArray=function(i,e){var t,n,r=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),A=e.widths?e.widths:r.metadata.Unicode.widths,l=A.fof?A.fof:1,c=e.kerning?e.kerning:r.metadata.Unicode.kerning,h=c.fof?c.fof:1,g=e.doKerning!==!1,v=0,m=i.length,x=0,B=A[0]||l,_=[];for(t=0;t<m;t++)n=i.charCodeAt(t),typeof r.metadata.widthOfString=="function"?_.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(v=g&&Dr(c[n])==="object"&&!isNaN(parseInt(c[n][x],10))?c[n][x]/h:0,_.push((A[n]||B)/l+v)),x=n;return _},P4=Am.getStringUnitWidth=function(i,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),r=e.charSpace||this.internal.getCharSpace();return Am.processArabic&&(i=Am.processArabic(i)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(i,t,r)/t:Xw.apply(this,arguments).reduce(function(s,a){return s+a},0)},Q4=function(i,e,t,n){for(var r=[],s=0,a=i.length,A=0;s!==a&&A+e[s]<t;)A+=e[s],s++;r.push(i.slice(0,s));var l=s;for(A=0;s!==a;)A+e[s]>n&&(r.push(i.slice(l,s)),A=0,l=s),A+=e[s],s++;return l!==s&&r.push(i.slice(l,s)),r},H4=function(i,e,t){t||(t={});var n,r,s,a,A,l,c,h=[],g=[h],v=t.textIndent||0,m=0,x=0,B=i.split(" "),_=Xw.apply(this,[" ",t])[0];if(l=t.lineIndent===-1?B[0].length+2:t.lineIndent||0){var b=Array(l).join(" "),M=[];B.map(function(U){(U=U.split(/\s*\n/)).length>1?M=M.concat(U.map(function(R,O){return(O&&R.length?`
`:"")+R})):M.push(U[0])}),B=M,l=P4.apply(this,[b,t])}for(s=0,a=B.length;s<a;s++){var T=0;if(n=B[s],l&&n[0]==`
`&&(n=n.substr(1),T=1),v+m+(x=(r=Xw.apply(this,[n,t])).reduce(function(U,R){return U+R},0))>e||T){if(x>e){for(A=Q4.apply(this,[n,r,e-(v+m),e]),h.push(A.shift()),h=[A.pop()];A.length;)g.push([A.shift()]);x=r.slice(n.length-(h[0]?h[0].length:0)).reduce(function(U,R){return U+R},0)}else h=[n];g.push(h),v=x+l,m=_}else h.push(n),v+=m+x,m=_}return c=l?function(U,R){return(R?b:"")+U.join(" ")}:function(U){return U.join(" ")},g.map(c)},Am.splitTextToSize=function(i,e,t){var n,r=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var g=this.internal.getFont(h.fontName,h.fontStyle),v="Unicode";return g.metadata[v]?{widths:g.metadata[v].widths||{0:1},kerning:g.metadata[v].kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(i)?i:String(i).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/r;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=t.lineIndent;var A,l,c=[];for(A=0,l=n.length;A<l;A++)c=c.concat(H4.apply(this,[n[A],a,s]));return c},(function(i){i.__fontmetrics__=i.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",n={},r={},s=0;s<16;s++)n[t[s]]=e[s],r[e[s]]=t[s];var a=function(v){return"0x"+parseInt(v,10).toString(16)},A=i.__fontmetrics__.compress=function(v){var m,x,B,_,b=["{"];for(var M in v){if(m=v[M],isNaN(parseInt(M,10))?x="'"+M+"'":(M=parseInt(M,10),x=(x=a(M).slice(2)).slice(0,-1)+r[x.slice(-1)]),typeof m=="number")m<0?(B=a(m).slice(3),_="-"):(B=a(m).slice(2),_=""),B=_+B.slice(0,-1)+r[B.slice(-1)];else{if(Dr(m)!=="object")throw new Error("Don't know what to do with value type "+Dr(m)+".");B=A(m)}b.push(x+B)}return b.push("}"),b.join("")},l=i.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,x,B,_,b={},M=1,T=b,U=[],R="",O="",z=v.length-1,V=1;V<z;V+=1)(_=v[V])=="'"?m?(B=m.join(""),m=void 0):m=[]:m?m.push(_):_=="{"?(U.push([T,B]),T={},B=void 0):_=="}"?((x=U.pop())[0][x[1]]=T,B=void 0,T=x[0]):_=="-"?M=-1:B===void 0?n.hasOwnProperty(_)?(R+=n[_],B=parseInt(R,16)*M,M=1,R=""):R+=_:n.hasOwnProperty(_)?(O+=n[_],T[B]=parseInt(O,16)*M,M=1,B=void 0,O=""):O+=_;return b},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},g={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};i.events.push(["addFont",function(v){var m=v.font,x=g.Unicode[m.postScriptName];x&&(m.metadata.Unicode={},m.metadata.Unicode.widths=x.widths,m.metadata.Unicode.kerning=x.kerning);var B=h.Unicode[m.postScriptName];B&&(m.metadata.Unicode.encoding=B,m.encoding=B.codePages[0])}])})(Tn.API),(function(i){var e=function(t){for(var n=t.length,r=new Uint8Array(n),s=0;s<n;s++)r[s]=t.charCodeAt(s);return r};i.API.events.push(["addFont",function(t){var n=void 0,r=t.font,s=t.instance;if(!r.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(n=s.existsFileInVFS(r.postScriptName)===!1?s.loadFile(r.postScriptName):s.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(a,A){A=/^\x00\x01\x00\x00/.test(A)?e(A):e(Ax(A)),a.metadata=i.API.TTFFont.open(A),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(r,n)}}])})(Tn),Tn.API.addSvgAsImage=function(i,e,t,n,r,s,a,A){if(isNaN(e)||isNaN(t))throw Zr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(r))throw Zr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=r;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return(Jn.canvg?Promise.resolve(Jn.canvg):BS(()=>import("./index.es-C2-UxqoQ.js"),[],import.meta.url)).catch(function(v){return Promise.reject(new Error("Could not load canvg: "+v))}).then(function(v){return v.default?v.default:v}).then(function(v){return v.fromString(c,i,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(h)}).then(function(){g.addImage(l.toDataURL("image/jpeg",1),e,t,n,r,a,A)})},Tn.API.putTotalPages=function(i){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(i,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(i,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var r=0;r<this.internal.pages[n].length;r++)this.internal.pages[n][r]=this.internal.pages[n][r].replace(e,t);return this},Tn.API.viewerPreferences=function(i,e){var t;i=i||{},e=e||!1;var n,r,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},A=Object.keys(a),l=[],c=0,h=0,g=0;function v(x,B){var _,b=!1;for(_=0;_<x.length;_+=1)x[_]===B&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,i==="reset"||e===!0){var m=A.length;for(g=0;g<m;g+=1)t[A[g]].value=t[A[g]].defaultValue,t[A[g]].explicitSet=!1}if(Dr(i)==="object"){for(r in i)if(s=i[r],v(A,r)&&s!==void 0){if(t[r].type==="boolean"&&typeof s=="boolean")t[r].value=s;else if(t[r].type==="name"&&v(t[r].valueSet,s))t[r].value=s;else if(t[r].type==="integer"&&Number.isInteger(s))t[r].value=s;else if(t[r].type==="array"){for(c=0;c<s.length;c+=1)if(n=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(h=0;h<s[c].length;h+=1)typeof s[c][h]!="number"&&(n=!1);n===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}t[r].value="["+l.join(" ")+"]"}else t[r].value=t[r].defaultValue;t[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,B=[];for(x in t)t[x].explicitSet===!0&&(t[x].type==="name"?B.push("/"+x+" /"+t[x].value):B.push("/"+x+" "+t[x].value));B.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+B.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(i){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),A=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+a.length+A.length+r.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(r+s+a+A+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};i.addMetadata=function(n,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Tn.API),(function(i){var e=i.API,t=e.pdfEscape16=function(s,a){for(var A,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],h=[""],g=0,v=s.length;g<v;++g){if(A=a.metadata.characterToGlyph(s.charCodeAt(g)),a.metadata.glyIdsUsed.push(A),a.metadata.toUnicode[A]=s.charCodeAt(g),l.indexOf(A)==-1&&(l.push(A),l.push([parseInt(a.metadata.widthOfGlyph(A),10)])),A=="0")return h.join("");A=A.toString(16),h.push(c[4-A.length],A)}return h.join("")},n=function(s){var a,A,l,c,h,g,v;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],g=0,v=(A=Object.keys(s).sort(function(m,x){return m-x})).length;g<v;g++)a=A[g],l.length>=100&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(c=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var A=a.font,l=a.out,c=a.newObject,h=a.putStream;if(A.metadata instanceof i.API.TTFFont&&A.encoding==="Identity-H"){for(var g=A.metadata.Unicode.widths,v=A.metadata.subset.encode(A.metadata.glyIdsUsed,1),m="",x=0;x<v.length;x++)m+=String.fromCharCode(v[x]);var B=c();h({data:m,addLength1:!0,objectId:B}),l("endobj");var _=c();h({data:n(A.metadata.toUnicode),addLength1:!0,objectId:_}),l("endobj");var b=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+hm(A.fontName)),l("/FontFile2 "+B+" 0 R"),l("/FontBBox "+i.API.PDFObject.convert(A.metadata.bbox)),l("/Flags "+A.metadata.flags),l("/StemV "+A.metadata.stemV),l("/ItalicAngle "+A.metadata.italicAngle),l("/Ascent "+A.metadata.ascender),l("/Descent "+A.metadata.decender),l("/CapHeight "+A.metadata.capHeight),l(">>"),l("endobj");var M=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+hm(A.fontName)),l("/FontDescriptor "+b+" 0 R"),l("/W "+i.API.PDFObject.convert(g)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+A.encoding+")"),l(">>"),l(">>"),l("endobj"),A.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+_+" 0 R"),l("/BaseFont /"+hm(A.fontName)),l("/Encoding /"+A.encoding),l("/DescendantFonts ["+M+" 0 R]"),l(">>"),l("endobj"),A.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var A=a.font,l=a.out,c=a.newObject,h=a.putStream;if(A.metadata instanceof i.API.TTFFont&&A.encoding==="WinAnsiEncoding"){for(var g=A.metadata.rawData,v="",m=0;m<g.length;m++)v+=String.fromCharCode(g[m]);var x=c();h({data:v,addLength1:!0,objectId:x}),l("endobj");var B=c();h({data:n(A.metadata.toUnicode),addLength1:!0,objectId:B}),l("endobj");var _=c();l("<<"),l("/Descent "+A.metadata.decender),l("/CapHeight "+A.metadata.capHeight),l("/StemV "+A.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+x+" 0 R"),l("/Flags 96"),l("/FontBBox "+i.API.PDFObject.convert(A.metadata.bbox)),l("/FontName /"+hm(A.fontName)),l("/ItalicAngle "+A.metadata.italicAngle),l("/Ascent "+A.metadata.ascender),l(">>"),l("endobj"),A.objectNumber=c();for(var b=0;b<A.metadata.hmtx.widths.length;b++)A.metadata.hmtx.widths[b]=parseInt(A.metadata.hmtx.widths[b]*(1e3/A.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+B+" 0 R/BaseFont/"+hm(A.fontName)+"/FontDescriptor "+_+" 0 R/Encoding/"+A.encoding+" /FirstChar 29 /LastChar 255 /Widths "+i.API.PDFObject.convert(A.metadata.hmtx.widths)+">>"),l("endobj"),A.isAlreadyPutted=!0}})(s)}]);var r=function(s){var a,A=s.text||"",l=s.x,c=s.y,h=s.options||{},g=s.mutex||{},v=g.pdfEscape,m=g.activeFontKey,x=g.fonts,B=m,_="",b=0,M="",T=x[B].encoding;if(x[B].encoding!=="Identity-H")return{text:A,x:l,y:c,options:h,mutex:g};for(M=A,B=m,Array.isArray(A)&&(M=A[0]),b=0;b<M.length;b+=1)x[B].metadata.hasOwnProperty("cmap")&&(a=x[B].metadata.cmap.unicode.codeMap[M[b].charCodeAt(0)]),a||M[b].charCodeAt(0)<256&&x[B].metadata.hasOwnProperty("Unicode")?_+=M[b]:_+="";var U="";return parseInt(B.slice(1))<14||T==="WinAnsiEncoding"?U=v(_,B).split("").map(function(R){return R.charCodeAt(0).toString(16)}).join(""):T==="Identity-H"&&(U=t(_,x[B])),g.isHex=!0,{text:U,x:l,y:c,options:h,mutex:g}};e.events.push(["postProcessText",function(s){var a=s.text||"",A=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?A.push([r(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):A.push(r(Object.assign({},l,{text:a[c]})).text);s.text=A}else s.text=r(Object.assign({},l,{text:a})).text}])})(Tn),(function(i){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};i.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},i.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},i.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Tn.API),(function(i){i.__bidiEngine__=i.prototype.__bidiEngine__=function(n){var r,s,a,A,l,c,h,g=e,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},B={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},_=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),M=!1,T=0;this.__bidiEngine__={};var U=function(k){var G=k.charCodeAt(),q=G>>8,H=B[q];return H!==void 0?g[256*H+(255&G)]:q===252||q===253?"AL":b.test(q)?"L":q===8?"R":"N"},R=function(k){for(var G,q=0;q<k.length;q++){if((G=U(k.charAt(q)))==="L")return!1;if(G==="R")return!0}return!1},O=function(k,G,q,H){var ae,Z,ne,oe,fe=G[H];switch(fe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":M=!1;break;case"N":case"AN":break;case"EN":M&&(fe="AN");break;case"AL":M=!0,fe="R";break;case"WS":case"BN":fe="N";break;case"CS":H<1||H+1>=G.length||(ae=q[H-1])!=="EN"&&ae!=="AN"||(Z=G[H+1])!=="EN"&&Z!=="AN"?fe="N":M&&(Z="AN"),fe=Z===ae?Z:"N";break;case"ES":fe=(ae=H>0?q[H-1]:"B")==="EN"&&H+1<G.length&&G[H+1]==="EN"?"EN":"N";break;case"ET":if(H>0&&q[H-1]==="EN"){fe="EN";break}if(M){fe="N";break}for(ne=H+1,oe=G.length;ne<oe&&G[ne]==="ET";)ne++;fe=ne<oe&&G[ne]==="EN"?"EN":"N";break;case"NSM":if(a&&!A){for(oe=G.length,ne=H+1;ne<oe&&G[ne]==="NSM";)ne++;if(ne<oe){var me=k[H],W=me>=1425&&me<=2303||me===64286;if(ae=G[ne],W&&(ae==="R"||ae==="AL")){fe="R";break}}}fe=H<1||(ae=G[H-1])==="B"?"N":q[H-1];break;case"B":M=!1,r=!0,fe=T;break;case"S":s=!0,fe="N"}return fe},z=function(k,G,q){var H=k.split("");return q&&V(H,q,{hiLevel:T}),H.reverse(),G&&G.reverse(),H.join("")},V=function(k,G,q){var H,ae,Z,ne,oe,fe=-1,me=k.length,W=0,Q=[],X=T?m:v,Y=[];for(M=!1,r=!1,s=!1,ae=0;ae<me;ae++)Y[ae]=U(k[ae]);for(Z=0;Z<me;Z++){if(oe=W,Q[Z]=O(k,Y,Q,Z),H=240&(W=X[oe][x[Q[Z]]]),W&=15,G[Z]=ne=X[W][5],H>0)if(H===16){for(ae=fe;ae<Z;ae++)G[ae]=1;fe=-1}else fe=-1;if(X[W][6])fe===-1&&(fe=Z);else if(fe>-1){for(ae=fe;ae<Z;ae++)G[ae]=ne;fe=-1}Y[Z]==="B"&&(G[Z]=0),q.hiLevel|=ne}s&&(function(ie,te,se){for(var ye=0;ye<se;ye++)if(ie[ye]==="S"){te[ye]=T;for(var xe=ye-1;xe>=0&&ie[xe]==="WS";xe--)te[xe]=T}})(Y,G,me)},I=function(k,G,q,H,ae){if(!(ae.hiLevel<k)){if(k===1&&T===1&&!r)return G.reverse(),void(q&&q.reverse());for(var Z,ne,oe,fe,me=G.length,W=0;W<me;){if(H[W]>=k){for(oe=W+1;oe<me&&H[oe]>=k;)oe++;for(fe=W,ne=oe-1;fe<ne;fe++,ne--)Z=G[fe],G[fe]=G[ne],G[ne]=Z,q&&(Z=q[fe],q[fe]=q[ne],q[ne]=Z);W=oe}W++}}},P=function(k,G,q){var H=k.split(""),ae={hiLevel:T};return q||(q=[]),V(H,q,ae),(function(Z,ne,oe){if(oe.hiLevel!==0&&h)for(var fe,me=0;me<Z.length;me++)ne[me]===1&&(fe=_.indexOf(Z[me]))>=0&&(Z[me]=_[fe+1])})(H,q,ae),I(2,H,G,q,ae),I(1,H,G,q,ae),H.join("")};return this.__bidiEngine__.doBidiReorder=function(k,G,q){if((function(ae,Z){if(Z)for(var ne=0;ne<ae.length;ne++)Z[ne]=ne;A===void 0&&(A=R(ae)),c===void 0&&(c=R(ae))})(k,G),a||!l||c)if(a&&l&&A^c)T=A?1:0,k=z(k,G,q);else if(!a&&l&&c)T=A?1:0,k=P(k,G,q),k=z(k,G);else if(!a||A||l||c){if(a&&!l&&A^c)k=z(k,G),A?(T=0,k=P(k,G,q)):(T=1,k=P(k,G,q),k=z(k,G));else if(a&&A&&!l&&c)T=1,k=P(k,G,q),k=z(k,G);else if(!a&&!l&&A^c){var H=h;A?(T=1,k=P(k,G,q),T=0,h=!1,k=P(k,G,q),h=H):(T=0,k=P(k,G,q),k=z(k,G),T=1,h=!1,k=P(k,G,q),h=H,k=z(k,G))}}else T=0,k=P(k,G,q);else T=A?1:0,k=P(k,G,q);return k},this.__bidiEngine__.setOptions=function(k){k&&(a=k.isInputVisual,l=k.isOutputVisual,A=k.isInputRtl,c=k.isOutputRtl,h=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new i.__bidiEngine__({isInputVisual:!0});i.API.events.push(["postProcessText",function(n){var r=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(r)==="[object Array]"){var A=0;for(a=[],A=0;A<r.length;A+=1)Object.prototype.toString.call(r[A])==="[object Array]"?a.push([t.doBidiReorder(r[A][0]),r[A][1],r[A][2]]):a.push([t.doBidiReorder(r[A])]);n.text=a}else n.text=t.doBidiReorder(r);t.setOptions({isInputVisual:!0})}])})(Tn),Tn.API.TTFFont=(function(){function i(e){var t;if(this.rawData=e,t=this.contents=new Bd(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new XZ(this),this.registerTTF()}return i.open=function(e){return new i(e)},i.prototype.parse=function(){return this.directory=new NZ(this.contents),this.head=new OZ(this),this.name=new zZ(this),this.cmap=new GN(this),this.toUnicode={},this.hhea=new PZ(this),this.maxp=new GZ(this),this.hmtx=new VZ(this),this.post=new HZ(this),this.os2=new QZ(this),this.loca=new qZ(this),this.glyf=new jZ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},i.prototype.registerTTF=function(){var e,t,n,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,A,l,c;for(c=[],a=0,A=(l=this.bbox).length;a<A;a++)e=l[a],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),32768&(t=r>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},i.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},i.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},i.prototype.widthOfString=function(e,t,n){var r,s,a,A;for(a=0,s=0,A=(e=""+e).length;0<=A?s<A:s>A;s=0<=A?++s:--s)r=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/t)||0;return a*(t/1e3)},i.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},i})();var Uc,Bd=(function(){function i(e){this.data=e??[],this.pos=0,this.length=this.data.length}return i.prototype.readByte=function(){return this.data[this.pos++]},i.prototype.writeByte=function(e){return this.data[this.pos++]=e},i.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},i.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},i.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},i.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},i.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},i.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},i.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},i.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},i.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},i.prototype.writeString=function(e){var t,n,r;for(r=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},i.prototype.readShort=function(){return this.readInt16()},i.prototype.writeShort=function(e){return this.writeInt16(e)},i.prototype.readLongLong=function(){var e,t,n,r,s,a,A,l;return e=this.readByte(),t=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),a=this.readByte(),A=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^s)+65536*(255^a)+256*(255^A)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*r+16777216*s+65536*a+256*A+l},i.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},i.prototype.readInt=function(){return this.readInt32()},i.prototype.writeInt=function(e){return this.writeInt32(e)},i.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},i.prototype.write=function(e){var t,n,r,s;for(s=[],n=0,r=e.length;n<r;n++)t=e[n],s.push(this.writeByte(t));return s},i})(),NZ=(function(){var i;function e(t){var n,r,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},r=0,s=this.tableCount;0<=s?r<s:r>s;r=0<=s?++r:--r)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,r,s,a,A,l,c,h,g,v,m,x,B;for(B in m=Object.keys(t).length,l=Math.log(2),g=16*Math.floor(Math.log(m)/l),a=Math.floor(g/l),h=16*m-g,(r=new Bd).writeInt(this.scalarType),r.writeShort(m),r.writeShort(g),r.writeShort(a),r.writeShort(h),s=16*m,c=r.pos+s,A=null,x=[],t)for(v=t[B],r.writeString(B),r.writeInt(i(v)),r.writeInt(c),r.writeInt(v.length),x=x.concat(v),B==="head"&&(A=c),c+=v.length;c%4;)x.push(0),c++;return r.write(x),n=2981146554-i(r.data),r.pos=A+8,r.writeUInt32(n),r.data},i=function(t){var n,r,s,a;for(t=VN.call(t);t.length%4;)t.push(0);for(s=new Bd(t),r=0,n=0,a=t.length;n<a;n=n+=4)r+=s.readUInt32();return 4294967295&r},e})(),DZ={}.hasOwnProperty,Ef=function(i,e){for(var t in e)DZ.call(e,t)&&(i[t]=e[t]);function n(){this.constructor=i}return n.prototype=e.prototype,i.prototype=new n,i.__super__=e.prototype,i};Uc=(function(){function i(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return i.prototype.parse=function(){},i.prototype.encode=function(){},i.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},i})();var OZ=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ef(i,Uc),i.prototype.tag="head",i.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},i.prototype.encode=function(e){var t;return(t=new Bd).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},i})(),X4=(function(){function i(e,t){var n,r,s,a,A,l,c,h,g,v,m,x,B,_,b,M,T;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),g=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(m=e.readUInt16(),v=m/2,e.pos+=6,s=(function(){var U,R;for(R=[],l=U=0;0<=v?U<v:U>v;l=0<=v?++U:--U)R.push(e.readUInt16());return R})(),e.pos+=2,B=(function(){var U,R;for(R=[],l=U=0;0<=v?U<v:U>v;l=0<=v?++U:--U)R.push(e.readUInt16());return R})(),c=(function(){var U,R;for(R=[],l=U=0;0<=v?U<v:U>v;l=0<=v?++U:--U)R.push(e.readUInt16());return R})(),h=(function(){var U,R;for(R=[],l=U=0;0<=v?U<v:U>v;l=0<=v?++U:--U)R.push(e.readUInt16());return R})(),r=(this.length-e.pos+this.offset)/2,A=(function(){var U,R;for(R=[],l=U=0;0<=r?U<r:U>r;l=0<=r?++U:--U)R.push(e.readUInt16());return R})(),l=b=0,T=s.length;b<T;l=++b)for(_=s[l],n=M=x=B[l];x<=_?M<=_:M>=_;n=x<=_?++M:--M)h[l]===0?a=n+c[l]:(a=A[h[l]/2+(n-x)-(v-l)]||0)!==0&&(a+=c[l]),this.codeMap[n]=65535&a}e.pos=g}return i.encode=function(e,t){var n,r,s,a,A,l,c,h,g,v,m,x,B,_,b,M,T,U,R,O,z,V,I,P,k,G,q,H,ae,Z,ne,oe,fe,me,W,Q,X,Y,ie,te,se,ye,xe,Fe,Ne,ze;switch(H=new Bd,a=Object.keys(e).sort(function(it,De){return it-De}),t){case"macroman":for(B=0,_=(function(){var it=[];for(x=0;x<256;++x)it.push(0);return it})(),M={0:0},s={},ae=0,fe=a.length;ae<fe;ae++)M[xe=e[r=a[ae]]]==null&&(M[xe]=++B),s[r]={old:e[r],new:M[e[r]]},_[r]=M[e[r]];return H.writeUInt16(1),H.writeUInt16(0),H.writeUInt32(12),H.writeUInt16(0),H.writeUInt16(262),H.writeUInt16(0),H.write(_),{charMap:s,subtable:H.data,maxGlyphID:B+1};case"unicode":for(G=[],g=[],T=0,M={},n={},b=c=null,Z=0,me=a.length;Z<me;Z++)M[R=e[r=a[Z]]]==null&&(M[R]=++T),n[r]={old:R,new:M[R]},A=M[R]-r,b!=null&&A===c||(b&&g.push(b),G.push(r),c=A),b=r;for(b&&g.push(b),g.push(65535),G.push(65535),P=2*(I=G.length),V=2*Math.pow(Math.log(I)/Math.LN2,2),v=Math.log(V/2)/Math.LN2,z=2*I-V,l=[],O=[],m=[],x=ne=0,W=G.length;ne<W;x=++ne){if(k=G[x],h=g[x],k===65535){l.push(0),O.push(0);break}if(k-(q=n[k].new)>=32768)for(l.push(0),O.push(2*(m.length+I-x)),r=oe=k;k<=h?oe<=h:oe>=h;r=k<=h?++oe:--oe)m.push(n[r].new);else l.push(q-k),O.push(0)}for(H.writeUInt16(3),H.writeUInt16(1),H.writeUInt32(12),H.writeUInt16(4),H.writeUInt16(16+8*I+2*m.length),H.writeUInt16(0),H.writeUInt16(P),H.writeUInt16(V),H.writeUInt16(v),H.writeUInt16(z),se=0,Q=g.length;se<Q;se++)r=g[se],H.writeUInt16(r);for(H.writeUInt16(0),ye=0,X=G.length;ye<X;ye++)r=G[ye],H.writeUInt16(r);for(Fe=0,Y=l.length;Fe<Y;Fe++)A=l[Fe],H.writeUInt16(A);for(Ne=0,ie=O.length;Ne<ie;Ne++)U=O[Ne],H.writeUInt16(U);for(ze=0,te=m.length;ze<te;ze++)B=m[ze],H.writeUInt16(B);return{charMap:n,subtable:H.data,maxGlyphID:T+1}}},i})(),GN=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ef(i,Uc),i.prototype.tag="cmap",i.prototype.parse=function(e){var t,n,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)t=new X4(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},i.encode=function(e,t){var n,r;return t==null&&(t="macroman"),n=X4.encode(e,t),(r=new Bd).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},i})(),PZ=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ef(i,Uc),i.prototype.tag="hhea",i.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},i})(),QZ=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ef(i,Uc),i.prototype.tag="OS/2",i.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n})(),this.charRange=(function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},i})(),HZ=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ef(i,Uc),i.prototype.tag="post",i.prototype.parse=function(e){var t,n,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var a,A,l;for(l=[],s=a=0,A=this.file.maxp.numGlyphs;0<=A?a<A:a>A;s=0<=A?++a:--a)l.push(e.readUInt32());return l}).call(this)}},i})(),kZ=function(i,e){this.raw=i,this.length=i.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},zZ=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ef(i,Uc),i.prototype.tag="name",i.prototype.parse=function(e){var t,n,r,s,a,A,l,c,h,g,v;for(e.pos=this.offset,e.readShort(),t=e.readShort(),A=e.readShort(),n=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+A+e.readShort()});for(l={},s=h=0,g=n.length;h<g;s=++h)r=n[s],e.pos=r.offset,c=e.readString(r.length),a=new kZ(c,r),l[v=r.nameID]==null&&(l[v]=[]),l[r.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},i})(),GZ=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ef(i,Uc),i.prototype.tag="maxp",i.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},i})(),VZ=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ef(i,Uc),i.prototype.tag="hmtx",i.prototype.parse=function(e){var t,n,r,s,a,A,l;for(e.pos=this.offset,this.metrics=[],t=0,A=this.file.hhea.numberOfMetrics;0<=A?t<A:t>A;t=0<=A?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var c,h;for(h=[],t=c=0;0<=r?c<r:c>r;t=0<=r?++c:--c)h.push(e.readInt16());return h})(),this.widths=(function(){var c,h,g,v;for(v=[],c=0,h=(g=this.metrics).length;c<h;c++)s=g[c],v.push(s.advance);return v}).call(this),n=this.widths[this.widths.length-1],l=[],t=a=0;0<=r?a<r:a>r;t=0<=r?++a:--a)l.push(this.widths.push(n));return l},i.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},i})(),VN=[].slice,jZ=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ef(i,Uc),i.prototype.tag="glyf",i.prototype.parse=function(){return this.cache={}},i.prototype.glyphFor=function(e){var t,n,r,s,a,A,l,c,h,g;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,n=s.indexOf(e),(r=s.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+n,a=(A=new Bd(t.read(r))).readShort(),c=A.readShort(),g=A.readShort(),l=A.readShort(),h=A.readShort(),this.cache[e]=a===-1?new WZ(A,c,g,l,h):new KZ(A,a,c,g,l,h),this.cache[e]))},i.prototype.encode=function(e,t,n){var r,s,a,A,l;for(a=[],s=[],A=0,l=t.length;A<l;A++)r=e[t[A]],s.push(a.length),r&&(a=a.concat(r.encode(n)));return s.push(a.length),{table:a,offsets:s}},i})(),KZ=(function(){function i(e,t,n,r,s,a){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=a,this.compound=!1}return i.prototype.encode=function(){return this.raw.data},i})(),WZ=(function(){function i(e,t,n,r,s){var a,A;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;A=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&A;)a.pos+=1&A?4:2,128&A?a.pos+=8:64&A?a.pos+=4:8&A&&(a.pos+=2)}return i.prototype.encode=function(){var e,t,n;for(t=new Bd(VN.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},i})(),qZ=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ef(i,Uc),i.prototype.tag="loca",i.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var r,s;for(s=[],n=0,r=this.length;n<r;n+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var r,s;for(s=[],n=0,r=this.length;n<r;n+=4)s.push(e.readUInt32());return s}).call(this)},i.prototype.indexOf=function(e){return this.offsets[e]},i.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},i.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),r=0,s=0,a=0;a<n.length;++a)if(n[a]=r,s<t.length&&t[s]==a){++s,n[a]=r;var A=this.offsets[a],l=this.offsets[a+1]-A;l>0&&(r+=l)}for(var c=new Array(4*n.length),h=0;h<n.length;++h)c[4*h+3]=255&n[h],c[4*h+2]=(65280&n[h])>>8,c[4*h+1]=(16711680&n[h])>>16,c[4*h]=(4278190080&n[h])>>24;return c},i})(),XZ=(function(){function i(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return i.prototype.generateCmap=function(){var e,t,n,r,s;for(t in r=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[t],e[t]=r[n];return e},i.prototype.glyphsFor=function(e){var t,n,r,s,a,A,l;for(r={},a=0,A=e.length;a<A;a++)r[s=e[a]]=this.font.glyf.glyphFor(s);for(s in t=[],r)(n=r[s])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(s in l=this.glyphsFor(t))n=l[s],r[s]=n;return r},i.prototype.encode=function(e,t){var n,r,s,a,A,l,c,h,g,v,m,x,B,_,b;for(r in n=GN.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),m={0:0},b=n.charMap)m[(l=b[r]).old]=l.new;for(x in v=n.maxGlyphID,a)x in m||(m[x]=v++);return h=(function(M){var T,U;for(T in U={},M)U[M[T]]=T;return U})(m),g=Object.keys(h).sort(function(M,T){return M-T}),B=(function(){var M,T,U;for(U=[],M=0,T=g.length;M<T;M++)A=g[M],U.push(h[A]);return U})(),s=this.font.glyf.encode(a,B,m),c=this.font.loca.encode(s.offsets,B),_={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(_["OS/2"]=this.font.os2.raw()),this.font.directory.encode(_)},i})();Tn.API.PDFObject=(function(){var i;function e(){}return i=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,r,s,a;if(Array.isArray(t))return"["+(function(){var A,l,c;for(c=[],A=0,l=t.length;A<l;A++)n=t[A],c.push(e.convert(n));return c})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+i(t.getUTCFullYear(),4)+i(t.getUTCMonth(),2)+i(t.getUTCDate(),2)+i(t.getUTCHours(),2)+i(t.getUTCMinutes(),2)+i(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(r in s=["<<"],t)a=t[r],s.push("/"+r+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+t},e})();const YZ=async()=>{console.log("[exportPDF] start");const i=new Tn({orientation:"landscape",unit:"mm",format:"a3"}),e=i.internal.pageSize.getWidth(),t=i.internal.pageSize.getHeight(),n=Array.from(document.querySelectorAll(".viewport-3d-container, .viewports-2d-container"));if(n.length===0){console.warn("[exportPDF] No target areas found for export."),alert("Export failed: export area not found.");return}const r=n.map(z=>z.getBoundingClientRect()),s=Math.min(...r.map(z=>z.left)),a=Math.min(...r.map(z=>z.top)),A=Math.max(...r.map(z=>z.right)),l=Math.max(...r.map(z=>z.bottom)),c={left:s+window.scrollX,top:a+window.scrollY,width:A-s,height:l-a};console.log("[exportPDF] capture rect",c);let h;try{h=await $R(document.body,{useCORS:!0,scale:2,backgroundColor:"#ffffff",x:c.left,y:c.top,width:c.width,height:c.height,ignoreElements:z=>!!z.classList.contains("sidebar")})}catch(z){console.error("[exportPDF] html2canvas failed",z),alert("Failed to export PDF. See console for details.");return}console.log("[exportPDF] canvas ready",{width:h.width,height:h.height});const g=h.toDataURL("image/png"),v=10,m=e-v*2,x=t-v*2,B=h.width,_=h.height,b=Math.min(m/B,x/_),M=B*b,T=_*b;i.addImage(g,"PNG",v,v,M,T);const U=i.output("blob");console.log("[exportPDF] pdf blob size",U.size);const R=URL.createObjectURL(U),O=document.createElement("a");O.href=R,O.download="cabinet-design.pdf",O.click(),URL.revokeObjectURL(R),console.log("[exportPDF] download triggered")},Y4={POSITION:["byte","byte normalized","unsigned byte","unsigned byte normalized","short","short normalized","unsigned short","unsigned short normalized"],NORMAL:["byte normalized","short normalized"],TANGENT:["byte normalized","short normalized"],TEXCOORD:["byte","byte normalized","unsigned byte","short","short normalized","unsigned short"]};class Sb{constructor(){this.textureUtils=null,this.pluginCallbacks=[],this.register(function(e){return new o$(e)}),this.register(function(e){return new A$(e)}),this.register(function(e){return new f$(e)}),this.register(function(e){return new h$(e)}),this.register(function(e){return new d$(e)}),this.register(function(e){return new p$(e)}),this.register(function(e){return new l$(e)}),this.register(function(e){return new u$(e)}),this.register(function(e){return new c$(e)}),this.register(function(e){return new g$(e)}),this.register(function(e){return new m$(e)}),this.register(function(e){return new v$(e)}),this.register(function(e){return new y$(e)}),this.register(function(e){return new w$(e)})}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}setTextureUtils(e){return this.textureUtils=e,this}parse(e,t,n,r){const s=new a$,a=[];for(let A=0,l=this.pluginCallbacks.length;A<l;A++)a.push(this.pluginCallbacks[A](s));s.setPlugins(a),s.setTextureUtils(this.textureUtils),s.writeAsync(e,t,r).catch(n)}parseAsync(e,t){const n=this;return new Promise(function(r,s){n.parse(e,r,s,t)})}}const Qi={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,REPEAT:10497},g2="KHR_mesh_quantization",Au={};Au[oa]=Qi.NEAREST;Au[Rb]=Qi.NEAREST_MIPMAP_NEAREST;Au[Bp]=Qi.NEAREST_MIPMAP_LINEAR;Au[Tr]=Qi.LINEAR;Au[wm]=Qi.LINEAR_MIPMAP_NEAREST;Au[yc]=Qi.LINEAR_MIPMAP_LINEAR;Au[KA]=Qi.CLAMP_TO_EDGE;Au[Tm]=Qi.REPEAT;Au[Fm]=Qi.MIRRORED_REPEAT;const J4={scale:"scale",position:"translation",quaternion:"rotation",morphTargetInfluences:"weights"},JZ=new an,Z4=12,ZZ=1179937895,$Z=2,$4=8,e$=1313821514,t$=5130562;function h1(i,e){return i.length===e.length&&i.every(function(t,n){return t===e[n]})}function n$(i){return new TextEncoder().encode(i).buffer}function i$(i){return h1(i.elements,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}function r$(i,e,t){const n={min:new Array(i.itemSize).fill(Number.POSITIVE_INFINITY),max:new Array(i.itemSize).fill(Number.NEGATIVE_INFINITY)};for(let r=e;r<e+t;r++)for(let s=0;s<i.itemSize;s++){let a;i.itemSize>4?a=i.array[r*i.itemSize+s]:(s===0?a=i.getX(r):s===1?a=i.getY(r):s===2?a=i.getZ(r):s===3&&(a=i.getW(r)),i.normalized===!0&&(a=V1.normalize(a,i.array))),n.min[s]=Math.min(n.min[s],a),n.max[s]=Math.max(n.max[s],a)}return n}function jN(i){return Math.ceil(i/4)*4}function m2(i,e=0){const t=jN(i.byteLength);if(t!==i.byteLength){const n=new Uint8Array(t);if(n.set(new Uint8Array(i)),e!==0)for(let r=i.byteLength;r<t;r++)n[r]=e;return n.buffer}return i}function eF(){return typeof document>"u"&&typeof OffscreenCanvas<"u"?new OffscreenCanvas(1,1):document.createElement("canvas")}function s$(i,e){if(typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas){let t;return e==="image/jpeg"?t=.92:e==="image/webp"&&(t=.8),i.convertToBlob({type:e,quality:t})}else return new Promise(t=>i.toBlob(t,e))}class a${constructor(){this.plugins=[],this.options={},this.pending=[],this.buffers=[],this.byteOffset=0,this.buffers=[],this.nodeMap=new Map,this.skins=[],this.extensionsUsed={},this.extensionsRequired={},this.uids=new Map,this.uid=0,this.json={asset:{version:"2.0",generator:"THREE.GLTFExporter r"+jm}},this.cache={meshes:new Map,attributes:new Map,attributesNormalized:new Map,materials:new Map,textures:new Map,images:new Map},this.textureUtils=null}setPlugins(e){this.plugins=e}setTextureUtils(e){this.textureUtils=e}async writeAsync(e,t,n={}){this.options=Object.assign({binary:!1,trs:!1,onlyVisible:!0,maxTextureSize:1/0,animations:[],includeCustomExtensions:!1},n),this.options.animations.length>0&&(this.options.trs=!0),await this.processInputAsync(e),await Promise.all(this.pending);const r=this,s=r.buffers,a=r.json;n=r.options;const A=r.extensionsUsed,l=r.extensionsRequired,c=new Blob(s,{type:"application/octet-stream"}),h=Object.keys(A),g=Object.keys(l);if(h.length>0&&(a.extensionsUsed=h),g.length>0&&(a.extensionsRequired=g),a.buffers&&a.buffers.length>0&&(a.buffers[0].byteLength=c.size),n.binary===!0){const v=new FileReader;v.readAsArrayBuffer(c),v.onloadend=function(){const m=m2(v.result),x=new DataView(new ArrayBuffer($4));x.setUint32(0,m.byteLength,!0),x.setUint32(4,t$,!0);const B=m2(n$(JSON.stringify(a)),32),_=new DataView(new ArrayBuffer($4));_.setUint32(0,B.byteLength,!0),_.setUint32(4,e$,!0);const b=new ArrayBuffer(Z4),M=new DataView(b);M.setUint32(0,ZZ,!0),M.setUint32(4,$Z,!0);const T=Z4+_.byteLength+B.byteLength+x.byteLength+m.byteLength;M.setUint32(8,T,!0);const U=new Blob([b,_,B,x,m],{type:"application/octet-stream"}),R=new FileReader;R.readAsArrayBuffer(U),R.onloadend=function(){t(R.result)}}}else if(a.buffers&&a.buffers.length>0){const v=new FileReader;v.readAsDataURL(c),v.onloadend=function(){const m=v.result;a.buffers[0].uri=m,t(a)}}else t(a)}serializeUserData(e,t){if(Object.keys(e.userData).length===0)return;const n=this.options,r=this.extensionsUsed;try{const s=JSON.parse(JSON.stringify(e.userData));if(n.includeCustomExtensions&&s.gltfExtensions){t.extensions===void 0&&(t.extensions={});for(const a in s.gltfExtensions)t.extensions[a]=s.gltfExtensions[a],r[a]=!0;delete s.gltfExtensions}Object.keys(s).length>0&&(t.extras=s)}catch(s){console.warn("THREE.GLTFExporter: userData of '"+e.name+"' won't be serialized because of JSON.stringify error - "+s.message)}}getUID(e,t=!1){if(this.uids.has(e)===!1){const r=new Map;r.set(!0,this.uid++),r.set(!1,this.uid++),this.uids.set(e,r)}return this.uids.get(e).get(t)}isNormalizedNormalAttribute(e){if(this.cache.attributesNormalized.has(e))return!1;const n=new Ce;for(let r=0,s=e.count;r<s;r++)if(Math.abs(n.fromBufferAttribute(e,r).length()-1)>5e-4)return!1;return!0}createNormalizedNormalAttribute(e){const t=this.cache;if(t.attributesNormalized.has(e))return t.attributesNormalized.get(e);const n=e.clone(),r=new Ce;for(let s=0,a=n.count;s<a;s++)r.fromBufferAttribute(n,s),r.x===0&&r.y===0&&r.z===0?r.setX(1):r.normalize(),n.setXYZ(s,r.x,r.y,r.z);return t.attributesNormalized.set(e,n),n}applyTextureTransform(e,t){let n=!1;const r={};(t.offset.x!==0||t.offset.y!==0)&&(r.offset=t.offset.toArray(),n=!0),t.rotation!==0&&(r.rotation=t.rotation,n=!0),(t.repeat.x!==1||t.repeat.y!==1)&&(r.scale=t.repeat.toArray(),n=!0),n&&(e.extensions=e.extensions||{},e.extensions.KHR_texture_transform=r,this.extensionsUsed.KHR_texture_transform=!0)}async buildMetalRoughTextureAsync(e,t){if(e===t)return e;function n(m){return m.colorSpace===Go?function(B){return B<.04045?B*.0773993808:Math.pow(B*.9478672986+.0521327014,2.4)}:function(B){return B}}e instanceof Fp&&(e=await this.decompressTextureAsync(e)),t instanceof Fp&&(t=await this.decompressTextureAsync(t));const r=e?e.image:null,s=t?t.image:null,a=Math.max(r?r.width:0,s?s.width:0),A=Math.max(r?r.height:0,s?s.height:0),l=eF();l.width=a,l.height=A;const c=l.getContext("2d",{willReadFrequently:!0});c.fillStyle="#00ffff",c.fillRect(0,0,a,A);const h=c.getImageData(0,0,a,A);if(r){c.drawImage(r,0,0,a,A);const m=n(e),x=c.getImageData(0,0,a,A).data;for(let B=2;B<x.length;B+=4)h.data[B]=m(x[B]/256)*256}if(s){c.drawImage(s,0,0,a,A);const m=n(t),x=c.getImageData(0,0,a,A).data;for(let B=1;B<x.length;B+=4)h.data[B]=m(x[B]/256)*256}c.putImageData(h,0,0);const v=(e||t).clone();return v.source=new uh(l),v.colorSpace=pf,v.channel=(e||t).channel,e&&t&&e.channel!==t.channel&&console.warn("THREE.GLTFExporter: UV channels for metalnessMap and roughnessMap textures must match."),console.warn("THREE.GLTFExporter: Merged metalnessMap and roughnessMap textures."),v}async decompressTextureAsync(e,t=1/0){if(this.textureUtils===null)throw new Error("THREE.GLTFExporter: setTextureUtils() must be called to process compressed textures.");return await this.textureUtils.decompress(e,t)}processBuffer(e){const t=this.json,n=this.buffers;return t.buffers||(t.buffers=[{byteLength:0}]),n.push(e),0}processBufferView(e,t,n,r,s){const a=this.json;a.bufferViews||(a.bufferViews=[]);let A;switch(t){case Qi.BYTE:case Qi.UNSIGNED_BYTE:A=1;break;case Qi.SHORT:case Qi.UNSIGNED_SHORT:A=2;break;default:A=4}let l=e.itemSize*A;s===Qi.ARRAY_BUFFER&&(l=Math.ceil(l/4)*4);const c=jN(r*l),h=new DataView(new ArrayBuffer(c));let g=0;for(let x=n;x<n+r;x++){for(let B=0;B<e.itemSize;B++){let _;e.itemSize>4?_=e.array[x*e.itemSize+B]:(B===0?_=e.getX(x):B===1?_=e.getY(x):B===2?_=e.getZ(x):B===3&&(_=e.getW(x)),e.normalized===!0&&(_=V1.normalize(_,e.array))),t===Qi.FLOAT?h.setFloat32(g,_,!0):t===Qi.INT?h.setInt32(g,_,!0):t===Qi.UNSIGNED_INT?h.setUint32(g,_,!0):t===Qi.SHORT?h.setInt16(g,_,!0):t===Qi.UNSIGNED_SHORT?h.setUint16(g,_,!0):t===Qi.BYTE?h.setInt8(g,_):t===Qi.UNSIGNED_BYTE&&h.setUint8(g,_),g+=A}g%l!==0&&(g+=l-g%l)}const v={buffer:this.processBuffer(h.buffer),byteOffset:this.byteOffset,byteLength:c};return s!==void 0&&(v.target=s),s===Qi.ARRAY_BUFFER&&(v.byteStride=l),this.byteOffset+=c,a.bufferViews.push(v),{id:a.bufferViews.length-1,byteLength:0}}processBufferViewImage(e){const t=this,n=t.json;return n.bufferViews||(n.bufferViews=[]),new Promise(function(r){const s=new FileReader;s.readAsArrayBuffer(e),s.onloadend=function(){const a=m2(s.result),A={buffer:t.processBuffer(a),byteOffset:t.byteOffset,byteLength:a.byteLength};t.byteOffset+=a.byteLength,r(n.bufferViews.push(A)-1)}})}processAccessor(e,t,n,r){const s=this.json,a={1:"SCALAR",2:"VEC2",3:"VEC3",4:"VEC4",9:"MAT3",16:"MAT4"};let A;if(e.array.constructor===Float32Array)A=Qi.FLOAT;else if(e.array.constructor===Int32Array)A=Qi.INT;else if(e.array.constructor===Uint32Array)A=Qi.UNSIGNED_INT;else if(e.array.constructor===Int16Array)A=Qi.SHORT;else if(e.array.constructor===Uint16Array)A=Qi.UNSIGNED_SHORT;else if(e.array.constructor===Int8Array)A=Qi.BYTE;else if(e.array.constructor===Uint8Array)A=Qi.UNSIGNED_BYTE;else throw new Error("THREE.GLTFExporter: Unsupported bufferAttribute component type: "+e.array.constructor.name);if(n===void 0&&(n=0),(r===void 0||r===1/0)&&(r=e.count),r===0)return null;const l=r$(e,n,r);let c;t!==void 0&&(c=e===t.index?Qi.ELEMENT_ARRAY_BUFFER:Qi.ARRAY_BUFFER);const h=this.processBufferView(e,A,n,r,c),g={bufferView:h.id,byteOffset:h.byteOffset,componentType:A,count:r,max:l.max,min:l.min,type:a[e.itemSize]};return e.normalized===!0&&(g.normalized=!0),s.accessors||(s.accessors=[]),s.accessors.push(g)-1}processImage(e,t,n,r="image/png"){if(e!==null){const s=this,a=s.cache,A=s.json,l=s.options,c=s.pending;a.images.has(e)||a.images.set(e,{});const h=a.images.get(e),g=r+":flipY/"+n.toString();if(h[g]!==void 0)return h[g];A.images||(A.images=[]);const v={mimeType:r},m=eF();m.width=Math.min(e.width,l.maxTextureSize),m.height=Math.min(e.height,l.maxTextureSize);const x=m.getContext("2d",{willReadFrequently:!0});if(n===!0&&(x.translate(0,m.height),x.scale(1,-1)),e.data!==void 0){t!==Vo&&console.error("GLTFExporter: Only RGBAFormat is supported.",t),(e.width>l.maxTextureSize||e.height>l.maxTextureSize)&&console.warn("GLTFExporter: Image size is bigger than maxTextureSize",e);const _=new Uint8ClampedArray(e.height*e.width*4);for(let b=0;b<_.length;b+=4)_[b+0]=e.data[b+0],_[b+1]=e.data[b+1],_[b+2]=e.data[b+2],_[b+3]=e.data[b+3];x.putImageData(new ImageData(_,e.width,e.height),0,0)}else if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas)x.drawImage(e,0,0,m.width,m.height);else throw new Error("THREE.GLTFExporter: Invalid image type. Use HTMLImageElement, HTMLCanvasElement, ImageBitmap or OffscreenCanvas.");l.binary===!0?c.push(s$(m,r).then(_=>s.processBufferViewImage(_)).then(_=>{v.bufferView=_})):v.uri=iE.getDataURL(m,r);const B=A.images.push(v)-1;return h[g]=B,B}else throw new Error("THREE.GLTFExporter: No valid image data found. Unable to process texture.")}processSampler(e){const t=this.json;t.samplers||(t.samplers=[]);const n={magFilter:Au[e.magFilter],minFilter:Au[e.minFilter],wrapS:Au[e.wrapS],wrapT:Au[e.wrapT]};return t.samplers.push(n)-1}async processTextureAsync(e){const n=this.options,r=this.cache,s=this.json;if(r.textures.has(e))return r.textures.get(e);s.textures||(s.textures=[]),e instanceof Fp&&(e=await this.decompressTextureAsync(e,n.maxTextureSize));let a=e.userData.mimeType;a==="image/webp"&&(a="image/png");const A={sampler:this.processSampler(e),source:this.processImage(e.image,e.format,e.flipY,a)};e.name&&(A.name=e.name),await this._invokeAllAsync(async function(c){c.writeTexture&&await c.writeTexture(e,A)});const l=s.textures.push(A)-1;return r.textures.set(e,l),l}async processMaterialAsync(e){const t=this.cache,n=this.json;if(t.materials.has(e))return t.materials.get(e);if(e.isShaderMaterial)return console.warn("GLTFExporter: THREE.ShaderMaterial not supported."),null;n.materials||(n.materials=[]);const r={pbrMetallicRoughness:{}};e.isMeshStandardMaterial!==!0&&e.isMeshBasicMaterial!==!0&&console.warn("GLTFExporter: Use MeshStandardMaterial or MeshBasicMaterial for best results.");const s=e.color.toArray().concat([e.opacity]);if(h1(s,[1,1,1,1])||(r.pbrMetallicRoughness.baseColorFactor=s),e.isMeshStandardMaterial?(r.pbrMetallicRoughness.metallicFactor=e.metalness,r.pbrMetallicRoughness.roughnessFactor=e.roughness):(r.pbrMetallicRoughness.metallicFactor=0,r.pbrMetallicRoughness.roughnessFactor=1),e.metalnessMap||e.roughnessMap){const A=await this.buildMetalRoughTextureAsync(e.metalnessMap,e.roughnessMap),l={index:await this.processTextureAsync(A),texCoord:A.channel};this.applyTextureTransform(l,A),r.pbrMetallicRoughness.metallicRoughnessTexture=l}if(e.map){const A={index:await this.processTextureAsync(e.map),texCoord:e.map.channel};this.applyTextureTransform(A,e.map),r.pbrMetallicRoughness.baseColorTexture=A}if(e.emissive){const A=e.emissive;if(Math.max(A.r,A.g,A.b)>0&&(r.emissiveFactor=e.emissive.toArray()),e.emissiveMap){const c={index:await this.processTextureAsync(e.emissiveMap),texCoord:e.emissiveMap.channel};this.applyTextureTransform(c,e.emissiveMap),r.emissiveTexture=c}}if(e.normalMap){const A={index:await this.processTextureAsync(e.normalMap),texCoord:e.normalMap.channel};e.normalScale&&e.normalScale.x!==1&&(A.scale=e.normalScale.x),this.applyTextureTransform(A,e.normalMap),r.normalTexture=A}if(e.aoMap){const A={index:await this.processTextureAsync(e.aoMap),texCoord:e.aoMap.channel};e.aoMapIntensity!==1&&(A.strength=e.aoMapIntensity),this.applyTextureTransform(A,e.aoMap),r.occlusionTexture=A}e.transparent?r.alphaMode="BLEND":e.alphaTest>0&&(r.alphaMode="MASK",r.alphaCutoff=e.alphaTest),e.side===Pu&&(r.doubleSided=!0),e.name!==""&&(r.name=e.name),this.serializeUserData(e,r),await this._invokeAllAsync(async function(A){A.writeMaterialAsync&&await A.writeMaterialAsync(e,r)});const a=n.materials.push(r)-1;return t.materials.set(e,a),a}async processMeshAsync(e){const t=this.cache,n=this.json,r=[e.geometry.uuid];if(Array.isArray(e.material))for(let U=0,R=e.material.length;U<R;U++)r.push(e.material[U].uuid);else r.push(e.material.uuid);const s=r.join(":");if(t.meshes.has(s))return t.meshes.get(s);const a=e.geometry;let A;e.isLineSegments?A=Qi.LINES:e.isLineLoop?A=Qi.LINE_LOOP:e.isLine?A=Qi.LINE_STRIP:e.isPoints?A=Qi.POINTS:A=e.material.wireframe?Qi.LINES:Qi.TRIANGLES;const l={},c={},h=[],g=[],v={uv:"TEXCOORD_0",uv1:"TEXCOORD_1",uv2:"TEXCOORD_2",uv3:"TEXCOORD_3",color:"COLOR_0",skinWeight:"WEIGHTS_0",skinIndex:"JOINTS_0"},m=a.getAttribute("normal");m!==void 0&&!this.isNormalizedNormalAttribute(m)&&(console.warn("THREE.GLTFExporter: Creating normalized normal attribute from the non-normalized one."),a.setAttribute("normal",this.createNormalizedNormalAttribute(m)));let x=null;for(let U in a.attributes){if(U.slice(0,5)==="morph")continue;const R=a.attributes[U];if(U=v[U]||U.toUpperCase(),/^(POSITION|NORMAL|TANGENT|TEXCOORD_\d+|COLOR_\d+|JOINTS_\d+|WEIGHTS_\d+)$/.test(U)||(U="_"+U),t.attributes.has(this.getUID(R))){c[U]=t.attributes.get(this.getUID(R));continue}x=null;const z=R.array;U==="JOINTS_0"&&!(z instanceof Uint16Array)&&!(z instanceof Uint8Array)?(console.warn('GLTFExporter: Attribute "skinIndex" converted to type UNSIGNED_SHORT.'),x=new qi(new Uint16Array(z),R.itemSize,R.normalized)):(z instanceof Uint32Array||z instanceof Int32Array)&&!U.startsWith("_")&&(console.warn(`GLTFExporter: Attribute "${U}" converted to type FLOAT.`),x=Sb.Utils.toFloat32BufferAttribute(R));const V=this.processAccessor(x||R,a);V!==null&&(U.startsWith("_")||this.detectMeshQuantization(U,R),c[U]=V,t.attributes.set(this.getUID(R),V))}if(m!==void 0&&a.setAttribute("normal",m),Object.keys(c).length===0)return null;if(e.morphTargetInfluences!==void 0&&e.morphTargetInfluences.length>0){const U=[],R=[],O={};if(e.morphTargetDictionary!==void 0)for(const z in e.morphTargetDictionary)O[e.morphTargetDictionary[z]]=z;for(let z=0;z<e.morphTargetInfluences.length;++z){const V={};let I=!1;for(const P in a.morphAttributes){if(P!=="position"&&P!=="normal"){I||(console.warn("GLTFExporter: Only POSITION and NORMAL morph are supported."),I=!0);continue}const k=a.morphAttributes[P][z],G=P.toUpperCase(),q=a.attributes[P];if(t.attributes.has(this.getUID(k,!0))){V[G]=t.attributes.get(this.getUID(k,!0));continue}const H=k.clone();if(!a.morphTargetsRelative)for(let ae=0,Z=k.count;ae<Z;ae++)for(let ne=0;ne<k.itemSize;ne++)ne===0&&H.setX(ae,k.getX(ae)-q.getX(ae)),ne===1&&H.setY(ae,k.getY(ae)-q.getY(ae)),ne===2&&H.setZ(ae,k.getZ(ae)-q.getZ(ae)),ne===3&&H.setW(ae,k.getW(ae)-q.getW(ae));V[G]=this.processAccessor(H,a),t.attributes.set(this.getUID(q,!0),V[G])}g.push(V),U.push(e.morphTargetInfluences[z]),e.morphTargetDictionary!==void 0&&R.push(O[z])}l.weights=U,R.length>0&&(l.extras={},l.extras.targetNames=R)}const B=Array.isArray(e.material);if(B&&a.groups.length===0)return null;let _=!1;if(B&&a.index===null){const U=[];for(let R=0,O=a.attributes.position.count;R<O;R++)U[R]=R;a.setIndex(U),_=!0}const b=B?e.material:[e.material],M=B?a.groups:[{materialIndex:0,start:void 0,count:void 0}];for(let U=0,R=M.length;U<R;U++){const O={mode:A,attributes:c};if(this.serializeUserData(a,O),g.length>0&&(O.targets=g),a.index!==null){let V=this.getUID(a.index);(M[U].start!==void 0||M[U].count!==void 0)&&(V+=":"+M[U].start+":"+M[U].count),t.attributes.has(V)?O.indices=t.attributes.get(V):(O.indices=this.processAccessor(a.index,a,M[U].start,M[U].count),t.attributes.set(V,O.indices)),O.indices===null&&delete O.indices}const z=await this.processMaterialAsync(b[M[U].materialIndex]);z!==null&&(O.material=z),h.push(O)}_===!0&&a.setIndex(null),l.primitives=h,n.meshes||(n.meshes=[]),await this._invokeAllAsync(function(U){U.writeMesh&&U.writeMesh(e,l)});const T=n.meshes.push(l)-1;return t.meshes.set(s,T),T}detectMeshQuantization(e,t){if(this.extensionsUsed[g2])return;let n;switch(t.array.constructor){case Int8Array:n="byte";break;case Uint8Array:n="unsigned byte";break;case Int16Array:n="short";break;case Uint16Array:n="unsigned short";break;default:return}t.normalized&&(n+=" normalized");const r=e.split("_",1)[0];Y4[r]&&Y4[r].includes(n)&&(this.extensionsUsed[g2]=!0,this.extensionsRequired[g2]=!0)}processCamera(e){const t=this.json;t.cameras||(t.cameras=[]);const n=e.isOrthographicCamera,r={type:n?"orthographic":"perspective"};return n?r.orthographic={xmag:e.right*2,ymag:e.top*2,zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near}:r.perspective={aspectRatio:e.aspect,yfov:V1.degToRad(e.fov),zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near},e.name!==""&&(r.name=e.type),t.cameras.push(r)-1}processAnimation(e,t){const n=this.json,r=this.nodeMap;n.animations||(n.animations=[]),e=Sb.Utils.mergeMorphTargetTracks(e.clone(),t);const s=e.tracks,a=[],A=[];for(let c=0;c<s.length;++c){const h=s[c],g=Hi.parseTrackName(h.name);let v=Hi.findNode(t,g.nodeName);const m=J4[g.propertyName];if(g.objectName==="bones"&&(v.isSkinnedMesh===!0?v=v.skeleton.getBoneByName(g.objectIndex):v=void 0),!v||!m){console.warn('THREE.GLTFExporter: Could not export animation track "%s".',h.name);continue}const x=1;let B=h.values.length/h.times.length;m===J4.morphTargetInfluences&&(B/=v.morphTargetInfluences.length);let _;h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline===!0?(_="CUBICSPLINE",B/=3):h.getInterpolation()===Rm?_="STEP":_="LINEAR",A.push({input:this.processAccessor(new qi(h.times,x)),output:this.processAccessor(new qi(h.values,B)),interpolation:_}),a.push({sampler:A.length-1,target:{node:r.get(v),path:m}})}const l={name:e.name||"clip_"+n.animations.length,samplers:A,channels:a};return this.serializeUserData(e,l),n.animations.push(l),n.animations.length-1}processSkin(e){const t=this.json,n=this.nodeMap,r=t.nodes[n.get(e)],s=e.skeleton;if(s===void 0)return null;const a=e.skeleton.bones[0];if(a===void 0)return null;const A=[],l=new Float32Array(s.bones.length*16),c=new Vn;for(let g=0;g<s.bones.length;++g)A.push(n.get(s.bones[g])),c.copy(s.boneInverses[g]),c.multiply(e.bindMatrix).toArray(l,g*16);return t.skins===void 0&&(t.skins=[]),t.skins.push({inverseBindMatrices:this.processAccessor(new qi(l,16)),joints:A,skeleton:n.get(a)}),r.skin=t.skins.length-1}async processNodeAsync(e){const t=this.json,n=this.options,r=this.nodeMap;t.nodes||(t.nodes=[]);const s={};if(n.trs){const A=e.quaternion.toArray(),l=e.position.toArray(),c=e.scale.toArray();h1(A,[0,0,0,1])||(s.rotation=A),h1(l,[0,0,0])||(s.translation=l),h1(c,[1,1,1])||(s.scale=c)}else e.matrixAutoUpdate&&e.updateMatrix(),i$(e.matrix)===!1&&(s.matrix=e.matrix.elements);if(e.name!==""&&(s.name=String(e.name)),this.serializeUserData(e,s),e.isMesh||e.isLine||e.isPoints){const A=await this.processMeshAsync(e);A!==null&&(s.mesh=A)}else e.isCamera&&(s.camera=this.processCamera(e));e.isSkinnedMesh&&this.skins.push(e);const a=t.nodes.push(s)-1;if(r.set(e,a),e.children.length>0){const A=[];for(let l=0,c=e.children.length;l<c;l++){const h=e.children[l];if(h.visible||n.onlyVisible===!1){const g=await this.processNodeAsync(h);g!==null&&A.push(g)}}A.length>0&&(s.children=A)}return await this._invokeAllAsync(function(A){A.writeNode&&A.writeNode(e,s)}),a}async processSceneAsync(e){const t=this.json,n=this.options;t.scenes||(t.scenes=[],t.scene=0);const r={};e.name!==""&&(r.name=e.name),t.scenes.push(r);const s=[];for(let a=0,A=e.children.length;a<A;a++){const l=e.children[a];if(l.visible||n.onlyVisible===!1){const c=await this.processNodeAsync(l);c!==null&&s.push(c)}}s.length>0&&(r.nodes=s),this.serializeUserData(e,r)}async processObjectsAsync(e){const t=new Hm;t.name="AuxScene";for(let n=0;n<e.length;n++)t.children.push(e[n]);await this.processSceneAsync(t)}async processInputAsync(e){const t=this.options;e=e instanceof Array?e:[e],await this._invokeAllAsync(function(r){r.beforeParse&&r.beforeParse(e)});const n=[];for(let r=0;r<e.length;r++)e[r]instanceof Hm?await this.processSceneAsync(e[r]):n.push(e[r]);n.length>0&&await this.processObjectsAsync(n);for(let r=0;r<this.skins.length;++r)this.processSkin(this.skins[r]);for(let r=0;r<t.animations.length;++r)this.processAnimation(t.animations[r],e[0]);await this._invokeAllAsync(function(r){r.afterParse&&r.afterParse(e)})}async _invokeAllAsync(e){for(let t=0,n=this.plugins.length;t<n;t++)await e(this.plugins[t])}}class o${constructor(e){this.writer=e,this.name="KHR_lights_punctual"}writeNode(e,t){if(!e.isLight)return;if(!e.isDirectionalLight&&!e.isPointLight&&!e.isSpotLight){console.warn("THREE.GLTFExporter: Only directional, point, and spot lights are supported.",e);return}const n=this.writer,r=n.json,s=n.extensionsUsed,a={};e.name&&(a.name=e.name),a.color=e.color.toArray(),a.intensity=e.intensity,e.isDirectionalLight?a.type="directional":e.isPointLight?(a.type="point",e.distance>0&&(a.range=e.distance)):e.isSpotLight&&(a.type="spot",e.distance>0&&(a.range=e.distance),a.spot={},a.spot.innerConeAngle=(1-e.penumbra)*e.angle,a.spot.outerConeAngle=e.angle),e.decay!==void 0&&e.decay!==2&&console.warn("THREE.GLTFExporter: Light decay may be lost. glTF is physically-based, and expects light.decay=2."),e.target&&(e.target.parent!==e||e.target.position.x!==0||e.target.position.y!==0||e.target.position.z!==-1)&&console.warn("THREE.GLTFExporter: Light direction may be lost. For best results, make light.target a child of the light with position 0,0,-1."),s[this.name]||(r.extensions=r.extensions||{},r.extensions[this.name]={lights:[]},s[this.name]=!0);const A=r.extensions[this.name].lights;A.push(a),t.extensions=t.extensions||{},t.extensions[this.name]={light:A.length-1}}}class A${constructor(e){this.writer=e,this.name="KHR_materials_unlit"}async writeMaterialAsync(e,t){if(!e.isMeshBasicMaterial)return;const r=this.writer.extensionsUsed;t.extensions=t.extensions||{},t.extensions[this.name]={},r[this.name]=!0,t.pbrMetallicRoughness.metallicFactor=0,t.pbrMetallicRoughness.roughnessFactor=.9}}class l${constructor(e){this.writer=e,this.name="KHR_materials_clearcoat"}async writeMaterialAsync(e,t){if(!e.isMeshPhysicalMaterial||e.clearcoat===0)return;const n=this.writer,r=n.extensionsUsed,s={};if(s.clearcoatFactor=e.clearcoat,e.clearcoatMap){const a={index:await n.processTextureAsync(e.clearcoatMap),texCoord:e.clearcoatMap.channel};n.applyTextureTransform(a,e.clearcoatMap),s.clearcoatTexture=a}if(s.clearcoatRoughnessFactor=e.clearcoatRoughness,e.clearcoatRoughnessMap){const a={index:await n.processTextureAsync(e.clearcoatRoughnessMap),texCoord:e.clearcoatRoughnessMap.channel};n.applyTextureTransform(a,e.clearcoatRoughnessMap),s.clearcoatRoughnessTexture=a}if(e.clearcoatNormalMap){const a={index:await n.processTextureAsync(e.clearcoatNormalMap),texCoord:e.clearcoatNormalMap.channel};e.clearcoatNormalScale.x!==1&&(a.scale=e.clearcoatNormalScale.x),n.applyTextureTransform(a,e.clearcoatNormalMap),s.clearcoatNormalTexture=a}t.extensions=t.extensions||{},t.extensions[this.name]=s,r[this.name]=!0}}class u${constructor(e){this.writer=e,this.name="KHR_materials_dispersion"}async writeMaterialAsync(e,t){if(!e.isMeshPhysicalMaterial||e.dispersion===0)return;const r=this.writer.extensionsUsed,s={};s.dispersion=e.dispersion,t.extensions=t.extensions||{},t.extensions[this.name]=s,r[this.name]=!0}}class c${constructor(e){this.writer=e,this.name="KHR_materials_iridescence"}async writeMaterialAsync(e,t){if(!e.isMeshPhysicalMaterial||e.iridescence===0)return;const n=this.writer,r=n.extensionsUsed,s={};if(s.iridescenceFactor=e.iridescence,e.iridescenceMap){const a={index:await n.processTextureAsync(e.iridescenceMap),texCoord:e.iridescenceMap.channel};n.applyTextureTransform(a,e.iridescenceMap),s.iridescenceTexture=a}if(s.iridescenceIor=e.iridescenceIOR,s.iridescenceThicknessMinimum=e.iridescenceThicknessRange[0],s.iridescenceThicknessMaximum=e.iridescenceThicknessRange[1],e.iridescenceThicknessMap){const a={index:await n.processTextureAsync(e.iridescenceThicknessMap),texCoord:e.iridescenceThicknessMap.channel};n.applyTextureTransform(a,e.iridescenceThicknessMap),s.iridescenceThicknessTexture=a}t.extensions=t.extensions||{},t.extensions[this.name]=s,r[this.name]=!0}}class f${constructor(e){this.writer=e,this.name="KHR_materials_transmission"}async writeMaterialAsync(e,t){if(!e.isMeshPhysicalMaterial||e.transmission===0)return;const n=this.writer,r=n.extensionsUsed,s={};if(s.transmissionFactor=e.transmission,e.transmissionMap){const a={index:await n.processTextureAsync(e.transmissionMap),texCoord:e.transmissionMap.channel};n.applyTextureTransform(a,e.transmissionMap),s.transmissionTexture=a}t.extensions=t.extensions||{},t.extensions[this.name]=s,r[this.name]=!0}}class h${constructor(e){this.writer=e,this.name="KHR_materials_volume"}async writeMaterialAsync(e,t){if(!e.isMeshPhysicalMaterial||e.transmission===0)return;const n=this.writer,r=n.extensionsUsed,s={};if(s.thicknessFactor=e.thickness,e.thicknessMap){const a={index:await n.processTextureAsync(e.thicknessMap),texCoord:e.thicknessMap.channel};n.applyTextureTransform(a,e.thicknessMap),s.thicknessTexture=a}e.attenuationDistance!==1/0&&(s.attenuationDistance=e.attenuationDistance),s.attenuationColor=e.attenuationColor.toArray(),t.extensions=t.extensions||{},t.extensions[this.name]=s,r[this.name]=!0}}class d${constructor(e){this.writer=e,this.name="KHR_materials_ior"}async writeMaterialAsync(e,t){if(!e.isMeshPhysicalMaterial||e.ior===1.5)return;const r=this.writer.extensionsUsed,s={};s.ior=e.ior,t.extensions=t.extensions||{},t.extensions[this.name]=s,r[this.name]=!0}}class p${constructor(e){this.writer=e,this.name="KHR_materials_specular"}async writeMaterialAsync(e,t){if(!e.isMeshPhysicalMaterial||e.specularIntensity===1&&e.specularColor.equals(JZ)&&!e.specularIntensityMap&&!e.specularColorMap)return;const n=this.writer,r=n.extensionsUsed,s={};if(e.specularIntensityMap){const a={index:await n.processTextureAsync(e.specularIntensityMap),texCoord:e.specularIntensityMap.channel};n.applyTextureTransform(a,e.specularIntensityMap),s.specularTexture=a}if(e.specularColorMap){const a={index:await n.processTextureAsync(e.specularColorMap),texCoord:e.specularColorMap.channel};n.applyTextureTransform(a,e.specularColorMap),s.specularColorTexture=a}s.specularFactor=e.specularIntensity,s.specularColorFactor=e.specularColor.toArray(),t.extensions=t.extensions||{},t.extensions[this.name]=s,r[this.name]=!0}}class g${constructor(e){this.writer=e,this.name="KHR_materials_sheen"}async writeMaterialAsync(e,t){if(!e.isMeshPhysicalMaterial||e.sheen==0)return;const n=this.writer,r=n.extensionsUsed,s={};if(e.sheenRoughnessMap){const a={index:await n.processTextureAsync(e.sheenRoughnessMap),texCoord:e.sheenRoughnessMap.channel};n.applyTextureTransform(a,e.sheenRoughnessMap),s.sheenRoughnessTexture=a}if(e.sheenColorMap){const a={index:await n.processTextureAsync(e.sheenColorMap),texCoord:e.sheenColorMap.channel};n.applyTextureTransform(a,e.sheenColorMap),s.sheenColorTexture=a}s.sheenRoughnessFactor=e.sheenRoughness,s.sheenColorFactor=e.sheenColor.toArray(),t.extensions=t.extensions||{},t.extensions[this.name]=s,r[this.name]=!0}}class m${constructor(e){this.writer=e,this.name="KHR_materials_anisotropy"}async writeMaterialAsync(e,t){if(!e.isMeshPhysicalMaterial||e.anisotropy==0)return;const n=this.writer,r=n.extensionsUsed,s={};if(e.anisotropyMap){const a={index:await n.processTextureAsync(e.anisotropyMap)};n.applyTextureTransform(a,e.anisotropyMap),s.anisotropyTexture=a}s.anisotropyStrength=e.anisotropy,s.anisotropyRotation=e.anisotropyRotation,t.extensions=t.extensions||{},t.extensions[this.name]=s,r[this.name]=!0}}class v${constructor(e){this.writer=e,this.name="KHR_materials_emissive_strength"}async writeMaterialAsync(e,t){if(!e.isMeshStandardMaterial||e.emissiveIntensity===1)return;const r=this.writer.extensionsUsed,s={};s.emissiveStrength=e.emissiveIntensity,t.extensions=t.extensions||{},t.extensions[this.name]=s,r[this.name]=!0}}class y${constructor(e){this.writer=e,this.name="EXT_materials_bump"}async writeMaterialAsync(e,t){if(!e.isMeshStandardMaterial||e.bumpScale===1&&!e.bumpMap)return;const n=this.writer,r=n.extensionsUsed,s={};if(e.bumpMap){const a={index:await n.processTextureAsync(e.bumpMap),texCoord:e.bumpMap.channel};n.applyTextureTransform(a,e.bumpMap),s.bumpTexture=a}s.bumpFactor=e.bumpScale,t.extensions=t.extensions||{},t.extensions[this.name]=s,r[this.name]=!0}}class w${constructor(e){this.writer=e,this.name="EXT_mesh_gpu_instancing"}writeNode(e,t){if(!e.isInstancedMesh)return;const n=this.writer,r=e,s=new Float32Array(r.count*3),a=new Float32Array(r.count*4),A=new Float32Array(r.count*3),l=new Vn,c=new Ce,h=new Ko,g=new Ce;for(let m=0;m<r.count;m++)r.getMatrixAt(m,l),l.decompose(c,h,g),c.toArray(s,m*3),h.toArray(a,m*4),g.toArray(A,m*3);const v={TRANSLATION:n.processAccessor(new qi(s,3)),ROTATION:n.processAccessor(new qi(a,4)),SCALE:n.processAccessor(new qi(A,3))};r.instanceColor&&(v._COLOR_0=n.processAccessor(r.instanceColor)),t.extensions=t.extensions||{},t.extensions[this.name]={attributes:v},n.extensionsUsed[this.name]=!0,n.extensionsRequired[this.name]=!0}}Sb.Utils={insertKeyframe:function(i,e){const n=i.getValueSize(),r=new i.TimeBufferType(i.times.length+1),s=new i.ValueBufferType(i.values.length+n),a=i.createInterpolant(new i.ValueBufferType(n));let A;if(i.times.length===0){r[0]=e;for(let l=0;l<n;l++)s[l]=0;A=0}else if(e<i.times[0]){if(Math.abs(i.times[0]-e)<.001)return 0;r[0]=e,r.set(i.times,1),s.set(a.evaluate(e),0),s.set(i.values,n),A=0}else if(e>i.times[i.times.length-1]){if(Math.abs(i.times[i.times.length-1]-e)<.001)return i.times.length-1;r[r.length-1]=e,r.set(i.times,0),s.set(i.values,0),s.set(a.evaluate(e),i.values.length),A=r.length-1}else for(let l=0;l<i.times.length;l++){if(Math.abs(i.times[l]-e)<.001)return l;if(i.times[l]<e&&i.times[l+1]>e){r.set(i.times.slice(0,l+1),0),r[l+1]=e,r.set(i.times.slice(l+1),l+2),s.set(i.values.slice(0,(l+1)*n),0),s.set(a.evaluate(e),(l+1)*n),s.set(i.values.slice((l+1)*n),(l+2)*n),A=l+1;break}}return i.times=r,i.values=s,A},mergeMorphTargetTracks:function(i,e){const t=[],n={},r=i.tracks;for(let s=0;s<r.length;++s){let a=r[s];const A=Hi.parseTrackName(a.name),l=Hi.findNode(e,A.nodeName);if(A.propertyName!=="morphTargetInfluences"||A.propertyIndex===void 0){t.push(a);continue}if(a.createInterpolant!==a.InterpolantFactoryMethodDiscrete&&a.createInterpolant!==a.InterpolantFactoryMethodLinear){if(a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)throw new Error("THREE.GLTFExporter: Cannot merge tracks with glTF CUBICSPLINE interpolation.");console.warn("THREE.GLTFExporter: Morph target interpolation mode not yet supported. Using LINEAR instead."),a=a.clone(),a.setInterpolation(P1)}const c=l.morphTargetInfluences.length,h=l.morphTargetDictionary[A.propertyIndex];if(h===void 0)throw new Error("THREE.GLTFExporter: Morph target name not found: "+A.propertyIndex);let g;if(n[l.uuid]===void 0){g=a.clone();const m=new g.ValueBufferType(c*g.times.length);for(let x=0;x<g.times.length;x++)m[x*c+h]=g.values[x];g.name=(A.nodeName||"")+".morphTargetInfluences",g.values=m,n[l.uuid]=g,t.push(g);continue}const v=a.createInterpolant(new a.ValueBufferType(1));g=n[l.uuid];for(let m=0;m<g.times.length;m++)g.values[m*c+h]=v.evaluate(g.times[m]);for(let m=0;m<a.times.length;m++){const x=this.insertKeyframe(g,a.times[m]);g.values[x*c+h]=a.values[m]}}return i.tracks=t,i},toFloat32BufferAttribute:function(i){const e=new qi(new Float32Array(i.count*i.itemSize),i.itemSize,!1);if(!i.normalized&&!i.isInterleavedBufferAttribute)return e.array.set(i.array),e;for(let t=0,n=i.count;t<n;t++)for(let r=0;r<i.itemSize;r++)e.setComponent(t,r,i.getComponent(t,r));return e}};const x$=(i,e)=>{const t=URL.createObjectURL(i),n=document.createElement("a");n.href=t,n.download=e,n.click(),URL.revokeObjectURL(t)},b$=(i,e="cabinet.glb")=>{if(!i){alert("Nothing to export yet.");return}const t=i.clone(!0);t.traverse(r=>{const s=r;(Array.isArray(s.material)?s.material:[s.material]).forEach(A=>{A&&(A.map=null,A.emissiveMap=null,A.metalnessMap=null,A.roughnessMap=null,A.normalMap=null,A.aoMap=null,A.alphaMap=null,A.displacementMap=null,A.lightMap=null,A.envMap=null,A.needsUpdate=!0)})}),new Sb().parse(t,r=>{r instanceof ArrayBuffer&&x$(new Blob([r],{type:"model/gltf-binary"}),e)},r=>{console.error("GLB export failed",r),alert("Failed to export GLB. See console for details.")},{binary:!0})},_$=()=>{const{width:i,setWidth:e,depth:t,setDepth:n,floorHeight:r,setFloorHeight:s,cabinetColor:a,setCabinetColor:A,showSkirting:l,setShowSkirting:c,showFeet:h,setShowFeet:g,recessDistance:v,setRecessDistance:m,numFeetPerRow:x,setNumFeetPerRow:B,blocks:_,addBlock:b,removeBlock:M,updateBlock:T,setCabinetState:U,exportRoot:R}=VE(),[O,z]=ht.useState({}),V=ht.useRef(null),I=H=>{z(ae=>({...ae,[H]:!ae[H]}))},P=async()=>{console.log("[Sidebar] Export PDF clicked");try{await YZ()}catch(H){console.error("Export Failed",H),alert("Failed to export PDF. See console for details.")}},k=()=>{const H={width:i,depth:t,floorHeight:r,cabinetColor:a,showSkirting:l,showFeet:h,recessDistance:v,numFeetPerRow:x,blocks:_},ae=new Blob([JSON.stringify(H,null,2)],{type:"application/json"}),Z=URL.createObjectURL(ae),ne=document.createElement("a");ne.href=Z,ne.download="cabinet.cbt",ne.click(),URL.revokeObjectURL(Z)},G=()=>{V.current?.click()},q=H=>{const ae=H.target.files?.[0];if(!ae)return;if(!window.confirm("Loading will replace the current cabinet. Continue?")){H.target.value="";return}const ne=new FileReader;ne.onload=()=>{try{const oe=JSON.parse(ne.result);if(!oe||!Array.isArray(oe.blocks))throw new Error("Invalid cabinet file.");U(oe)}catch(oe){console.error("Failed to load cabinet",oe),alert("Failed to load cabinet file.")}},ne.readAsText(ae),H.target.value=""};return Me.jsxs("div",{className:"sidebar",children:[Me.jsxs("div",{className:"sidebar-top-pane",children:[Me.jsx("h2",{children:"Cabinet Settings"}),Me.jsxs("div",{className:"control-group",children:[Me.jsx("label",{children:"Width (mm)"}),Me.jsxs("div",{className:"control-row",children:[Me.jsx("input",{type:"number",value:i,onChange:H=>e(Number(H.target.value))}),Me.jsx("input",{type:"range",min:200,max:3e3,step:10,value:i,onChange:H=>e(Number(H.target.value))})]})]}),Me.jsxs("div",{className:"control-group",children:[Me.jsx("label",{children:"Depth (mm)"}),Me.jsxs("div",{className:"control-row",children:[Me.jsx("input",{type:"number",value:t,onChange:H=>n(Number(H.target.value))}),Me.jsx("input",{type:"range",min:200,max:2e3,step:10,value:t,onChange:H=>n(Number(H.target.value))})]})]}),Me.jsxs("div",{className:"control-group",children:[Me.jsx("label",{children:"Height from Floor (mm)"}),Me.jsx("input",{type:"number",value:r,onChange:H=>s(Number(H.target.value))})]}),Me.jsx("div",{className:"control-group",children:Me.jsxs("div",{className:"checkbox-row",children:[Me.jsx("input",{type:"checkbox",id:"showSkirting",checked:l,onChange:H=>c(H.target.checked)}),Me.jsx("label",{htmlFor:"showSkirting",children:"Skirting"}),Me.jsx("input",{type:"checkbox",id:"showFeet",checked:h,onChange:H=>g(H.target.checked)}),Me.jsx("label",{htmlFor:"showFeet",children:"Feet"})]})}),Me.jsx("div",{className:"control-group",children:Me.jsxs("div",{className:"control-inline",children:[Me.jsx("label",{children:"Number of Feet Per Row"}),Me.jsx("input",{type:"number",min:2,value:x,onChange:H=>B(Number(H.target.value))})]})}),Me.jsx("div",{className:"control-group",children:Me.jsxs("div",{className:"control-inline",children:[Me.jsx("label",{children:"Recess Distance (mm)"}),Me.jsx("input",{type:"number",min:0,value:v,onChange:H=>m(Number(H.target.value))})]})}),Me.jsx("div",{className:"control-group",children:Me.jsxs("div",{className:"control-inline",children:[Me.jsx("label",{children:"Cabinet Color"}),Me.jsx("input",{type:"color",value:a,onChange:H=>A(H.target.value)})]})})]}),Me.jsx("div",{className:"sidebar-divider"}),Me.jsxs("div",{className:"sidebar-bottom-pane",children:[Me.jsxs("div",{className:"blocks-header",children:[Me.jsx("h3",{children:"Blocks"}),Me.jsx("button",{className:"add-block-btn",type:"button",onClick:b,children:"Add Block"})]}),Me.jsx("div",{className:"blocks-scroll",children:_.map((H,ae)=>{const Z=O[H.id],ne=`Block ${ae+1}${ae===0?" (Bottom)":""}`;return Me.jsxs("div",{className:"block-card",children:[Me.jsxs("div",{className:"block-card-header",children:[Me.jsxs("button",{className:"block-toggle",type:"button",onClick:()=>I(H.id),"aria-expanded":!Z,"aria-label":`${Z?"Expand":"Collapse"} ${ne}`,children:[Me.jsx("span",{className:"chevron","aria-hidden":"true",children:Z?"":""}),ne]}),Me.jsx("button",{className:"block-remove",type:"button",onClick:()=>M(H.id),disabled:_.length===1,children:"Remove"})]}),!Z&&Me.jsxs("div",{className:"block-card-body",children:[Me.jsxs("div",{className:"control-group",children:[Me.jsx("label",{children:"Height (mm)"}),Me.jsxs("div",{className:"control-row",children:[Me.jsx("input",{type:"number",value:H.height,onChange:oe=>T(H.id,{height:Number(oe.target.value)})}),Me.jsx("input",{type:"range",min:200,max:3e3,step:10,value:H.height,onChange:oe=>T(H.id,{height:Number(oe.target.value)})})]})]}),Me.jsx("div",{className:"control-group",children:Me.jsxs("div",{className:"checkbox-row",children:[Me.jsx("input",{type:"checkbox",id:`useDoors-${H.id}`,checked:H.useDoors,onChange:oe=>T(H.id,{useDoors:oe.target.checked,useDrawers:oe.target.checked?!1:H.useDrawers,useTrunk:oe.target.checked?!1:H.useTrunk})}),Me.jsx("label",{htmlFor:`useDoors-${H.id}`,children:"Doors"}),Me.jsx("input",{type:"checkbox",id:`useDrawers-${H.id}`,checked:H.useDrawers,onChange:oe=>T(H.id,{useDrawers:oe.target.checked,useDoors:oe.target.checked?!1:H.useDoors,useTrunk:oe.target.checked?!1:H.useTrunk})}),Me.jsx("label",{htmlFor:`useDrawers-${H.id}`,children:"Drawers"}),Me.jsx("input",{type:"checkbox",id:`useTrunk-${H.id}`,checked:H.useTrunk,onChange:oe=>T(H.id,{useTrunk:oe.target.checked,useDoors:oe.target.checked?!1:H.useDoors,useDrawers:oe.target.checked?!1:H.useDrawers})}),Me.jsx("label",{htmlFor:`useTrunk-${H.id}`,children:"Trunk"})]})}),!H.useTrunk&&Me.jsx("div",{className:"control-group",children:Me.jsxs("div",{className:"control-inline",children:[Me.jsx("label",{children:"Rows"}),Me.jsx("input",{type:"number",min:1,value:H.numRows,onChange:oe=>T(H.id,{numRows:Number(oe.target.value)})}),Me.jsx("label",{children:"Columns"}),Me.jsx("input",{type:"number",min:1,value:H.numCols,onChange:oe=>T(H.id,{numCols:Number(oe.target.value)})})]})}),H.useTrunk&&Me.jsx("div",{className:"control-group",children:Me.jsxs("div",{className:"control-inline",children:[Me.jsx("label",{children:"Lid Height (mm)"}),Me.jsx("input",{type:"number",min:0,value:H.lidHeight,onChange:oe=>T(H.id,{lidHeight:Number(oe.target.value)})})]})}),H.useDoors&&Me.jsxs("div",{className:"control-group checkbox-group",children:[Me.jsx("input",{type:"checkbox",id:`doorsOpen-${H.id}`,checked:H.doorsOpen,onChange:oe=>T(H.id,{doorsOpen:oe.target.checked})}),Me.jsx("label",{htmlFor:`doorsOpen-${H.id}`,children:"Open Doors"})]}),H.useTrunk&&Me.jsxs("div",{className:"control-group checkbox-group",children:[Me.jsx("input",{type:"checkbox",id:`lidOpen-${H.id}`,checked:H.lidOpen,onChange:oe=>T(H.id,{lidOpen:oe.target.checked})}),Me.jsx("label",{htmlFor:`lidOpen-${H.id}`,children:"Open Lid"})]}),H.useDrawers&&Me.jsxs("div",{className:"control-group checkbox-group",children:[Me.jsx("input",{type:"checkbox",id:`drawersOpen-${H.id}`,checked:H.drawersOpen,onChange:oe=>T(H.id,{drawersOpen:oe.target.checked})}),Me.jsx("label",{htmlFor:`drawersOpen-${H.id}`,children:"Open Drawers"})]}),!H.useDrawers&&!H.useTrunk&&Me.jsxs("div",{className:"control-group",children:[Me.jsx("label",{children:"Number of Shelves"}),Me.jsx("input",{type:"number",min:0,value:H.numShelves,onChange:oe=>T(H.id,{numShelves:Number(oe.target.value)})})]})]})]},H.id)})}),Me.jsx("div",{className:"sidebar-actions-bar",children:Me.jsxs("div",{className:"sidebar-actions",children:[Me.jsx("button",{className:"export-btn",onClick:P,children:"Export PDF"}),Me.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>b$(R),children:"Export GLB"}),Me.jsx("button",{className:"secondary-btn",type:"button",onClick:k,children:"Save cabinet"}),Me.jsx("button",{className:"secondary-btn",type:"button",onClick:G,children:"Load cabinet"})]})})]}),Me.jsx("input",{ref:V,type:"file",accept:".cbt",style:{display:"none"},onChange:q})]})};var i5=Mv(),li=i=>Ev(i,i5),r5=Mv();li.write=i=>Ev(i,r5);var L_=Mv();li.onStart=i=>Ev(i,L_);var s5=Mv();li.onFrame=i=>Ev(i,s5);var a5=Mv();li.onFinish=i=>Ev(i,a5);var Mm=[];li.setTimeout=(i,e)=>{const t=li.now()+e,n=()=>{const s=Mm.findIndex(a=>a.cancel==n);~s&&Mm.splice(s,1),pd-=~s?1:0},r={time:t,handler:i,cancel:n};return Mm.splice(KN(t),0,r),pd+=1,WN(),r};var KN=i=>~(~Mm.findIndex(e=>e.time>i)||~Mm.length);li.cancel=i=>{L_.delete(i),s5.delete(i),a5.delete(i),i5.delete(i),r5.delete(i)};li.sync=i=>{LC=!0,li.batchedUpdates(i),LC=!1};li.throttle=i=>{let e;function t(){try{i(...e)}finally{e=null}}function n(...r){e=r,li.onStart(t)}return n.handler=i,n.cancel=()=>{L_.delete(t),e=null},n};var o5=typeof window<"u"?window.requestAnimationFrame:(()=>{});li.use=i=>o5=i;li.now=typeof performance<"u"?()=>performance.now():Date.now;li.batchedUpdates=i=>i();li.catch=console.error;li.frameLoop="always";li.advance=()=>{li.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):XN()};var dd=-1,pd=0,LC=!1;function Ev(i,e){LC?(e.delete(i),i(0)):(e.add(i),WN())}function WN(){dd<0&&(dd=0,li.frameLoop!=="demand"&&o5(qN))}function B$(){dd=-1}function qN(){~dd&&(o5(qN),li.batchedUpdates(XN))}function XN(){const i=dd;dd=li.now();const e=KN(dd);if(e&&(YN(Mm.splice(0,e),t=>t.handler()),pd-=e),!pd){B$();return}L_.flush(),i5.flush(i?Math.min(64,dd-i):16.667),s5.flush(),r5.flush(),a5.flush()}function Mv(){let i=new Set,e=i;return{add(t){pd+=e==i&&!i.has(t)?1:0,i.add(t)},delete(t){return pd-=e==i&&i.has(t)?1:0,i.delete(t)},flush(t){e.size&&(i=new Set,pd-=e.size,YN(e,n=>n(t)&&i.add(n)),pd+=i.size,e=i)}}}function YN(i,e){i.forEach(t=>{try{e(t)}catch(n){li.catch(n)}})}var S$=Object.defineProperty,C$=(i,e)=>{for(var t in e)S$(i,t,{get:e[t],enumerable:!0})},Sc={};C$(Sc,{assign:()=>M$,colors:()=>vd,createStringInterpolator:()=>l5,skipAnimation:()=>ZN,to:()=>JN,willAdvance:()=>u5});function IC(){}var E$=(i,e,t)=>Object.defineProperty(i,e,{value:t,writable:!0,configurable:!0}),en={arr:Array.isArray,obj:i=>!!i&&i.constructor.name==="Object",fun:i=>typeof i=="function",str:i=>typeof i=="string",num:i=>typeof i=="number",und:i=>i===void 0};function sh(i,e){if(en.arr(i)){if(!en.arr(e)||i.length!==e.length)return!1;for(let t=0;t<i.length;t++)if(i[t]!==e[t])return!1;return!0}return i===e}var Ur=(i,e)=>i.forEach(e);function mh(i,e,t){if(en.arr(i)){for(let n=0;n<i.length;n++)e.call(t,i[n],`${n}`);return}for(const n in i)i.hasOwnProperty(n)&&e.call(t,i[n],n)}var zu=i=>en.und(i)?[]:en.arr(i)?i:[i];function I1(i,e){if(i.size){const t=Array.from(i);i.clear(),Ur(t,e)}}var d1=(i,...e)=>I1(i,t=>t(...e)),A5=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),l5,JN,vd=null,ZN=!1,u5=IC,M$=i=>{i.to&&(JN=i.to),i.now&&(li.now=i.now),i.colors!==void 0&&(vd=i.colors),i.skipAnimation!=null&&(ZN=i.skipAnimation),i.createStringInterpolator&&(l5=i.createStringInterpolator),i.requestAnimationFrame&&li.use(i.requestAnimationFrame),i.batchedUpdates&&(li.batchedUpdates=i.batchedUpdates),i.willAdvance&&(u5=i.willAdvance),i.frameLoop&&(li.frameLoop=i.frameLoop)},R1=new Set,Qu=[],v2=[],Cb=0,I_={get idle(){return!R1.size&&!Qu.length},start(i){Cb>i.priority?(R1.add(i),li.onStart(U$)):($N(i),li(RC))},advance:RC,sort(i){if(Cb)li.onFrame(()=>I_.sort(i));else{const e=Qu.indexOf(i);~e&&(Qu.splice(e,1),eD(i))}},clear(){Qu=[],R1.clear()}};function U$(){R1.forEach($N),R1.clear(),li(RC)}function $N(i){Qu.includes(i)||eD(i)}function eD(i){Qu.splice(T$(Qu,e=>e.priority>i.priority),0,i)}function RC(i){const e=v2;for(let t=0;t<Qu.length;t++){const n=Qu[t];Cb=n.priority,n.idle||(u5(n),n.advance(i),n.idle||e.push(n))}return Cb=0,v2=Qu,v2.length=0,Qu=e,Qu.length>0}function T$(i,e){const t=i.findIndex(e);return t<0?i.length:t}var F$={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},xc="[-+]?\\d*\\.?\\d+",Eb=xc+"%";function R_(...i){return"\\(\\s*("+i.join(")\\s*,\\s*(")+")\\s*\\)"}var L$=new RegExp("rgb"+R_(xc,xc,xc)),I$=new RegExp("rgba"+R_(xc,xc,xc,xc)),R$=new RegExp("hsl"+R_(xc,Eb,Eb)),N$=new RegExp("hsla"+R_(xc,Eb,Eb,xc)),D$=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,O$=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,P$=/^#([0-9a-fA-F]{6})$/,Q$=/^#([0-9a-fA-F]{8})$/;function H$(i){let e;return typeof i=="number"?i>>>0===i&&i>=0&&i<=4294967295?i:null:(e=P$.exec(i))?parseInt(e[1]+"ff",16)>>>0:vd&&vd[i]!==void 0?vd[i]:(e=L$.exec(i))?(lm(e[1])<<24|lm(e[2])<<16|lm(e[3])<<8|255)>>>0:(e=I$.exec(i))?(lm(e[1])<<24|lm(e[2])<<16|lm(e[3])<<8|iF(e[4]))>>>0:(e=D$.exec(i))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=Q$.exec(i))?parseInt(e[1],16)>>>0:(e=O$.exec(i))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=R$.exec(i))?(tF(nF(e[1]),Yw(e[2]),Yw(e[3]))|255)>>>0:(e=N$.exec(i))?(tF(nF(e[1]),Yw(e[2]),Yw(e[3]))|iF(e[4]))>>>0:null}function y2(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*(2/3-t)*6:i}function tF(i,e,t){const n=t<.5?t*(1+e):t+e-t*e,r=2*t-n,s=y2(r,n,i+1/3),a=y2(r,n,i),A=y2(r,n,i-1/3);return Math.round(s*255)<<24|Math.round(a*255)<<16|Math.round(A*255)<<8}function lm(i){const e=parseInt(i,10);return e<0?0:e>255?255:e}function nF(i){return(parseFloat(i)%360+360)%360/360}function iF(i){const e=parseFloat(i);return e<0?0:e>1?255:Math.round(e*255)}function Yw(i){const e=parseFloat(i);return e<0?0:e>100?1:e/100}function rF(i){let e=H$(i);if(e===null)return i;e=e||0;const t=(e&4278190080)>>>24,n=(e&16711680)>>>16,r=(e&65280)>>>8,s=(e&255)/255;return`rgba(${t}, ${n}, ${r}, ${s})`}var sv=(i,e,t)=>{if(en.fun(i))return i;if(en.arr(i))return sv({range:i,output:e,extrapolate:t});if(en.str(i.output[0]))return l5(i);const n=i,r=n.output,s=n.range||[0,1],a=n.extrapolateLeft||n.extrapolate||"extend",A=n.extrapolateRight||n.extrapolate||"extend",l=n.easing||(c=>c);return c=>{const h=z$(c,s);return k$(c,s[h],s[h+1],r[h],r[h+1],l,a,A,n.map)}};function k$(i,e,t,n,r,s,a,A,l){let c=l?l(i):i;if(c<e){if(a==="identity")return c;a==="clamp"&&(c=e)}if(c>t){if(A==="identity")return c;A==="clamp"&&(c=t)}return n===r?n:e===t?i<=e?n:r:(e===-1/0?c=-c:t===1/0?c=c-e:c=(c-e)/(t-e),c=s(c),n===-1/0?c=-c:r===1/0?c=c+n:c=c*(r-n)+n,c)}function z$(i,e){for(var t=1;t<e.length-1&&!(e[t]>=i);++t);return t-1}var G$={linear:i=>i},av=Symbol.for("FluidValue.get"),Vm=Symbol.for("FluidValue.observers"),df=i=>!!(i&&i[av]),Du=i=>i&&i[av]?i[av]():i,sF=i=>i[Vm]||null;function V$(i,e){i.eventObserved?i.eventObserved(e):i(e)}function Mb(i,e){const t=i[Vm];t&&t.forEach(n=>{V$(n,e)})}var j$=class{constructor(i){if(!i&&!(i=this.get))throw Error("Unknown getter");K$(this,i)}},K$=(i,e)=>tD(i,av,e);function Uv(i,e){if(i[av]){let t=i[Vm];t||tD(i,Vm,t=new Set),t.has(e)||(t.add(e),i.observerAdded&&i.observerAdded(t.size,e))}return e}function Ub(i,e){const t=i[Vm];if(t&&t.has(e)){const n=t.size-1;n?t.delete(e):i[Vm]=null,i.observerRemoved&&i.observerRemoved(n,e)}}var tD=(i,e,t)=>Object.defineProperty(i,e,{value:t,writable:!0,configurable:!0}),hx=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,W$=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,aF=new RegExp(`(${hx.source})(%|[a-z]+)`,"i"),q$=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,N_=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,nD=i=>{const[e,t]=X$(i);if(!e||A5())return i;const n=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(n)return n.trim();if(t&&t.startsWith("--")){const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);return r||i}else{if(t&&N_.test(t))return nD(t);if(t)return t}return i},X$=i=>{const e=N_.exec(i);if(!e)return[,];const[,t,n]=e;return[t,n]},w2,Y$=(i,e,t,n,r)=>`rgba(${Math.round(e)}, ${Math.round(t)}, ${Math.round(n)}, ${r})`,iD=i=>{w2||(w2=vd?new RegExp(`(${Object.keys(vd).join("|")})(?!\\w)`,"g"):/^\b$/);const e=i.output.map(s=>Du(s).replace(N_,nD).replace(W$,rF).replace(w2,rF)),t=e.map(s=>s.match(hx).map(Number)),r=t[0].map((s,a)=>t.map(A=>{if(!(a in A))throw Error('The arity of each "output" value must be equal');return A[a]})).map(s=>sv({...i,output:s}));return s=>{const a=!aF.test(e[0])&&e.find(l=>aF.test(l))?.replace(hx,"");let A=0;return e[0].replace(hx,()=>`${r[A++](s)}${a||""}`).replace(q$,Y$)}},c5="react-spring: ",rD=i=>{const e=i;let t=!1;if(typeof e!="function")throw new TypeError(`${c5}once requires a function parameter`);return(...n)=>{t||(e(...n),t=!0)}},J$=rD(console.warn);function Z$(){J$(`${c5}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var $$=rD(console.warn);function eee(){$$(`${c5}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function D_(i){return en.str(i)&&(i[0]=="#"||/\d/.test(i)||!A5()&&N_.test(i)||i in(vd||{}))}var f5=A5()?ht.useEffect:ht.useLayoutEffect,tee=()=>{const i=ht.useRef(!1);return f5(()=>(i.current=!0,()=>{i.current=!1}),[]),i};function sD(){const i=ht.useState()[1],e=tee();return()=>{e.current&&i(Math.random())}}var aD=i=>ht.useEffect(i,nee),nee=[];function oF(i){const e=ht.useRef(void 0);return ht.useEffect(()=>{e.current=i}),e.current}var ov=Symbol.for("Animated:node"),iee=i=>!!i&&i[ov]===i,hf=i=>i&&i[ov],h5=(i,e)=>E$(i,ov,e),O_=i=>i&&i[ov]&&i[ov].getPayload(),oD=class{constructor(){h5(this,this)}getPayload(){return this.payload||[]}},P_=class AD extends oD{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,en.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new AD(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return en.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,en.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},Tb=class lD extends P_{constructor(e){super(0),this._string=null,this._toString=sv({output:[e,e]})}static create(e){return new lD(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(en.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=sv({output:[this.getValue(),e]})),this._value=0,super.reset()}},Fb={dependencies:null},d5=class extends oD{constructor(i){super(),this.source=i,this.setValue(i)}getValue(i){const e={};return mh(this.source,(t,n)=>{iee(t)?e[n]=t.getValue(i):df(t)?e[n]=Du(t):i||(e[n]=t)}),e}setValue(i){this.source=i,this.payload=this._makePayload(i)}reset(){this.payload&&Ur(this.payload,i=>i.reset())}_makePayload(i){if(i){const e=new Set;return mh(i,this._addToPayload,e),Array.from(e)}}_addToPayload(i){Fb.dependencies&&df(i)&&Fb.dependencies.add(i);const e=O_(i);e&&Ur(e,t=>this.add(t))}},ree=class uD extends d5{constructor(e){super(e)}static create(e){return new uD(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((n,r)=>n.setValue(e[r])).some(Boolean):(super.setValue(e.map(see)),!0)}};function see(i){return(D_(i)?Tb:P_).create(i)}function NC(i){const e=hf(i);return e?e.constructor:en.arr(i)?ree:D_(i)?Tb:P_}var AF=(i,e)=>{const t=!en.fun(i)||i.prototype&&i.prototype.isReactComponent;return ht.forwardRef((n,r)=>{const s=ht.useRef(null),a=t&&ht.useCallback(x=>{s.current=Aee(r,x)},[r]),[A,l]=oee(n,e),c=sD(),h=()=>{const x=s.current;if(t&&!x)return;(x?e.applyAnimatedValues(x,A.getValue(!0)):!1)===!1&&c()},g=new aee(h,l),v=ht.useRef(void 0);f5(()=>(v.current=g,Ur(l,x=>Uv(x,g)),()=>{v.current&&(Ur(v.current.deps,x=>Ub(x,v.current)),li.cancel(v.current.update))})),ht.useEffect(h,[]),aD(()=>()=>{const x=v.current;Ur(x.deps,B=>Ub(B,x))});const m=e.getComponentProps(A.getValue());return ht.createElement(i,{...m,ref:a})})},aee=class{constructor(i,e){this.update=i,this.deps=e}eventObserved(i){i.type=="change"&&li.write(this.update)}};function oee(i,e){const t=new Set;return Fb.dependencies=t,i.style&&(i={...i,style:e.createAnimatedStyle(i.style)}),i=new d5(i),Fb.dependencies=null,[i,t]}function Aee(i,e){return i&&(en.fun(i)?i(e):i.current=e),e}var lF=Symbol.for("AnimatedComponent"),lee=(i,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:t=r=>new d5(r),getComponentProps:n=r=>r}={})=>{const r={applyAnimatedValues:e,createAnimatedStyle:t,getComponentProps:n},s=a=>{const A=uF(a)||"Anonymous";return en.str(a)?a=s[a]||(s[a]=AF(a,r)):a=a[lF]||(a[lF]=AF(a,r)),a.displayName=`Animated(${A})`,a};return mh(i,(a,A)=>{en.arr(i)&&(A=uF(a)),s[A]=s(a)}),{animated:s}},uF=i=>en.str(i)?i:i&&en.str(i.displayName)?i.displayName:en.fun(i)&&i.name||null;function bp(i,...e){return en.fun(i)?i(...e):i}var N1=(i,e)=>i===!0||!!(e&&i&&(en.fun(i)?i(e):zu(i).includes(e))),cD=(i,e)=>en.obj(i)?e&&i[e]:i,fD=(i,e)=>i.default===!0?i[e]:i.default?i.default[e]:void 0,uee=i=>i,p5=(i,e=uee)=>{let t=cee;i.default&&i.default!==!0&&(i=i.default,t=Object.keys(i));const n={};for(const r of t){const s=e(i[r],r);en.und(s)||(n[r]=s)}return n},cee=["config","onProps","onStart","onChange","onPause","onResume","onRest"],fee={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function hee(i){const e={};let t=0;if(mh(i,(n,r)=>{fee[r]||(e[r]=n,t++)}),t)return e}function hD(i){const e=hee(i);if(e){const t={to:e};return mh(i,(n,r)=>r in e||(t[r]=n)),t}return{...i}}function Av(i){return i=Du(i),en.arr(i)?i.map(Av):D_(i)?Sc.createStringInterpolator({range:[0,1],output:[i,i]})(1):i}function dee(i){for(const e in i)return!0;return!1}function DC(i){return en.fun(i)||en.arr(i)&&en.obj(i[0])}function pee(i,e){i.ref?.delete(i),e?.delete(i)}function gee(i,e){e&&i.ref!==e&&(i.ref?.delete(i),e.add(i),i.ref=e)}var mee={default:{tension:170,friction:26}},OC={...mee.default,mass:1,damping:1,easing:G$.linear,clamp:!1},vee=class{constructor(){this.velocity=0,Object.assign(this,OC)}};function yee(i,e,t){t&&(t={...t},cF(t,e),e={...t,...e}),cF(i,e),Object.assign(i,e);for(const a in OC)i[a]==null&&(i[a]=OC[a]);let{frequency:n,damping:r}=i;const{mass:s}=i;return en.und(n)||(n<.01&&(n=.01),r<0&&(r=0),i.tension=Math.pow(2*Math.PI/n,2)*s,i.friction=4*Math.PI*r*s/n),i}function cF(i,e){if(!en.und(e.decay))i.duration=void 0;else{const t=!en.und(e.tension)||!en.und(e.friction);(t||!en.und(e.frequency)||!en.und(e.damping)||!en.und(e.mass))&&(i.duration=void 0,i.decay=void 0),t&&(i.frequency=void 0)}}var fF=[],wee=class{constructor(){this.changed=!1,this.values=fF,this.toValues=null,this.fromValues=fF,this.config=new vee,this.immediate=!1}};function dD(i,{key:e,props:t,defaultProps:n,state:r,actions:s}){return new Promise((a,A)=>{let l,c,h=N1(t.cancel??n?.cancel,e);if(h)m();else{en.und(t.pause)||(r.paused=N1(t.pause,e));let x=n?.pause;x!==!0&&(x=r.paused||N1(x,e)),l=bp(t.delay||0,e),x?(r.resumeQueue.add(v),s.pause()):(s.resume(),v())}function g(){r.resumeQueue.add(v),r.timeouts.delete(c),c.cancel(),l=c.time-li.now()}function v(){l>0&&!Sc.skipAnimation?(r.delayed=!0,c=li.setTimeout(m,l),r.pauseQueue.add(g),r.timeouts.add(c)):m()}function m(){r.delayed&&(r.delayed=!1),r.pauseQueue.delete(g),r.timeouts.delete(c),i<=(r.cancelId||0)&&(h=!0);try{s.start({...t,callId:i,cancel:h},a)}catch(x){A(x)}}})}var g5=(i,e)=>e.length==1?e[0]:e.some(t=>t.cancelled)?Um(i.get()):e.every(t=>t.noop)?pD(i.get()):mc(i.get(),e.every(t=>t.finished)),pD=i=>({value:i,noop:!0,finished:!0,cancelled:!1}),mc=(i,e,t=!1)=>({value:i,finished:e,cancelled:t}),Um=i=>({value:i,cancelled:!0,finished:!1});function gD(i,e,t,n){const{callId:r,parentId:s,onRest:a}=e,{asyncTo:A,promise:l}=t;return!s&&i===A&&!e.reset?l:t.promise=(async()=>{t.asyncId=r,t.asyncTo=i;const c=p5(e,(_,b)=>b==="onRest"?void 0:_);let h,g;const v=new Promise((_,b)=>(h=_,g=b)),m=_=>{const b=r<=(t.cancelId||0)&&Um(n)||r!==t.asyncId&&mc(n,!1);if(b)throw _.result=b,g(_),_},x=(_,b)=>{const M=new hF,T=new dF;return(async()=>{if(Sc.skipAnimation)throw lv(t),T.result=mc(n,!1),g(T),T;m(M);const U=en.obj(_)?{..._}:{...b,to:_};U.parentId=r,mh(c,(O,z)=>{en.und(U[z])&&(U[z]=O)});const R=await n.start(U);return m(M),t.paused&&await new Promise(O=>{t.resumeQueue.add(O)}),R})()};let B;if(Sc.skipAnimation)return lv(t),mc(n,!1);try{let _;en.arr(i)?_=(async b=>{for(const M of b)await x(M)})(i):_=Promise.resolve(i(x,n.stop.bind(n))),await Promise.all([_.then(h),v]),B=mc(n.get(),!0,!1)}catch(_){if(_ instanceof hF)B=_.result;else if(_ instanceof dF)B=_.result;else throw _}finally{r==t.asyncId&&(t.asyncId=s,t.asyncTo=s?A:void 0,t.promise=s?l:void 0)}return en.fun(a)&&li.batchedUpdates(()=>{a(B,n,n.item)}),B})()}function lv(i,e){I1(i.timeouts,t=>t.cancel()),i.pauseQueue.clear(),i.resumeQueue.clear(),i.asyncId=i.asyncTo=i.promise=void 0,e&&(i.cancelId=e)}var hF=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},dF=class extends Error{constructor(){super("SkipAnimationSignal")}},PC=i=>i instanceof m5,xee=1,m5=class extends j${constructor(){super(...arguments),this.id=xee++,this._priority=0}get priority(){return this._priority}set priority(i){this._priority!=i&&(this._priority=i,this._onPriorityChange(i))}get(){const i=hf(this);return i&&i.getValue()}to(...i){return Sc.to(this,i)}interpolate(...i){return Z$(),Sc.to(this,i)}toJSON(){return this.get()}observerAdded(i){i==1&&this._attach()}observerRemoved(i){i==0&&this._detach()}_attach(){}_detach(){}_onChange(i,e=!1){Mb(this,{type:"change",parent:this,value:i,idle:e})}_onPriorityChange(i){this.idle||I_.sort(this),Mb(this,{type:"priority",parent:this,priority:i})}},Kp=Symbol.for("SpringPhase"),mD=1,QC=2,HC=4,x2=i=>(i[Kp]&mD)>0,id=i=>(i[Kp]&QC)>0,$0=i=>(i[Kp]&HC)>0,pF=(i,e)=>e?i[Kp]|=QC|mD:i[Kp]&=~QC,gF=(i,e)=>e?i[Kp]|=HC:i[Kp]&=~HC,bee=class extends m5{constructor(i,e){if(super(),this.animation=new wee,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!en.und(i)||!en.und(e)){const t=en.obj(i)?{...i}:{...e,from:i};en.und(t.default)&&(t.default=!0),this.start(t)}}get idle(){return!(id(this)||this._state.asyncTo)||$0(this)}get goal(){return Du(this.animation.to)}get velocity(){const i=hf(this);return i instanceof P_?i.lastVelocity||0:i.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return x2(this)}get isAnimating(){return id(this)}get isPaused(){return $0(this)}get isDelayed(){return this._state.delayed}advance(i){let e=!0,t=!1;const n=this.animation;let{toValues:r}=n;const{config:s}=n,a=O_(n.to);!a&&df(n.to)&&(r=zu(Du(n.to))),n.values.forEach((c,h)=>{if(c.done)return;const g=c.constructor==Tb?1:a?a[h].lastPosition:r[h];let v=n.immediate,m=g;if(!v){if(m=c.lastPosition,s.tension<=0){c.done=!0;return}let x=c.elapsedTime+=i;const B=n.fromValues[h],_=c.v0!=null?c.v0:c.v0=en.arr(s.velocity)?s.velocity[h]:s.velocity;let b;const M=s.precision||(B==g?.005:Math.min(1,Math.abs(g-B)*.001));if(en.und(s.duration))if(s.decay){const T=s.decay===!0?.998:s.decay,U=Math.exp(-(1-T)*x);m=B+_/(1-T)*(1-U),v=Math.abs(c.lastPosition-m)<=M,b=_*U}else{b=c.lastVelocity==null?_:c.lastVelocity;const T=s.restVelocity||M/10,U=s.clamp?0:s.bounce,R=!en.und(U),O=B==g?c.v0>0:B<g;let z,V=!1;const I=1,P=Math.ceil(i/I);for(let k=0;k<P&&(z=Math.abs(b)>T,!(!z&&(v=Math.abs(g-m)<=M,v)));++k){R&&(V=m==g||m>g==O,V&&(b=-b*U,m=g));const G=-s.tension*1e-6*(m-g),q=-s.friction*.001*b,H=(G+q)/s.mass;b=b+H*I,m=m+b*I}}else{let T=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,c.durationProgress>0&&(c.elapsedTime=s.duration*c.durationProgress,x=c.elapsedTime+=i)),T=(s.progress||0)+x/this._memoizedDuration,T=T>1?1:T<0?0:T,c.durationProgress=T),m=B+s.easing(T)*(g-B),b=(m-c.lastPosition)/i,v=T==1}c.lastVelocity=b,Number.isNaN(m)&&(console.warn("Got NaN while animating:",this),v=!0)}a&&!a[h].done&&(v=!1),v?c.done=!0:e=!1,c.setValue(m,s.round)&&(t=!0)});const A=hf(this),l=A.getValue();if(e){const c=Du(n.to);(l!==c||t)&&!s.decay?(A.setValue(c),this._onChange(c)):t&&s.decay&&this._onChange(l),this._stop()}else t&&this._onChange(l)}set(i){return li.batchedUpdates(()=>{this._stop(),this._focus(i),this._set(i)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(id(this)){const{to:i,config:e}=this.animation;li.batchedUpdates(()=>{this._onStart(),e.decay||this._set(i,!1),this._stop()})}return this}update(i){return(this.queue||(this.queue=[])).push(i),this}start(i,e){let t;return en.und(i)?(t=this.queue||[],this.queue=[]):t=[en.obj(i)?i:{...e,to:i}],Promise.all(t.map(n=>this._update(n))).then(n=>g5(this,n))}stop(i){const{to:e}=this.animation;return this._focus(this.get()),lv(this._state,i&&this._lastCallId),li.batchedUpdates(()=>this._stop(e,i)),this}reset(){this._update({reset:!0})}eventObserved(i){i.type=="change"?this._start():i.type=="priority"&&(this.priority=i.priority+1)}_prepareNode(i){const e=this.key||"";let{to:t,from:n}=i;t=en.obj(t)?t[e]:t,(t==null||DC(t))&&(t=void 0),n=en.obj(n)?n[e]:n,n==null&&(n=void 0);const r={to:t,from:n};return x2(this)||(i.reverse&&([t,n]=[n,t]),n=Du(n),en.und(n)?hf(this)||this._set(t):this._set(n)),r}_update({...i},e){const{key:t,defaultProps:n}=this;i.default&&Object.assign(n,p5(i,(a,A)=>/^on/.test(A)?cD(a,t):a)),vF(this,i,"onProps"),t1(this,"onProps",i,this);const r=this._prepareNode(i);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return dD(++this._lastCallId,{key:t,props:i,defaultProps:n,state:s,actions:{pause:()=>{$0(this)||(gF(this,!0),d1(s.pauseQueue),t1(this,"onPause",mc(this,e1(this,this.animation.to)),this))},resume:()=>{$0(this)&&(gF(this,!1),id(this)&&this._resume(),d1(s.resumeQueue),t1(this,"onResume",mc(this,e1(this,this.animation.to)),this))},start:this._merge.bind(this,r)}}).then(a=>{if(i.loop&&a.finished&&!(e&&a.noop)){const A=vD(i);if(A)return this._update(A,!0)}return a})}_merge(i,e,t){if(e.cancel)return this.stop(!0),t(Um(this));const n=!en.und(i.to),r=!en.und(i.from);if(n||r)if(e.callId>this._lastToId)this._lastToId=e.callId;else return t(Um(this));const{key:s,defaultProps:a,animation:A}=this,{to:l,from:c}=A;let{to:h=l,from:g=c}=i;r&&!n&&(!e.default||en.und(h))&&(h=g),e.reverse&&([h,g]=[g,h]);const v=!sh(g,c);v&&(A.from=g),g=Du(g);const m=!sh(h,l);m&&this._focus(h);const x=DC(e.to),{config:B}=A,{decay:_,velocity:b}=B;(n||r)&&(B.velocity=0),e.config&&!x&&yee(B,bp(e.config,s),e.config!==a.config?bp(a.config,s):void 0);let M=hf(this);if(!M||en.und(h))return t(mc(this,!0));const T=en.und(e.reset)?r&&!e.default:!en.und(g)&&N1(e.reset,s),U=T?g:this.get(),R=Av(h),O=en.num(R)||en.arr(R)||D_(R),z=!x&&(!O||N1(a.immediate||e.immediate,s));if(m){const k=NC(h);if(k!==M.constructor)if(z)M=this._set(R);else throw Error(`Cannot animate between ${M.constructor.name} and ${k.name}, as the "to" prop suggests`)}const V=M.constructor;let I=df(h),P=!1;if(!I){const k=T||!x2(this)&&v;(m||k)&&(P=sh(Av(U),R),I=!P),(!sh(A.immediate,z)&&!z||!sh(B.decay,_)||!sh(B.velocity,b))&&(I=!0)}if(P&&id(this)&&(A.changed&&!T?I=!0:I||this._stop(l)),!x&&((I||df(l))&&(A.values=M.getPayload(),A.toValues=df(h)?null:V==Tb?[1]:zu(R)),A.immediate!=z&&(A.immediate=z,!z&&!T&&this._set(l)),I)){const{onRest:k}=A;Ur(Bee,q=>vF(this,e,q));const G=mc(this,e1(this,l));d1(this._pendingCalls,G),this._pendingCalls.add(t),A.changed&&li.batchedUpdates(()=>{A.changed=!T,k?.(G,this),T?bp(a.onRest,G):A.onStart?.(G,this)})}T&&this._set(U),x?t(gD(e.to,e,this._state,this)):I?this._start():id(this)&&!m?this._pendingCalls.add(t):t(pD(U))}_focus(i){const e=this.animation;i!==e.to&&(sF(this)&&this._detach(),e.to=i,sF(this)&&this._attach())}_attach(){let i=0;const{to:e}=this.animation;df(e)&&(Uv(e,this),PC(e)&&(i=e.priority+1)),this.priority=i}_detach(){const{to:i}=this.animation;df(i)&&Ub(i,this)}_set(i,e=!0){const t=Du(i);if(!en.und(t)){const n=hf(this);if(!n||!sh(t,n.getValue())){const r=NC(t);!n||n.constructor!=r?h5(this,r.create(t)):n.setValue(t),n&&li.batchedUpdates(()=>{this._onChange(t,e)})}}return hf(this)}_onStart(){const i=this.animation;i.changed||(i.changed=!0,t1(this,"onStart",mc(this,e1(this,i.to)),this))}_onChange(i,e){e||(this._onStart(),bp(this.animation.onChange,i,this)),bp(this.defaultProps.onChange,i,this),super._onChange(i,e)}_start(){const i=this.animation;hf(this).reset(Du(i.to)),i.immediate||(i.fromValues=i.values.map(e=>e.lastPosition)),id(this)||(pF(this,!0),$0(this)||this._resume())}_resume(){Sc.skipAnimation?this.finish():I_.start(this)}_stop(i,e){if(id(this)){pF(this,!1);const t=this.animation;Ur(t.values,r=>{r.done=!0}),t.toValues&&(t.onChange=t.onPause=t.onResume=void 0),Mb(this,{type:"idle",parent:this});const n=e?Um(this.get()):mc(this.get(),e1(this,i??t.to));d1(this._pendingCalls,n),t.changed&&(t.changed=!1,t1(this,"onRest",n,this))}}};function e1(i,e){const t=Av(e),n=Av(i.get());return sh(n,t)}function vD(i,e=i.loop,t=i.to){const n=bp(e);if(n){const r=n!==!0&&hD(n),s=(r||i).reverse,a=!r||r.reset;return uv({...i,loop:e,default:!1,pause:void 0,to:!s||DC(t)?t:void 0,from:a?i.from:void 0,reset:a,...r})}}function uv(i){const{to:e,from:t}=i=hD(i),n=new Set;return en.obj(e)&&mF(e,n),en.obj(t)&&mF(t,n),i.keys=n.size?Array.from(n):null,i}function _ee(i){const e=uv(i);return en.und(e.default)&&(e.default=p5(e)),e}function mF(i,e){mh(i,(t,n)=>t!=null&&e.add(n))}var Bee=["onStart","onRest","onChange","onPause","onResume"];function vF(i,e,t){i.animation[t]=e[t]!==fD(e,t)?cD(e[t],i.key):void 0}function t1(i,e,...t){i.animation[e]?.(...t),i.defaultProps[e]?.(...t)}var See=["onStart","onChange","onRest"],Cee=1,Eee=class{constructor(i,e){this.id=Cee++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),i&&this.start({default:!0,...i})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(i=>i.idle&&!i.isDelayed&&!i.isPaused)}get item(){return this._item}set item(i){this._item=i}get(){const i={};return this.each((e,t)=>i[t]=e.get()),i}set(i){for(const e in i){const t=i[e];en.und(t)||this.springs[e].set(t)}}update(i){return i&&this.queue.push(uv(i)),this}start(i){let{queue:e}=this;return i?e=zu(i).map(uv):this.queue=[],this._flush?this._flush(this,e):(_D(this,e),kC(this,e))}stop(i,e){if(i!==!!i&&(e=i),e){const t=this.springs;Ur(zu(e),n=>t[n].stop(!!i))}else lv(this._state,this._lastAsyncId),this.each(t=>t.stop(!!i));return this}pause(i){if(en.und(i))this.start({pause:!0});else{const e=this.springs;Ur(zu(i),t=>e[t].pause())}return this}resume(i){if(en.und(i))this.start({pause:!1});else{const e=this.springs;Ur(zu(i),t=>e[t].resume())}return this}each(i){mh(this.springs,i)}_onFrame(){const{onStart:i,onChange:e,onRest:t}=this._events,n=this._active.size>0,r=this._changed.size>0;(n&&!this._started||r&&!this._started)&&(this._started=!0,I1(i,([A,l])=>{l.value=this.get(),A(l,this,this._item)}));const s=!n&&this._started,a=r||s&&t.size?this.get():null;r&&e.size&&I1(e,([A,l])=>{l.value=a,A(l,this,this._item)}),s&&(this._started=!1,I1(t,([A,l])=>{l.value=a,A(l,this,this._item)}))}eventObserved(i){if(i.type=="change")this._changed.add(i.parent),i.idle||this._active.add(i.parent);else if(i.type=="idle")this._active.delete(i.parent);else return;li.onFrame(this._onFrame)}};function kC(i,e){return Promise.all(e.map(t=>yD(i,t))).then(t=>g5(i,t))}async function yD(i,e,t){const{keys:n,to:r,from:s,loop:a,onRest:A,onResolve:l}=e,c=en.obj(e.default)&&e.default;a&&(e.loop=!1),r===!1&&(e.to=null),s===!1&&(e.from=null);const h=en.arr(r)||en.fun(r)?r:void 0;h?(e.to=void 0,e.onRest=void 0,c&&(c.onRest=void 0)):Ur(See,B=>{const _=e[B];if(en.fun(_)){const b=i._events[B];e[B]=({finished:M,cancelled:T})=>{const U=b.get(_);U?(M||(U.finished=!1),T&&(U.cancelled=!0)):b.set(_,{value:null,finished:M||!1,cancelled:T||!1})},c&&(c[B]=e[B])}});const g=i._state;e.pause===!g.paused?(g.paused=e.pause,d1(e.pause?g.pauseQueue:g.resumeQueue)):g.paused&&(e.pause=!0);const v=(n||Object.keys(i.springs)).map(B=>i.springs[B].start(e)),m=e.cancel===!0||fD(e,"cancel")===!0;(h||m&&g.asyncId)&&v.push(dD(++i._lastAsyncId,{props:e,state:g,actions:{pause:IC,resume:IC,start(B,_){m?(lv(g,i._lastAsyncId),_(Um(i))):(B.onRest=A,_(gD(h,B,g,i)))}}})),g.paused&&await new Promise(B=>{g.resumeQueue.add(B)});const x=g5(i,await Promise.all(v));if(a&&x.finished&&!(t&&x.noop)){const B=vD(e,a,r);if(B)return _D(i,[B]),yD(i,B,!0)}return l&&li.batchedUpdates(()=>l(x,i,i.item)),x}function yF(i,e){const t={...i.springs};return e&&Ur(zu(e),n=>{en.und(n.keys)&&(n=uv(n)),en.obj(n.to)||(n={...n,to:void 0}),bD(t,n,r=>xD(r))}),wD(i,t),t}function wD(i,e){mh(e,(t,n)=>{i.springs[n]||(i.springs[n]=t,Uv(t,i))})}function xD(i,e){const t=new bee;return t.key=i,e&&Uv(t,e),t}function bD(i,e,t){e.keys&&Ur(e.keys,n=>{(i[n]||(i[n]=t(n)))._prepareNode(e)})}function _D(i,e){Ur(e,t=>{bD(i.springs,t,n=>xD(n,i))})}var Mee=ht.createContext({pause:!1,immediate:!1}),Uee=()=>{const i=[],e=function(n){eee();const r=[];return Ur(i,(s,a)=>{if(en.und(n))r.push(s.start());else{const A=t(n,s,a);A&&r.push(s.start(A))}}),r};e.current=i,e.add=function(n){i.includes(n)||i.push(n)},e.delete=function(n){const r=i.indexOf(n);~r&&i.splice(r,1)},e.pause=function(){return Ur(i,n=>n.pause(...arguments)),this},e.resume=function(){return Ur(i,n=>n.resume(...arguments)),this},e.set=function(n){Ur(i,(r,s)=>{const a=en.fun(n)?n(s,r):n;a&&r.set(a)})},e.start=function(n){const r=[];return Ur(i,(s,a)=>{if(en.und(n))r.push(s.start());else{const A=this._getProps(n,s,a);A&&r.push(s.start(A))}}),r},e.stop=function(){return Ur(i,n=>n.stop(...arguments)),this},e.update=function(n){return Ur(i,(r,s)=>r.update(this._getProps(n,r,s))),this};const t=function(n,r,s){return en.fun(n)?n(s,r):n};return e._getProps=t,e};function Tee(i,e,t){const n=en.fun(e)&&e;n&&!t&&(t=[]);const r=ht.useMemo(()=>n||arguments.length==3?Uee():void 0,[]),s=ht.useRef(0),a=sD(),A=ht.useMemo(()=>({ctrls:[],queue:[],flush(b,M){const T=yF(b,M);return s.current>0&&!A.queue.length&&!Object.keys(T).some(R=>!b.springs[R])?kC(b,M):new Promise(R=>{wD(b,T),A.queue.push(()=>{R(kC(b,M))}),a()})}}),[]),l=ht.useRef([...A.ctrls]),c=ht.useRef([]),h=oF(i)||0;ht.useMemo(()=>{Ur(l.current.slice(i,h),b=>{pee(b,r),b.stop(!0)}),l.current.length=i,g(h,i)},[i]),ht.useMemo(()=>{g(0,Math.min(h,i))},t);function g(b,M){for(let T=b;T<M;T++){const U=l.current[T]||(l.current[T]=new Eee(null,A.flush)),R=n?n(T,U):e[T];R&&(c.current[T]=_ee(R))}}const v=l.current.map((b,M)=>yF(b,c.current[M])),m=ht.useContext(Mee),x=oF(m),B=m!==x&&dee(m);f5(()=>{s.current++,A.ctrls=l.current;const{queue:b}=A;b.length&&(A.queue=[],Ur(b,M=>M())),Ur(l.current,(M,T)=>{r?.add(M),B&&M.start({default:m});const U=c.current[T];U&&(gee(M,U.ref),M.ref?M.queue.push(U):M.start(U))})}),aD(()=>()=>{Ur(A.ctrls,b=>b.stop(!0))});const _=v.map(b=>({...b}));return r?[_,r]:_}function v5(i,e){const t=en.fun(i),[[n],r]=Tee(1,t?i:[i],t?[]:e);return t||arguments.length==2?[n,r]:n}var Fee=class extends m5{constructor(i,e){super(),this.source=i,this.idle=!0,this._active=new Set,this.calc=sv(...e);const t=this._get(),n=NC(t);h5(this,n.create(t))}advance(i){const e=this._get(),t=this.get();sh(e,t)||(hf(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&wF(this._active)&&b2(this)}_get(){const i=en.arr(this.source)?this.source.map(Du):zu(Du(this.source));return this.calc(...i)}_start(){this.idle&&!wF(this._active)&&(this.idle=!1,Ur(O_(this),i=>{i.done=!1}),Sc.skipAnimation?(li.batchedUpdates(()=>this.advance()),b2(this)):I_.start(this))}_attach(){let i=1;Ur(zu(this.source),e=>{df(e)&&Uv(e,this),PC(e)&&(e.idle||this._active.add(e),i=Math.max(i,e.priority+1))}),this.priority=i,this._start()}_detach(){Ur(zu(this.source),i=>{df(i)&&Ub(i,this)}),this._active.clear(),b2(this)}eventObserved(i){i.type=="change"?i.idle?this.advance():(this._active.add(i.parent),this._start()):i.type=="idle"?this._active.delete(i.parent):i.type=="priority"&&(this.priority=zu(this.source).reduce((e,t)=>Math.max(e,(PC(t)?t.priority:0)+1),0))}};function Lee(i){return i.idle!==!1}function wF(i){return!i.size||Array.from(i).every(Lee)}function b2(i){i.idle||(i.idle=!0,Ur(O_(i),e=>{e.done=!0}),Mb(i,{type:"idle",parent:i}))}Sc.assign({createStringInterpolator:iD,to:(i,e)=>new Fee(i,e)});var Iee=["primitive"].concat(Object.keys(lI).filter(i=>/^[A-Z]/.test(i)).map(i=>i[0].toLowerCase()+i.slice(1)));Sc.assign({createStringInterpolator:iD,colors:F$,frameLoop:"demand"});Z9(()=>{li.advance()});var Ree=lee(Iee,{applyAnimatedValues:lh}),y5=Ree.animated;const ii=18,vm=18,gA=({start:i,end:e,label:t,dir:n="h",offset:r=160,fontS:s=85,textOutside:a=!1,textShift:A=0})=>{const l="black",m=Me.jsx("meshBasicMaterial",{color:l}),x=({position:B,rotation:_})=>Me.jsxs("group",{position:B,rotation:_,children:[Me.jsxs("mesh",{"rotation-z":Math.PI/4,children:[Me.jsx("boxGeometry",{args:[18,4,4]}),m]}),Me.jsxs("mesh",{"rotation-z":-Math.PI/4,children:[Me.jsx("boxGeometry",{args:[18,4,4]}),m]})]});if(n==="h"){const B=Math.abs(e[0]-i[0]),_=(i[0]+e[0])/2,b=i[1]+r,M=Math.abs(r)+25;return Me.jsxs("group",{"position-z":i[2],children:[Me.jsxs("mesh",{position:[i[0],i[1]+(r>0?15+M/2-12:-15-M/2+12),0],children:[Me.jsx("boxGeometry",{args:[4,M,4]}),m]}),Me.jsxs("mesh",{position:[e[0],e[1]+(r>0?15+M/2-12:-15-M/2+12),0],children:[Me.jsx("boxGeometry",{args:[4,M,4]}),m]}),Me.jsxs("mesh",{position:[i[0]+(B/2-85/2)/2,b,0],children:[Me.jsx("boxGeometry",{args:[(B-85)/2,4,4]}),m]}),Me.jsxs("mesh",{position:[e[0]-(B/2-85/2)/2,b,0],children:[Me.jsx("boxGeometry",{args:[(B-85)/2,4,4]}),m]}),Me.jsx(x,{position:[i[0],b,0],rotation:[0,0,0]}),Me.jsx(x,{position:[e[0],b,0],rotation:[0,0,Math.PI]}),Me.jsx(EU,{position:[_+A,b,1],color:l,fontSize:s,anchorY:"middle",anchorX:"center",children:t})]})}else{const B=Math.abs(e[1]-i[1]),_=(i[1]+e[1])/2,b=i[0]-r,M=Math.abs(r)+25,T=b,U=a?_+85*.6:_;return Me.jsxs("group",{"position-z":i[2],children:[Me.jsxs("mesh",{position:[i[0]-(r>0?15+M/2-12:-15-M/2+12),i[1],0],children:[Me.jsx("boxGeometry",{args:[M,4,4]}),m]}),Me.jsxs("mesh",{position:[e[0]-(r>0?15+M/2-12:-15-M/2+12),e[1],0],children:[Me.jsx("boxGeometry",{args:[M,4,4]}),m]}),Me.jsxs("mesh",{position:[b,i[1]-(B/2-85/2)/2,0],children:[Me.jsx("boxGeometry",{args:[4,(B-85)/2,4]}),m]}),Me.jsxs("mesh",{position:[b,e[1]+(B/2-85/2)/2,0],children:[Me.jsx("boxGeometry",{args:[4,(B-85)/2,4]}),m]}),Me.jsx(x,{position:[b,i[1],0],rotation:[0,0,-Math.PI/2]}),Me.jsx(x,{position:[b,e[1],0],rotation:[0,0,Math.PI/2]}),Me.jsx(EU,{position:[T,U,1],color:l,fontSize:s,anchorY:"middle",anchorX:"center",children:t})]})}},BD=({viewMode:i="3d"})=>{const{width:e,depth:t,blocks:n,floorHeight:r,cabinetColor:s,showSkirting:a,showFeet:A,recessDistance:l,numFeetPerRow:c,exportRoot:h,setExportRoot:g}=VE(),v=ht.useRef(null),m=i!=="3d",x=i==="section",B=Me.jsx("meshBasicMaterial",{color:"white",polygonOffset:!0,polygonOffsetFactor:2}),_=Me.jsx("meshStandardMaterial",{color:s,roughness:.4,metalness:.1}),b=Me.jsx("meshStandardMaterial",{color:s,roughness:.5}),M=m?B:_,T=m?B:b,U=()=>m?Me.jsx(y_,{color:"black",threshold:10}):null,R=n.reduce((H,ae)=>H+ae.height,0);ht.useEffect(()=>{if(i==="3d"){const H=v.current;H&&h!==H&&g(H)}},[h,g,i]);const O=(H,ae)=>{const Z=[];if(ae>0){const oe=(H-ii)/(ae+1);for(let fe=0;fe<ae;fe++){const me=-H/2+ii/2+oe*(fe+1);Z.push(me)}}return Z},z=(H,ae)=>{const Z=Math.max(0,Math.min(ae,H-ii));return H-Z},V=Math.max(2,c),I=l+20,P=V>1?(e-2*I)/(V-1):0,k=[];if(A&&r>0)for(let H=0;H<V;H++){const ae=-e/2+I+P*H;k.push([ae,-R/2-r/2,t/2-I]),k.push([ae,-R/2-r/2,-t/2+I])}const G=70,q=()=>{if(!m)return null;const H=180,ae=340,Z=500,ne=Math.max(0,r),oe=R+ne,fe=R/2,me=-R/2,W=me-ne,Q=G*1.4,X=n.map((Y,ie)=>{const te=-R/2+n.slice(0,ie).reduce((se,ye)=>se+ye.height,0);return{block:Y,baseY:te,topY:te+Y.height}});return Me.jsxs("group",{children:[i==="elevation"&&Me.jsxs("group",{"position-z":t/2,children:[Me.jsx(bm,{points:[[-e/2-200,-(R/2+r),0],[e/2+200,-(R/2+r),0]],color:"#000000",lineWidth:3}),Me.jsx(gA,{start:[-e/2,R/2,0],end:[e/2,R/2,0],label:`${e}`,dir:"h",offset:H,fontS:G}),Me.jsx(gA,{start:[-e/2,fe,0],end:[-e/2,W,0],label:`${oe}`,dir:"v",offset:Z,fontS:G}),ne>0&&Me.jsx(gA,{start:[-e/2,me,0],end:[-e/2,W,0],label:`${ne}`,dir:"v",offset:ae,fontS:G}),X.map(({block:Y,baseY:ie,topY:te})=>Me.jsx(gA,{start:[-e/2,te,0],end:[-e/2,ie,0],label:`${Y.height}`,dir:"v",offset:ae,fontS:G,textOutside:Math.abs(te-ie)<Q},`block-height-${Y.id}`)),X.map(({block:Y,baseY:ie,topY:te})=>{if(Y.useDrawers){const se=Y.height/Y.numRows;return Array.from({length:Y.numRows}).map((ye,xe)=>{const Fe=ie+se*xe,Ne=Fe+se,ze=Math.abs(Ne-Fe);return ze>=Q||xe%2===0?Me.jsx(gA,{start:[-e/2,Ne,0],end:[-e/2,Fe,0],label:`${Math.round(se)}`,dir:"v",offset:H,fontS:G,textOutside:ze<Q,textShift:xe%2===0?-G*.4:G*.4},`drawer-dim-elev-${Y.id}-${xe}`):null})}if(Y.useTrunk){const se=Math.max(0,Math.min(Y.lidHeight,Y.height)),ye=Y.height-se;if(se<=0||ye<=0)return null;const xe=ie+ye;return Me.jsx(gA,{start:[-e/2,te,0],end:[-e/2,xe,0],label:`${Math.round(se)}`,dir:"v",offset:H,fontS:G,textOutside:Math.abs(te-xe)<Q},`lid-dim-elev-${Y.id}`)}if(!Y.useTrunk&&Y.numShelves>0){const se=O(Y.height,Y.numShelves);return Array.from({length:Y.numShelves+1}).map((ye,xe)=>{const Fe=xe===0?ie+ii/2:ie+Y.height/2+se[xe-1],Ne=xe===Y.numShelves?ie+Y.height-ii/2:ie+Y.height/2+se[xe],ze=Math.round(Ne-Fe),it=Math.abs(Ne-Fe);return it>=Q||xe%2===0?Me.jsx(gA,{start:[-e/2,Ne,0],end:[-e/2,Fe,0],label:`${ze}`,dir:"v",offset:H,fontS:G,textOutside:it<Q,textShift:xe%2===0?-G*.4:G*.4},`shelf-dim-elev-${Y.id}-${xe}`):null})}return null})]}),i==="plan"&&Me.jsxs("group",{"position-y":R/2,"rotation-x":-Math.PI/2,children:[Me.jsx(gA,{start:[-e/2,t/2,0],end:[e/2,t/2,0],label:`${e}`,dir:"h",offset:H,fontS:G}),Me.jsx(gA,{start:[-e/2,t/2,0],end:[-e/2,-t/2,0],label:`${t}`,dir:"v",offset:H,fontS:G})]}),i==="section"&&Me.jsxs("group",{"rotation-y":Math.PI/2,"position-x":e/2,children:[Me.jsx(bm,{points:[[-t/2-200,-(R/2+r),0],[t/2+200,-(R/2+r),0]],color:"#000000",lineWidth:3}),Me.jsx(gA,{start:[-t/2,fe,0],end:[t/2,fe,0],label:`${t}`,dir:"h",offset:H,fontS:G}),Me.jsx(gA,{start:[-t/2,fe,0],end:[-t/2,W,0],label:`${oe}`,dir:"v",offset:Z,fontS:G}),ne>0&&Me.jsx(gA,{start:[-t/2,me,0],end:[-t/2,W,0],label:`${ne}`,dir:"v",offset:ae,fontS:G}),X.map(({block:Y,baseY:ie,topY:te})=>Me.jsx(gA,{start:[-t/2,te,0],end:[-t/2,ie,0],label:`${Y.height}`,dir:"v",offset:ae,fontS:G,textOutside:Math.abs(te-ie)<Q},`block-height-section-${Y.id}`)),X.map(({block:Y,baseY:ie,topY:te})=>{if(Y.useDrawers){const se=Y.height/Y.numRows;return Array.from({length:Y.numRows}).map((ye,xe)=>{const Fe=ie+se*xe,Ne=Fe+se,ze=Math.abs(Ne-Fe);return ze>=Q||xe%2===0?Me.jsx(gA,{start:[-t/2,Ne,0],end:[-t/2,Fe,0],label:`${Math.round(se)}`,dir:"v",offset:H,fontS:G,textOutside:ze<Q,textShift:xe%2===0?-G*.4:G*.4},`drawer-dim-section-${Y.id}-${xe}`):null})}if(Y.useTrunk){const se=Math.max(0,Math.min(Y.lidHeight,Y.height)),ye=Y.height-se;if(se<=0||ye<=0)return null;const xe=ie+ye;return Me.jsx(gA,{start:[-t/2,te,0],end:[-t/2,xe,0],label:`${Math.round(se)}`,dir:"v",offset:H,fontS:G,textOutside:Math.abs(te-xe)<Q},`lid-dim-section-${Y.id}`)}if(!Y.useTrunk&&Y.numShelves>0){const se=O(Y.height,Y.numShelves);return Array.from({length:Y.numShelves+1}).map((ye,xe)=>{const Fe=xe===0?ie+ii/2:ie+Y.height/2+se[xe-1],Ne=xe===Y.numShelves?ie+Y.height-ii/2:ie+Y.height/2+se[xe],ze=Math.round(Ne-Fe),it=Math.abs(Ne-Fe);return it>=Q||xe%2===0?Me.jsx(gA,{start:[-t/2,Ne,0],end:[-t/2,Fe,0],label:`${ze}`,dir:"v",offset:H,fontS:G,textOutside:it<Q,textShift:xe%2===0?-G*.4:G*.4},`shelf-dim-section-${Y.id}-${xe}`):null})}return null})]})]})};return Me.jsxs("group",{"position-y":R/2+r,ref:v,children:[!m&&Me.jsx(SV,{opacity:.8,scale:4e3,blur:.5,resolution:1024,position:[0,-(R/2+r),0],far:R+r+200}),n.map((H,ae)=>{const ne=-R/2+n.slice(0,ae).reduce((fe,me)=>fe+me.height,0)+H.height/2,oe=O(H.height,H.numShelves);return Me.jsxs("group",{"position-y":ne,children:[!H.useTrunk&&Me.jsxs(Me.Fragment,{children:[Me.jsxs("mesh",{position:[-e/2+ii/2,0,0],castShadow:!0,receiveShadow:!0,children:[Me.jsx("boxGeometry",{args:[ii,H.height,t]}),T,Me.jsx(U,{})]}),!x&&Me.jsxs("mesh",{position:[e/2-ii/2,0,0],castShadow:!0,receiveShadow:!0,children:[Me.jsx("boxGeometry",{args:[ii,H.height,t]}),T,Me.jsx(U,{})]}),Me.jsxs("mesh",{position:[0,H.height/2-ii/2,0],castShadow:!0,receiveShadow:!0,children:[Me.jsx("boxGeometry",{args:[e-2*ii,ii,t]}),T,Me.jsx(U,{})]}),Me.jsxs("mesh",{position:[0,-H.height/2+ii/2,0],castShadow:!0,receiveShadow:!0,children:[Me.jsx("boxGeometry",{args:[e-2*ii,ii,t]}),T,Me.jsx(U,{})]}),Me.jsxs("mesh",{position:[0,0,-t/2+ii/2],castShadow:!0,receiveShadow:!0,children:[Me.jsx("boxGeometry",{args:[e,H.height,ii]}),T,Me.jsx(U,{})]})]}),!H.useDrawers&&!H.useTrunk&&oe.map((fe,me)=>Me.jsxs("mesh",{position:[0,fe,0],castShadow:!0,receiveShadow:!0,children:[Me.jsx("boxGeometry",{args:[e-2*ii,ii,t-20]}),M,Me.jsx(U,{})]},`shelf-${H.id}-${me}`)),H.useDoors&&i!=="section"&&H.numRows>0&&H.numCols>0&&Array.from({length:H.numRows}).map((fe,me)=>{const W=H.height/H.numRows,Q=-H.height/2+W/2+W*me;return Array.from({length:H.numCols}).map((X,Y)=>{const ie=e/H.numCols,te=-e/2+ie/2+ie*Y,se=Y%2!==0,ye=se?te+ie/2:te-ie/2,xe=se?-ie/2:ie/2;return Me.jsx(Dee,{position:[ye,Q,t/2+vm/2],args:[ie-2,W-2,vm],hinge:se?"right":"left",isOpen:H.doorsOpen,meshOffset:[xe,0,0],isTech:m,color:s,viewMode:i},`door-${H.id}-${me}-${Y}`)})}),H.useDrawers&&H.numRows>0&&H.numCols>0&&Array.from({length:H.numRows}).map((fe,me)=>{const Q=H.height/H.numRows,X=Q-2,Y=-H.height/2+Q/2+Q*me,ie=me===0;return Array.from({length:H.numCols}).map((te,se)=>{const ye=e/H.numCols,xe=-e/2+ye/2+ye*se,Fe=ye/5,Ne=`drawer-${H.id}-${me}-${se}`;if(m&&i==="section"){if(se!==0)return null;const ze=Y+X/2,it=Y-X/2,De=t/2-ii,re=-t/2+ii;return Me.jsxs("group",{children:[Me.jsx(bm,{points:[[0,it,De],[0,ze,De],[0,ze,re],[0,it,re],[0,it,De]],color:"black",lineWidth:1}),Me.jsxs("mesh",{position:[0,Y,t/2+vm/2+8],children:[Me.jsx("sphereGeometry",{args:[8]}),Me.jsx("meshBasicMaterial",{color:"black"})]})]},Ne)}return Me.jsx(Pee,{position:[xe,Y,t/2+vm/2],faceWidth:ye-2,faceHeight:X,depth:t,handleOffsetX:Fe,isTech:m,viewMode:i,material:M,accent:T,openDrawer:!m&&H.drawersOpen&&ie},Ne)})}),H.useTrunk&&(()=>{const fe=Math.max(0,H.lidHeight),me=z(H.height,fe),W=-H.height/2+me/2,Q=-H.height/2+me;return Me.jsxs("group",{children:[Me.jsxs("mesh",{position:[0,W-me/2+ii/2,0],castShadow:!0,receiveShadow:!0,children:[Me.jsx("boxGeometry",{args:[e-2*ii,ii,t]}),T,Me.jsx(U,{})]}),Me.jsxs("mesh",{position:[-e/2+ii/2,W,0],castShadow:!0,receiveShadow:!0,children:[Me.jsx("boxGeometry",{args:[ii,me,t]}),T,Me.jsx(U,{})]}),!x&&Me.jsxs("mesh",{position:[e/2-ii/2,W,0],castShadow:!0,receiveShadow:!0,children:[Me.jsx("boxGeometry",{args:[ii,me,t]}),T,Me.jsx(U,{})]}),Me.jsxs("mesh",{position:[0,W,t/2-ii/2],castShadow:!0,receiveShadow:!0,children:[Me.jsx("boxGeometry",{args:[e,me,ii]}),T,Me.jsx(U,{})]}),Me.jsxs("mesh",{position:[0,W,-t/2+ii/2],castShadow:!0,receiveShadow:!0,children:[Me.jsx("boxGeometry",{args:[e,me,ii]}),T,Me.jsx(U,{})]}),Me.jsx(Oee,{width:e,depth:t,lidHeight:fe,position:[0,Q,-t/2],isOpen:H.lidOpen,isTech:m,viewMode:i,material:T})]})})()]},H.id)}),a&&r>0&&Me.jsxs("mesh",{position:[0,-R/2-r/2,l/2],castShadow:!0,receiveShadow:!0,children:[Me.jsx("boxGeometry",{args:[e,r,t-l]}),T,Me.jsx(U,{})]}),k.map((H,ae)=>Me.jsxs("mesh",{position:H,castShadow:!0,receiveShadow:!0,children:[Me.jsx("cylinderGeometry",{args:[15,15,r,16]}),m?B:Me.jsx("meshStandardMaterial",{color:s,roughness:.6}),Me.jsx(U,{})]},`foot-${ae}`)),Me.jsx(q,{})]})},Nee=({hinge:i,width:e})=>{const t=e,n=20,r=[];for(let s=0;s<=n;s++){const a=Math.PI/2*(s/n);i==="left"?r.push(new Ce(t*Math.cos(a),0,t*Math.sin(a))):r.push(new Ce(-t*Math.cos(a),0,t*Math.sin(a)))}return Me.jsx(bm,{points:r,color:"black",lineWidth:1,dashed:!0,dashScale:1,dashSize:12,gapSize:12})},Dee=({position:i,args:e,hinge:t,isOpen:n,meshOffset:r,isTech:s,color:a,viewMode:A})=>{const{rot:l}=v5({rot:n?t==="left"?-Math.PI/2:Math.PI/2:0,config:{mass:1,tension:120,friction:14}}),c=e[0];return Me.jsxs("group",{position:i,children:[s&&A==="plan"&&n&&Me.jsx(Nee,{hinge:t,width:c}),Me.jsx(y5.group,{"rotation-y":l,children:Me.jsxs("mesh",{position:r,castShadow:!0,receiveShadow:!0,children:[Me.jsx("boxGeometry",{args:e}),s?Me.jsx("meshBasicMaterial",{color:"white",polygonOffset:!0,polygonOffsetFactor:2}):Me.jsx("meshStandardMaterial",{color:a,roughness:.6}),s&&Me.jsx(y_,{color:"black",threshold:10}),(!s||A==="elevation")&&Me.jsxs("mesh",{position:[t==="left"?e[0]/2-30:-e[0]/2+30,0,e[2]/2+8],children:[Me.jsx("sphereGeometry",{args:[8]}),s?Me.jsx("meshBasicMaterial",{color:"black"}):Me.jsx("meshStandardMaterial",{color:"silver"})]})]})})]})},Oee=({width:i,depth:e,lidHeight:t,position:n,isOpen:r,isTech:s,viewMode:a,material:A})=>{const{rot:l}=v5({rot:r?-Math.PI/2:0,config:{mass:1,tension:120,friction:14}});if(t<=0)return null;const c=e,h=20,g=[];for(let v=0;v<=h;v++){const m=Math.PI/2*(v/h);g.push(new Ce(0,c*Math.sin(m),c*Math.cos(m)))}return Me.jsxs("group",{position:n,children:[s&&a==="section"&&r&&Me.jsx(bm,{points:g,color:"black",lineWidth:1,dashed:!0,dashScale:1,dashSize:12,gapSize:12}),Me.jsx(y5.group,{"rotation-x":l,children:Me.jsxs("mesh",{position:[0,t/2,e/2],castShadow:!0,receiveShadow:!0,children:[Me.jsx("boxGeometry",{args:[i,t,e]}),s?Me.jsx("meshBasicMaterial",{color:"white",polygonOffset:!0,polygonOffsetFactor:2}):A,s&&Me.jsx(y_,{color:"black",threshold:10})]})})]})},Pee=({position:i,faceWidth:e,faceHeight:t,depth:n,handleOffsetX:r,isTech:s,viewMode:a,material:A,accent:l,openDrawer:c})=>{const{z:h}=v5({z:c?n*2/3:0,config:{mass:1,tension:120,friction:14}}),g=Math.max(1,e-2*ii),v=Math.max(1,n-2*ii),m=Math.max(1,t-ii),[x,B,_]=i,b=e<=600?[0]:[-(e/2-e/5),e/2-e/5];return Me.jsxs(y5.group,{position:h.to(M=>[x,B,_+M]),children:[Me.jsxs("mesh",{castShadow:!0,receiveShadow:!0,children:[Me.jsx("boxGeometry",{args:[e,t,vm]}),A,s&&Me.jsx(y_,{color:"black",threshold:10})]}),(!s||a==="elevation")&&Me.jsx(Me.Fragment,{children:b.map((M,T)=>Me.jsxs("mesh",{position:[M,0,vm/2+8],children:[Me.jsx("sphereGeometry",{args:[8]}),s?Me.jsx("meshBasicMaterial",{color:"black"}):Me.jsx("meshStandardMaterial",{color:"silver"})]},`drawer-handle-${T}`))}),!s&&c&&Me.jsxs("group",{position:[0,0,-v/2],children:[Me.jsxs("mesh",{position:[0,-m/2+ii/2,0],castShadow:!0,receiveShadow:!0,children:[Me.jsx("boxGeometry",{args:[g,ii,v]}),l]}),Me.jsxs("mesh",{position:[-g/2-ii/2,0,0],castShadow:!0,receiveShadow:!0,children:[Me.jsx("boxGeometry",{args:[ii,m,v]}),l]}),Me.jsxs("mesh",{position:[g/2+ii/2,0,0],castShadow:!0,receiveShadow:!0,children:[Me.jsx("boxGeometry",{args:[ii,m,v]}),l]}),Me.jsxs("mesh",{position:[0,0,-v/2+ii/2],castShadow:!0,receiveShadow:!0,children:[Me.jsx("boxGeometry",{args:[g,m,ii]}),l]})]})]})},Qee=()=>Me.jsxs(GE,{id:"main-canvas",style:{width:"100%",height:"100%",background:"#cccccc"},children:[Me.jsx("color",{attach:"background",args:["#cccccc"]}),Me.jsx(bV,{makeDefault:!0}),Me.jsx(xV,{makeDefault:!0,position:[2e3,2e3,2e3],fov:45,near:10,far:1e4}),Me.jsx("ambientLight",{intensity:1.2}),Me.jsx("directionalLight",{position:[2500,5e3,2500],intensity:1.5,castShadow:!0,"shadow-mapSize":[2048,2048],"shadow-camera-near":100,"shadow-camera-far":1e4,"shadow-camera-left":-2500,"shadow-camera-right":2500,"shadow-camera-top":2500,"shadow-camera-bottom":-2500}),Me.jsx("pointLight",{position:[-2e3,3e3,1e3],intensity:.5}),Me.jsx(BD,{}),Me.jsx("gridHelper",{args:[5e3,50],position:[0,0,0]}),Me.jsxs("mesh",{"rotation-x":-Math.PI/2,position:[0,-.1,0],receiveShadow:!0,children:[Me.jsx("planeGeometry",{args:[5e3,5e3]}),Me.jsx("shadowMaterial",{opacity:.3})]})]}),Hee=({targetCenter:i,envelopeSize:e,cameraUp:t,initialPosition:n})=>{const{size:r}=qs(),s=ht.useRef(null);return ht.useLayoutEffect(()=>{if(!s.current)return;const a=s.current,c=Math.min(r.width,r.height)/e*.85;a.zoom=c,a.left=-r.width/2/c,a.right=r.width/2/c,a.top=r.height/2/c,a.bottom=-r.height/2/c;const h=a.position.clone();t[2]===-1||t[0]===0&&t[1]===0&&t[2]===-1?a.position.set(i[0],h.y,i[2]):Math.abs(n[2])>5e3?a.position.set(i[0],i[1],h.z):Math.abs(n[0])>5e3&&a.position.set(h.x,i[1],i[2]),a.updateProjectionMatrix(),a.lookAt(...i)},[r,e,i,t,n]),Me.jsx(yV,{ref:s,makeDefault:!0,up:t,position:n,near:-5e4,far:5e4})},_2=({type:i,targetCenter:e,envelopeSize:t,cameraUp:n})=>{const r=i==="plan"?[0,1e4,0]:i==="elevation"?[0,0,1e4]:[1e4,0,0];return Me.jsxs("div",{className:"viewport-2d",style:{width:"100%",height:"100%",position:"relative"},id:`viewport-${i}`,children:[Me.jsx("div",{className:"viewport-label",style:{position:"absolute",top:8,left:8,zIndex:10,background:"rgba(255,255,255,0.8)",padding:"2px 6px",fontSize:"12px",fontWeight:"bold"},children:i.toUpperCase()}),Me.jsxs(GE,{className:"tech-viewport-canvas",style:{width:"100%",height:"100%",background:"white"},children:[Me.jsx("color",{attach:"background",args:["white"]}),Me.jsx(Hee,{targetCenter:e,envelopeSize:t,cameraUp:n,initialPosition:r}),Me.jsx("ambientLight",{intensity:3}),Me.jsx(BD,{viewMode:i})]})]})},kee=()=>{const{width:i,depth:e,floorHeight:t,blocks:n}=VE(),r=n.reduce((U,R)=>U+R.height,0),s=200,a=n.reduce((U,R)=>{if(!R.useDoors||!R.doorsOpen)return U;const O=i/Math.max(1,R.numCols);return Math.max(U,O)},0),A=300,l=Math.max(i+s,e+a+s)+A,c=Math.max(i+s,r+s)+A,h=Math.max(e+a+s,r+s)+A,g=Math.max(l,c,h),v=r/2+t,m=(a-s)/2,x=[-100,v+s/2,0],B=[0,1,0],_=[-100,v,m],b=[0,0,-1],M=[0,v+s/2,-s/2],T=[0,1,0];return Me.jsxs(Me.Fragment,{children:[Me.jsx(_2,{type:"plan",targetCenter:_,envelopeSize:g,cameraUp:b}),Me.jsx(_2,{type:"elevation",targetCenter:x,envelopeSize:g,cameraUp:B}),Me.jsx(_2,{type:"section",targetCenter:M,envelopeSize:g,cameraUp:T})]})};function zee(){const i=ht.useRef(null);return Me.jsxs("div",{ref:i,className:"app-grid",children:[Me.jsx("div",{className:"viewport-3d-container",children:Me.jsx(Qee,{})}),Me.jsx("div",{className:"viewports-2d-container",children:Me.jsx(kee,{})}),Me.jsx(_$,{}),Me.jsx(aG,{eventSource:i,className:"canvas-overlay",style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none"},gl:{preserveDrawingBuffer:!0,antialias:!0},shadows:!0,children:Me.jsx(GE.Port,{})})]})}h6.createRoot(document.getElementById("root")).render(Me.jsx(ht.StrictMode,{children:Me.jsx(zee,{})}));export{Dr as _,Gee as c,zC as g};
